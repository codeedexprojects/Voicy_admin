/*! For license information please see main.f21f3134.js.LICENSE.txt */
(()=>{var e={5552:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Composite:()=>tn,CompositeItem:()=>nn,FloatingArrow:()=>ln,FloatingDelayGroup:()=>xn,FloatingFocusManager:()=>or,FloatingList:()=>qt,FloatingNode:()=>gn,FloatingOverlay:()=>cr,FloatingPortal:()=>Xn,FloatingTree:()=>vn,arrow:()=>Tt,autoPlacement:()=>_t,autoUpdate:()=>Je,computePosition:()=>lt,detectOverflow:()=>Ze,flip:()=>bt,getOverflowAncestors:()=>S,hide:()=>wt,inline:()=>St,inner:()=>Fr,limitShift:()=>yt,offset:()=>gt,platform:()=>Qe,safePolygon:()=>Wr,shift:()=>vt,size:()=>Et,useClick:()=>dr,useClientPoint:()=>pr,useDelayGroup:()=>Rn,useDelayGroupContext:()=>Cn,useDismiss:()=>vr,useFloating:()=>br,useFloatingNodeId:()=>mn,useFloatingParentNodeId:()=>pn,useFloatingPortalNode:()=>$n,useFloatingRootContext:()=>yr,useFloatingTree:()=>fn,useFocus:()=>Er,useHover:()=>wn,useId:()=>cn,useInnerOffset:()=>Br,useInteractions:()=>Tr,useListItem:()=>$t,useListNavigation:()=>Ir,useMergeRefs:()=>Ct,useRole:()=>kr,useTransitionStatus:()=>Lr,useTransitionStyles:()=>Mr,useTypeahead:()=>jr});var r=n(5043),i=n.t(r,2);function o(){return"undefined"!==typeof window}function a(e){return l(e)?(e.nodeName||"").toLowerCase():"#document"}function s(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function c(e){var t;return null==(t=(l(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function l(e){return!!o()&&(e instanceof Node||e instanceof s(e).Node)}function u(e){return!!o()&&(e instanceof Element||e instanceof s(e).Element)}function d(e){return!!o()&&(e instanceof HTMLElement||e instanceof s(e).HTMLElement)}function h(e){return!(!o()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof s(e).ShadowRoot)}function p(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=b(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function f(e){return["table","td","th"].includes(a(e))}function m(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function g(e){const t=v(),n=u(e)?b(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function v(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function y(e){return["html","body","#document"].includes(a(e))}function b(e){return s(e).getComputedStyle(e)}function E(e){return u(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _(e){if("html"===a(e))return e;const t=e.assignedSlot||e.parentNode||h(e)&&e.host||c(e);return h(t)?t.host:t}function w(e){const t=_(e);return y(t)?e.ownerDocument?e.ownerDocument.body:e.body:d(t)&&p(t)?t:w(t)}function S(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=w(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=s(i);if(o){const e=T(a);return t.concat(a,a.visualViewport||[],p(i)?i:[],e&&n?S(e):[])}return t.concat(i,S(i,[],n))}function T(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function C(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function x(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&h(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function R(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function A(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function O(e){return!(0!==e.mozInputSource||!e.isTrusted)||(k()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function I(e){return!A().includes("jsdom/")&&(!k()&&0===e.width&&0===e.height||k()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function N(){return/apple/i.test(navigator.vendor)}function k(){const e=/android/i;return e.test(R())||e.test(A())}function P(){return R().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function D(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function L(e){return(null==e?void 0:e.ownerDocument)||document}function M(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function j(e){return"composedPath"in e?e.composedPath()[0]:e.target}const U="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function F(e){return d(e)&&e.matches(U)}function B(e){e.preventDefault(),e.stopPropagation()}function V(e){return!!e&&("combobox"===e.getAttribute("role")&&F(e))}const W=["top","right","bottom","left"],H=["start","end"],G=W.reduce(((e,t)=>e.concat(t,t+"-"+H[0],t+"-"+H[1])),[]),z=Math.min,K=Math.max,Y=Math.round,q=Math.floor,$=e=>({x:e,y:e}),X={left:"right",right:"left",bottom:"top",top:"bottom"},Q={start:"end",end:"start"};function J(e,t,n){return K(e,z(t,n))}function Z(e,t){return"function"===typeof e?e(t):e}function ee(e){return e.split("-")[0]}function te(e){return e.split("-")[1]}function ne(e){return"x"===e?"y":"x"}function re(e){return"y"===e?"height":"width"}function ie(e){return["top","bottom"].includes(ee(e))?"y":"x"}function oe(e){return ne(ie(e))}function ae(e,t,n){void 0===n&&(n=!1);const r=te(e),i=oe(e),o=re(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=ce(a)),[a,ce(a)]}function se(e){return e.replace(/start|end/g,(e=>Q[e]))}function ce(e){return e.replace(/left|right|bottom|top/g,(e=>X[e]))}function le(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function ue(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var de=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],he=de.join(","),pe="undefined"===typeof Element,fe=pe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,me=!pe&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},ge=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},ve=function(e,t,n){if(ge(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(he));return t&&fe.call(e,he)&&r.unshift(e),r=r.filter(n)},ye=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!ge(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),c=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{fe.call(a,he)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var l=a.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(a),u=!ge(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(l&&u){var d=e(!0===l?a.children:l.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},be=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ee=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!be(e)?0:e.tabIndex},_e=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},we=function(e){return"INPUT"===e.tagName},Se=function(e){return function(e){return we(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||me(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},Te=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ce=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=fe.call(e,"details>summary:first-of-type")?e.parentElement:e;if(fe.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Te(e)}else{if("function"===typeof r){for(var o=e;e;){var a=e.parentElement,s=me(e);if(a&&!a.shadowRoot&&!0===r(a))return Te(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&me(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var c,l,u;s=!(null===(l=a=null===(c=o=me(a))||void 0===c?void 0:c.host)||void 0===l||null===(u=l.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},xe=function(e,t){return!(t.disabled||ge(t)||function(e){return we(e)&&"hidden"===e.type}(t)||Ce(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!fe.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Re=function(e,t){return!(Se(t)||Ee(t)<0||!xe(e,t))},Ae=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Oe=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=Ee(e);return n<0&&t&&!be(e)?0:n}(a,o),c=o?e(t.candidates):a;0===s?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:c})})),r.sort(_e).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Ie=function(e,t){var n;return n=(t=t||{}).getShadowRoot?ye([e],t.includeContainer,{filter:Re.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ae}):ve(e,t.includeContainer,Re.bind(null,t)),Oe(n)},Ne=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==fe.call(e,he)&&Re(t,e)},ke=n(7950);function Pe(e,t,n){let{reference:r,floating:i}=e;const o=ie(t),a=oe(t),s=re(a),c=ee(t),l="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(te(t)){case"start":p[a]-=h*(n&&l?-1:1);break;case"end":p[a]+=h*(n&&l?-1:1)}return p}async function De(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Z(t,e),f=le(p),m=s[h?"floating"===d?"reference":"floating":d],g=ue(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),v="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},E=ue(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-E.top+f.top)/b.y,bottom:(E.bottom-g.bottom+f.bottom)/b.y,left:(g.left-E.left+f.left)/b.x,right:(E.right-g.right+f.right)/b.x}}function Le(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Me(e){return W.some((t=>e[t]>=0))}function je(e){const t=z(...e.map((e=>e.left))),n=z(...e.map((e=>e.top)));return{x:t,y:n,width:K(...e.map((e=>e.right)))-t,height:K(...e.map((e=>e.bottom)))-n}}function Ue(e){const t=b(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=d(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Y(n)!==o||Y(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Fe(e){return u(e)?e:e.contextElement}function Be(e){const t=Fe(e);if(!d(t))return $(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Ue(t);let a=(o?Y(n.width):n.width)/r,s=(o?Y(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Ve=$(0);function We(e){const t=s(e);return v()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ve}function He(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Fe(e);let a=$(1);t&&(r?u(r)&&(a=Be(r)):a=Be(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==s(e))&&t}(o,n,r)?We(o):$(0);let l=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,h=i.width/a.x,p=i.height/a.y;if(o){const e=s(o),t=r&&u(r)?s(r):r;let n=e,i=T(n);for(;i&&r&&t!==n;){const e=Be(i),t=i.getBoundingClientRect(),r=b(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,d*=e.y,h*=e.x,p*=e.y,l+=o,d+=a,n=s(i),i=T(n)}}return ue({width:h,height:p,x:l,y:d})}function Ge(e,t){const n=E(e).scrollLeft;return t?t.left+n:He(c(e)).left+n}function ze(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=s(e),r=c(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){o=i.width,a=i.height;const e=v();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:l,y:u}}(e,n);else if("document"===t)r=function(e){const t=c(e),n=E(e),r=e.ownerDocument.body,i=K(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=K(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ge(e);const s=-n.scrollTop;return"rtl"===b(r).direction&&(a+=K(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(c(e));else if(u(t))r=function(e,t){const n=He(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=d(e)?Be(e):$(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=We(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return ue(r)}function Ke(e,t){const n=_(e);return!(n===t||!u(n)||y(n))&&("fixed"===b(n).position||Ke(n,t))}function Ye(e,t,n){const r=d(t),i=c(t),o="fixed"===n,s=He(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=$(0);if(r||!r&&!o)if(("body"!==a(t)||p(i))&&(l=E(t)),r){const e=He(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=Ge(i));let h=0,f=0;if(i&&!r&&!o){const e=i.getBoundingClientRect();f=e.top+l.scrollTop,h=e.left+l.scrollLeft-Ge(i,e)}return{x:s.left+l.scrollLeft-u.x-h,y:s.top+l.scrollTop-u.y-f,width:s.width,height:s.height}}function qe(e){return"static"===b(e).position}function $e(e,t){if(!d(e)||"fixed"===b(e).position)return null;if(t)return t(e);let n=e.offsetParent;return c(e)===n&&(n=n.ownerDocument.body),n}function Xe(e,t){const n=s(e);if(m(e))return n;if(!d(e)){let t=_(e);for(;t&&!y(t);){if(u(t)&&!qe(t))return t;t=_(t)}return n}let r=$e(e,t);for(;r&&f(r)&&qe(r);)r=$e(r,t);return r&&y(r)&&qe(r)&&!g(r)?n:r||function(e){let t=_(e);for(;d(t)&&!y(t);){if(g(t))return t;if(m(t))return null;t=_(t)}return null}(e)||n}const Qe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=c(r),l=!!t&&m(t.floating);if(r===s||l&&o)return n;let u={scrollLeft:0,scrollTop:0},h=$(1);const f=$(0),g=d(r);if((g||!g&&!o)&&(("body"!==a(r)||p(s))&&(u=E(r)),d(r))){const e=He(r);h=Be(r),f.x=e.x+r.clientLeft,f.y=e.y+r.clientTop}return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x,y:n.y*h.y-u.scrollTop*h.y+f.y}},getDocumentElement:c,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?m(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=S(e,[],!1).filter((e=>u(e)&&"body"!==a(e))),i=null;const o="fixed"===b(e).position;let s=o?_(e):e;for(;u(s)&&!y(s);){const t=b(s),n=g(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||p(s)&&!n&&Ke(e,s))?r=r.filter((e=>e!==s)):i=t,s=_(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],c=o.reduce(((e,n)=>{const r=ze(t,n,i);return e.top=K(r.top,e.top),e.right=z(r.right,e.right),e.bottom=z(r.bottom,e.bottom),e.left=K(r.left,e.left),e}),ze(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Xe,getElementRects:async function(e){const t=this.getOffsetParent||Xe,n=this.getDimensions,r=await n(e.floating);return{reference:Ye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ue(e);return{width:t,height:n}},getScale:Be,isElement:u,isRTL:function(e){return"rtl"===b(e).direction}};function Je(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,u=Fe(e),d=i||o?[...u?S(u):[],...S(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const h=u&&s?function(e,t){let n,r=null;const i=c(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),o();const{left:l,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const p={rootMargin:-q(u)+"px "+-q(i.clientWidth-(l+d))+"px "+-q(i.clientHeight-(u+h))+"px "+-q(l)+"px",threshold:K(0,z(1,c))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==c){if(!f)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}f=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch(g){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}(u,n):null;let p,f=-1,m=null;a&&(m=new ResizeObserver((e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=m)||e.observe(t)}))),n()})),u&&!l&&m.observe(u),m.observe(t));let g=l?He(e):null;return l&&function t(){const r=He(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n();g=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(p)}}const Ze=De,et=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=ee(n),s=te(n),c="y"===ie(n),l=["left","top"].includes(a)?-1:1,u=o&&c?-1:1,d=Z(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},tt=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:a,placement:s,platform:c,elements:l}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:h=G,autoAlignment:p=!0,...f}=Z(e,t),m=void 0!==d||h===G?function(e,t,n){return(e?[...n.filter((t=>te(t)===e)),...n.filter((t=>te(t)!==e))]:n.filter((e=>ee(e)===e))).filter((n=>!e||te(n)===e||!!t&&se(n)!==n))}(d||null,p,h):h,g=await De(t,f),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,y=m[v];if(null==y)return{};const b=ae(y,o,await(null==c.isRTL?void 0:c.isRTL(l.floating)));if(s!==y)return{reset:{placement:m[0]}};const E=[g[ee(y)],g[b[0]],g[b[1]]],_=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:E}],w=m[v+1];if(w)return{data:{index:v+1,overflows:_},reset:{placement:w}};const S=_.map((e=>{const t=te(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),T=(null==(i=S.filter((e=>e[2].slice(0,te(e[0])?2:3).every((e=>e<=0))))[0])?void 0:i[0])||S[0][0];return T!==s?{data:{index:v+1,overflows:_},reset:{placement:T}}:{}}}},nt=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=Z(e,t),l={x:n,y:r},u=await De(t,c),d=ie(ee(i)),h=ne(d);let p=l[h],f=l[d];if(o){const e="y"===h?"bottom":"right";p=J(p+u["y"===h?"top":"left"],p,p-u[e])}if(a){const e="y"===d?"bottom":"right";f=J(f+u["y"===d?"top":"left"],f,f-u[e])}const m=s.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[d]:a}}}}}},rt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=Z(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=ee(i),y=ie(s),b=ee(s)===s,E=await(null==c.isRTL?void 0:c.isRTL(l.floating)),_=h||(b||!m?[ce(s)]:function(e){const t=ce(e);return[se(e),t,se(t)]}(s)),w="none"!==f;!h&&w&&_.push(...function(e,t,n,r){const i=te(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}(ee(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(se)))),o}(s,m,f,E));const S=[s,..._],T=await De(t,g),C=[];let x=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&C.push(T[v]),d){const e=ae(i,a,E);C.push(T[e[0]],T[e[1]])}if(x=[...x,{placement:i,overflows:C}],!C.every((e=>e<=0))){var R,A;const e=((null==(R=o.flip)?void 0:R.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let n=null==(A=x.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var O;const e=null==(O=x.filter((e=>{if(w){const t=ie(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},it=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:c=()=>{},...l}=Z(e,t),u=await De(t,l),d=ee(i),h=te(i),p="y"===ie(i),{width:f,height:m}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=h===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,g="end"===h?"top":"bottom");const y=m-u.top-u.bottom,b=f-u.left-u.right,E=z(m-u[g],y),_=z(f-u[v],b),w=!t.middlewareData.shift;let S=E,T=_;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(T=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=y),w&&!h){const e=K(u.left,0),t=K(u.right,0),n=K(u.top,0),r=K(u.bottom,0);p?T=f-2*(0!==e||0!==t?e+t:K(u.left,u.right)):S=m-2*(0!==n||0!==r?n+r:K(u.top,u.bottom))}await c({...t,availableWidth:T,availableHeight:S});const C=await a.getDimensions(s.floating);return f!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}},ot=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Z(e,t);switch(r){case"referenceHidden":{const e=Le(await De(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Me(e)}}}case"escaped":{const e=Le(await De(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Me(e)}}}default:return{}}}}},at=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=Z(e,t)||{};if(null==l)return{};const d=le(u),h={x:n,y:r},p=oe(i),f=re(p),m=await a.getDimensions(l),g="y"===p,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",E=o.reference[f]+o.reference[p]-h[p]-o.floating[f],_=h[p]-o.reference[p],w=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let S=w?w[b]:0;S&&await(null==a.isElement?void 0:a.isElement(w))||(S=s.floating[b]||o.floating[f]);const T=E/2-_/2,C=S/2-m[f]/2-1,x=z(d[v],C),R=z(d[y],C),A=x,O=S-m[f]-R,I=S/2-m[f]/2+T,N=J(A,I,O),k=!c.arrow&&null!=te(i)&&I!==N&&o.reference[f]/2-(I<A?x:R)-m[f]/2<0,P=k?I<A?I-A:I-O:0;return{[p]:h[p]+P,data:{[p]:N,centerOffset:I-N-P,...k&&{alignmentOffset:P}},reset:k}}}),st=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:a}=t,{padding:s=2,x:c,y:l}=Z(e,t),u=Array.from(await(null==o.getClientRects?void 0:o.getClientRects(r.reference))||[]),d=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let r=null;for(let i=0;i<t.length;i++){const e=t[i];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map((e=>ue(je(e))))}(u),h=ue(je(u)),p=le(s);const f=await o.getElementRects({reference:{getBoundingClientRect:function(){if(2===d.length&&d[0].left>d[1].right&&null!=c&&null!=l)return d.find((e=>c>e.left-p.left&&c<e.right+p.right&&l>e.top-p.top&&l<e.bottom+p.bottom))||h;if(d.length>=2){if("y"===ie(n)){const e=d[0],t=d[d.length-1],r="top"===ee(n),i=e.top,o=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:i,bottom:o,left:a,right:s,width:s-a,height:o-i,x:a,y:i}}const e="left"===ee(n),t=K(...d.map((e=>e.right))),r=z(...d.map((e=>e.left))),i=d.filter((n=>e?n.left===r:n.right===t)),o=i[0].top,a=i[i.length-1].bottom;return{top:o,bottom:a,left:r,right:t,width:t-r,height:a-o,x:r,y:o}}return h}},floating:r.floating,strategy:a});return i.reference.x!==f.reference.x||i.reference.y!==f.reference.y||i.reference.width!==f.reference.width||i.reference.height!==f.reference.height?{reset:{rects:f}}:{}}}},ct=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=Z(e,t),u={x:n,y:r},d=ie(i),h=ne(d);let p=u[h],f=u[d];const m=Z(s,t),g="number"===typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,n=o.reference[h]+o.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(ee(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[h]:p,[d]:f}}}},lt=(e,t,n)=>{const r=new Map,i={platform:Qe,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Pe(l,r,c),h=r,p={},f=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:v,data:y,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,p={...p,[n]:{...p[n],...y}},b&&f<=50&&(f++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(l=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=Pe(l,h,c))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:o})};var ut="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function dt(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!dt(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!dt(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function ht(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pt(e,t){const n=ht(e);return Math.round(t*n)/n}function ft(e){const t=r.useRef(e);return ut((()=>{t.current=e})),t}const mt=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?at({element:n.current,padding:r}).fn(t):{}:n?at({element:n,padding:r}).fn(t):{};var i}}),gt=(e,t)=>({...et(e),options:[e,t]}),vt=(e,t)=>({...nt(e),options:[e,t]}),yt=(e,t)=>({...ct(e),options:[e,t]}),bt=(e,t)=>({...rt(e),options:[e,t]}),Et=(e,t)=>({...it(e),options:[e,t]}),_t=(e,t)=>({...tt(e),options:[e,t]}),wt=(e,t)=>({...ot(e),options:[e,t]}),St=(e,t)=>({...st(e),options:[e,t]}),Tt=(e,t)=>({...mt(e),options:[e,t]});function Ct(e){return r.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const xt={...i},Rt=xt.useInsertionEffect||(e=>e());function At(e){const t=r.useRef((()=>{0}));return Rt((()=>{t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Ot="ArrowUp",It="ArrowDown",Nt="ArrowLeft",kt="ArrowRight";function Pt(e,t,n){return Math.floor(e/t)!==n}function Dt(e,t){return t<0||t>=e.current.length}function Lt(e,t){return jt(e,{disabledIndices:t})}function Mt(e,t){return jt(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function jt(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=void 0===t?{}:t;const a=e.current;let s=n;do{s+=r?-o:o}while(s>=0&&s<=a.length-1&&Wt(a,s,i));return s}function Ut(e,t){let{event:n,orientation:r,loop:i,cols:o,disabledIndices:a,minIndex:s,maxIndex:c,prevIndex:l,stopEvent:u=!1}=t,d=l;if(n.key===Ot){if(u&&B(n),-1===l)d=c;else if(d=jt(e,{startingIndex:d,amount:o,decrement:!0,disabledIndices:a}),i&&(l-o<s||d<0)){const e=l%o,t=c%o,n=c-(t-e);d=t===e?c:t>e?n:n-o}Dt(e,d)&&(d=l)}if(n.key===It&&(u&&B(n),-1===l?d=s:(d=jt(e,{startingIndex:l,amount:o,disabledIndices:a}),i&&l+o>c&&(d=jt(e,{startingIndex:l%o-o,amount:o,disabledIndices:a}))),Dt(e,d)&&(d=l)),"both"===r){const t=q(l/o);n.key===kt&&(u&&B(n),l%o!==o-1?(d=jt(e,{startingIndex:l,disabledIndices:a}),i&&Pt(d,o,t)&&(d=jt(e,{startingIndex:l-l%o-1,disabledIndices:a}))):i&&(d=jt(e,{startingIndex:l-l%o-1,disabledIndices:a})),Pt(d,o,t)&&(d=l)),n.key===Nt&&(u&&B(n),l%o!==0?(d=jt(e,{startingIndex:l,decrement:!0,disabledIndices:a}),i&&Pt(d,o,t)&&(d=jt(e,{startingIndex:l+(o-l%o),decrement:!0,disabledIndices:a}))):i&&(d=jt(e,{startingIndex:l+(o-l%o),decrement:!0,disabledIndices:a})),Pt(d,o,t)&&(d=l));const r=q(c/o)===t;Dt(e,d)&&(d=i&&r?n.key===Nt?c:jt(e,{startingIndex:l-l%o-1,disabledIndices:a}):l)}return d}function Ft(e,t,n){const r=[];let i=0;return e.forEach(((e,o)=>{let{width:a,height:s}=e,c=!1;for(n&&(i=0);!c;){const e=[];for(let n=0;n<a;n++)for(let r=0;r<s;r++)e.push(i+n+r*t);i%t+a<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=o})),c=!0):i++}})),[...r]}function Bt(e,t,n,r,i){if(-1===e)return-1;const o=n.indexOf(e),a=t[e];switch(i){case"tl":return o;case"tr":return a?o+a.width-1:o;case"bl":return a?o+(a.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function Vt(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function Wt(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}let Ht=0;function Gt(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Ht);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():Ht=requestAnimationFrame(o)}var zt="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function Kt(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Yt=r.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function qt(e){const{children:t,elementsRef:n,labelsRef:i}=e,[o,a]=r.useState((()=>new Map)),s=r.useCallback((e=>{a((t=>new Map(t).set(e,null)))}),[]),c=r.useCallback((e=>{a((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return zt((()=>{const e=new Map(o);Array.from(e.keys()).sort(Kt).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(o,e)||a(e)}),[o]),r.createElement(Yt.Provider,{value:r.useMemo((()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:i})),[s,c,o,n,i])},t)}function $t(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:i,map:o,elementsRef:a,labelsRef:s}=r.useContext(Yt),[c,l]=r.useState(null),u=r.useRef(null),d=r.useCallback((e=>{if(u.current=e,null!==c&&(a.current[c]=e,s)){var n;const r=void 0!==t;s.current[c]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}}),[c,a,s,t]);return zt((()=>{const e=u.current;if(e)return n(e),()=>{i(e)}}),[n,i]),zt((()=>{const e=u.current?o.get(u.current):null;null!=e&&l(e)}),[o]),r.useMemo((()=>({ref:d,index:null==c?-1:c})),[c,d])}function Xt(e,t){return"function"===typeof e?e(t):e?r.cloneElement(e,t):r.createElement("div",t)}const Qt=r.createContext({activeIndex:0,onNavigate:()=>{}}),Jt=[Nt,kt],Zt=[Ot,It],en=[...Jt,...Zt],tn=r.forwardRef((function(e,t){const{render:n,orientation:i="both",loop:o=!0,cols:a=1,disabledIndices:s,activeIndex:c,onNavigate:l,itemSizes:u,dense:d=!1,...h}=e,[p,f]=r.useState(0),m=null!=c?c:p,g=At(null!=l?l:f),v=r.useRef([]),y=n&&"function"!==typeof n?n.props:{},b=r.useMemo((()=>({activeIndex:m,onNavigate:g})),[m,g]),E=a>1;const _={...h,...y,ref:t,"aria-orientation":"both"===i?void 0:i,onKeyDown(e){null==h.onKeyDown||h.onKeyDown(e),null==y.onKeyDown||y.onKeyDown(e),function(e){if(!en.includes(e.key))return;let t=m;const n=Lt(v,s),r=Mt(v,s);if(E){const c=u||Array.from({length:v.current.length},(()=>({width:1,height:1}))),l=Ft(c,a,d),h=l.findIndex((e=>null!=e&&!Wt(v.current,e,s))),p=l.reduce(((e,t,n)=>null==t||Wt(v.current,t,s)?e:n),-1),f=l[Ut({current:l.map((e=>e?v.current[e]:null))},{event:e,orientation:i,loop:o,cols:a,disabledIndices:Vt([...s||v.current.map(((e,t)=>Wt(v.current,t)?t:void 0)),void 0],l),minIndex:h,maxIndex:p,prevIndex:Bt(m>r?n:m,c,l,a,e.key===It?"bl":e.key===kt?"tr":"tl")})];null!=f&&(t=f)}const c={horizontal:[kt],vertical:[It],both:[kt,It]}[i],l={horizontal:[Nt],vertical:[Ot],both:[Nt,Ot]}[i],h=E?en:{horizontal:Jt,vertical:Zt,both:en}[i];t===m&&[...c,...l].includes(e.key)&&(t=o&&t===r&&c.includes(e.key)?n:o&&t===n&&l.includes(e.key)?r:jt(v,{startingIndex:t,decrement:l.includes(e.key),disabledIndices:s})),t===m||Dt(v,t)||(e.stopPropagation(),h.includes(e.key)&&e.preventDefault(),g(t),queueMicrotask((()=>{Gt(v.current[t])})))}(e)}};return r.createElement(Qt.Provider,{value:b},r.createElement(qt,{elementsRef:v},Xt(n,_)))})),nn=r.forwardRef((function(e,t){const{render:n,...i}=e,o=n&&"function"!==typeof n?n.props:{},{activeIndex:a,onNavigate:s}=r.useContext(Qt),{ref:c,index:l}=$t(),u=Ct([c,t,o.ref]),d=a===l;return Xt(n,{...i,...o,ref:u,tabIndex:d?0:-1,"data-active":d?"":void 0,onFocus(e){null==i.onFocus||i.onFocus(e),null==o.onFocus||o.onFocus(e),s(l)}})}));function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}let on=!1,an=0;const sn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+an++;const cn=xt.useId||function(){const[e,t]=r.useState((()=>on?sn():void 0));return zt((()=>{null==e&&t(sn())}),[]),r.useEffect((()=>{on=!0}),[]),e};const ln=r.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:a}},width:s=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:f,...m}={},...g}=e;const v=cn(),[y,E]=r.useState(!1);if(zt((()=>{if(!i)return;"rtl"===b(i).direction&&E(!0)}),[i]),!i)return null;const[_,w]=n.split("-"),S="top"===_||"bottom"===_;let T=d;(S&&null!=a&&a.x||!S&&null!=a&&a.y)&&(T=null);const C=2*u,x=C/2,R=s/2*(l/-8+1),A=c/2*l/4,O=!!p,I=T&&"end"===w?"bottom":"top";let N=T&&"end"===w?"right":"left";T&&y&&(N="end"===w?"left":"right");const k=null!=(null==o?void 0:o.x)?T||o.x:"",P=null!=(null==o?void 0:o.y)?T||o.y:"",D=p||"M0,0 H"+s+" L"+(s-R)+","+(c-A)+" Q"+s/2+","+c+" "+R+","+(c-A)+" Z",L={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[_];return r.createElement("svg",rn({},g,{"aria-hidden":!0,ref:t,width:O?s:s+C,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[N]:k,[I]:P,[_]:S||O?"100%":"calc(100% - "+C/2+"px)",transform:[L,f].filter((e=>!!e)).join(" "),...m}}),C>0&&r.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:C+(p?0:1),d:D}),r.createElement("path",{stroke:C&&!p?g.fill:"none",d:D}),r.createElement("clipPath",{id:v},r.createElement("rect",{x:-x,y:x*(O?-1:1),width:s+C,height:s})))}));function un(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const dn=r.createContext(null),hn=r.createContext(null),pn=()=>{var e;return(null==(e=r.useContext(dn))?void 0:e.id)||null},fn=()=>r.useContext(hn);function mn(e){const t=cn(),n=fn(),r=pn(),i=e||r;return zt((()=>{const e={id:t,parentId:i};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,i]),t}function gn(e){const{children:t,id:n}=e,i=pn();return r.createElement(dn.Provider,{value:r.useMemo((()=>({id:n,parentId:i})),[n,i])},t)}function vn(e){const{children:t}=e,n=r.useRef([]),i=r.useCallback((e=>{n.current=[...n.current,e]}),[]),o=r.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),a=r.useState((()=>un()))[0];return r.createElement(hn.Provider,{value:r.useMemo((()=>({nodesRef:n,addNode:i,removeNode:o,events:a})),[i,o,a])},t)}function yn(e){return"data-floating-ui-"+e}function bn(e){const t=(0,r.useRef)(e);return zt((()=>{t.current=e})),t}const En=yn("safe-polygon");function _n(e,t,n){return n&&!D(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}function wn(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:a,elements:s}=e,{enabled:c=!0,delay:l=0,handleClose:d=null,mouseOnly:h=!1,restMs:p=0,move:f=!0}=t,m=fn(),g=pn(),v=bn(d),y=bn(l),b=bn(n),E=r.useRef(),_=r.useRef(-1),w=r.useRef(),S=r.useRef(-1),T=r.useRef(!0),C=r.useRef(!1),R=r.useRef((()=>{})),A=r.useCallback((()=>{var e;const t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[o]);r.useEffect((()=>{if(c)return a.on("openchange",e),()=>{a.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(_.current),clearTimeout(S.current),T.current=!0)}}),[c,a]),r.useEffect((()=>{if(!c)return;if(!v.current)return;if(!n)return;function e(e){A()&&i(!1,e,"hover")}const t=L(s.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[s.floating,n,i,c,v,A]);const O=r.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const r=_n(y.current,"close",E.current);r&&!w.current?(clearTimeout(_.current),_.current=window.setTimeout((()=>i(!1,e,n)),r)):t&&(clearTimeout(_.current),i(!1,e,n))}),[y,i]),I=At((()=>{R.current(),w.current=void 0})),N=At((()=>{if(C.current){const e=L(s.floating).body;e.style.pointerEvents="",e.removeAttribute(En),C.current=!1}}));r.useEffect((()=>{if(c&&u(s.domReference)){var e;const t=s.domReference;return n&&t.addEventListener("mouseleave",l),null==(e=s.floating)||e.addEventListener("mouseleave",l),f&&t.addEventListener("mousemove",r,{once:!0}),t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",a),()=>{var e;n&&t.removeEventListener("mouseleave",l),null==(e=s.floating)||e.removeEventListener("mouseleave",l),f&&t.removeEventListener("mousemove",r),t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",a)}}function t(){return!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)}function r(e){if(clearTimeout(_.current),T.current=!1,h&&!D(E.current)||p>0&&!_n(y.current,"open"))return;const t=_n(y.current,"open",E.current);t?_.current=window.setTimeout((()=>{b.current||i(!0,e,"hover")}),t):i(!0,e,"hover")}function a(e){if(t())return;R.current();const r=L(s.floating);if(clearTimeout(S.current),v.current&&o.current.floatingContext){n||clearTimeout(_.current),w.current=v.current({...o.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){N(),I(),O(e,!0,"safe-polygon")}});const t=w.current;return r.addEventListener("mousemove",t),void(R.current=()=>{r.removeEventListener("mousemove",t)})}("touch"!==E.current||!x(s.floating,e.relatedTarget))&&O(e)}function l(e){t()||o.current.floatingContext&&(null==v.current||v.current({...o.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){N(),I(),O(e)}})(e))}}),[s,c,e,h,p,f,O,I,N,i,n,b,m,y,v,o]),zt((()=>{var e;if(c&&n&&null!=(e=v.current)&&e.__options.blockPointerEvents&&A()){C.current=!0;const e=s.floating;if(u(s.domReference)&&e){var t;const n=L(s.floating).body;n.setAttribute(En,"");const r=s.domReference,i=null==m||null==(t=m.nodesRef.current.find((e=>e.id===g)))||null==(t=t.context)?void 0:t.elements.floating;return i&&(i.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}}),[c,n,g,s,m,v,A]),zt((()=>{n||(E.current=void 0,I(),N())}),[n,I,N]),r.useEffect((()=>()=>{I(),clearTimeout(_.current),clearTimeout(S.current),N()}),[c,s.domReference,I,N]);const k=r.useMemo((()=>{function e(e){E.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function r(){T.current||b.current||i(!0,t,"hover")}h&&!D(E.current)||n||0===p||(clearTimeout(S.current),"touch"===E.current?r():S.current=window.setTimeout(r,p))}}}),[h,i,n,b,p]),P=r.useMemo((()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave(e){O(e.nativeEvent,!1)}})),[O]);return r.useMemo((()=>c?{reference:k,floating:P}:{}),[c,k,P])}const Sn=()=>{},Tn=r.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Sn,setState:Sn,isInstantPhase:!1}),Cn=()=>r.useContext(Tn);function xn(e){const{children:t,delay:n,timeoutMs:i=0}=e,[o,a]=r.useReducer(((e,t)=>({...e,...t})),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),s=r.useRef(null),c=r.useCallback((e=>{a({currentId:e})}),[]);return zt((()=>{o.currentId?null===s.current?s.current=o.currentId:o.isInstantPhase||a({isInstantPhase:!0}):(o.isInstantPhase&&a({isInstantPhase:!1}),s.current=null)}),[o.currentId,o.isInstantPhase]),r.createElement(Tn.Provider,{value:r.useMemo((()=>({...o,setState:a,setCurrentId:c})),[o,c])},t)}function Rn(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o}=t,a=null!=o?o:i,s=Cn(),{currentId:c,setCurrentId:l,initialDelay:u,setState:d,timeoutMs:h}=s;return zt((()=>{c&&(d({delay:{open:1,close:_n(u,"close")}}),c!==a&&r(!1))}),[a,r,d,c,u]),zt((()=>{function e(){r(!1),d({delay:u,currentId:null})}if(c&&!n&&c===a){if(h){const t=window.setTimeout(e,h);return()=>{clearTimeout(t)}}e()}}),[n,d,c,a,r,u,h]),zt((()=>{l!==Sn&&n&&l(a)}),[n,l,a]),s}function An(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let On=new WeakMap,In=new WeakSet,Nn={},kn=0;const Pn=()=>"undefined"!==typeof HTMLElement&&"inert"in HTMLElement.prototype,Dn=e=>e&&(e.host||Dn(e.parentNode)),Ln=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=Dn(t);return e.contains(n)?n:null})).filter((e=>null!=e));function Mn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=L(e[0]).body;return function(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=Ln(t,e),c=new Set,l=new Set(s),u=[];Nn[i]||(Nn[i]=new WeakMap);const d=Nn[i];return s.forEach((function e(t){t&&!c.has(t)&&(c.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!l.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==a(t))if(c.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(On.get(t)||0)+1,a=(d.get(t)||0)+1;On.set(t,r),d.set(t,a),u.push(t),1===r&&n&&In.add(t),1===a&&t.setAttribute(i,""),!n&&o&&t.setAttribute(o,"true")}}))}(t),c.clear(),kn++,()=>{u.forEach((e=>{const t=(On.get(e)||0)-1,n=(d.get(e)||0)-1;On.set(e,t),d.set(e,n),t||(!In.has(e)&&o&&e.removeAttribute(o),In.delete(e)),n||e.removeAttribute(i)})),kn--,kn||(On=new WeakMap,On=new WeakMap,In=new WeakSet,Nn={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const jn=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Un(e,t){const n=Ie(e,jn());"prev"===t&&n.reverse();const r=n.indexOf(C(L(e)));return n.slice(r+1)[0]}function Fn(){return Un(document.body,"next")}function Bn(){return Un(document.body,"prev")}function Vn(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!x(n,r)}function Wn(e){Ie(e,jn()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Hn(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Gn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function zn(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const Kn=r.forwardRef((function(e,t){const[n,i]=r.useState();zt((()=>(N()&&i("button"),document.addEventListener("keydown",zn),()=>{document.removeEventListener("keydown",zn)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[yn("focus-guard")]:"",style:Gn};return r.createElement("span",rn({},e,o))})),Yn=r.createContext(null),qn=yn("portal");function $n(e){void 0===e&&(e={});const{id:t,root:n}=e,i=cn(),o=Qn(),[a,s]=r.useState(null),c=r.useRef(null);return zt((()=>()=>{null==a||a.remove(),queueMicrotask((()=>{c.current=null}))}),[a]),zt((()=>{if(!i)return;if(c.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=i,n.setAttribute(qn,""),e.appendChild(n),c.current=n,s(n)}),[t,i]),zt((()=>{if(!i)return;if(c.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!u(e)&&(e=e.current),e=e||document.body;let r=null;t&&(r=document.createElement("div"),r.id=t,e.appendChild(r));const a=document.createElement("div");a.id=i,a.setAttribute(qn,""),e=r||e,e.appendChild(a),c.current=a,s(a)}),[t,n,i,o]),a}function Xn(e){const{children:t,id:n,root:i=null,preserveTabOrder:o=!0}=e,a=$n({id:n,root:i}),[s,c]=r.useState(null),l=r.useRef(null),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=null==s?void 0:s.modal,f=null==s?void 0:s.open,m=!!s&&!s.modal&&s.open&&o&&!(!i&&!a);return r.useEffect((()=>{if(a&&o&&!p)return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){if(a&&Vn(e)){("focusin"===e.type?Hn:Wn)(a)}}}),[a,o,p]),r.useEffect((()=>{a&&(f||Hn(a))}),[f,a]),r.createElement(Yn.Provider,{value:r.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:h,portalNode:a,setFocusManagerState:c})),[o,a])},m&&a&&r.createElement(Kn,{"data-type":"outside",ref:l,onFocus:e=>{if(Vn(e,a)){var t;null==(t=d.current)||t.focus()}else{const e=Bn()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),m&&a&&r.createElement("span",{"aria-owns":a.id,style:Gn}),a&&ke.createPortal(t,a),m&&a&&r.createElement(Kn,{"data-type":"outside",ref:u,onFocus:e=>{if(Vn(e,a)){var t;null==(t=h.current)||t.focus()}else{const t=Fn()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const Qn=()=>r.useContext(Yn),Jn="data-floating-ui-focusable";function Zn(e){return e?e.hasAttribute(Jn)?e:e.querySelector("["+Jn+"]")||e:null}const er=20;let tr=[];function nr(e){tr=tr.filter((e=>e.isConnected));let t=e;if(t&&"body"!==a(t)){if(!Ne(t,jn())){const e=Ie(t,jn())[0];e&&(t=e)}tr.push(t),tr.length>er&&(tr=tr.slice(-er))}}function rr(){return tr.slice().reverse().find((e=>e.isConnected))}const ir=r.forwardRef((function(e,t){return r.createElement("button",rn({},e,{type:"button",ref:t,tabIndex:-1,style:Gn}))}));function or(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:a=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:m,nodeId:g,onOpenChange:v,events:y,dataRef:b,floatingId:E,elements:{domReference:_,floating:w}}=t,S="number"===typeof s&&s<0,T=V(_)&&S,R=!Pn()||a,A=bn(o),N=bn(s),k=bn(c),P=fn(),D=Qn(),M=r.useRef(null),U=r.useRef(null),F=r.useRef(!1),W=r.useRef(!1),H=r.useRef(-1),G=null!=D,z=Zn(w),K=At((function(e){return void 0===e&&(e=z),e?Ie(e,jn()):[]})),Y=At((e=>{const t=K(e);return A.current.map((e=>_&&"reference"===e?_:z&&"floating"===e?z:t)).filter(Boolean).flat()}));function q(e){return!i&&h&&u?r.createElement(ir,{ref:"start"===e?M:U,onClick:e=>v(!1,e.nativeEvent)},"string"===typeof h?h:"Dismiss"):null}r.useEffect((()=>{F.current=!1}),[i]),r.useEffect((()=>{if(i)return;if(!u)return;function e(e){if("Tab"===e.key){x(z,C(L(z)))&&0===K().length&&!T&&B(e);const t=Y(),n=j(e);"reference"===A.current[0]&&n===_&&(B(e),e.shiftKey?Gt(t[t.length-1]):Gt(t[1])),"floating"===A.current[1]&&n===z&&e.shiftKey&&(B(e),Gt(t[0]))}}const t=L(z);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[i,_,z,u,A,T,K,Y]),r.useEffect((()=>{if(!i&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=j(e),n=K().indexOf(t);-1!==n&&(H.current=n)}}),[i,w,K]),r.useEffect((()=>{if(!i&&p)return w&&d(_)?(_.addEventListener("focusout",t),_.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{_.removeEventListener("focusout",t),_.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)}):void 0;function e(){W.current=!0,setTimeout((()=>{W.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(x(_,t)||x(w,t)||x(t,w)||x(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(yn("focus-guard"))||P&&(An(P.nodesRef.current,g).find((e=>{var n,r;return x(null==(n=e.context)?void 0:n.elements.floating,t)||x(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(P.nodesRef.current,g).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));if(l&&n&&C(L(z))===L(z).body){d(z)&&z.focus();const e=H.current,t=K(),n=t[e]||t[t.length-1]||z;d(n)&&n.focus()}!T&&u||!t||!n||W.current||t===rr()||(F.current=!0,v(!1,e,"focus-out"))}))}}),[i,_,w,z,u,g,P,D,v,p,l,K,T]),r.useEffect((()=>{var e;if(i)return;const t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+yn("portal")+"]"))||[]);if(w){const e=[w,...t,M.current,U.current,A.current.includes("reference")||T?_:null].filter((e=>null!=e)),n=u||T?Mn(e,R,!R):Mn(e);return()=>{n()}}}),[i,_,w,u,A,D,T,R]),zt((()=>{if(i||!d(z))return;const e=C(L(z));queueMicrotask((()=>{const t=Y(z),n=N.current,r=("number"===typeof n?t[n]:n.current)||z,i=x(z,e);S||i||!f||Gt(r,{preventScroll:r===z})}))}),[i,f,z,S,Y,N]),zt((()=>{if(i||!z)return;let e=!1;const t=L(z),n=C(t);let r=b.current.openEvent;function o(t){let{open:n,reason:i,event:o,nested:a}=t;n&&(r=o),"escape-key"===i&&m.domReference.current&&nr(m.domReference.current),"hover"===i&&"mouseleave"===o.type&&(F.current=!0),"outside-press"===i&&(a?(F.current=!1,e=!0):F.current=!(O(o)||I(o)))}nr(n),y.on("openchange",o);const a=t.createElement("span");return a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),Object.assign(a.style,Gn),G&&_&&_.insertAdjacentElement("afterend",a),()=>{y.off("openchange",o);const n=C(t),i=x(w,n)||P&&An(P.nodesRef.current,g).some((e=>{var t;return x(null==(t=e.context)?void 0:t.elements.floating,n)}));(i||r&&["click","mousedown"].includes(r.type))&&m.domReference.current&&nr(m.domReference.current);const s=rr()||a;queueMicrotask((()=>{k.current&&!F.current&&d(s)&&(s===n||n===t.body||i)&&s.focus({preventScroll:e}),a.remove()}))}}),[i,w,z,k,b,m,y,P,g,G,_]),zt((()=>{if(!i&&D)return D.setFocusManagerState({modal:u,closeOnFocusOut:p,open:f,onOpenChange:v,refs:m}),()=>{D.setFocusManagerState(null)}}),[i,D,u,f,v,m,p]),zt((()=>{if(i)return;if(!z)return;if("function"!==typeof MutationObserver)return;if(S)return;const e=()=>{const e=z.getAttribute("tabindex"),t=K(),n=C(L(w)),r=t.indexOf(n);-1!==r&&(H.current=r),A.current.includes("floating")||n!==m.domReference.current&&0===t.length?"0"!==e&&z.setAttribute("tabindex","0"):"-1"!==e&&z.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(z,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[i,w,z,m,A,K,S]);const $=!i&&R&&(!u||!T)&&(G||u);return r.createElement(r.Fragment,null,$&&r.createElement(Kn,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(u){const e=Y();Gt("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(F.current=!1,Vn(e,D.portalNode)){const e=Fn()||_;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}),!T&&q("start"),n,q("end"),$&&r.createElement(Kn,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(u)Gt(Y()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(p&&(F.current=!0),Vn(e,D.portalNode)){const e=Bn()||_;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}))}let ar=0;let sr=()=>{};const cr=r.forwardRef((function(e,t){const{lockScroll:n=!1,...i}=e;return zt((()=>{if(n)return ar++,1===ar&&(sr=function(){const e=/iP(hone|ad|od)|iOS/.test(R()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,i=t.left?parseFloat(t.left):window.scrollX,o=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var a,s;const e=(null==(a=window.visualViewport)?void 0:a.offsetLeft)||0,n=(null==(s=window.visualViewport)?void 0:s.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor(n))+"px",left:-(i-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(i,o))}}()),()=>{ar--,0===ar&&sr()}}),[n]),r.createElement("div",rn({ref:t},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))}));function lr(e){return d(e.target)&&"BUTTON"===e.target.tagName}function ur(e){return F(e)}function dr(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:a}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,h=r.useRef(),p=r.useRef(!1),f=r.useMemo((()=>({onPointerDown(e){h.current=e.pointerType},onMouseDown(e){const t=h.current;0===e.button&&"click"!==c&&(D(t,!0)&&u||(!n||!l||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),i(!0,e.nativeEvent,"click")):i(!1,e.nativeEvent,"click")))},onClick(e){const t=h.current;"mousedown"===c&&h.current?h.current=void 0:D(t,!0)&&u||(!n||!l||o.current.openEvent&&"click"!==o.current.openEvent.type?i(!0,e.nativeEvent,"click"):i(!1,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!d||lr(e)||(" "!==e.key||ur(a)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&i(!n||!l,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||lr(e)||ur(a)||" "===e.key&&p.current&&(p.current=!1,i(!n||!l,e.nativeEvent,"click"))}})),[o,a,c,u,d,i,n,l]);return r.useMemo((()=>s?{reference:f}:{}),[s,f])}function hr(e){return null!=e&&null!=e.clientX}function pr(e,t){void 0===t&&(t={});const{open:n,dataRef:i,elements:{floating:o,domReference:a},refs:c}=e,{enabled:l=!0,axis:u="both",x:d=null,y:h=null}=t,p=r.useRef(!1),f=r.useRef(null),[m,g]=r.useState(),[v,y]=r.useState([]),b=At(((e,t)=>{p.current||i.current.openEvent&&!hr(i.current.openEvent)||c.setPositionReference(function(e,t){let n=null,r=null,i=!1;return{contextElement:e||void 0,getBoundingClientRect(){var o;const a=(null==e?void 0:e.getBoundingClientRect())||{width:0,height:0,x:0,y:0},s="x"===t.axis||"both"===t.axis,c="y"===t.axis||"both"===t.axis,l=["mouseenter","mousemove"].includes((null==(o=t.dataRef.current.openEvent)?void 0:o.type)||"")&&"touch"!==t.pointerType;let u=a.width,d=a.height,h=a.x,p=a.y;return null==n&&t.x&&s&&(n=a.x-t.x),null==r&&t.y&&c&&(r=a.y-t.y),h-=n||0,p-=r||0,u=0,d=0,!i||l?(u="y"===t.axis?a.width:0,d="x"===t.axis?a.height:0,h=s&&null!=t.x?t.x:h,p=c&&null!=t.y?t.y:p):i&&!l&&(d="x"===t.axis?a.height:d,u="y"===t.axis?a.width:u),i=!0,{width:u,height:d,x:h,y:p,top:p,right:h+u,bottom:p+d,left:h}}}}(a,{x:e,y:t,axis:u,dataRef:i,pointerType:m}))})),E=At((e=>{null==d&&null==h&&(n?f.current||y([]):b(e.clientX,e.clientY))})),_=D(m)?o:n,w=r.useCallback((()=>{if(!_||!l||null!=d||null!=h)return;const e=s(o);function t(n){const r=j(n);x(o,r)?(e.removeEventListener("mousemove",t),f.current=null):b(n.clientX,n.clientY)}if(!i.current.openEvent||hr(i.current.openEvent)){e.addEventListener("mousemove",t);const n=()=>{e.removeEventListener("mousemove",t),f.current=null};return f.current=n,n}c.setPositionReference(a)}),[_,l,d,h,o,i,c,a,b]);r.useEffect((()=>w()),[w,v]),r.useEffect((()=>{l&&!o&&(p.current=!1)}),[l,o]),r.useEffect((()=>{!l&&n&&(p.current=!0)}),[l,n]),zt((()=>{!l||null==d&&null==h||(p.current=!1,b(d,h))}),[l,d,h,b]);const S=r.useMemo((()=>{function e(e){let{pointerType:t}=e;g(t)}return{onPointerDown:e,onPointerEnter:e,onMouseMove:E,onMouseEnter:E}}),[E]);return r.useMemo((()=>l?{reference:S}:{}),[l,S])}const fr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},mr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},gr=e=>{var t,n;return{escapeKey:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function vr(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,elements:o,dataRef:a}=e,{enabled:s=!0,escapeKey:c=!0,outsidePress:l=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:f="pointerdown",ancestorScroll:m=!1,bubbles:g,capture:v}=t,E=fn(),w=At("function"===typeof l?l:()=>!1),T="function"===typeof l?w:l,C=r.useRef(!1),R=r.useRef(!1),{escapeKey:A,outsidePress:O}=gr(g),{escapeKey:I,outsidePress:N}=gr(v),k=At((e=>{var t;if(!n||!s||!c||"Escape"!==e.key)return;const r=null==(t=a.current.floatingContext)?void 0:t.nodeId,o=E?An(E.nodesRef.current,r):[];if(!A&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}i(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),P=At((e=>{var t;const n=()=>{var t;k(e),null==(t=j(e))||t.removeEventListener("keydown",n)};null==(t=j(e))||t.addEventListener("keydown",n)})),D=At((e=>{var t;const n=C.current;C.current=!1;const r=R.current;if(R.current=!1,"click"===h&&r)return;if(n)return;if("function"===typeof T&&!T(e))return;const s=j(e),c="["+yn("inert")+"]",l=L(o.floating).querySelectorAll(c);let p=u(s)?s:null;for(;p&&!y(p);){const e=_(p);if(y(e)||!u(e))break;p=e}if(l.length&&u(s)&&!s.matches("html,body")&&!x(s,o.floating)&&Array.from(l).every((e=>!x(p,e))))return;if(d(s)&&B){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n){"rtl"===b(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth)}if(r||t&&e.offsetY>s.clientHeight)return}const f=null==(t=a.current.floatingContext)?void 0:t.nodeId,m=E&&An(E.nodesRef.current,f).some((t=>{var n;return M(e,null==(n=t.context)?void 0:n.elements.floating)}));if(M(e,o.floating)||M(e,o.domReference)||m)return;const g=E?An(E.nodesRef.current,f):[];if(g.length>0){let e=!0;if(g.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}i(!1,e,"outside-press")})),U=At((e=>{var t;const n=()=>{var t;D(e),null==(t=j(e))||t.removeEventListener(h,n)};null==(t=j(e))||t.addEventListener(h,n)}));r.useEffect((()=>{if(!n||!s)return;function e(e){i(!1,e,"ancestor-scroll")}a.current.__escapeKeyBubbles=A,a.current.__outsidePressBubbles=O;const t=L(o.floating);c&&t.addEventListener("keydown",I?P:k,I),T&&t.addEventListener(h,N?U:D,N);let r=[];return m&&(u(o.domReference)&&(r=S(o.domReference)),u(o.floating)&&(r=r.concat(S(o.floating))),!u(o.reference)&&o.reference&&o.reference.contextElement&&(r=r.concat(S(o.reference.contextElement)))),r=r.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),r.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{c&&t.removeEventListener("keydown",I?P:k,I),T&&t.removeEventListener(h,N?U:D,N),r.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[a,o,c,T,h,n,i,m,s,A,O,k,I,P,D,N,U]),r.useEffect((()=>{C.current=!1}),[T,h]);const F=r.useMemo((()=>({onKeyDown:k,[fr[f]]:e=>{p&&i(!1,e.nativeEvent,"reference-press")}})),[k,i,p,f]),B=r.useMemo((()=>({onKeyDown:k,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[mr[h]]:()=>{C.current=!0}})),[k,h]);return r.useMemo((()=>s?{reference:F,floating:B}:{}),[s,F,B])}function yr(e){const{open:t=!1,onOpenChange:n,elements:i}=e,o=cn(),a=r.useRef({}),[s]=r.useState((()=>un())),c=null!=pn();const[l,u]=r.useState(i.reference),d=At(((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)})),h=r.useMemo((()=>({setPositionReference:u})),[]),p=r.useMemo((()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference})),[l,i.reference,i.floating]);return r.useMemo((()=>({dataRef:a,open:t,onOpenChange:d,elements:p,events:s,floatingId:o,refs:h})),[t,d,p,s,o,h])}function br(e){void 0===e&&(e={});const{nodeId:t}=e,n=yr({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,o=i.elements,[a,s]=r.useState(null),[c,l]=r.useState(null),d=(null==o?void 0:o.reference)||a,h=r.useRef(null),p=fn();zt((()=>{d&&(h.current=d)}),[d]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,h]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=r.useState(i);dt(p,i)||f(i);const[m,g]=r.useState(null),[v,y]=r.useState(null),b=r.useCallback((e=>{e!==S.current&&(S.current=e,g(e))}),[]),E=r.useCallback((e=>{e!==T.current&&(T.current=e,y(e))}),[]),_=a||m,w=s||v,S=r.useRef(null),T=r.useRef(null),C=r.useRef(d),x=null!=l,R=ft(l),A=ft(o),O=ft(u),I=r.useCallback((()=>{if(!S.current||!T.current)return;const e={placement:t,strategy:n,middleware:p};A.current&&(e.platform=A.current),lt(S.current,T.current,e).then((e=>{const t={...e,isPositioned:!1!==O.current};N.current&&!dt(C.current,t)&&(C.current=t,ke.flushSync((()=>{h(t)})))}))}),[p,t,n,A,O]);ut((()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const N=r.useRef(!1);ut((()=>(N.current=!0,()=>{N.current=!1})),[]),ut((()=>{if(_&&(S.current=_),w&&(T.current=w),_&&w){if(R.current)return R.current(_,w,I);I()}}),[_,w,I,R,x]);const k=r.useMemo((()=>({reference:S,floating:T,setReference:b,setFloating:E})),[b,E]),P=r.useMemo((()=>({reference:_,floating:w})),[_,w]),D=r.useMemo((()=>{const e={position:n,left:0,top:0};if(!P.floating)return e;const t=pt(P.floating,d.x),r=pt(P.floating,d.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...ht(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,c,P.floating,d.x,d.y]);return r.useMemo((()=>({...d,update:I,refs:k,elements:P,floatingStyles:D})),[d,I,k,P,D])}({...e,elements:{...o,...c&&{reference:c}}}),m=r.useCallback((e=>{const t=u(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),f.refs.setReference(t)}),[f.refs]),g=r.useCallback((e=>{(u(e)||null===e)&&(h.current=e,s(e)),(u(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!u(e))&&f.refs.setReference(e)}),[f.refs]),v=r.useMemo((()=>({...f.refs,setReference:g,setPositionReference:m,domReference:h})),[f.refs,g,m]),y=r.useMemo((()=>({...f.elements,domReference:d})),[f.elements,d]),b=r.useMemo((()=>({...f,...i,refs:v,elements:y,nodeId:t})),[f,v,y,t,i]);return zt((()=>{i.dataRef.current.floatingContext=b;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=b)})),r.useMemo((()=>({...f,context:b,refs:v,elements:y})),[f,v,y,b])}function Er(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,events:o,dataRef:a,elements:c}=e,{enabled:l=!0,visibleOnly:h=!0}=t,p=r.useRef(!1),f=r.useRef(),m=r.useRef(!0);r.useEffect((()=>{if(!l)return;const e=s(c.domReference);function t(){!n&&d(c.domReference)&&c.domReference===C(L(c.domReference))&&(p.current=!0)}function r(){m.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",r,!0)}}),[c.domReference,n,l]),r.useEffect((()=>{if(l)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(p.current=!0)}}),[o,l]),r.useEffect((()=>()=>{clearTimeout(f.current)}),[]);const g=r.useMemo((()=>({onPointerDown(e){I(e.nativeEvent)||(m.current=!1)},onMouseLeave(){p.current=!1},onFocus(e){if(p.current)return;const t=j(e.nativeEvent);if(h&&u(t))try{if(N()&&P())throw Error();if(!t.matches(":focus-visible"))return}catch(n){if(!m.current&&!F(t))return}i(!0,e.nativeEvent,"focus")},onBlur(e){p.current=!1;const t=e.relatedTarget,n=e.nativeEvent,r=u(t)&&t.hasAttribute(yn("focus-guard"))&&"outside"===t.getAttribute("data-type");f.current=window.setTimeout((()=>{var e;const o=C(c.domReference?c.domReference.ownerDocument:document);(t||o!==c.domReference)&&(x(null==(e=a.current.floatingContext)?void 0:e.refs.floating.current,o)||x(c.domReference,o)||r||i(!1,n,"focus"))}))}})),[a,c.domReference,i,h]);return r.useMemo((()=>l?{reference:g}:{}),[l,g])}const _r="active",wr="selected";function Sr(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[_r]:t,[wr]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[Jn]:""},...o,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var a;i&&[_r,wr].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof o&&(null==(a=r.get(n))||a.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function Tr(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),i=e.map((e=>null==e?void 0:e.item)),o=r.useCallback((t=>Sr(t,e,"reference")),t),a=r.useCallback((t=>Sr(t,e,"floating")),n),s=r.useCallback((t=>Sr(t,e,"item")),i);return r.useMemo((()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:s})),[o,a,s])}let Cr=!1;function xr(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Rr(e,t){return xr(t,e===Ot||e===It,e===Nt||e===kt)}function Ar(e,t,n){return xr(t,e===It,n?e===Nt:e===kt)||"Enter"===e||" "===e||""===e}function Or(e,t,n){return xr(t,n?e===kt:e===Nt,e===Ot)}function Ir(e,t){const{open:n,onOpenChange:i,elements:o}=e,{listRef:a,activeIndex:s,onNavigate:c=()=>{},enabled:l=!0,selectedIndex:u=null,allowEscape:h=!1,loop:p=!1,nested:f=!1,rtl:m=!1,virtual:g=!1,focusItemOnOpen:v="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:b=!0,disabledIndices:E,orientation:_="vertical",cols:w=1,scrollItemIntoView:S=!0,virtualItemRef:T,itemSizes:R,dense:A=!1}=t;const k=bn(Zn(o.floating)),D=pn(),M=fn(),j=At(c),U=r.useRef(v),F=r.useRef(null!=u?u:-1),W=r.useRef(null),H=r.useRef(!0),G=r.useRef(j),z=r.useRef(!!o.floating),K=r.useRef(n),Y=r.useRef(!1),q=r.useRef(!1),$=bn(E),X=bn(n),Q=bn(S),J=bn(u),[Z,ee]=r.useState(),[te,ne]=r.useState(),re=At((function(e,t,n){function r(e){g?(ee(e.id),null==M||M.events.emit("virtualfocus",e),T&&(T.current=e)):Gt(e,{preventScroll:!0,sync:!(!P()||!N())&&(Cr||Y.current)})}void 0===n&&(n=!1);const i=e.current[t.current];i&&r(i),requestAnimationFrame((()=>{const o=e.current[t.current]||i;if(!o)return;i||r(o);const a=Q.current;a&&oe&&(n||!H.current)&&(null==o.scrollIntoView||o.scrollIntoView("boolean"===typeof a?{block:"nearest",inline:"nearest"}:a))}))}));zt((()=>{document.createElement("div").focus({get preventScroll(){return Cr=!0,!1}})}),[]),zt((()=>{l&&(n&&o.floating?U.current&&null!=u&&(q.current=!0,F.current=u,j(u)):z.current&&(F.current=-1,G.current(null)))}),[l,n,o.floating,u,j]),zt((()=>{if(l&&n&&o.floating)if(null==s){if(Y.current=!1,null!=J.current)return;if(z.current&&(F.current=-1,re(a,F)),(!K.current||!z.current)&&U.current&&(null!=W.current||!0===U.current&&null==W.current)){let e=0;const t=()=>{if(null==a.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else F.current=null==W.current||Ar(W.current,_,m)||f?Lt(a,$.current):Mt(a,$.current),W.current=null,j(F.current)};t()}}else Dt(a,s)||(F.current=s,re(a,F,q.current),q.current=!1)}),[l,n,o.floating,s,J,f,a,_,m,j,re,$]),zt((()=>{var e;if(!l||o.floating||!M||g||!z.current)return;const t=M.nodesRef.current,n=null==(e=t.find((e=>e.id===D)))||null==(e=e.context)?void 0:e.elements.floating,r=C(L(o.floating)),i=t.some((e=>e.context&&x(e.context.elements.floating,r)));n&&!i&&H.current&&n.focus({preventScroll:!0})}),[l,o.floating,M,D,g]),zt((()=>{if(l&&M&&g&&!D)return M.events.on("virtualfocus",e),()=>{M.events.off("virtualfocus",e)};function e(e){ne(e.id),T&&(T.current=e)}}),[l,M,g,D,T]),zt((()=>{G.current=j,z.current=!!o.floating})),zt((()=>{n||(W.current=null)}),[n]),zt((()=>{K.current=n}),[n]);const ie=null!=s,oe=r.useMemo((()=>{function e(e){if(!n)return;const t=a.current.indexOf(e);-1!==t&&j(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...y&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;H.current&&"touch"!==t&&(F.current=-1,re(a,F),j(null),g||Gt(k.current,{preventScroll:!0}))}}}}),[n,k,re,y,a,j,g]),ae=At((e=>{if(H.current=!1,Y.current=!0,!X.current&&e.currentTarget===k.current)return;if(f&&Or(e.key,_,m))return B(e),i(!1,e.nativeEvent,"list-navigation"),void(d(o.domReference)&&!g&&o.domReference.focus());const t=F.current,r=Lt(a,E),s=Mt(a,E);if("Home"===e.key&&(B(e),F.current=r,j(F.current)),"End"===e.key&&(B(e),F.current=s,j(F.current)),w>1){const t=R||Array.from({length:a.current.length},(()=>({width:1,height:1}))),n=Ft(t,w,A),i=n.findIndex((e=>null!=e&&!Wt(a.current,e,E))),o=n.reduce(((e,t,n)=>null==t||Wt(a.current,t,E)?e:n),-1),c=n[Ut({current:n.map((e=>null!=e?a.current[e]:null))},{event:e,orientation:_,loop:p,cols:w,disabledIndices:Vt([...E||a.current.map(((e,t)=>Wt(a.current,t)?t:void 0)),void 0],n),minIndex:i,maxIndex:o,prevIndex:Bt(F.current>s?r:F.current,t,n,w,e.key===It?"bl":e.key===kt?"tr":"tl"),stopEvent:!0})];if(null!=c&&(F.current=c,j(F.current)),"both"===_)return}if(Rr(e.key,_)){if(B(e),n&&!g&&C(e.currentTarget.ownerDocument)===e.currentTarget)return F.current=Ar(e.key,_,m)?r:s,void j(F.current);Ar(e.key,_,m)?F.current=p?t>=s?h&&t!==a.current.length?-1:r:jt(a,{startingIndex:t,disabledIndices:E}):Math.min(s,jt(a,{startingIndex:t,disabledIndices:E})):F.current=p?t<=r?h&&-1!==t?a.current.length:s:jt(a,{startingIndex:t,decrement:!0,disabledIndices:E}):Math.max(r,jt(a,{startingIndex:t,decrement:!0,disabledIndices:E})),Dt(a,F.current)?j(null):j(F.current)}})),se=r.useMemo((()=>g&&n&&ie&&{"aria-activedescendant":te||Z}),[g,n,ie,te,Z]),ce=r.useMemo((()=>({"aria-orientation":"both"===_?void 0:_,...!V(o.domReference)&&se,onKeyDown:ae,onPointerMove(){H.current=!0}})),[se,ae,o.domReference,_]),le=r.useMemo((()=>{function e(e){"auto"===v&&O(e.nativeEvent)&&(U.current=!0)}return{...se,onKeyDown(e){H.current=!1;const t=0===e.key.indexOf("Arrow"),r=function(e,t,n){return xr(t,n?e===Nt:e===kt,e===It)}(e.key,_,m),o=Or(e.key,_,m),s=Rr(e.key,_),c=(f?r:s)||"Enter"===e.key||""===e.key.trim();if(g&&n){const n=null==M?void 0:M.nodesRef.current.find((e=>null==e.parentId)),i=M&&n?function(e,t){let n,r=-1;return function t(i,o){o>r&&(n=i,r=o),An(e,i).forEach((e=>{t(e.id,o+1)}))}(t,0),e.find((e=>e.id===n))}(M.nodesRef.current,n.id):null;if(t&&i&&T){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(r||o){var l,d;const n=(null==(l=i.context)?void 0:l.elements.domReference)===e.currentTarget,s=o&&!n?null==(d=i.context)?void 0:d.elements.domReference:r?a.current.find((e=>(null==e?void 0:e.id)===Z)):null;s&&(B(e),s.dispatchEvent(t),ne(void 0))}var h;if(s&&i.context)if(i.context.open&&i.parentId&&e.currentTarget!==i.context.elements.domReference)return B(e),void(null==(h=i.context.elements.domReference)||h.dispatchEvent(t))}return ae(e)}(n||b||!t)&&(c&&(W.current=f&&s?null:e.key),f?r&&(B(e),n?(F.current=Lt(a,$.current),j(F.current)):i(!0,e.nativeEvent,"list-navigation")):s&&(null!=u&&(F.current=u),B(e),!n&&b?i(!0,e.nativeEvent,"list-navigation"):ae(e),n&&j(F.current)))},onFocus(){n&&!g&&j(null)},onPointerDown:function(e){U.current=v,"auto"===v&&I(e.nativeEvent)&&(U.current=!0)},onMouseDown:e,onClick:e}}),[Z,se,ae,$,v,a,f,j,i,n,b,_,m,u,M,g,T]);return r.useMemo((()=>l?{reference:le,floating:ce,item:oe}:{}),[l,le,ce,oe])}const Nr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function kr(e,t){var n;void 0===t&&(t={});const{open:i,floatingId:o}=e,{enabled:a=!0,role:s="dialog"}=t,c=null!=(n=Nr.get(s))?n:s,l=cn(),u=null!=pn(),d=r.useMemo((()=>"tooltip"===c||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===c?"dialog":c,"aria-controls":i?o:void 0,..."listbox"===c&&{role:"combobox"},..."menu"===c&&{id:l},..."menu"===c&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}}),[c,o,u,i,l,s]),h=r.useMemo((()=>{const e={id:o,...c&&{role:c}};return"tooltip"===c||"label"===s?e:{...e,..."menu"===c&&{"aria-labelledby":l}}}),[c,o,l,s]),p=r.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:o+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[o,s]);return r.useMemo((()=>a?{reference:d,floating:h,item:p}:{}),[a,d,h,p])}const Pr=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function Dr(e,t){return"function"===typeof e?e(t):e}function Lr(e,t){void 0===t&&(t={});const{open:n,elements:{floating:i}}=e,{duration:o=250}=t,a=("number"===typeof o?o:o.close)||0,[s,c]=r.useState("unmounted"),l=function(e,t){const[n,i]=r.useState(e);return e&&!n&&i(!0),r.useEffect((()=>{if(!e&&n){const e=setTimeout((()=>i(!1)),t);return()=>clearTimeout(e)}}),[e,n,t]),n}(n,a);return l||"close"!==s||c("unmounted"),zt((()=>{if(i){if(n){c("initial");const e=requestAnimationFrame((()=>{c("open")}));return()=>{cancelAnimationFrame(e)}}c("close")}}),[n,i]),{isMounted:l,status:s}}function Mr(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:i,close:o,common:a,duration:s=250}=t,c=e.placement,l=c.split("-")[0],u=r.useMemo((()=>({side:l,placement:c})),[l,c]),d="number"===typeof s,h=(d?s:s.open)||0,p=(d?s:s.close)||0,[f,m]=r.useState((()=>({...Dr(a,u),...Dr(n,u)}))),{isMounted:g,status:v}=Lr(e,{duration:s}),y=bn(n),b=bn(i),E=bn(o),_=bn(a);return zt((()=>{const e=Dr(y.current,u),t=Dr(E.current,u),n=Dr(_.current,u),r=Dr(b.current,u)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===v&&m((t=>({transitionProperty:t.transitionProperty,...n,...e}))),"open"===v&&m({transitionProperty:Object.keys(r).map(Pr).join(","),transitionDuration:h+"ms",...n,...r}),"close"===v){const r=t||e;m({transitionProperty:Object.keys(r).map(Pr).join(","),transitionDuration:p+"ms",...n,...r})}}),[p,E,y,b,_,h,v,u]),{isMounted:g,styles:f}}function jr(e,t){var n;const{open:i,dataRef:o}=e,{listRef:a,activeIndex:s,onMatch:c,onTypingChange:l,enabled:u=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:p=[],selectedIndex:f=null}=t,m=r.useRef(),g=r.useRef(""),v=r.useRef(null!=(n=null!=f?f:s)?n:-1),y=r.useRef(null),b=At(c),E=At(l),_=bn(d),w=bn(p);zt((()=>{i&&(clearTimeout(m.current),y.current=null,g.current="")}),[i]),zt((()=>{var e;i&&""===g.current&&(v.current=null!=(e=null!=f?f:s)?e:-1)}),[i,f,s]);const S=At((e=>{e?o.current.typing||(o.current.typing=e,E(e)):o.current.typing&&(o.current.typing=e,E(e))})),T=At((e=>{function t(e,t,n){const r=_.current?_.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}const n=a.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(n,n,g.current)?S(!1):" "===e.key&&B(e)),null==n||w.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;i&&" "!==e.key&&(B(e),S(!0));n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&g.current===e.key&&(g.current="",v.current=y.current),g.current+=e.key,clearTimeout(m.current),m.current=setTimeout((()=>{g.current="",v.current=y.current,S(!1)}),h);const r=v.current,o=t(n,[...n.slice((r||0)+1),...n.slice(0,(r||0)+1)],g.current);-1!==o?(b(o),y.current=o):" "!==e.key&&(g.current="",S(!1))})),C=r.useMemo((()=>({onKeyDown:T})),[T]),x=r.useMemo((()=>({onKeyDown:T,onKeyUp(e){" "===e.key&&S(!1)}})),[T,S]);return r.useMemo((()=>u?{reference:C,floating:x}:{}),[u,C,x])}function Ur(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Fr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:c=0,scrollRef:l,...u}=Z(e,t),{rects:d,elements:{floating:h}}=t,p=n.current[a],f=(null==l?void 0:l.current)||h,m=h.clientTop||f.clientTop,g=0!==h.clientTop,v=0!==f.clientTop,y=h===f;if(!p)return{};const b={...t,...await gt(-p.offsetTop-h.clientTop-d.reference.height/2-p.offsetHeight/2-o).fn(t)},E=await Ze(Ur(b,f.scrollHeight+m+h.clientTop),u),_=await Ze(b,{...u,elementContext:"reference"}),w=K(0,E.top),S=b.y+w,T=Y(K(0,f.scrollHeight+(g&&y||v?2*m:0)-w-K(0,E.bottom)));if(f.style.maxHeight=T+"px",f.scrollTop=w,i){const e=f.scrollHeight>f.offsetHeight&&f.offsetHeight<p.offsetHeight*s-1||_.top>=-c||_.bottom>=-c;ke.flushSync((()=>i(e)))}return r&&(r.current=await Ze(Ur({...b,y:S},f.offsetHeight+m+h.clientTop),u)),{y:S}}});function Br(e,t){const{open:n,elements:i}=e,{enabled:o=!0,overflowRef:a,scrollRef:s,onChange:c}=t,l=At(c),u=r.useRef(!1),d=r.useRef(null),h=r.useRef(null);r.useEffect((()=>{if(!o)return;function e(e){if(e.ctrlKey||!t||null==a.current)return;const n=e.deltaY,r=a.current.top>=-.5,i=a.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,s=n<0?-1:1,c=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),ke.flushSync((()=>{l((e=>e+Math[c](n,o*s)))}))):/firefox/i.test(A())&&(t.scrollTop+=n))}const t=(null==s?void 0:s.current)||i.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{d.current=t.scrollTop,null!=a.current&&(h.current={...a.current})})),()=>{d.current=null,h.current=null,t.removeEventListener("wheel",e)}):void 0}),[o,n,i.floating,a,s,l]);const p=r.useMemo((()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==s?void 0:s.current)||i.floating;if(a.current&&e&&u.current){if(null!==d.current){const t=e.scrollTop-d.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&ke.flushSync((()=>l((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}})),[i.floating,l,a,s]);return r.useMemo((()=>o?{floating:p}:{}),[o,p])}function Vr(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let a=0,s=o-1;a<o;s=a++){const[e,o]=t[a]||[0,0],[c,l]=t[s]||[0,0];o>=r!==l>=r&&n<=(c-e)*(r-o)/(l-o)+e&&(i=!i)}return i}function Wr(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,o=!1,a=null,s=null,c=performance.now();const l=e=>{let{x:n,y:l,placement:d,elements:h,onClose:p,nodeId:f,tree:m}=e;return function(e){function g(){clearTimeout(i),p()}if(clearTimeout(i),!h.domReference||!h.floating||null==d||null==n||null==l)return;const{clientX:v,clientY:y}=e,b=[v,y],E=j(e),_="mouseleave"===e.type,w=x(h.floating,E),S=x(h.domReference,E),T=h.domReference.getBoundingClientRect(),C=h.floating.getBoundingClientRect(),R=d.split("-")[0],A=n>C.right-C.width/2,O=l>C.bottom-C.height/2,I=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(b,T),N=C.width>T.width,k=C.height>T.height,P=(N?T:C).left,D=(N?T:C).right,L=(k?T:C).top,M=(k?T:C).bottom;if(w&&(o=!0,!_))return;if(S&&(o=!1),S&&!_)return void(o=!0);if(_&&u(e.relatedTarget)&&x(h.floating,e.relatedTarget))return;if(m&&An(m.nodesRef.current,f).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===R&&l>=T.bottom-1||"bottom"===R&&l<=T.top+1||"left"===R&&n>=T.right-1||"right"===R&&n<=T.left+1)return g();let U=[];switch(R){case"top":U=[[P,T.top+1],[P,C.bottom-1],[D,C.bottom-1],[D,T.top+1]];break;case"bottom":U=[[P,C.top+1],[P,T.bottom-1],[D,T.bottom-1],[D,C.top+1]];break;case"left":U=[[C.right-1,M],[C.right-1,L],[T.left+1,L],[T.left+1,M]];break;case"right":U=[[T.right-1,M],[T.right-1,L],[C.left+1,L],[C.left+1,M]]}if(!Vr([v,y],U)){if(o&&!I)return g();if(!_&&r){const t=function(e,t){const n=performance.now(),r=n-c;if(null===a||null===s||0===r)return a=e,s=t,c=n,null;const i=e-a,o=t-s,l=Math.sqrt(i*i+o*o);return a=e,s=t,c=n,l/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}Vr([v,y],function(e){let[n,r]=e;switch(R){case"top":return[[N?n+t/2:A?n+4*t:n-4*t,r+t+1],[N?n-t/2:A?n+4*t:n-4*t,r+t+1],...[[C.left,A||N?C.bottom-t:C.top],[C.right,A?N?C.bottom-t:C.top:C.bottom-t]]];case"bottom":return[[N?n+t/2:A?n+4*t:n-4*t,r-t],[N?n-t/2:A?n+4*t:n-4*t,r-t],...[[C.left,A||N?C.top+t:C.bottom],[C.right,A?N?C.top+t:C.bottom:C.top+t]]];case"left":{const e=[n+t+1,k?r+t/2:O?r+4*t:r-4*t],i=[n+t+1,k?r-t/2:O?r+4*t:r-4*t];return[...[[O||k?C.right-t:C.left,C.top],[O?k?C.right-t:C.left:C.right-t,C.bottom]],e,i]}case"right":return[[n-t,k?r+t/2:O?r+4*t:r-4*t],[n-t,k?r-t/2:O?r+4*t:r-4*t],...[[O||k?C.left+t:C.right,C.top],[O?k?C.left+t:C.right:C.left+t,C.bottom]]]}}([n,l]))?!o&&r&&(i=window.setTimeout(g,40)):g()}}};return l.__options={blockPointerEvents:n},l}},1635:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),a=o,s=Function.prototype,c=s.call,l=a&&s.bind.bind(c,c),u=a?l:function(e){return function(){return c.apply(e,arguments)}},d=u({}.isPrototypeOf),h=function(e){return e&&e.Math==Math&&e},p=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof t&&t)||function(){return this}()||t||Function("return this")(),f=o,m=Function.prototype,g=m.apply,v=m.call,y="object"==typeof Reflect&&Reflect.apply||(f?v.bind(g):function(){return v.apply(g,arguments)}),b=u,E=b({}.toString),_=b("".slice),w=function(e){return _(E(e),8,-1)},S=w,T=u,C=function(e){if("Function"===S(e))return T(e)},x="object"==typeof document&&document.all,R={all:x,IS_HTMLDDA:void 0===x&&void 0!==x},A=R.all,O=R.IS_HTMLDDA?function(e){return"function"==typeof e||e===A}:function(e){return"function"==typeof e},I={},N=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k=o,P=Function.prototype.call,D=k?P.bind(P):function(){return P.apply(P,arguments)},L={},M={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,U=j&&!M.call({1:2},1);L.f=U?function(e){var t=j(this,e);return!!t&&t.enumerable}:M;var F,B,V=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},W=i,H=w,G=Object,z=u("".split),K=W((function(){return!G("z").propertyIsEnumerable(0)}))?function(e){return"String"==H(e)?z(e,""):G(e)}:G,Y=function(e){return null==e},q=Y,$=TypeError,X=function(e){if(q(e))throw $("Can't call method on "+e);return e},Q=K,J=X,Z=function(e){return Q(J(e))},ee=O,te=R.all,ne=R.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:ee(e)||e===te}:function(e){return"object"==typeof e?null!==e:ee(e)},re={},ie=re,oe=p,ae=O,se=function(e){return ae(e)?e:void 0},ce=function(e,t){return arguments.length<2?se(ie[e])||se(oe[e]):ie[e]&&ie[e][t]||oe[e]&&oe[e][t]},le="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ue=p,de=le,he=ue.process,pe=ue.Deno,fe=he&&he.versions||pe&&pe.version,me=fe&&fe.v8;me&&(B=(F=me.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!B&&de&&(!(F=de.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=de.match(/Chrome\/(\d+)/))&&(B=+F[1]);var ge=B,ve=ge,ye=i,be=p.String,Ee=!!Object.getOwnPropertySymbols&&!ye((function(){var e=Symbol();return!be(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ve&&ve<41})),_e=Ee&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,we=ce,Se=O,Te=d,Ce=Object,xe=_e?function(e){return"symbol"==typeof e}:function(e){var t=we("Symbol");return Se(t)&&Te(t.prototype,Ce(e))},Re=String,Ae=function(e){try{return Re(e)}catch(e){return"Object"}},Oe=O,Ie=Ae,Ne=TypeError,ke=function(e){if(Oe(e))return e;throw Ne(Ie(e)+" is not a function")},Pe=ke,De=Y,Le=function(e,t){var n=e[t];return De(n)?void 0:Pe(n)},Me=D,je=O,Ue=ne,Fe=TypeError,Be={exports:{}},Ve=p,We=Object.defineProperty,He=function(e,t){try{We(Ve,e,{value:t,configurable:!0,writable:!0})}catch(r){Ve[e]=t}return t},Ge="__core-js_shared__",ze=p[Ge]||He(Ge,{}),Ke=ze;(Be.exports=function(e,t){return Ke[e]||(Ke[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ye=Be.exports,qe=X,$e=Object,Xe=function(e){return $e(qe(e))},Qe=Xe,Je=u({}.hasOwnProperty),Ze=Object.hasOwn||function(e,t){return Je(Qe(e),t)},et=u,tt=0,nt=Math.random(),rt=et(1..toString),it=function(e){return"Symbol("+(void 0===e?"":e)+")_"+rt(++tt+nt,36)},ot=Ye,at=Ze,st=it,ct=Ee,lt=_e,ut=p.Symbol,dt=ot("wks"),ht=lt?ut.for||ut:ut&&ut.withoutSetter||st,pt=function(e){return at(dt,e)||(dt[e]=ct&&at(ut,e)?ut[e]:ht("Symbol."+e)),dt[e]},ft=D,mt=ne,gt=xe,vt=Le,yt=function(e,t){var n,r;if("string"===t&&je(n=e.toString)&&!Ue(r=Me(n,e)))return r;if(je(n=e.valueOf)&&!Ue(r=Me(n,e)))return r;if("string"!==t&&je(n=e.toString)&&!Ue(r=Me(n,e)))return r;throw Fe("Can't convert object to primitive value")},bt=TypeError,Et=pt("toPrimitive"),_t=function(e,t){if(!mt(e)||gt(e))return e;var n,r=vt(e,Et);if(r){if(void 0===t&&(t="default"),n=ft(r,e,t),!mt(n)||gt(n))return n;throw bt("Can't convert object to primitive value")}return void 0===t&&(t="number"),yt(e,t)},wt=xe,St=function(e){var t=_t(e,"string");return wt(t)?t:t+""},Tt=ne,Ct=p.document,xt=Tt(Ct)&&Tt(Ct.createElement),Rt=function(e){return xt?Ct.createElement(e):{}},At=Rt,Ot=!N&&!i((function(){return 7!=Object.defineProperty(At("div"),"a",{get:function(){return 7}}).a})),It=N,Nt=D,kt=L,Pt=V,Dt=Z,Lt=St,Mt=Ze,jt=Ot,Ut=Object.getOwnPropertyDescriptor;I.f=It?Ut:function(e,t){if(e=Dt(e),t=Lt(t),jt)try{return Ut(e,t)}catch(e){}if(Mt(e,t))return Pt(!Nt(kt.f,e,t),e[t])};var Ft=i,Bt=O,Vt=/#|\.prototype\./,Wt=function(e,t){var n=Gt[Ht(e)];return n==Kt||n!=zt&&(Bt(t)?Ft(t):!!t)},Ht=Wt.normalize=function(e){return String(e).replace(Vt,".").toLowerCase()},Gt=Wt.data={},zt=Wt.NATIVE="N",Kt=Wt.POLYFILL="P",Yt=Wt,qt=ke,$t=o,Xt=C(C.bind),Qt=function(e,t){return qt(e),void 0===t?e:$t?Xt(e,t):function(){return e.apply(t,arguments)}},Jt={},Zt=N&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),en=ne,tn=String,nn=TypeError,rn=function(e){if(en(e))return e;throw nn(tn(e)+" is not an object")},on=N,an=Ot,sn=Zt,cn=rn,ln=St,un=TypeError,dn=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,pn="enumerable",fn="configurable",mn="writable";Jt.f=on?sn?function(e,t,n){if(cn(e),t=ln(t),cn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&mn in n&&!n[mn]){var r=hn(e,t);r&&r[mn]&&(e[t]=n.value,n={configurable:fn in n?n[fn]:r[fn],enumerable:pn in n?n[pn]:r[pn],writable:!1})}return dn(e,t,n)}:dn:function(e,t,n){if(cn(e),t=ln(t),cn(n),an)try{return dn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw un("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var gn=Jt,vn=V,yn=N?function(e,t,n){return gn.f(e,t,vn(1,n))}:function(e,t,n){return e[t]=n,e},bn=p,En=y,_n=C,wn=O,Sn=I.f,Tn=Yt,Cn=re,xn=Qt,Rn=yn,An=Ze,On=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return En(e,this,arguments)};return t.prototype=e.prototype,t},In=function(e,t){var n,r,i,o,a,s,c,l,u,d=e.target,h=e.global,p=e.stat,f=e.proto,m=h?bn:p?bn[d]:(bn[d]||{}).prototype,g=h?Cn:Cn[d]||Rn(Cn,d,{})[d],v=g.prototype;for(o in t)r=!(n=Tn(h?o:d+(p?".":"#")+o,e.forced))&&m&&An(m,o),s=g[o],r&&(c=e.dontCallGetSet?(u=Sn(m,o))&&u.value:m[o]),a=r&&c?c:t[o],r&&typeof s==typeof a||(l=e.bind&&r?xn(a,bn):e.wrap&&r?On(a):f&&wn(a)?_n(a):a,(e.sham||a&&a.sham||s&&s.sham)&&Rn(l,"sham",!0),Rn(g,o,l),f&&(An(Cn,i=d+"Prototype")||Rn(Cn,i,{}),Rn(Cn[i],o,a),e.real&&v&&(n||!v[o])&&Rn(v,o,a)))},Nn=Math.ceil,kn=Math.floor,Pn=Math.trunc||function(e){var t=+e;return(t>0?kn:Nn)(t)},Dn=Pn,Ln=function(e){var t=+e;return t!=t||0===t?0:Dn(t)},Mn=Ln,jn=Math.max,Un=Math.min,Fn=function(e,t){var n=Mn(e);return n<0?jn(n+t,0):Un(n,t)},Bn=Ln,Vn=Math.min,Wn=function(e){return e>0?Vn(Bn(e),9007199254740991):0},Hn=Wn,Gn=function(e){return Hn(e.length)},zn=Z,Kn=Fn,Yn=Gn,qn=function(e){return function(t,n,r){var i,o=zn(t),a=Yn(o),s=Kn(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},$n={includes:qn(!0),indexOf:qn(!1)},Xn=$n.includes;In({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return Xn(this,e,arguments.length>1?arguments[1]:void 0)}});var Qn=re,Jn=function(e){return Qn[e+"Prototype"]},Zn=Jn("Array").includes,er=ne,tr=w,nr=pt("match"),rr=function(e){var t;return er(e)&&(void 0!==(t=e[nr])?!!t:"RegExp"==tr(e))},ir=rr,or=TypeError,ar={};ar[pt("toStringTag")]="z";var sr="[object z]"===String(ar),cr=sr,lr=O,ur=w,dr=pt("toStringTag"),hr=Object,pr="Arguments"==ur(function(){return arguments}()),fr=cr?ur:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=hr(e),dr))?n:pr?ur(t):"Object"==(r=ur(t))&&lr(t.callee)?"Arguments":r},mr=fr,gr=String,vr=function(e){if("Symbol"===mr(e))throw TypeError("Cannot convert a Symbol value to a string");return gr(e)},yr=pt("match"),br=In,Er=function(e){if(ir(e))throw or("The method doesn't accept regular expressions");return e},_r=X,wr=vr,Sr=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[yr]=!1,"/./"[e](t)}catch(e){}}return!1},Tr=u("".indexOf);br({target:"String",proto:!0,forced:!Sr("includes")},{includes:function(e){return!!~Tr(wr(_r(this)),wr(Er(e)),arguments.length>1?arguments[1]:void 0)}});var Cr=Jn("String").includes,xr=d,Rr=Zn,Ar=Cr,Or=Array.prototype,Ir=String.prototype,Nr=function(e){var t=e.includes;return e===Or||xr(Or,e)&&t===Or.includes?Rr:"string"==typeof e||e===Ir||xr(Ir,e)&&t===Ir.includes?Ar:t},kr=r(Nr),Pr=ke,Dr=Xe,Lr=K,Mr=Gn,jr=TypeError,Ur=function(e){return function(t,n,r,i){Pr(n);var o=Dr(t),a=Lr(o),s=Mr(o),c=e?s-1:0,l=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=l;break}if(c+=l,e?c<0:s<=c)throw jr("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=l)c in a&&(i=n(i,a[c],c,o));return i}},Fr={left:Ur(!1),right:Ur(!0)},Br=i,Vr=function(e,t){var n=[][e];return!!n&&Br((function(){n.call(null,t||function(){return 1},1)}))},Wr="undefined"!=typeof process&&"process"==w(process),Hr=Fr.left;In({target:"Array",proto:!0,forced:!Wr&&ge>79&&ge<83||!Vr("reduce")},{reduce:function(e){var t=arguments.length;return Hr(this,e,t,t>1?arguments[1]:void 0)}});var Gr=Jn("Array").reduce,zr=d,Kr=Gr,Yr=Array.prototype,qr=function(e){var t=e.reduce;return e===Yr||zr(Yr,e)&&t===Yr.reduce?Kr:t},$r=qr,Xr=r($r);let Qr=!0,Jr=!0;function Zr(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ei(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function ti(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Qr=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ni(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Jr=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ri(){if("object"==typeof window){if(Qr)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function ii(e,t){Jr&&console.warn(e+" is deprecated, please use "+t+" instead.")}function oi(e){return"[object Object]"===Object.prototype.toString.call(e)}function ai(e){var t;return oi(e)?Xr(t=Object.keys(e)).call(t,(function(t,n){const r=oi(e[n]),i=r?ai(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function si(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?si(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{si(e,e.get(t),n)}))})))}function ci(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&si(e,n,i)}))})),i}var li=it,ui=Ye("keys"),di=function(e){return ui[e]||(ui[e]=li(e))},hi=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),pi=Ze,fi=O,mi=Xe,gi=hi,vi=di("IE_PROTO"),yi=Object,bi=yi.prototype,Ei=gi?yi.getPrototypeOf:function(e){var t=mi(e);if(pi(t,vi))return t[vi];var n=t.constructor;return fi(n)&&t instanceof n?n.prototype:t instanceof yi?bi:null},_i=u,wi=ke,Si=O,Ti=String,Ci=TypeError,xi=function(e,t,n){try{return _i(wi(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Ri=rn,Ai=function(e){if("object"==typeof e||Si(e))return e;throw Ci("Can't set "+Ti(e)+" as a prototype")},Oi=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=xi(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Ri(n),Ai(r),t?e(n,r):n.__proto__=r,n}}():void 0),Ii={},Ni={},ki=Ze,Pi=Z,Di=$n.indexOf,Li=Ni,Mi=u([].push),ji=function(e,t){var n,r=Pi(e),i=0,o=[];for(n in r)!ki(Li,n)&&ki(r,n)&&Mi(o,n);for(;t.length>i;)ki(r,n=t[i++])&&(~Di(o,n)||Mi(o,n));return o},Ui=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fi=ji,Bi=Ui.concat("length","prototype");Ii.f=Object.getOwnPropertyNames||function(e){return Fi(e,Bi)};var Vi={};Vi.f=Object.getOwnPropertySymbols;var Wi=ce,Hi=Ii,Gi=Vi,zi=rn,Ki=u([].concat),Yi=Wi("Reflect","ownKeys")||function(e){var t=Hi.f(zi(e)),n=Gi.f;return n?Ki(t,n(e)):t},qi=Ze,$i=Yi,Xi=I,Qi=Jt,Ji={},Zi=ji,eo=Ui,to=Object.keys||function(e){return Zi(e,eo)},no=N,ro=Zt,io=Jt,oo=rn,ao=Z,so=to;Ji.f=no&&!ro?Object.defineProperties:function(e,t){oo(e);for(var n,r=ao(t),i=so(t),o=i.length,a=0;o>a;)io.f(e,n=i[a++],r[n]);return e};var co,lo=ce("document","documentElement"),uo=rn,ho=Ji,po=Ui,fo=Ni,mo=lo,go=Rt,vo="prototype",yo="script",bo=di("IE_PROTO"),Eo=function(){},_o=function(e){return"<"+yo+">"+e+"</"+yo+">"},wo=function(e){e.write(_o("")),e.close();var t=e.parentWindow.Object;return e=null,t},So=function(){try{co=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;So="undefined"!=typeof document?document.domain&&co?wo(co):(t=go("iframe"),n="java"+yo+":",t.style.display="none",mo.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(_o("document.F=Object")),e.close(),e.F):wo(co);for(var r=po.length;r--;)delete So[vo][po[r]];return So()};fo[bo]=!0;var To=Object.create||function(e,t){var n;return null!==e?(Eo[vo]=uo(e),n=new Eo,Eo[vo]=null,n[bo]=e):n=So(),void 0===t?n:ho.f(n,t)},Co=ne,xo=yn,Ro=Error,Ao=u("".replace),Oo=String(Ro("zxcasd").stack),Io=/\n\s*at [^:]*:[^\n]*/,No=Io.test(Oo),ko=V,Po=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ko(1,7)),7!==e.stack)})),Do=yn,Lo=function(e,t){if(No&&"string"==typeof e&&!Ro.prepareStackTrace)for(;t--;)e=Ao(e,Io,"");return e},Mo=Po,jo=Error.captureStackTrace,Uo={},Fo=Uo,Bo=pt("iterator"),Vo=Array.prototype,Wo=function(e){return void 0!==e&&(Fo.Array===e||Vo[Bo]===e)},Ho=fr,Go=Le,zo=Y,Ko=Uo,Yo=pt("iterator"),qo=function(e){if(!zo(e))return Go(e,Yo)||Go(e,"@@iterator")||Ko[Ho(e)]},$o=D,Xo=ke,Qo=rn,Jo=Ae,Zo=qo,ea=TypeError,ta=function(e,t){var n=arguments.length<2?Zo(e):t;if(Xo(n))return Qo($o(n,e));throw ea(Jo(e)+" is not iterable")},na=D,ra=rn,ia=Le,oa=function(e,t,n){var r,i;ra(e);try{if(!(r=ia(e,"return"))){if("throw"===t)throw n;return n}r=na(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ra(r),n},aa=Qt,sa=D,ca=rn,la=Ae,ua=Wo,da=Gn,ha=d,pa=ta,fa=qo,ma=oa,ga=TypeError,va=function(e,t){this.stopped=e,this.result=t},ya=va.prototype,ba=function(e,t,n){var r,i,o,a,s,c,l,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=aa(t,u),g=function(e){return r&&ma(r,"normal",e),new va(!0,e)},v=function(e){return d?(ca(e),f?m(e[0],e[1],g):m(e[0],e[1])):f?m(e,g):m(e)};if(h)r=e.iterator;else if(p)r=e;else{if(!(i=fa(e)))throw ga(la(e)+" is not iterable");if(ua(i)){for(o=0,a=da(e);a>o;o++)if((s=v(e[o]))&&ha(ya,s))return s;return new va(!1)}r=pa(e,i)}for(c=h?e.next:r.next;!(l=sa(c,r)).done;){try{s=v(l.value)}catch(e){ma(r,"throw",e)}if("object"==typeof s&&s&&ha(ya,s))return s}return new va(!1)},Ea=vr,_a=In,wa=d,Sa=Ei,Ta=Oi,Ca=function(e,t,n){for(var r=$i(t),i=Qi.f,o=Xi.f,a=0;a<r.length;a++){var s=r[a];qi(e,s)||n&&qi(n,s)||i(e,s,o(t,s))}},xa=To,Ra=yn,Aa=V,Oa=function(e,t){Co(t)&&"cause"in t&&xo(e,"cause",t.cause)},Ia=function(e,t,n,r){Mo&&(jo?jo(e,t):Do(e,"stack",Lo(n,r)))},Na=ba,ka=function(e,t){return void 0===e?arguments.length<2?"":t:Ea(e)},Pa=pt("toStringTag"),Da=Error,La=[].push,Ma=function(e,t){var n,r=wa(ja,this);Ta?n=Ta(Da(),r?Sa(this):ja):(n=r?this:xa(ja),Ra(n,Pa,"Error")),void 0!==t&&Ra(n,"message",ka(t)),Ia(n,Ma,n.stack,1),arguments.length>2&&Oa(n,arguments[2]);var i=[];return Na(e,La,{that:i}),Ra(n,"errors",i),n};Ta?Ta(Ma,Da):Ca(Ma,Da,{name:!0});var ja=Ma.prototype=xa(Da.prototype,{constructor:Aa(1,Ma),message:Aa(1,""),name:Aa(1,"AggregateError")});_a({global:!0,constructor:!0,arity:2},{AggregateError:Ma});var Ua,Fa,Ba,Va=O,Wa=p.WeakMap,Ha=Va(Wa)&&/native code/.test(String(Wa)),Ga=p,za=ne,Ka=yn,Ya=Ze,qa=ze,$a=di,Xa=Ni,Qa="Object already initialized",Ja=Ga.TypeError,Za=Ga.WeakMap;if(Ha||qa.state){var es=qa.state||(qa.state=new Za);es.get=es.get,es.has=es.has,es.set=es.set,Ua=function(e,t){if(es.has(e))throw Ja(Qa);return t.facade=e,es.set(e,t),t},Fa=function(e){return es.get(e)||{}},Ba=function(e){return es.has(e)}}else{var ts=$a("state");Xa[ts]=!0,Ua=function(e,t){if(Ya(e,ts))throw Ja(Qa);return t.facade=e,Ka(e,ts,t),t},Fa=function(e){return Ya(e,ts)?e[ts]:{}},Ba=function(e){return Ya(e,ts)}}var ns,rs,is,os={set:Ua,get:Fa,has:Ba,enforce:function(e){return Ba(e)?Fa(e):Ua(e,{})},getterFor:function(e){return function(t){var n;if(!za(t)||(n=Fa(t)).type!==e)throw Ja("Incompatible receiver, "+e+" required");return n}}},as=N,ss=Ze,cs=Function.prototype,ls=as&&Object.getOwnPropertyDescriptor,us=ss(cs,"name"),ds={EXISTS:us,PROPER:us&&"something"===function(){}.name,CONFIGURABLE:us&&(!as||as&&ls(cs,"name").configurable)},hs=yn,ps=function(e,t,n,r){return r&&r.enumerable?e[t]=n:hs(e,t,n),e},fs=i,ms=O,gs=ne,vs=To,ys=Ei,bs=ps,Es=pt("iterator"),_s=!1;[].keys&&("next"in(is=[].keys())?(rs=ys(ys(is)))!==Object.prototype&&(ns=rs):_s=!0);var ws=!gs(ns)||fs((function(){var e={};return ns[Es].call(e)!==e}));ms((ns=ws?{}:vs(ns))[Es])||bs(ns,Es,(function(){return this}));var Ss={IteratorPrototype:ns,BUGGY_SAFARI_ITERATORS:_s},Ts=fr,Cs=sr?{}.toString:function(){return"[object "+Ts(this)+"]"},xs=sr,Rs=Jt.f,As=yn,Os=Ze,Is=Cs,Ns=pt("toStringTag"),ks=function(e,t,n,r){if(e){var i=n?e:e.prototype;Os(i,Ns)||Rs(i,Ns,{configurable:!0,value:t}),r&&!xs&&As(i,"toString",Is)}},Ps=Ss.IteratorPrototype,Ds=To,Ls=V,Ms=ks,js=Uo,Us=function(){return this},Fs=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Ds(Ps,{next:Ls(+!r,n)}),Ms(e,i,!1,!0),js[i]=Us,e},Bs=In,Vs=D,Ws=Fs,Hs=Ei,Gs=ks,zs=ps,Ks=Uo,Ys=Ss,qs=ds.PROPER,$s=Ys.BUGGY_SAFARI_ITERATORS,Xs=pt("iterator"),Qs="keys",Js="values",Zs="entries",ec=function(){return this},tc=function(e,t,n,r,i,o,a){Ws(n,t,r);var s,c,l,u=function(e){if(e===i&&m)return m;if(!$s&&e in p)return p[e];switch(e){case Qs:case Js:case Zs:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[Xs]||p["@@iterator"]||i&&p[i],m=!$s&&f||u(i),g="Array"==t&&p.entries||f;if(g&&(s=Hs(g.call(new e)))!==Object.prototype&&s.next&&(Gs(s,d,!0,!0),Ks[d]=ec),qs&&i==Js&&f&&f.name!==Js&&(h=!0,m=function(){return Vs(f,this)}),i)if(c={values:u(Js),keys:o?m:u(Qs),entries:u(Zs)},a)for(l in c)($s||h||!(l in p))&&zs(p,l,c[l]);else Bs({target:t,proto:!0,forced:$s||h},c);return a&&p[Xs]!==m&&zs(p,Xs,m,{name:i}),Ks[t]=m,c},nc=function(e,t){return{value:e,done:t}},rc=Z,ic=Uo,oc=os;Jt.f;var ac=tc,sc=nc,cc="Array Iterator",lc=oc.set,uc=oc.getterFor(cc);ac(Array,"Array",(function(e,t){lc(this,{type:cc,target:rc(e),index:0,kind:t})}),(function(){var e=uc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,sc(void 0,!0)):sc("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),ic.Arguments=ic.Array;var dc=Jt,hc=function(e,t,n){return dc.f(e,t,n)},pc=ce,fc=hc,mc=N,gc=pt("species"),vc=d,yc=TypeError,bc=function(e,t){if(vc(t,e))return e;throw yc("Incorrect invocation")},Ec=O,_c=ze,wc=u(Function.toString);Ec(_c.inspectSource)||(_c.inspectSource=function(e){return wc(e)});var Sc=_c.inspectSource,Tc=u,Cc=i,xc=O,Rc=fr,Ac=Sc,Oc=function(){},Ic=[],Nc=ce("Reflect","construct"),kc=/^\s*(?:class|function)\b/,Pc=Tc(kc.exec),Dc=!kc.exec(Oc),Lc=function(e){if(!xc(e))return!1;try{return Nc(Oc,Ic,e),!0}catch(e){return!1}},Mc=function(e){if(!xc(e))return!1;switch(Rc(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Dc||!!Pc(kc,Ac(e))}catch(e){return!0}};Mc.sham=!0;var jc,Uc,Fc,Bc,Vc=!Nc||Cc((function(){var e;return Lc(Lc.call)||!Lc(Object)||!Lc((function(){e=!0}))||e}))?Mc:Lc,Wc=Vc,Hc=Ae,Gc=TypeError,zc=rn,Kc=function(e){if(Wc(e))return e;throw Gc(Hc(e)+" is not a constructor")},Yc=Y,qc=pt("species"),$c=function(e,t){var n,r=zc(e).constructor;return void 0===r||Yc(n=zc(r)[qc])?t:Kc(n)},Xc=u([].slice),Qc=TypeError,Jc=function(e,t){if(e<t)throw Qc("Not enough arguments");return e},Zc=/(?:ipad|iphone|ipod).*applewebkit/i.test(le),el=p,tl=y,nl=Qt,rl=O,il=Ze,ol=i,al=lo,sl=Xc,cl=Rt,ll=Jc,ul=Zc,dl=Wr,hl=el.setImmediate,pl=el.clearImmediate,fl=el.process,ml=el.Dispatch,gl=el.Function,vl=el.MessageChannel,yl=el.String,bl=0,El={},_l="onreadystatechange";ol((function(){jc=el.location}));var wl=function(e){if(il(El,e)){var t=El[e];delete El[e],t()}},Sl=function(e){return function(){wl(e)}},Tl=function(e){wl(e.data)},Cl=function(e){el.postMessage(yl(e),jc.protocol+"//"+jc.host)};hl&&pl||(hl=function(e){ll(arguments.length,1);var t=rl(e)?e:gl(e),n=sl(arguments,1);return El[++bl]=function(){tl(t,void 0,n)},Uc(bl),bl},pl=function(e){delete El[e]},dl?Uc=function(e){fl.nextTick(Sl(e))}:ml&&ml.now?Uc=function(e){ml.now(Sl(e))}:vl&&!ul?(Bc=(Fc=new vl).port2,Fc.port1.onmessage=Tl,Uc=nl(Bc.postMessage,Bc)):el.addEventListener&&rl(el.postMessage)&&!el.importScripts&&jc&&"file:"!==jc.protocol&&!ol(Cl)?(Uc=Cl,el.addEventListener("message",Tl,!1)):Uc=_l in cl("script")?function(e){al.appendChild(cl("script"))[_l]=function(){al.removeChild(this),wl(e)}}:function(e){setTimeout(Sl(e),0)});var xl={set:hl,clear:pl},Rl=function(){this.head=null,this.tail=null};Rl.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Al,Ol,Il,Nl,kl,Pl=Rl,Dl=/ipad|iphone|ipod/i.test(le)&&"undefined"!=typeof Pebble,Ll=/web0s(?!.*chrome)/i.test(le),Ml=p,jl=Qt,Ul=I.f,Fl=xl.set,Bl=Pl,Vl=Zc,Wl=Dl,Hl=Ll,Gl=Wr,zl=Ml.MutationObserver||Ml.WebKitMutationObserver,Kl=Ml.document,Yl=Ml.process,ql=Ml.Promise,$l=Ul(Ml,"queueMicrotask"),Xl=$l&&$l.value;if(!Xl){var Ql=new Bl,Jl=function(){var e,t;for(Gl&&(e=Yl.domain)&&e.exit();t=Ql.get();)try{t()}catch(e){throw Ql.head&&Al(),e}e&&e.enter()};Vl||Gl||Hl||!zl||!Kl?!Wl&&ql&&ql.resolve?((Nl=ql.resolve(void 0)).constructor=ql,kl=jl(Nl.then,Nl),Al=function(){kl(Jl)}):Gl?Al=function(){Yl.nextTick(Jl)}:(Fl=jl(Fl,Ml),Al=function(){Fl(Jl)}):(Ol=!0,Il=Kl.createTextNode(""),new zl(Jl).observe(Il,{characterData:!0}),Al=function(){Il.data=Ol=!Ol}),Xl=function(e){Ql.head||Al(),Ql.add(e)}}var Zl=Xl,eu=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},tu=p.Promise,nu="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,ru=!nu&&!Wr&&"object"==typeof window&&"object"==typeof document,iu=p,ou=tu,au=O,su=Yt,cu=Sc,lu=pt,uu=ru,du=nu,hu=ge,pu=ou&&ou.prototype,fu=lu("species"),mu=!1,gu=au(iu.PromiseRejectionEvent),vu=su("Promise",(function(){var e=cu(ou),t=e!==String(ou);if(!t&&66===hu)return!0;if(!pu.catch||!pu.finally)return!0;if(!hu||hu<51||!/native code/.test(e)){var n=new ou((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[fu]=r,!(mu=n.then((function(){}))instanceof r))return!0}return!t&&(uu||du)&&!gu})),yu={CONSTRUCTOR:vu,REJECTION_EVENT:gu,SUBCLASSING:mu},bu={},Eu=ke,_u=TypeError,wu=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw _u("Bad Promise constructor");t=e,n=r})),this.resolve=Eu(t),this.reject=Eu(n)};bu.f=function(e){return new wu(e)};var Su,Tu,Cu=In,xu=Wr,Ru=p,Au=D,Ou=ps,Iu=ks,Nu=function(e){var t=pc(e);mc&&t&&!t[gc]&&fc(t,gc,{configurable:!0,get:function(){return this}})},ku=ke,Pu=O,Du=ne,Lu=bc,Mu=$c,ju=xl.set,Uu=Zl,Fu=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},Bu=eu,Vu=Pl,Wu=os,Hu=tu,Gu=yu,zu=bu,Ku="Promise",Yu=Gu.CONSTRUCTOR,qu=Gu.REJECTION_EVENT,$u=Wu.getterFor(Ku),Xu=Wu.set,Qu=Hu&&Hu.prototype,Ju=Hu,Zu=Qu,ed=Ru.TypeError,td=Ru.document,nd=Ru.process,rd=zu.f,id=rd,od=!!(td&&td.createEvent&&Ru.dispatchEvent),ad="unhandledrejection",sd=function(e){var t;return!(!Du(e)||!Pu(t=e.then))&&t},cd=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&pd(t),t.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===e.promise?l(ed("Promise-chain cycle")):(r=sd(n))?Au(r,n,c,l):c(n)):l(o)}catch(e){u&&!i&&u.exit(),l(e)}},ld=function(e,t){e.notified||(e.notified=!0,Uu((function(){for(var n,r=e.reactions;n=r.get();)cd(n,e);e.notified=!1,t&&!e.rejection&&dd(e)})))},ud=function(e,t,n){var r,i;od?((r=td.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Ru.dispatchEvent(r)):r={promise:t,reason:n},!qu&&(i=Ru["on"+e])?i(r):e===ad&&Fu("Unhandled promise rejection",n)},dd=function(e){Au(ju,Ru,(function(){var t,n=e.facade,r=e.value;if(hd(e)&&(t=Bu((function(){xu?nd.emit("unhandledRejection",r,n):ud(ad,n,r)})),e.rejection=xu||hd(e)?2:1,t.error))throw t.value}))},hd=function(e){return 1!==e.rejection&&!e.parent},pd=function(e){Au(ju,Ru,(function(){var t=e.facade;xu?nd.emit("rejectionHandled",t):ud("rejectionhandled",t,e.value)}))},fd=function(e,t,n){return function(r){e(t,r,n)}},md=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ld(e,!0))},gd=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ed("Promise can't be resolved itself");var r=sd(t);r?Uu((function(){var n={done:!1};try{Au(r,t,fd(gd,n,e),fd(md,n,e))}catch(t){md(n,t,e)}})):(e.value=t,e.state=1,ld(e,!1))}catch(t){md({done:!1},t,e)}}};Yu&&(Zu=(Ju=function(e){Lu(this,Zu),ku(e),Au(Su,this);var t=$u(this);try{e(fd(gd,t),fd(md,t))}catch(e){md(t,e)}}).prototype,(Su=function(e){Xu(this,{type:Ku,done:!1,notified:!1,parent:!1,reactions:new Vu,rejection:!1,state:0,value:void 0})}).prototype=Ou(Zu,"then",(function(e,t){var n=$u(this),r=rd(Mu(this,Ju));return n.parent=!0,r.ok=!Pu(e)||e,r.fail=Pu(t)&&t,r.domain=xu?nd.domain:void 0,0==n.state?n.reactions.add(r):Uu((function(){cd(r,n)})),r.promise})),Tu=function(){var e=new Su,t=$u(e);this.promise=e,this.resolve=fd(gd,t),this.reject=fd(md,t)},zu.f=rd=function(e){return e===Ju||void 0===e?new Tu(e):id(e)}),Cu({global:!0,constructor:!0,wrap:!0,forced:Yu},{Promise:Ju}),Iu(Ju,Ku,!1,!0),Nu(Ku);var vd=pt("iterator"),yd=!1;try{var bd=0,Ed={next:function(){return{done:!!bd++}},return:function(){yd=!0}};Ed[vd]=function(){return this},Array.from(Ed,(function(){throw 2}))}catch(e){}var _d=tu,wd=function(e,t){if(!t&&!yd)return!1;var n=!1;try{var r={};r[vd]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Sd=yu.CONSTRUCTOR||!wd((function(e){_d.all(e).then(void 0,(function(){}))})),Td=D,Cd=ke,xd=bu,Rd=eu,Ad=ba;In({target:"Promise",stat:!0,forced:Sd},{all:function(e){var t=this,n=xd.f(t),r=n.resolve,i=n.reject,o=Rd((function(){var n=Cd(t.resolve),o=[],a=0,s=1;Ad(e,(function(e){var c=a++,l=!1;s++,Td(n,t,e).then((function(e){l||(l=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var Od=In,Id=yu.CONSTRUCTOR;tu&&tu.prototype,Od({target:"Promise",proto:!0,forced:Id,real:!0},{catch:function(e){return this.then(void 0,e)}});var Nd=D,kd=ke,Pd=bu,Dd=eu,Ld=ba;In({target:"Promise",stat:!0,forced:Sd},{race:function(e){var t=this,n=Pd.f(t),r=n.reject,i=Dd((function(){var i=kd(t.resolve);Ld(e,(function(e){Nd(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Md=D,jd=bu;In({target:"Promise",stat:!0,forced:yu.CONSTRUCTOR},{reject:function(e){var t=jd.f(this);return Md(t.reject,void 0,e),t.promise}});var Ud=rn,Fd=ne,Bd=bu,Vd=function(e,t){if(Ud(e),Fd(t)&&t.constructor===e)return t;var n=Bd.f(e);return(0,n.resolve)(t),n.promise},Wd=In,Hd=tu,Gd=yu.CONSTRUCTOR,zd=Vd,Kd=ce("Promise"),Yd=!Gd;Wd({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return zd(Yd&&this===Kd?Hd:this,e)}});var qd=D,$d=ke,Xd=bu,Qd=eu,Jd=ba;In({target:"Promise",stat:!0,forced:Sd},{allSettled:function(e){var t=this,n=Xd.f(t),r=n.resolve,i=n.reject,o=Qd((function(){var n=$d(t.resolve),i=[],o=0,a=1;Jd(e,(function(e){var s=o++,c=!1;a++,qd(n,t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Zd=D,eh=ke,th=ce,nh=bu,rh=eu,ih=ba,oh="No one promise resolved";In({target:"Promise",stat:!0,forced:Sd},{any:function(e){var t=this,n=th("AggregateError"),r=nh.f(t),i=r.resolve,o=r.reject,a=rh((function(){var r=eh(t.resolve),a=[],s=0,c=1,l=!1;ih(e,(function(e){var u=s++,d=!1;c++,Zd(r,t,e).then((function(e){d||l||(l=!0,i(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||o(new n(a,oh)))}))})),--c||o(new n(a,oh))}));return a.error&&o(a.value),r.promise}});var ah=In,sh=tu,ch=i,lh=ce,uh=O,dh=$c,hh=Vd,ph=sh&&sh.prototype;ah({target:"Promise",proto:!0,real:!0,forced:!!sh&&ch((function(){ph.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=dh(this,lh("Promise")),n=uh(e);return this.then(n?function(n){return hh(t,e()).then((function(){return n}))}:e,n?function(n){return hh(t,e()).then((function(){throw n}))}:e)}});var fh=u,mh=Ln,gh=vr,vh=X,yh=fh("".charAt),bh=fh("".charCodeAt),Eh=fh("".slice),_h=function(e){return function(t,n){var r,i,o=gh(vh(t)),a=mh(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=bh(o,a))<55296||r>56319||a+1===s||(i=bh(o,a+1))<56320||i>57343?e?yh(o,a):r:e?Eh(o,a,a+2):i-56320+(r-55296<<10)+65536}},wh={codeAt:_h(!1),charAt:_h(!0)},Sh=wh.charAt,Th=vr,Ch=os,xh=tc,Rh=nc,Ah="String Iterator",Oh=Ch.set,Ih=Ch.getterFor(Ah);xh(String,"String",(function(e){Oh(this,{type:Ah,string:Th(e),index:0})}),(function(){var e,t=Ih(this),n=t.string,r=t.index;return r>=n.length?Rh(void 0,!0):(e=Sh(n,r),t.index+=e.length,Rh(e,!1))}));var Nh=re.Promise,kh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ph=p,Dh=fr,Lh=yn,Mh=Uo,jh=pt("toStringTag");for(var Uh in kh){var Fh=Ph[Uh],Bh=Fh&&Fh.prototype;Bh&&Dh(Bh)!==jh&&Lh(Bh,jh,Uh),Mh[Uh]=Mh.Array}var Vh=Nh,Wh=r(Vh);const Hh=ri;function Gh(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>{var n;return kr(n=e.label.toLowerCase()).call(n,t)}))));return!a&&n.length&&kr(t).call(t,"back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),Hh("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return Hh("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Wh.reject(o(e))))))}}}function zh(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Kh(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ei(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function Yh(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function qh(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new Wh(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function $h(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>ci(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ei(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>ci(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Wh.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Wh.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Xh(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function Qh(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xh(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),Wh.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Jh(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function Zh(e,t){ei(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var ep=Object.freeze({__proto__:null,fixNegotiationNeeded:Zh,shimAddTrackRemoveTrack:Qh,shimAddTrackRemoveTrackWithNative:Xh,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Yh,shimGetStats:qh,shimGetUserMedia:Gh,shimMediaStream:zh,shimOnTrack:Kh,shimPeerConnection:Jh,shimSenderReceiverGetStats:$h});function tp(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){ii("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function np(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function rp(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function ip(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Wh.resolve(new Map)}}function op(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ei(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ap(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){ii("removeStream","removeTrack"),this.getSenders().forEach((t=>{var n;t.track&&kr(n=e.getTracks()).call(n,t.track)&&this.removeTrack(t)}))})}function sp(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function cp(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function lp(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function up(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Wh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function dp(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Wh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var hp=Object.freeze({__proto__:null,shimAddTransceiver:cp,shimCreateAnswer:dp,shimCreateOffer:up,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Wh.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:lp,shimGetUserMedia:tp,shimOnTrack:np,shimPeerConnection:rp,shimRTCDataChannel:sp,shimReceiverGetStats:op,shimRemoveStream:ap,shimSenderGetStats:ip});function pp(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n;this._localStreams||(this._localStreams=[]),kr(n=this._localStreams).call(n,e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{var t;this._localStreams?kr(t=this._localStreams).call(t,e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{kr(n).call(n,e.track)&&this.removeTrack(e)}))})}}function fp(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{var t;if(this._remoteStreams||(this._remoteStreams=[]),kr(t=this._remoteStreams).call(t,e))return;this._remoteStreams.push(e);const n=new Event("addstream");n.stream=e,this.dispatchEvent(n)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function mp(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Wh.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Wh.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Wh.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Wh.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Wh.resolve()):r},t.addIceCandidate=s}function gp(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(vp(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function vp(e){return e&&void 0!==e.video?Object.assign({},e,{video:ai(e.video)}):e}function yp(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(ii("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function bp(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ep(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function _p(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var wp=Object.freeze({__proto__:null,shimAudioContext:_p,shimCallbacksAPI:mp,shimConstraints:vp,shimCreateOfferLegacy:Ep,shimGetUserMedia:gp,shimLocalStreamsAPI:pp,shimRTCIceServerUrls:yp,shimRemoteStreamsAPI:fp,shimTrackEventTransceiver:bp}),Sp="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Tp=X,Cp=vr,xp=Sp,Rp=u("".replace),Ap=RegExp("^["+xp+"]+"),Op=RegExp("(^|[^"+xp+"])["+xp+"]+$"),Ip=function(e){return function(t){var n=Cp(Tp(t));return 1&e&&(n=Rp(n,Ap,"")),2&e&&(n=Rp(n,Op,"$1")),n}},Np={start:Ip(1),end:Ip(2),trim:Ip(3)},kp=ds.PROPER,Pp=i,Dp=Sp,Lp=Np.trim;In({target:"String",proto:!0,forced:function(e){return Pp((function(){return!!Dp[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||kp&&Dp[e].name!==e}))}("trim")},{trim:function(){return Lp(this)}});var Mp=Jn("String").trim,jp=d,Up=Mp,Fp=String.prototype,Bp=function(e){var t=e.trim;return"string"==typeof e||e===Fp||jp(Fp,e)&&t===Fp.trim?Up:t},Vp=r(Bp),Wp={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let o=3;o<r.length;o++){const i=r[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){const r=t.parseRtpMap(a),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(r.parameters=o.length?t.parseFmtp(o[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=u}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;return i=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t}(Wp);var Hp=Wp.exports,Gp=r(Hp),zp=e({__proto__:null,default:Gp},[Hp]);function Kp(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=Gp.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ei(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Yp(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ei(e,"icecandidate",(e=>{if(e.candidate){const t=Gp.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function qp(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=Gp.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Gp.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=Gp.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=i(e),n=o(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function $p(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},ei(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function Xp(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function Qp(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==Vp(e).call(e))).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function Jp(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Wh.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Wh.resolve())})}function Zp(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}var ef=Object.freeze({__proto__:null,removeExtmapAllowMixed:Qp,shimAddIceCandidateNullOrEmpty:Jp,shimConnectionState:Xp,shimMaxMessageSize:qp,shimParameterlessSetLocalDescription:Zp,shimRTCIceCandidate:Kp,shimRTCIceCandidateRelayProtocol:Yp,shimSendThrowTypeError:$p});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=ri,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Zr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Zr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Zr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:r,commonShim:ef,extractVersion:Zr,disableLog:ti,disableWarnings:ni,sdp:zp};switch(r.browser){case"chrome":if(!ep||!Jh||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=ep,Jp(e,r),Zp(e),Gh(e,r),zh(e),Jh(e,r),Kh(e),Qh(e,r),Yh(e),qh(e),$h(e),Zh(e,r),Kp(e),Yp(e),Xp(e),qp(e,r),$p(e),Qp(e,r);break;case"firefox":if(!hp||!rp||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=hp,Jp(e,r),Zp(e),tp(e,r),rp(e,r),np(e),ap(e),ip(e),op(e),sp(e),cp(e),lp(e),up(e),dp(e),Kp(e),Xp(e),qp(e,r),$p(e);break;case"safari":if(!wp||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=wp,Jp(e,r),Zp(e),yp(e),Ep(e),mp(e),pp(e),fp(e),bp(e),gp(e),_p(e),Kp(e),Yp(e),qp(e,r),$p(e),Qp(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var tf=Jn("Array").keys,nf=fr,rf=Ze,of=d,af=tf,sf=Array.prototype,cf={DOMTokenList:!0,NodeList:!0},lf=function(e){var t=e.keys;return e===sf||of(sf,e)&&t===sf.keys||rf(cf,nf(e))?af:t},uf=r(lf),df=Ae,hf=TypeError,pf=St,ff=Jt,mf=V,gf=function(e,t,n){var r=pf(t);r in e?ff.f(e,r,mf(0,n)):e[r]=n},vf=Fn,yf=Gn,bf=gf,Ef=Array,_f=Math.max,wf=function(e,t,n){for(var r=yf(e),i=vf(t,r),o=vf(void 0===n?r:n,r),a=Ef(_f(o-i,0)),s=0;i<o;i++,s++)bf(a,s,e[i]);return a.length=s,a},Sf=wf,Tf=Math.floor,Cf=function(e,t){var n=e.length,r=Tf(n/2);return n<8?xf(e,t):Rf(e,Cf(Sf(e,0,r),t),Cf(Sf(e,r),t),t)},xf=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},Rf=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},Af=Cf,Of=le.match(/firefox\/(\d+)/i),If=!!Of&&+Of[1],Nf=/MSIE|Trident/.test(le),kf=le.match(/AppleWebKit\/(\d+)\./),Pf=!!kf&&+kf[1],Df=In,Lf=u,Mf=ke,jf=Xe,Uf=Gn,Ff=function(e,t){if(!delete e[t])throw hf("Cannot delete property "+df(t)+" of "+df(e))},Bf=vr,Vf=i,Wf=Af,Hf=Vr,Gf=If,zf=Nf,Kf=ge,Yf=Pf,qf=[],$f=Lf(qf.sort),Xf=Lf(qf.push),Qf=Vf((function(){qf.sort(void 0)})),Jf=Vf((function(){qf.sort(null)})),Zf=Hf("sort"),em=!Vf((function(){if(Kf)return Kf<70;if(!(Gf&&Gf>3)){if(zf)return!0;if(Yf)return Yf<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)qf.push({k:t+r,v:n})}for(qf.sort((function(e,t){return t.v-e.v})),r=0;r<qf.length;r++)t=qf[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));Df({target:"Array",proto:!0,forced:Qf||!Jf||!Zf||!em},{sort:function(e){void 0!==e&&Mf(e);var t=jf(this);if(em)return void 0===e?$f(t):$f(t,e);var n,r,i=[],o=Uf(t);for(r=0;r<o;r++)r in t&&Xf(i,t[r]);for(Wf(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:Bf(t)>Bf(n)?1:-1}}(e)),n=Uf(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)Ff(t,r++);return t}});var tm=Jn("Array").sort,nm=d,rm=tm,im=Array.prototype,om=function(e){var t=e.sort;return e===im||nm(im,e)&&t===im.sort?rm:t},am=r(om),sm={exports:{}};!function(e,n){!function(t,r){var i="function",o="undefined",a="object",s="string",c="major",l="model",u="name",d="type",h="vendor",p="version",f="architecture",m="console",g="mobile",v="tablet",y="smarttv",b="wearable",E="embedded",_="Amazon",w="Apple",S="ASUS",T="BlackBerry",C="Browser",x="Chrome",R="Firefox",A="Google",O="Huawei",I="LG",N="Microsoft",k="Motorola",P="Opera",D="Samsung",L="Sharp",M="Sony",j="Xiaomi",U="Zebra",F="Facebook",B="Chromium OS",V="Mac OS",W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===s&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,350)},K=function(e,t){for(var n,o,s,c,l,u,d=0;d<t.length&&!l;){var h=t[d],p=t[d+1];for(n=o=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(s=0;s<p.length;s++)u=l[++o],typeof(c=p[s])===a&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):r:this[c[0]]=u?c[1].call(this,u,c[2]):r:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):r):this[c]=u||r;d+=2}},Y=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(H(t[n][i],e))return"?"===n?r:n}else if(H(t[n],e))return"?"===n?r:n;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,P+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[u,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[p,[u,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+C],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,F],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,x+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,G]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,D],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,D],[d,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,w],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,w],[d,v]],[/(macintosh);/i],[l,[h,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,L],[d,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,O],[d,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,O],[d,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,j],[d,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,j],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,k],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,k],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,I],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,I],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,g]],[/(pixel c)\b/i],[l,[h,A],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,A],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,_],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,_],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,T],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,S],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,S],[d,g]],[/(nexus 9)/i],[l,[h,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,v]],[/(surface duo)/i],[l,[h,N],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,g]],[/(u304aa)/i],[l,[h,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,v]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,v]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[h,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,N],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,U],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,U],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,y]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,D],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,I],[d,y]],[/(apple) ?tv/i],[h,[l,w+" TV"],[d,y]],[/crkey/i],[[l,x+"cast"],[h,A],[d,y]],[/droid.+aft(\w)( bui|\))/i],[l,[h,_],[d,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,L],[d,y]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[d,y]],[/(mitv-\w{5}) bui/i],[l,[h,j],[d,y]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,z],[l,z],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[l,[h,M],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,N],[d,m]],[/((pebble))app/i],[h,l,[d,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,w],[d,b]],[/droid.+; (glass) \d/i],[l,[h,A],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,U],[d,b]],[/(quest( 2| pro)?)/i],[l,[h,F],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[p,Y,q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[p,Y,q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,V],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[u,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,p]]},X=function(e,n){if(typeof e===a&&(n=e,e=r),!(this instanceof X))return new X(e,n).getResult();var m=typeof t!==o&&t.navigator?t.navigator:r,y=e||(m&&m.userAgent?m.userAgent:""),b=m&&m.userAgentData?m.userAgentData:r,E=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}($,n):$;return this.getBrowser=function(){var e={};return e[u]=r,e[p]=r,K.call(e,y,E.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e[p]),m&&m.brave&&typeof m.brave.isBrave==i&&(e[u]="Brave"),e},this.getCPU=function(){var e={};return e[f]=r,K.call(e,y,E.cpu),e},this.getDevice=function(){var e={};return e[h]=r,e[l]=r,e[d]=r,K.call(e,y,E.device),!e[d]&&b&&b.mobile&&(e[d]=g),"Macintosh"==e[l]&&m&&typeof m.standalone!==o&&m.maxTouchPoints&&m.maxTouchPoints>2&&(e[l]="iPad",e[d]=v),e},this.getEngine=function(){var e={};return e[u]=r,e[p]=r,K.call(e,y,E.engine),e},this.getOS=function(){var e={};return e[u]=r,e[p]=r,K.call(e,y,E.os),!e[u]&&b&&"Unknown"!=b.platform&&(e[u]=b.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(e){return y=typeof e===s&&e.length>350?z(e,350):e,this},this.setUA(y),this};X.VERSION="0.7.34",X.BROWSER=W([u,p,c]),X.CPU=W([f]),X.DEVICE=W([l,h,d,m,g,y,v,b,E]),X.ENGINE=X.OS=W([u,p]),e.exports&&(n=e.exports=X),n.UAParser=X;var Q=typeof t!==o&&(t.jQuery||t.Zepto);if(Q&&!Q.ua){var J=new X;Q.ua=J.getResult(),Q.ua.get=function(){return J.getUA()},Q.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:t)}(sm,sm.exports);var cm=r(sm.exports),lm=fr,um=Ze,dm=Y,hm=Uo,pm=pt("iterator"),fm=Object,mm=function(e){if(dm(e))return!1;var t=fm(e);return void 0!==t[pm]||"@@iterator"in t||um(hm,lm(t))},gm=r(mm),vm=p;In({global:!0,forced:vm.globalThis!==vm},{globalThis:vm});var ym=r(p),bm=xl.clear;In({global:!0,bind:!0,enumerable:!0,forced:p.clearImmediate!==bm},{clearImmediate:bm});var Em="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,_m=p,wm=y,Sm=O,Tm=Em,Cm=le,xm=Xc,Rm=Jc,Am=_m.Function,Om=/MSIE .\./.test(Cm)||Tm&&function(){var e=_m.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}(),Im=In,Nm=p,km=xl.set,Pm=function(e,t){var n=t?2:1;return Om?function(r,i){var o=Rm(arguments.length,1)>n,a=Sm(r)?r:Am(r),s=o?xm(arguments,n):[],c=o?function(){wm(a,this,s)}:a;return t?e(c,i):e(c)}:e},Dm=Nm.setImmediate?Pm(km,!1):km;Im({global:!0,bind:!0,enumerable:!0,forced:Nm.setImmediate!==Dm},{setImmediate:Dm});var Lm=r(re.setImmediate),Mm=In,jm=Zl,Um=ke,Fm=Jc,Bm=Wr,Vm=p.process;Mm({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){Fm(arguments.length,1),Um(e);var t=Bm&&Vm.domain;jm(t?t.bind(e):e)}});var Wm=r(re.queueMicrotask);function Hm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gm}=Object.prototype,{getPrototypeOf:zm}=Object,Km=(Ym=Object.create(null),e=>{const t=Gm.call(e);return Ym[t]||(Ym[t]=t.slice(8,-1).toLowerCase())});var Ym;const qm=e=>(e=e.toLowerCase(),t=>Km(t)===e),$m=e=>t=>typeof t===e,{isArray:Xm}=Array,Qm=$m("undefined"),Jm=qm("ArrayBuffer"),Zm=$m("string"),eg=$m("function"),tg=$m("number"),ng=e=>null!==e&&"object"==typeof e,rg=e=>{if("object"!==Km(e))return!1;const t=zm(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||gm(e))},ig=qm("Date"),og=qm("File"),ag=qm("Blob"),sg=qm("FileList"),cg=qm("URLSearchParams"),[lg,ug,dg,hg]=["ReadableStream","Request","Response","Headers"].map(qm);function pg(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),Xm(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function fg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const mg=void 0!==ym?ym:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,gg=e=>!Qm(e)&&e!==mg,vg=(yg="undefined"!=typeof Uint8Array&&zm(Uint8Array),e=>yg&&e instanceof yg);var yg;const bg=qm("HTMLFormElement"),Eg=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_g=qm("RegExp"),wg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pg(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Sg="abcdefghijklmnopqrstuvwxyz",Tg="0123456789",Cg={DIGIT:Tg,ALPHA:Sg,ALPHA_DIGIT:Sg+Sg.toUpperCase()+Tg},xg=qm("AsyncFunction"),Rg=(Ag="function"==typeof Lm,Og=eg(mg.postMessage),Ag?Lm:Og?(Ig="axios@".concat(Math.random()),Ng=[],mg.addEventListener("message",(e=>{let{source:t,data:n}=e;t===mg&&n===Ig&&Ng.length&&Ng.shift()()}),!1),e=>{Ng.push(e),mg.postMessage(Ig,"*")}):e=>setTimeout(e));var Ag,Og,Ig,Ng;const kg=void 0!==Wm?Wm.bind(mg):"undefined"!=typeof process&&process.nextTick||Rg;var Pg={isArray:Xm,isArrayBuffer:Jm,isBuffer:function(e){return null!==e&&!Qm(e)&&null!==e.constructor&&!Qm(e.constructor)&&eg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||eg(e.append)&&("formdata"===(t=Km(e))||"object"===t&&eg(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Jm(e.buffer),t},isString:Zm,isNumber:tg,isBoolean:e=>!0===e||!1===e,isObject:ng,isPlainObject:rg,isReadableStream:lg,isRequest:ug,isResponse:dg,isHeaders:hg,isUndefined:Qm,isDate:ig,isFile:og,isBlob:ag,isRegExp:_g,isFunction:eg,isStream:e=>ng(e)&&eg(e.pipe),isURLSearchParams:cg,isTypedArray:vg,isFileList:sg,forEach:pg,merge:function e(){const{caseless:t}=gg(this)&&this||{},n={},r=(r,i)=>{const o=t&&fg(n,i)||i;rg(n[o])&&rg(r)?n[o]=e(n[o],r):rg(r)?n[o]=e({},r):Xm(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&pg(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pg(t,((t,r)=>{n&&eg(t)?e[r]=Hm(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>Vp(e)?Vp(e).call(e):e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&zm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Km,kindOfTest:qm,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Xm(e))return e;let t=e.length;if(!tg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:bg,hasOwnProperty:Eg,hasOwnProp:Eg,reduceDescriptors:wg,freezeMethods:e=>{wg(e,((t,n)=>{if(eg(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];eg(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Xm(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:fg,global:mg,isContextDefined:gg,ALPHABET:Cg,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cg.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&eg(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ng(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Xm(e)?[]:{};return pg(e,((e,t)=>{const o=n(e,r+1);!Qm(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:xg,isThenable:e=>e&&(ng(e)||eg(e))&&eg(e.then)&&eg(e.catch),setImmediate:Rg,asap:kg};function Dg(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Pg.inherits(Dg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pg.toJSONObject(this.config),code:this.code,status:this.status}}});const Lg=Dg.prototype,Mg={};function jg(e){return Pg.isPlainObject(e)||Pg.isArray(e)}function Ug(e){return Pg.endsWith(e,"[]")?e.slice(0,-2):e}function Fg(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ug(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Mg[e]={value:e}})),Object.defineProperties(Dg,Mg),Object.defineProperty(Lg,"isAxiosError",{value:!0}),Dg.from=(e,t,n,r,i,o)=>{const a=Object.create(Lg);return Pg.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Dg.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Bg=Pg.toFlatObject(Pg,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Vg(e,t,n){if(!Pg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Pg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Pg.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Pg.isSpecCompliantForm(t);if(!Pg.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Pg.isDate(e))return e.toISOString();if(!s&&Pg.isBlob(e))throw new Dg("Blob is not supported. Use a Buffer instead.");return Pg.isArrayBuffer(e)||Pg.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(Pg.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Pg.isArray(e)&&function(e){return Pg.isArray(e)&&!e.some(jg)}(e)||(Pg.isFileList(e)||Pg.endsWith(n,"[]"))&&(s=Pg.toArray(e)))return n=Ug(n),s.forEach((function(e,r){!Pg.isUndefined(e)&&null!==e&&t.append(!0===a?Fg([n],r,o):null===a?n:n+"[]",c(e))})),!1;return!!jg(e)||(t.append(Fg(i,n,o),c(e)),!1)}const u=[],d=Object.assign(Bg,{defaultVisitor:l,convertValue:c,isVisitable:jg});if(!Pg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Pg.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Pg.forEach(n,(function(n,o){!0===(!(Pg.isUndefined(n)||null===n)&&i.call(t,n,Pg.isString(o)?Vp(o).call(o):o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t}function Wg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Hg(e,t){this._pairs=[],e&&Vg(e,this,t)}const Gg=Hg.prototype;function zg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kg(e,t,n){if(!t)return e;const r=n&&n.encode||zg,i=n&&n.serialize;let o;if(o=i?i(t,n):Pg.isURLSearchParams(t)?t.toString():new Hg(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}Gg.append=function(e,t){this._pairs.push([e,t])},Gg.toString=function(e){const t=e?function(t){return e.call(this,t,Wg)}:Wg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Yg=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},qg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$g={exports:{}},Xg=In,Qg=N,Jg=Jt.f;Xg({target:"Object",stat:!0,forced:Object.defineProperty!==Jg,sham:!Qg},{defineProperty:Jg});var Zg=re.Object,ev=$g.exports=function(e,t,n){return Zg.defineProperty(e,t,n)};Zg.defineProperty.sham&&(ev.sham=!0);var tv=r($g.exports),nv=w,rv=Array.isArray||function(e){return"Array"==nv(e)},iv=TypeError,ov=rv,av=Vc,sv=ne,cv=pt("species"),lv=Array,uv=function(e){var t;return ov(e)&&(t=e.constructor,(av(t)&&(t===lv||ov(t.prototype))||sv(t)&&null===(t=t[cv]))&&(t=void 0)),void 0===t?lv:t},dv=function(e,t){return new(uv(e))(0===t?0:t)},hv=i,pv=ge,fv=pt("species"),mv=function(e){return pv>=51||!hv((function(){var t=[];return(t.constructor={})[fv]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},gv=In,vv=i,yv=rv,bv=ne,Ev=Xe,_v=Gn,wv=function(e){if(e>9007199254740991)throw iv("Maximum allowed index exceeded");return e},Sv=gf,Tv=dv,Cv=mv,xv=ge,Rv=pt("isConcatSpreadable"),Av=xv>=51||!vv((function(){var e=[];return e[Rv]=!1,e.concat()[0]!==e})),Ov=function(e){if(!bv(e))return!1;var t=e[Rv];return void 0!==t?!!t:yv(e)};gv({target:"Array",proto:!0,arity:1,forced:!Av||!Cv("concat")},{concat:function(e){var t,n,r,i,o,a=Ev(this),s=Tv(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Ov(o=-1===t?a:arguments[t]))for(i=_v(o),wv(c+i),n=0;n<i;n++,c++)n in o&&Sv(s,c,o[n]);else wv(c+1),Sv(s,c++,o);return s.length=c,s}});var Iv={},Nv=w,kv=Z,Pv=Ii.f,Dv=wf,Lv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Iv.f=function(e){return Lv&&"Window"==Nv(e)?function(e){try{return Pv(e)}catch(e){return Dv(Lv)}}(e):Pv(kv(e))};var Mv={},jv=pt;Mv.f=jv;var Uv=re,Fv=Ze,Bv=Mv,Vv=Jt.f,Wv=function(e){var t=Uv.Symbol||(Uv.Symbol={});Fv(t,e)||Vv(t,e,{value:Bv.f(e)})},Hv=D,Gv=ce,zv=pt,Kv=ps,Yv=function(){var e=Gv("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=zv("toPrimitive");t&&!t[r]&&Kv(t,r,(function(e){return Hv(n,this)}),{arity:1})},qv=Qt,$v=K,Xv=Xe,Qv=Gn,Jv=dv,Zv=u([].push),ey=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,u,d){for(var h,p,f=Xv(c),m=$v(f),g=qv(l,u),v=Qv(m),y=0,b=d||Jv,E=t?b(c,v):n||a?b(c,0):void 0;v>y;y++)if((s||y in m)&&(p=g(h=m[y],y,f),e))if(t)E[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Zv(E,h)}else switch(e){case 4:return!1;case 7:Zv(E,h)}return o?-1:r||i?i:E}},ty={forEach:ey(0),map:ey(1),filter:ey(2),some:ey(3),every:ey(4),find:ey(5),findIndex:ey(6),filterReject:ey(7)},ny=In,ry=p,iy=D,oy=u,ay=N,sy=Ee,cy=i,ly=Ze,uy=d,dy=rn,hy=Z,py=St,fy=vr,my=V,gy=To,vy=to,yy=Ii,by=Iv,Ey=Vi,_y=I,wy=Jt,Sy=Ji,Ty=L,Cy=ps,xy=hc,Ry=Ye,Ay=Ni,Oy=it,Iy=pt,Ny=Mv,ky=Wv,Py=Yv,Dy=ks,Ly=os,My=ty.forEach,jy=di("hidden"),Uy="Symbol",Fy="prototype",By=Ly.set,Vy=Ly.getterFor(Uy),Wy=Object[Fy],Hy=ry.Symbol,Gy=Hy&&Hy[Fy],zy=ry.TypeError,Ky=ry.QObject,Yy=_y.f,qy=wy.f,$y=by.f,Xy=Ty.f,Qy=oy([].push),Jy=Ry("symbols"),Zy=Ry("op-symbols"),eb=Ry("wks"),tb=!Ky||!Ky[Fy]||!Ky[Fy].findChild,nb=ay&&cy((function(){return 7!=gy(qy({},"a",{get:function(){return qy(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Yy(Wy,t);r&&delete Wy[t],qy(e,t,n),r&&e!==Wy&&qy(Wy,t,r)}:qy,rb=function(e,t){var n=Jy[e]=gy(Gy);return By(n,{type:Uy,tag:e,description:t}),ay||(n.description=t),n},ib=function(e,t,n){e===Wy&&ib(Zy,t,n),dy(e);var r=py(t);return dy(n),ly(Jy,r)?(n.enumerable?(ly(e,jy)&&e[jy][r]&&(e[jy][r]=!1),n=gy(n,{enumerable:my(0,!1)})):(ly(e,jy)||qy(e,jy,my(1,{})),e[jy][r]=!0),nb(e,r,n)):qy(e,r,n)},ob=function(e,t){dy(e);var n=hy(t),r=vy(n).concat(lb(n));return My(r,(function(t){ay&&!iy(ab,n,t)||ib(e,t,n[t])})),e},ab=function(e){var t=py(e),n=iy(Xy,this,t);return!(this===Wy&&ly(Jy,t)&&!ly(Zy,t))&&(!(n||!ly(this,t)||!ly(Jy,t)||ly(this,jy)&&this[jy][t])||n)},sb=function(e,t){var n=hy(e),r=py(t);if(n!==Wy||!ly(Jy,r)||ly(Zy,r)){var i=Yy(n,r);return!i||!ly(Jy,r)||ly(n,jy)&&n[jy][r]||(i.enumerable=!0),i}},cb=function(e){var t=$y(hy(e)),n=[];return My(t,(function(e){ly(Jy,e)||ly(Ay,e)||Qy(n,e)})),n},lb=function(e){var t=e===Wy,n=$y(t?Zy:hy(e)),r=[];return My(n,(function(e){!ly(Jy,e)||t&&!ly(Wy,e)||Qy(r,Jy[e])})),r};sy||(Hy=function(){if(uy(Gy,this))throw zy("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?fy(arguments[0]):void 0,t=Oy(e),n=function(e){this===Wy&&iy(n,Zy,e),ly(this,jy)&&ly(this[jy],t)&&(this[jy][t]=!1),nb(this,t,my(1,e))};return ay&&tb&&nb(Wy,t,{configurable:!0,set:n}),rb(t,e)},Cy(Gy=Hy[Fy],"toString",(function(){return Vy(this).tag})),Cy(Hy,"withoutSetter",(function(e){return rb(Oy(e),e)})),Ty.f=ab,wy.f=ib,Sy.f=ob,_y.f=sb,yy.f=by.f=cb,Ey.f=lb,Ny.f=function(e){return rb(Iy(e),e)},ay&&xy(Gy,"description",{configurable:!0,get:function(){return Vy(this).description}})),ny({global:!0,constructor:!0,wrap:!0,forced:!sy,sham:!sy},{Symbol:Hy}),My(vy(eb),(function(e){ky(e)})),ny({target:Uy,stat:!0,forced:!sy},{useSetter:function(){tb=!0},useSimple:function(){tb=!1}}),ny({target:"Object",stat:!0,forced:!sy,sham:!ay},{create:function(e,t){return void 0===t?gy(e):ob(gy(e),t)},defineProperty:ib,defineProperties:ob,getOwnPropertyDescriptor:sb}),ny({target:"Object",stat:!0,forced:!sy},{getOwnPropertyNames:cb}),Py(),Dy(Hy,Uy),Ay[jy]=!0;var ub=Ee&&!!Symbol.for&&!!Symbol.keyFor,db=In,hb=ce,pb=Ze,fb=vr,mb=Ye,gb=ub,vb=mb("string-to-symbol-registry"),yb=mb("symbol-to-string-registry");db({target:"Symbol",stat:!0,forced:!gb},{for:function(e){var t=fb(e);if(pb(vb,t))return vb[t];var n=hb("Symbol")(t);return vb[t]=n,yb[n]=t,n}});var bb=In,Eb=Ze,_b=xe,wb=Ae,Sb=ub,Tb=Ye("symbol-to-string-registry");bb({target:"Symbol",stat:!0,forced:!Sb},{keyFor:function(e){if(!_b(e))throw TypeError(wb(e)+" is not a symbol");if(Eb(Tb,e))return Tb[e]}});var Cb=rv,xb=O,Rb=w,Ab=vr,Ob=u([].push),Ib=In,Nb=ce,kb=y,Pb=D,Db=u,Lb=i,Mb=O,jb=xe,Ub=Xc,Fb=function(e){if(xb(e))return e;if(Cb(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?Ob(n,i):"number"!=typeof i&&"Number"!=Rb(i)&&"String"!=Rb(i)||Ob(n,Ab(i))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(Cb(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}},Bb=Ee,Vb=String,Wb=Nb("JSON","stringify"),Hb=Db(/./.exec),Gb=Db("".charAt),zb=Db("".charCodeAt),Kb=Db("".replace),Yb=Db(1..toString),qb=/[\uD800-\uDFFF]/g,$b=/^[\uD800-\uDBFF]$/,Xb=/^[\uDC00-\uDFFF]$/,Qb=!Bb||Lb((function(){var e=Nb("Symbol")();return"[null]"!=Wb([e])||"{}"!=Wb({a:e})||"{}"!=Wb(Object(e))})),Jb=Lb((function(){return'"\\udf06\\ud834"'!==Wb("\udf06\ud834")||'"\\udead"'!==Wb("\udead")})),Zb=function(e,t){var n=Ub(arguments),r=Fb(t);if(Mb(r)||void 0!==e&&!jb(e))return n[1]=function(e,t){if(Mb(r)&&(t=Pb(r,this,Vb(e),t)),!jb(t))return t},kb(Wb,null,n)},eE=function(e,t,n){var r=Gb(n,t-1),i=Gb(n,t+1);return Hb($b,e)&&!Hb(Xb,i)||Hb(Xb,e)&&!Hb($b,r)?"\\u"+Yb(zb(e,0),16):e};Wb&&Ib({target:"JSON",stat:!0,arity:3,forced:Qb||Jb},{stringify:function(e,t,n){var r=Ub(arguments),i=kb(Qb?Zb:Wb,null,r);return Jb&&"string"==typeof i?Kb(i,qb,eE):i}});var tE=Vi,nE=Xe;In({target:"Object",stat:!0,forced:!Ee||i((function(){tE.f(1)}))},{getOwnPropertySymbols:function(e){var t=tE.f;return t?t(nE(e)):[]}}),Wv("asyncIterator"),Wv("hasInstance"),Wv("isConcatSpreadable"),Wv("iterator"),Wv("match"),Wv("matchAll"),Wv("replace"),Wv("search"),Wv("species"),Wv("split");var rE=Yv;Wv("toPrimitive"),rE();var iE=ce,oE=ks;Wv("toStringTag"),oE(iE("Symbol"),"Symbol"),Wv("unscopables"),ks(p.JSON,"JSON",!0);var aE=re.Symbol,sE=pt,cE=Jt.f,lE=sE("metadata"),uE=Function.prototype;void 0===uE[lE]&&cE(uE,lE,{value:null}),Wv("dispose"),Wv("metadata");var dE=aE;Wv("asyncDispose");var hE=u,pE=ce("Symbol"),fE=pE.keyFor,mE=hE(pE.prototype.valueOf),gE=pE.isRegisteredSymbol||function(e){try{return void 0!==fE(mE(e))}catch(e){return!1}};In({target:"Symbol",stat:!0},{isRegisteredSymbol:gE});for(var vE=Ye,yE=ce,bE=u,EE=xe,_E=pt,wE=yE("Symbol"),SE=wE.isWellKnownSymbol,TE=yE("Object","getOwnPropertyNames"),CE=bE(wE.prototype.valueOf),xE=vE("wks"),RE=0,AE=TE(wE),OE=AE.length;RE<OE;RE++)try{var IE=AE[RE];EE(wE[IE])&&_E(IE)}catch(e){}var NE=function(e){if(SE&&SE(e))return!0;try{for(var t=CE(e),n=0,r=TE(xE),i=r.length;n<i;n++)if(xE[r[n]]==t)return!0}catch(e){}return!1};In({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:NE}),Wv("matcher"),Wv("observable"),In({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:gE}),In({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:NE}),Wv("metadataKey"),Wv("patternMatch"),Wv("replaceAll");var kE=r(dE),PE=r(Mv.f("iterator"));function DE(e){return DE="function"==typeof kE&&"symbol"==typeof PE?function(e){return typeof e}:function(e){return e&&"function"==typeof kE&&e.constructor===kE&&e!==kE.prototype?"symbol":typeof e},DE(e)}var LE=r(Mv.f("toPrimitive"));function ME(e){var t=function(e,t){if("object"!==DE(e)||null===e)return e;var n=e[LE];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===DE(t)?t:String(t)}function jE(e,t,n){return(t=ME(t))in e?tv(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UE=i,FE=pt("iterator"),BE=!UE((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),!e.toJSON||!n.has("a",1)||n.has("a",2)||!t.size&&!0||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[FE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),VE=ps,WE=In,HE=p,GE=D,zE=u,KE=N,YE=BE,qE=ps,$E=hc,XE=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:VE(e,r,t[r],n);return e},QE=ks,JE=Fs,ZE=os,e_=bc,t_=O,n_=Ze,r_=Qt,i_=fr,o_=rn,a_=ne,s_=vr,c_=To,l_=V,u_=ta,d_=qo,h_=Jc,p_=Af,f_=pt("iterator"),m_="URLSearchParams",g_=m_+"Iterator",v_=ZE.set,y_=ZE.getterFor(m_),b_=ZE.getterFor(g_),E_=Object.getOwnPropertyDescriptor,__=function(e){if(!KE)return HE[e];var t=E_(HE,e);return t&&t.value},w_=__("fetch"),S_=__("Request"),T_=__("Headers"),C_=S_&&S_.prototype,x_=T_&&T_.prototype,R_=HE.RegExp,A_=HE.TypeError,O_=HE.decodeURIComponent,I_=HE.encodeURIComponent,N_=zE("".charAt),k_=zE([].join),P_=zE([].push),D_=zE("".replace),L_=zE([].shift),M_=zE([].splice),j_=zE("".split),U_=zE("".slice),F_=/\+/g,B_=Array(4),V_=function(e){return B_[e-1]||(B_[e-1]=R_("((?:%[\\da-f]{2}){"+e+"})","gi"))},W_=function(e){try{return O_(e)}catch(t){return e}},H_=function(e){var t=D_(e,F_," "),n=4;try{return O_(t)}catch(e){for(;n;)t=D_(t,V_(n--),W_);return t}},G_=/[!'()~]|%20/g,z_={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},K_=function(e){return z_[e]},Y_=function(e){return D_(I_(e),G_,K_)},q_=JE((function(e,t){v_(this,{type:g_,iterator:u_(y_(e).entries),kind:t})}),"Iterator",(function(){var e=b_(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),$_=function(e){this.entries=[],this.url=null,void 0!==e&&(a_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===N_(e,0)?U_(e,1):e:s_(e)))};$_.prototype={type:m_,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,s,c=d_(e);if(c)for(n=(t=u_(e,c)).next;!(r=GE(n,t)).done;){if(o=(i=u_(o_(r.value))).next,(a=GE(o,i)).done||(s=GE(o,i)).done||!GE(o,i).done)throw A_("Expected sequence with length 2");P_(this.entries,{key:s_(a.value),value:s_(s.value)})}else for(var l in e)n_(e,l)&&P_(this.entries,{key:l,value:s_(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=j_(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=j_(t,"="),P_(this.entries,{key:H_(L_(n)),value:H_(k_(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],P_(n,Y_(e.key)+"="+Y_(e.value));return k_(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var X_=function(){e_(this,Q_);var e=v_(this,new $_(arguments.length>0?arguments[0]:void 0));KE||(this.size=e.entries.length)},Q_=X_.prototype;if(XE(Q_,{append:function(e,t){var n=y_(this);h_(arguments.length,2),P_(n.entries,{key:s_(e),value:s_(t)}),KE||this.length++,n.updateURL()},delete:function(e){for(var t=y_(this),n=h_(arguments.length,1),r=t.entries,i=s_(e),o=n<2?void 0:arguments[1],a=void 0===o?o:s_(o),s=0;s<r.length;){var c=r[s];if(c.key!==i||void 0!==a&&c.value!==a)s++;else if(M_(r,s,1),void 0!==a)break}KE||(this.size=r.length),t.updateURL()},get:function(e){var t=y_(this).entries;h_(arguments.length,1);for(var n=s_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=y_(this).entries;h_(arguments.length,1);for(var n=s_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&P_(r,t[i].value);return r},has:function(e){for(var t=y_(this).entries,n=h_(arguments.length,1),r=s_(e),i=n<2?void 0:arguments[1],o=void 0===i?i:s_(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=y_(this);h_(arguments.length,1);for(var r,i=n.entries,o=!1,a=s_(e),s=s_(t),c=0;c<i.length;c++)(r=i[c]).key===a&&(o?M_(i,c--,1):(o=!0,r.value=s));o||P_(i,{key:a,value:s}),KE||(this.size=i.length),n.updateURL()},sort:function(){var e=y_(this);p_(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=y_(this).entries,r=r_(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new q_(this,"keys")},values:function(){return new q_(this,"values")},entries:function(){return new q_(this,"entries")}},{enumerable:!0}),qE(Q_,f_,Q_.entries,{name:"entries"}),qE(Q_,"toString",(function(){return y_(this).serialize()}),{enumerable:!0}),KE&&$E(Q_,"size",{get:function(){return y_(this).entries.length},configurable:!0,enumerable:!0}),QE(X_,m_),WE({global:!0,constructor:!0,forced:!YE},{URLSearchParams:X_}),!YE&&t_(T_)){var J_=zE(x_.has),Z_=zE(x_.set),ew=function(e){if(a_(e)){var t,n=e.body;if(i_(n)===m_)return t=e.headers?new T_(e.headers):new T_,J_(t,"content-type")||Z_(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),c_(e,{body:l_(0,s_(n)),headers:l_(0,t)})}return e};if(t_(w_)&&WE({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return w_(e,arguments.length>1?ew(arguments[1]):{})}}),t_(S_)){var tw=function(e){return e_(this,C_),new S_(e,arguments.length>1?ew(arguments[1]):{})};C_.constructor=tw,tw.prototype=C_,WE({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:tw})}}var nw={URLSearchParams:X_,getState:y_},rw=r(re.URLSearchParams),iw={isBrowser:!0,classes:{URLSearchParams:void 0!==rw?rw:Hg,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ow="undefined"!=typeof window&&"undefined"!=typeof document,aw="object"==typeof navigator&&navigator||void 0,sw=ow&&(!aw||["ReactNative","NativeScript","NS"].indexOf(aw.product)<0),cw="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,lw=ow&&window.location.href||"http://localhost";function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hw=dw(dw({},Object.freeze({__proto__:null,hasBrowserEnv:ow,hasStandardBrowserEnv:sw,hasStandardBrowserWebWorkerEnv:cw,navigator:aw,origin:lw})),iw),pw=rn,fw=D,mw=Ze,gw=d,vw=function(){var e=pw(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},yw=RegExp.prototype,bw=function(e){var t=e.flags;return void 0!==t||"flags"in yw||mw(e,"flags")||!gw(yw,e)?t:fw(vw,e)},Ew=wh.charAt,_w=D,ww=rn,Sw=O,Tw=w,Cw=/./.exec,xw=TypeError,Rw=In,Aw=D,Ow=C,Iw=Fs,Nw=nc,kw=X,Pw=Wn,Dw=vr,Lw=rn,Mw=Y,jw=w,Uw=rr,Fw=bw,Bw=Le,Vw=i,Ww=$c,Hw=function(e,t,n){return t+(n?Ew(e,t).length:1)},Gw=function(e,t){var n=e.exec;if(Sw(n)){var r=_w(n,e,t);return null!==r&&ww(r),r}if("RegExp"===Tw(e))return _w(Cw,e,t);throw xw("RegExp#exec called on incompatible receiver")},zw=os,Kw=pt("matchAll"),Yw="RegExp String",qw=Yw+" Iterator",$w=zw.set,Xw=zw.getterFor(qw),Qw=TypeError,Jw=Ow("".indexOf),Zw=Ow("".matchAll),eS=!!Zw&&!Vw((function(){Zw("a",/./)})),tS=Iw((function(e,t,n,r){$w(this,{type:qw,regexp:e,string:t,global:n,unicode:r,done:!1})}),Yw,(function(){var e=Xw(this);if(e.done)return Nw(void 0,!0);var t=e.regexp,n=e.string,r=Gw(t,n);return null===r?(e.done=!0,Nw(void 0,!0)):e.global?(""===Dw(r[0])&&(t.lastIndex=Hw(n,Pw(t.lastIndex),e.unicode)),Nw(r,!1)):(e.done=!0,Nw(r,!1))})),nS=function(e){var t,n,r,i=Lw(this),o=Dw(e),a=Ww(i,RegExp),s=Dw(Fw(i));return t=new a(a===RegExp?i.source:i,s),n=!!~Jw(s,"g"),r=!!~Jw(s,"u"),t.lastIndex=Pw(i.lastIndex),new tS(t,o,n,r)};Rw({target:"String",proto:!0,forced:eS},{matchAll:function(e){var t,n,r,i,o=kw(this);if(Mw(e)){if(eS)return Zw(o,e)}else{if(Uw(e)&&(t=Dw(kw(Fw(e))),!~Jw(t,"g")))throw Qw("`.matchAll` does not allow non-global regexes");if(eS)return Zw(o,e);if(void 0===(r=Bw(e,Kw))&&"RegExp"==jw(e)&&(r=nS),r)return Aw(r,e,o)}return n=Dw(o),i=new RegExp(e,"g"),Aw(nS,i,n)}});var rS=Jn("String").matchAll,iS=d,oS=rS,aS=String.prototype,sS=function(e){var t=e.matchAll;return"string"==typeof e||e===aS||iS(aS,e)&&t===aS.matchAll?oS:t},cS=r(sS);function lS(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;return o=!o&&Pg.isArray(r)?r.length:o,s?(Pg.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&Pg.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&Pg.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a)}if(Pg.isFormData(e)&&Pg.isFunction(e.entries)){const n={};return Pg.forEachEntry(e,((e,r)=>{t(function(e){return cS(Pg).call(Pg,/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const uS={transitional:qg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Pg.isObject(e);if(i&&Pg.isHTMLForm(e)&&(e=new FormData(e)),Pg.isFormData(e))return r?JSON.stringify(lS(e)):e;if(Pg.isArrayBuffer(e)||Pg.isBuffer(e)||Pg.isStream(e)||Pg.isFile(e)||Pg.isBlob(e)||Pg.isReadableStream(e))return e;if(Pg.isArrayBufferView(e))return e.buffer;if(Pg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Vg(e,new hw.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return hw.isNode&&Pg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Pg.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Vg(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Pg.isString(e))try{return(t||JSON.parse)(e),Vp(Pg).call(Pg,e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||uS.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Pg.isResponse(e)||Pg.isReadableStream(e))return e;if(e&&Pg.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Dg.from(e,Dg.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hw.classes.FormData,Blob:hw.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pg.forEach(["delete","get","head","post","put","patch"],(e=>{uS.headers[e]={}}));var dS=uS;const hS=Pg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pS=Symbol("internals");function fS(e){var t;return e&&Vp(t=String(e)).call(t).toLowerCase()}function mS(e){return!1===e||null==e?e:Pg.isArray(e)?e.map(mS):String(e)}function gS(e,t,n,r,i){return Pg.isFunction(r)?r.call(this,t,n):(i&&(t=n),Pg.isString(t)?Pg.isString(r)?-1!==t.indexOf(r):Pg.isRegExp(r)?r.test(t):void 0:void 0)}class vS{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=fS(t);if(!i)throw new Error("header name must be a non-empty string");const o=Pg.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=mS(e))}const o=(e,t)=>Pg.forEach(e,((e,n)=>i(e,n,t)));if(Pg.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Pg.isString(e)&&(e=Vp(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Vp(a=e).call(a)))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){var o,a;i=e.indexOf(":"),n=Vp(o=e.substring(0,i)).call(o).toLowerCase(),r=Vp(a=e.substring(i+1)).call(a),!n||t[n]&&hS[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Pg.isHeaders(e))for(const[s,c]of e.entries())i(c,s,n);else null!=e&&i(t,e,n);var a;return this}get(e,t){if(e=fS(e)){const n=Pg.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Pg.isFunction(t))return t.call(this,e,n);if(Pg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=fS(e)){const n=Pg.findKey(this,e);return!(!n||void 0===this[n]||t&&!gS(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=fS(e)){const i=Pg.findKey(n,e);!i||t&&!gS(0,n[i],i,t)||(delete n[i],r=!0)}}return Pg.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!gS(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Pg.forEach(this,((r,i)=>{var o;const a=Pg.findKey(n,i);if(a)return t[a]=mS(r),void delete t[i];const s=e?function(e){return Vp(e).call(e).toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):Vp(o=String(i)).call(o);s!==i&&delete t[i],t[s]=mS(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Pg.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Pg.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[pS]=this[pS]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=fS(e);t[r]||(function(e,t){const n=Pg.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Pg.isArray(e)?e.forEach(r):r(e),this}}vS.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pg.reduceDescriptors(vS.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Pg.freezeMethods(vS);var yS=vS;function bS(e,t){const n=this||dS,r=t||n,i=yS.from(r.headers);let o=r.data;return Pg.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function ES(e){return!(!e||!e.__CANCEL__)}function _S(e,t,n){Dg.call(this,null==e?"canceled":e,Dg.ERR_CANCELED,t,n),this.name="CanceledError"}function wS(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Dg("Request failed with status code "+n.status,[Dg.ERR_BAD_REQUEST,Dg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Pg.inherits(_S,Dg,{__CANCEL__:!0});const SS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[a];i||(i=c),n[o]=s,r[o]=c;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];t>=o?a(c,e):(n=c,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]}((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,c=i(s);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},TS=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},CS=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pg.asap((()=>e(...n)))};var xS=hw.hasStandardBrowserEnv?function(){const e=hw.navigator&&/(msie|trident)/i.test(hw.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Pg.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},RS=hw.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];Pg.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Pg.isString(r)&&a.push("path="+r),Pg.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function AS(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const IS=e=>e instanceof yS?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):e;function NS(e,t){t=t||{};const n={};function r(e,t,n){return Pg.isPlainObject(e)&&Pg.isPlainObject(t)?Pg.merge.call({caseless:n},e,t):Pg.isPlainObject(t)?Pg.merge({},t):Pg.isArray(t)?t.slice():t}function i(e,t,n){return Pg.isUndefined(t)?Pg.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Pg.isUndefined(t))return r(void 0,t)}function a(e,t){return Pg.isUndefined(t)?Pg.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(IS(e),IS(t),!0)};return Pg.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=c[r]||i,a=o(e[r],t[r],r);Pg.isUndefined(a)&&o!==s||(n[r]=a)})),n}var kS=e=>{const t=NS({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=yS.from(s),t.url=Kg(AS(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Pg.isFormData(r))if(hw.hasStandardBrowserEnv||hw.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>Vp(e).call(e))).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(hw.hasStandardBrowserEnv&&(i&&Pg.isFunction(i)&&(i=i(t)),i||!1!==i&&xS(t.url))){const e=o&&a&&RS.read(a);e&&s.set(o,e)}return t},PS="undefined"!=typeof XMLHttpRequest&&function(e){return new Wh((function(t,n){const r=kS(e);let i=r.data;const o=yS.from(r.headers).normalize();let a,s,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=yS.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());wS((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Dg("Request aborted",Dg.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Dg("Network Error",Dg.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||qg;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Dg(t,i.clarifyTimeoutError?Dg.ETIMEDOUT:Dg.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&Pg.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Pg.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([c,u]=SS(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,l]=SS(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new _S(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===hw.protocols.indexOf(v)?n(new Dg("Unsupported protocol "+v+":",Dg.ERR_BAD_REQUEST,e)):m.send(i||null)}))},DS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Dg?t:new _S(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new Dg("timeout ".concat(t," of ms exceeded"),Dg.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>Pg.asap(a),s}},LS=Vh,MS=bu;In({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var e=MS.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var jS=bu,US=eu;In({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=jS.f(this),n=US(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var FS=r(LS),BS=Mv.f("asyncIterator"),VS=r(BS);function WS(e,t){this.v=e,this.k=t}function HS(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof WS;FS.resolve(s?a.v:a).then((function(n){if(s){var c="return"===t?"return":"next";if(!a.k||n.done)return r(c,n);n=e[c](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new FS((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function GS(e){return function(){return new HS(e.apply(this,arguments))}}function zS(e){return new WS(e,0)}function KS(e){var t={},n=!1;function r(t,r){return n=!0,{done:!1,value:new WS(r=new FS((function(n){n(e[t](r))})),1)}}return t[void 0!==kE&&PE||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}HS.prototype["function"==typeof kE&&VS||"@@asyncIterator"]=function(){return this},HS.prototype.next=function(e){return this._invoke("next",e)},HS.prototype.throw=function(e){return this._invoke("throw",e)},HS.prototype.return=function(e){return this._invoke("return",e)};var YS=r(BS);function qS(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=YS,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new $S(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function $S(e){function t(e){if(Object(e)!==e)return Wh.reject(new TypeError(e+" is not an object."));var t=e.done;return Wh.resolve(e.value).then((function(e){return{value:e,done:t}}))}return $S=function(e){this.s=e,this.n=e.next},$S.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Wh.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Wh.reject(e):t(n.apply(this.s,arguments))}},new $S(e)}const XS=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},QS=function(){var e=GS((function*(e,t){var n,r=!1,i=!1;try{for(var o,a=qS(JS(e));r=!(o=yield zS(a.next())).done;r=!1){const e=o.value;yield*KS(qS(XS(e,t)))}}catch(e){i=!0,n=e}finally{try{r&&null!=a.return&&(yield zS(a.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),JS=function(){var e=GS((function*(e){if(e[YS])return void(yield*KS(qS(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield zS(t.read());if(e)break;yield n}}finally{yield zS(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),ZS=(e,t,n,r)=>{const i=QS(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})};function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nT="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,rT=nT&&"function"==typeof ReadableStream,iT=nT&&("function"==typeof TextEncoder?(oT=new TextEncoder,e=>oT.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var oT;const aT=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(e){return!1}},sT=rT&&aT((()=>{let e=!1;const t=new Request(hw.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),cT=rT&&aT((()=>Pg.isReadableStream(new Response("").body))),lT={stream:cT&&(e=>e.body)};var uT;nT&&(uT=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!lT[e]&&(lT[e]=Pg.isFunction(uT[e])?t=>t[e]():(t,n)=>{throw new Dg("Response type '".concat(e,"' is not supported"),Dg.ERR_NOT_SUPPORT,n)})})));const dT=async(e,t)=>{const n=Pg.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Pg.isBlob(e))return e.size;if(Pg.isSpecCompliantForm(e)){const t=new Request(hw.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Pg.isArrayBufferView(e)||Pg.isArrayBuffer(e)?e.byteLength:(Pg.isURLSearchParams(e)&&(e+=""),Pg.isString(e)?(await iT(e)).byteLength:void 0)})(t):n};var hT=nT&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=kS(e);l=l?(l+"").toLowerCase():"text";let p,f=DS([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&sT&&"get"!==n&&"head"!==n&&0!==(g=await dT(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Pg.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=TS(g,SS(CS(c)));r=ZS(n.body,65536,e,t)}}Pg.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,tT(tT({},h),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0}));let o=await fetch(p);const a=cT&&("stream"===l||"response"===l);if(cT&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Pg.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&TS(t,SS(CS(s),!0))||[];o=new Response(ZS(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let v=await lT[Pg.findKey(lT,l)||"text"](o,e);return!a&&m&&m(),await new Wh(((t,n)=>{wS(t,n,{data:v,headers:yS.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new Dg("Network Error",Dg.ERR_NETWORK,e,p),{cause:t.cause||t});throw Dg.from(t,t&&t.code,e,p)}});const pT={http:null,xhr:PS,fetch:hT};Pg.forEach(pT,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const fT=e=>"- ".concat(e),mT=e=>Pg.isFunction(e)||null===e||!1===e;var gT={getAdapter:e=>{e=Pg.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!mT(n)&&(r=pT[(t=String(n)).toLowerCase()],void 0===r))throw new Dg("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));throw new Dg("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(fT).join("\n"):" "+fT(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:pT};function vT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _S(null,e)}function yT(e){return vT(e),e.headers=yS.from(e.headers),e.data=bS.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gT.getAdapter(e.adapter||dS.adapter)(e).then((function(t){return vT(e),t.data=bS.call(e,e.transformResponse,t),t.headers=yS.from(t.headers),t}),(function(t){return ES(t)||(vT(e),t&&t.response&&(t.response.data=bS.call(e,e.transformResponse,t.response),t.response.headers=yS.from(t.response.headers))),Wh.reject(t)}))}const bT="1.7.7",ET={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ET[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const _T={};ET.transitional=function(e,t,n){function r(e,t){return"[Axios v"+bT+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Dg(r(i," has been removed"+(t?" in "+t:"")),Dg.ERR_DEPRECATED);return t&&!_T[i]&&(_T[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var wT={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Dg("options must be an object",Dg.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new Dg("option "+o+" must be "+n,Dg.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Dg("Unknown option "+o,Dg.ERR_BAD_OPTION)}},validators:ET};const ST=wT.validators;let TT=class{constructor(e){this.defaults=e,this.interceptors={request:new Yg,response:new Yg}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=NS(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&wT.assertOptions(n,{silentJSONParsing:ST.transitional(ST.boolean),forcedJSONParsing:ST.transitional(ST.boolean),clarifyTimeoutError:ST.transitional(ST.boolean)},!1),null!=r&&(Pg.isFunction(r)?t.paramsSerializer={serialize:r}:wT.assertOptions(r,{encode:ST.function,serialize:ST.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Pg.merge(i.common,i[t.method]);i&&Pg.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=yS.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[yT.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Wh.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let h=t;for(d=0;d<u;){const t=a[d++],n=a[d++];try{h=t(h)}catch(e){n.call(this,e);break}}try{l=yT.call(this,h)}catch(e){return Wh.reject(e)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return Kg(AS((e=NS(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};Pg.forEach(["delete","get","head","options"],(function(e){TT.prototype[e]=function(t,n){return this.request(NS(n||{},{method:e,url:t,data:(n||{}).data}))}})),Pg.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(NS(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}TT.prototype[e]=t(),TT.prototype[e+"Form"]=t(!0)}));var CT=TT;class xT{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Wh((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Wh((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new _S(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xT((function(t){e=t})),cancel:e}}}var RT=xT;const AT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(AT).forEach((e=>{let[t,n]=e;AT[n]=t}));var OT=AT;const IT=function e(t){const n=new CT(t),r=Hm(CT.prototype.request,n);return Pg.extend(r,CT.prototype,n,{allOwnKeys:!0}),Pg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(NS(t,n))},r}(dS);IT.Axios=CT,IT.CanceledError=_S,IT.CancelToken=RT,IT.isCancel=ES,IT.VERSION=bT,IT.toFormData=Vg,IT.AxiosError=Dg,IT.Cancel=IT.CanceledError,IT.all=function(e){return Wh.all(e)},IT.spread=function(e){return function(t){return e.apply(null,t)}},IT.isAxiosError=function(e){return Pg.isObject(e)&&!0===e.isAxiosError},IT.mergeConfig=NS,IT.AxiosHeaders=yS,IT.formToJSON=e=>lS(Pg.isHTMLForm(e)?new FormData(e):e),IT.getAdapter=gT.getAdapter,IT.HttpStatusCode=OT,IT.default=IT;var NT=IT;const kT=()=>{};function PT(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:kT};return e.promise=new Wh(((t,n)=>{e.resolve=n=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(n),e.value=n)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(t))}})),e}const DT=new Map,LT=new Map,MT=new Map;let jT=function(e){return e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot",e}({}),UT=function(e){return e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger",e}({});const FT=new cm;let BT=FT.getResult(),VT=null;function WT(e){if(!VT){e&&FT.setUA(e),BT=FT.getResult();const t=function(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return UT.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return UT.CHROME;case"Safari":case"Mobile Safari":return UT.SAFARI;case"Edge":return UT.EDGE;case"Firefox":return UT.FIREFOX;case"QQ":case"QQBrowser":return UT.QQ;case"Opera":return UT.OPERA;case"WeChat":return UT.WECHAT;default:return e.browser.name||""}}(BT),n=HT(BT),r=function(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}(BT),i=BT.os.version,o=HT(BT,!1),a=BT.device.type;if(!(t&&n&&r&&i))return{name:t,version:n,os:r,osVersion:i,browserVersion:o,deviceType:a};VT={name:t,version:n,os:r,osVersion:i,browserVersion:o,deviceType:a}}return VT}function HT(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",n?t.split(".")[0]:t}function GT(){return WT().os}function zT(){const e=WT();return"".concat(e.os," ").concat(e.osVersion)}function KT(){const e=WT();return!!("WebKit"===BT.engine.name&&e.os===jT.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==UT.SAFARI||QT()&&e.name!==UT.SAFARI)}function YT(){return WT().name===UT.CHROME}function qT(){return WT().name===UT.SAFARI}function $T(){return WT().name===UT.EDGE}function XT(){return WT().name===UT.FIREFOX}function QT(){return WT().os===jT.IOS}function JT(e){const t=WT();return!(t.name!==UT.CHROME||!t.osVersion)&&Number(t.version)>=e}function ZT(e){const t=WT();return!(t.name!==UT.CHROME||!t.osVersion)&&Number(t.version)<e}function eC(e){const t=WT();return!(t.name!==UT.EDGE||!t.osVersion)&&Number(t.version)>=e}function tC(e){const t=WT();return!(t.name!==UT.SAFARI||!t.osVersion)&&Number(t.version)>=e}function nC(e,t,n){const r=WT();if(r.os!==jT.IOS||!r.osVersion)return!1;const i=r.osVersion.split(".");return n?t&&Number(i[0])===e&&Number(i[1])<t||Number(i[0])<e:t?Number(i[0])===e&&Number(i[1])<=t||Number(i[0])<e:Number(i[0])<=e}function rC(e,t,n){const r=WT();if(r.name!==UT.SAFARI||!r.osVersion||!r.browserVersion)return!1;const i=r.browserVersion.split(".");return n?t&&Number(i[0])===e&&Number(i[1])<t||Number(i[0])<e:t?Number(i[0])===e&&Number(i[1])<=t||Number(i[0])<e:Number(i[0])<=e}function iC(e){const t=WT();return!(t.name!==UT.OPERA||!t.osVersion)&&Number(t.version)>=e}function oC(){const e=WT();if(e.os!==jT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function aC(){const e=WT();if(e.os!==jT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function sC(){const e=WT();if(e.os!==jT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])}function cC(){const e=WT();if(e.os!==jT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function lC(){return qT()&&navigator.maxTouchPoints>0}function uC(){return WT().name===UT.WECHAT}function dC(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function hC(){const e=GT();return function(){const{deviceType:e}=WT();return"mobile"===e||"tablet"===e}()||e===jT.ANDROID||e===jT.IOS||e===jT.HARMONY_OS}function pC(){const e=WT();return e.name!==UT.EDGE&&e.name!==UT.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function fC(){return GT()===jT.ANDROID}function mC(){const e=WT();return fC()&&(e.name===UT.CHROME||e.name===UT.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function gC(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(n),!0).forEach((function(t){gC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let bC=function(e){return e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",e}({}),EC=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),gC(this,"code",void 0),gC(this,"message",void 0),gC(this,"data",void 0),gC(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}};function _C(e,t){if("boolean"!=typeof e)throw new EC(bC.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function wC(e,t,n){if(!kr(n).call(n,e))throw new EC(bC.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function SC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e))throw new EC(bC.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function TC(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new EC(bC.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&SC(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&SC(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&SC(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&SC(e.ideal,"".concat(t,".ideal"),1,1/0)}else SC(e,t,1,1/0)}function CC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new EC(bC.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!AC(e,n,r,i))throw new EC(bC.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))}function xC(e,t){if(!Array.isArray(e))throw new EC(bC.INVALID_PARAMS,"".concat(t," should be an array"))}function RC(e){return null==e}function AC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}var OC=function(e){return e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE",e}(OC||{}),IC=function(e){return e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",e}(IC||{});const NC=new class{constructor(){gC(this,"_clientSize",null),gC(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),gC(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),gC(this,"getStyle",(e=>window.getComputedStyle(e,null))),gC(this,"checkCssVisibleProperty",(e=>{var t;let n=!0;const r=this.getStyle(e),{display:i,visibility:o,opacity:a,filter:s}=r;return("none"===i||kr(t=["hidden","collapse"]).call(t,o)||Number(a)<.1)&&(n=!1),!!n&&(s&&s.split(" ").filter((e=>{var t;const n=e.split("(")[0];return kr(t=["brightness","blur","opacity"]).call(t,n)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[t,r]=e;switch(t){case"brightness":(r<.1||r>3)&&(n=!1);break;case"blur":r>3&&(n=!1);break;case"opacity":r<.1&&(n=!1)}})),n)})),gC(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,r=!0;const i=e=>t(e);let o=e;for(;o&&r;)i(o)||(n=!1,r=!1),o=o.parentElement,o||(r=!1);return n})),gC(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),gC(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:r,right:i,top:o,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:r,right:i,top:o,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),gC(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),gC(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),gC(this,"checkCoverForAPoint",((e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n})),gC(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,i=e/6,o=t/6,a=[],s=10**6;for(let c=0;c<5;c++)for(let e=0;e<5;e++){const t=(n*s+(0===c?.1:4===c?(i*c*s-1e5)/s:i*c)*s)/s,l=(r*s+(0===e?.1:4===e?(o*e*s-1e5)/s:o*e)*s)/s;a.push({x:t,y:l})}return[...a]})),gC(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),gC(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),gC(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:i,clientWidth:o,clientMin:a}=this._clientSize;let s,c,l,u;if(e<0)s=0;else{if(!(e<o))return!1;s=e}if(t<0)return!1;if(c=t<o?t:o,n<0)l=0;else{if(!(n<i))return!1;l=n}if(r<0)return!1;u=r<i?r:i;const d=c-s,h=u-l;return this.checkSizeIsVisible(d,h,a)})),gC(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),gC(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(OC.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(OC.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(OC.SIZE)}}return this.returnHiddenResult(OC.STYLE)}return this.returnHiddenResult(IC.UNMOUNTED)}return this.returnHiddenResult(IC.INVALID_HTML_ELEMENT)})),gC(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function kC(e){return(new TextEncoder).encode(e)}const PC=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},DC=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(t).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",kC(e)),16);class LC{constructor(){gC(this,"_events",{}),gC(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let o=0;o<t.length;o+=1){const n=t[o];n.once&&this.off(e,n.listener),n.listener.apply(this,r||[])}}safeEmit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,n)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}let MC=null;function jC(){if(MC)return MC;if(window.electron)return MC=window.electron;if(!window.require)return null;try{return MC=window.require("electron"),MC}catch(e){return null}}let UC=function(e){return e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.PRELOAD="PRELOAD",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload",e}({}),FC=function(e){return e.TRACER="tracer",e}({});function BC(e){return SC(e.timeout,"config.timeout",0,1e5),SC(e.timeoutFactor,"config.timeoutFactor",0,100,!1),SC(e.maxRetryCount,"config.maxRetryConfig",0,1/0),SC(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let VC=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",e}({}),WC=function(e){return e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.FALLBACK="FALLBACK",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e}({});function HC(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function GC(e){return CC(e.turnServerURL,"turnServerURL"),CC(e.username,"username"),CC(e.password,"password"),e.udpport&&SC(e.udpport,"udpport",1,99999,!0),e.forceturn&&_C(e.forceturn,"forceturn"),e.security&&_C(e.security,"security"),e.tcpport&&SC(e.tcpport,"tcpport",1,99999,!0),!0}function zC(e){return void 0!==e.level&&wC(e.level,"level",[1,2,3]),void 0!==e.delay&&SC(e.delay,"delay",0,3e3,!0),!0}let KC=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",e}({}),YC=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK",e}({}),qC=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({}),$C=function(e){return e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({});function XC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?Wh.reject(new EC(bC.UNEXPECTED_ERROR,"can not emit promise")):new Wh(((n,i)=>{e.emit(t,...r,n,i)}))}function QC(e,t){if(0===e.getListeners(t).length)return Wh.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return XC(e,t,...r)}function JC(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return ZC(e,t,...r)}function ZC(e,t){let n=null,r=null;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(e.emit(t,...o,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new EC(bC.UNEXPECTED_ERROR,"handler is not sync");return n}const ex=new class extends LC{set networkState(e){this.emit($C.NETWORK_STATE_CHANGE,e,this._networkState),e===qC.ONLINE?this.emit($C.ONLINE):e===qC.OFFLINE&&(this.onlineWaiter=new Wh((e=>{this.once($C.ONLINE,(()=>{this.onlineWaiter=void 0,e(qC.ONLINE)}))})),this.emit($C.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===qC.ONLINE}constructor(){super(),gC(this,"_moduleName","network-indicator"),gC(this,"_networkState",qC.ONLINE),gC(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=qC.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=qC.OFFLINE}))}};function tx(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function nx(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function rx(e){void 0!==Wh?Wh.resolve().then(e):setTimeout(e,0)}function ix(e){return JSON.parse(JSON.stringify(e))}function ox(e){try{return ix(e)}catch(t){return e}}const ax={};function sx(e,t){ax[t]||(ax[t]=!0,e())}function cx(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n}function lx(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function ux(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=(new TextEncoder).encode(e);if(n.length>t)n=n.slice(0,t);else if(n.length<t){const e=new Uint8Array(t);e.set(n),n=e}return n}function dx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Xr(t).call(t,((e,t)=>e+t.length),0),i=new Uint8Array(new ArrayBuffer(r));let o=0;return t.forEach((e=>{i.set(e,o),o+=e.length})),i}function hx(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function px(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?hx(e):e.size})),t+138}function fx(e){const t=new EC(bC.TIMEOUT,"timeout");return new Wh(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function mx(e){return new Wh((t=>{window.setTimeout(t,e)}))}function gx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+gx(e-n.length,"")}function vx(){return gx(32,"").toUpperCase()}const yx=()=>{},bx=new class{constructor(){gC(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];if(this.fnMap.has(t)){const i=this.fnMap.get(t);if(i.threshold!==n){i.fn(...i.args),clearTimeout(i.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:o,skipFn:r})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(t,yC(yC({},i),{},{fn:e,args:o,skipFn:r}))}else{const i=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:i,args:o,skipFn:r})}}},Ex=bx.throttleByKey.bind(bx);function _x(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function wx(e,t){if(!_x(e)||!_x(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let r=0;r<t.length;r++)n[r]=wx(e[r],t[r]);return n}{const n=yC({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?n[r]=wx(e[r],t[r]):n[r]=t[r]);return n}}function Sx(e,t){let n=[0];if(t&&(n=new Array(t).fill(0)),0===e)return n;let r=0;for(;e>0&&(n[r]=255&e,e>>=8,r++,!t||r!==t););return n}function Tx(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function Cx(e){const t="0123456789abcdef";function n(e){let n,r="";for(n=0;n<=3;n++)r+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return r}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(i,a)),o),n)}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}const l=function(e){let t;const n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*n-2]=8*e.length,r}(e);let u,d,h,p,f,m=1732584193,g=-271733879,v=-1732584194,y=271733878;for(u=0;u<l.length;u+=16)d=m,h=g,p=v,f=y,m=o(m,g,v,y,l[u+0],7,-680876936),y=o(y,m,g,v,l[u+1],12,-389564586),v=o(v,y,m,g,l[u+2],17,606105819),g=o(g,v,y,m,l[u+3],22,-1044525330),m=o(m,g,v,y,l[u+4],7,-176418897),y=o(y,m,g,v,l[u+5],12,1200080426),v=o(v,y,m,g,l[u+6],17,-1473231341),g=o(g,v,y,m,l[u+7],22,-45705983),m=o(m,g,v,y,l[u+8],7,1770035416),y=o(y,m,g,v,l[u+9],12,-1958414417),v=o(v,y,m,g,l[u+10],17,-42063),g=o(g,v,y,m,l[u+11],22,-1990404162),m=o(m,g,v,y,l[u+12],7,1804603682),y=o(y,m,g,v,l[u+13],12,-40341101),v=o(v,y,m,g,l[u+14],17,-1502002290),g=o(g,v,y,m,l[u+15],22,1236535329),m=a(m,g,v,y,l[u+1],5,-165796510),y=a(y,m,g,v,l[u+6],9,-1069501632),v=a(v,y,m,g,l[u+11],14,643717713),g=a(g,v,y,m,l[u+0],20,-373897302),m=a(m,g,v,y,l[u+5],5,-701558691),y=a(y,m,g,v,l[u+10],9,38016083),v=a(v,y,m,g,l[u+15],14,-660478335),g=a(g,v,y,m,l[u+4],20,-405537848),m=a(m,g,v,y,l[u+9],5,568446438),y=a(y,m,g,v,l[u+14],9,-1019803690),v=a(v,y,m,g,l[u+3],14,-187363961),g=a(g,v,y,m,l[u+8],20,1163531501),m=a(m,g,v,y,l[u+13],5,-1444681467),y=a(y,m,g,v,l[u+2],9,-51403784),v=a(v,y,m,g,l[u+7],14,1735328473),g=a(g,v,y,m,l[u+12],20,-1926607734),m=s(m,g,v,y,l[u+5],4,-378558),y=s(y,m,g,v,l[u+8],11,-2022574463),v=s(v,y,m,g,l[u+11],16,1839030562),g=s(g,v,y,m,l[u+14],23,-35309556),m=s(m,g,v,y,l[u+1],4,-1530992060),y=s(y,m,g,v,l[u+4],11,1272893353),v=s(v,y,m,g,l[u+7],16,-155497632),g=s(g,v,y,m,l[u+10],23,-1094730640),m=s(m,g,v,y,l[u+13],4,681279174),y=s(y,m,g,v,l[u+0],11,-358537222),v=s(v,y,m,g,l[u+3],16,-722521979),g=s(g,v,y,m,l[u+6],23,76029189),m=s(m,g,v,y,l[u+9],4,-640364487),y=s(y,m,g,v,l[u+12],11,-421815835),v=s(v,y,m,g,l[u+15],16,530742520),g=s(g,v,y,m,l[u+2],23,-995338651),m=c(m,g,v,y,l[u+0],6,-198630844),y=c(y,m,g,v,l[u+7],10,1126891415),v=c(v,y,m,g,l[u+14],15,-1416354905),g=c(g,v,y,m,l[u+5],21,-57434055),m=c(m,g,v,y,l[u+12],6,1700485571),y=c(y,m,g,v,l[u+3],10,-1894986606),v=c(v,y,m,g,l[u+10],15,-1051523),g=c(g,v,y,m,l[u+1],21,-2054922799),m=c(m,g,v,y,l[u+8],6,1873313359),y=c(y,m,g,v,l[u+15],10,-30611744),v=c(v,y,m,g,l[u+6],15,-1560198380),g=c(g,v,y,m,l[u+13],21,1309151649),m=c(m,g,v,y,l[u+4],6,-145523070),y=c(y,m,g,v,l[u+11],10,-1120210379),v=c(v,y,m,g,l[u+2],15,718787259),g=c(g,v,y,m,l[u+9],21,-343485551),m=r(m,d),g=r(g,h),v=r(v,p),y=r(y,f);return n(m)+n(g)+n(v)+n(y)}let xx=1,Rx=console,Ax=class{static setLogger(e){Rx=e}constructor(e,t){gC(this,"id",void 0),gC(this,"lockingPromise",Wh.resolve()),gC(this,"locks",0),gC(this,"name",""),gC(this,"lockId",void 0),this.lockId=xx++,e&&(this.name=e),t&&(this.id=t),this.logger("created")}logger(e,t){const n=(this.id?"[".concat(this.id,"]"):"")+"[lock-".concat(this.name,"-").concat(this.lockId,"]"),r="created"===e?"is ".concat(e,"."):"is ".concat(e,", current queue ").concat(this.locks,". ").concat(null!=t?t:"");Rx.debug("".concat(n," ").concat(r))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger("locked",e);const n=new Wh((n=>{t=()=>{this.locks-=1,this.logger("unlocked",e),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}};function Ox(e,t){return function(n,r,i){const o=i.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return i.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const i=await n.lock("From ".concat(e,".").concat(r));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await o.apply(this,s)}finally{i()}},i}}const Ix={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Nx(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function kx(e,t,n,r){const i=Object.assign({},Ix,r);let o=i.timeout;const a=async()=>{await function(e){return new Wh((t=>{window.setTimeout(t,e)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let s=!1;const c=new Wh((async(r,o)=>{t=t||(()=>!1),n=n||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(s)return o(new EC(bC.OPERATION_ABORTED));try{const n=await e();if(!t(n,c))return r(n);if(c+1===i.maxRetryCount)return r(n);await a()}catch(e){if(!n(e,c))return o(e);if(c+1===i.maxRetryCount)return o(e);await a()}}}));return c.cancel=()=>s=!0,c}class Px{constructor(e){gC(this,"input",[]),gC(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:Xr(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}let Dx,Lx=0,Mx=0;function jx(e,t,n,r){return new Wh(((i,o)=>{t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),Lx+=hx(t.data)):n&&(t.data.size?Lx+=t.data.size:t.data instanceof FormData?Lx+=px(t.data):Lx+=hx(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,NT.request(t).then((e=>{"string"==typeof e.data?Mx+=hx(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?Mx+=e.data.byteLength:Mx+=hx(JSON.stringify(e.data)),r&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{NT.isCancel(e)?o(new EC(bC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new EC(bC.NETWORK_TIMEOUT,e.message)):e.response?o(new EC(bC.NETWORK_RESPONSE_ERROR,e.response.status)):o(new EC(bC.NETWORK_ERROR,e.message))}))}))}async function Ux(e,t){const n=new Blob([t.data],{type:"buffer"});return await jx(e,yC(yC({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const Fx=()=>void 0!==window.isSecureContext,Bx=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}return"4.0.0.999"}("4.22.2"),Vx=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}();let Wx=function(e){return e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn",e}({});const Hx=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const r=n.join(""),i=[];for(let s=0;s<6;s++)i.push("1");const o=i.join(""),a={};return a[e]=r,a[t]=o,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=Hx;const Gx={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},zx="v4.22.2-0-g4caa29bb(10/28/2024, 2:37:34 PM)",Kx=yC(yC({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:Gx,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"]});function Yx(e,t,n){var r,i,o;kr(r=Object.keys(Kx)).call(r,e)&&(!n&&kr(i=Object.keys($x)).call(i,e)||(Kx[e]=t,"ENABLE_VIDEO_SEI"===e&&!0===t&&(Kx.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===e&&t&&(o=!!t,Kx.USE_NEW_NETWORK_CONFIG=o,o&&(Kx.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],Kx.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],Kx.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],Kx.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],Kx.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",Kx.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",Kx.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===e&&t&&(Kx.ENABLE_INSTANT_VIDEO=!0,Kx.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===e&&t&&(Kx.ENABLE_AUT_CC=!0)))}function qx(e){return Kx[e]}Vx||(Kx.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],Kx.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],Kx.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],Kx.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],Kx.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],Kx.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],Kx.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",Kx.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",Kx.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",Kx.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",Kx.AREAS=["NORTH_AMERICA","OVERSEA"]);const $x={};var Xx=function(e){return e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",e}(Xx||{});class Qx{constructor(e,t,n,r){gC(this,"state",void 0),this.state={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:Wx.Default}}dispatch(e){this.state=function(e,t){switch(t.type){case Xx.SET_SESSION_ID:return yC(yC({},e),{},{sessionId:t.sessionId});case Xx.SET_P2P_ID:return yC(yC({},e),{},{p2pId:t.p2pId});case Xx.SET_UID:return yC(yC({},e),{},{uid:t.uid});case Xx.SET_INT_UID:return yC(yC({},e),{},{intUid:t.intUid});case Xx.SET_PUB_ID:return yC(yC({},e),{},{pubId:t.pubId});case Xx.KEY_METRIC_CLIENT_CREATED:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{clientCreated:t.metric})});case Xx.KEY_METRIC_JOIN_START:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{joinStart:t.metric})});case Xx.AVOID_JOIN_START:return yC(yC({},e),{},{avoidJoinStart:t.avoidJoinStart});case Xx.KEY_METRIC_JOIN_END:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{joinEnd:t.metric})});case Xx.KEY_METRIC_REQUEST_AP_START:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{requestAPStart:t.metric})});case Xx.KEY_METRIC_REQUEST_AP_END:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{requestAPEnd:t.metric})});case Xx.KEY_METRIC_JOIN_GATEWAY_START:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case Xx.KEY_METRIC_JOIN_GATEWAY_END:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case Xx.KEY_METRIC_PEER_CONNECTION_START:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case Xx.KEY_METRIC_PEER_CONNECTION_END:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case Xx.KEY_METRIC_DESCRIPTION_START:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{descriptionStart:t.metric})});case Xx.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case Xx.KEY_METRIC_ICE_CONNECTION_END:return yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case Xx.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=yC(yC({},n[r]),t.metric),yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{publish:[...n]})})):yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case Xx.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=yC(yC({},n[r]),t.metric),yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{subscribe:[...n]})})):yC(yC({},e),{},{keyMetrics:yC(yC({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case Xx.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case Xx.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=yC(yC({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case Xx.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case Xx.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case Xx.SET_USE_P2P:return yC(yC({},e),{},{useP2P:t.val});case Xx.SET_TRANSPORT_TYPE:return yC(yC({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:Xx.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:Xx.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:Xx.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:Xx.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:Xx.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:Xx.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:Xx.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:Xx.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:Xx.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Xx.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Xx.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Xx.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Xx.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Xx.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Xx.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Xx.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Xx.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Xx.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Xx.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Xx.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Xx.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.dispatch({type:Xx.KEY_METRIC_PUBLISH,metric:yC(yC({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,i,o,a){this.dispatch({type:Xx.KEY_METRIC_SUBSCRIBE,metric:yC(yC(yC(yC(yC({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),i&&{firstFrame:i}),o&&{streamAdded:o}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.dispatch({type:Xx.KEY_METRIC_SUBSCRIBE,metric:yC(yC(yC({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.dispatch({type:Xx.RECORD_JOIN_CHANNEL_SERVICE,record:yC(yC({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Xx.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Xx.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Xx.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:Xx.AVOID_JOIN_START,avoidJoinStart:e})}}let Jx=function(e){return e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1",e}({});!function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}({});const Zx=128,eR=96,tR=1e3,nR=10;let rR=0;function iR(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oR(Object(n),!0).forEach((function(t){iR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const sR=new class extends LC{constructor(){super(...arguments),iR(this,"currentUploadLogID",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit("REPORT_LOG_UPLOAD",e))}};class cR{constructor(e){iR(this,"logger",void 0),iR(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function lR(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function uR(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const dR={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},hR=Date.now(),pR=e=>{for(const t in dR)if(Object.prototype.hasOwnProperty.call(dR,t)&&dR[t]===e)return t;return"DEFAULT"},fR=new class{constructor(){iR(this,"proxyServerURL",void 0),iR(this,"logLevel",dR.DEBUG),iR(this,"uploadState","collecting"),iR(this,"uploadLogWaitingList",[]),iR(this,"uploadLogUploadingList",[]),iR(this,"uploadErrorCount",0),iR(this,"currentLogID",0),iR(this,"url",void 0),iR(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[dR.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[dR.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[dR.WARNING].concat(t);this.log.apply(this,r)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[dR.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[dR.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){Yx("UPLOAD_LOG",!0)}disableLogUpload(){Yx("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new cR(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-hR<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-hR);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=lR()+" Agora-SDK [".concat(pR(r),"]:"),this.appendLogToWaitingList(r,...t),r<this.logLevel)return;const i=lR()+" %cAgora-SDK [".concat(pR(r),"]:");let o=[];if(!qx("USE_NEW_LOG"))switch(r){case dR.DEBUG:o=[i,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,o);break;case dR.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,o);break;case dR.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,o);break;case dR.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-hR<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-hR);const r=Math.max(0,Math.min(4,t[0]));t[0]=lR()+" Agora-SDK [".concat(pR(r),"]:"),this.appendLogToWaitingList(r,...t)}appendLogToWaitingList(e){if(!qx("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Array.isArray(n[0])?n[0][0]=uR()+" Agora-SDK [".concat(pR(e),"]:"):n[0]=uR()+" Agora-SDK [".concat(pR(e),"]:");let i="";n.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),i+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:Bx,process_id:qx("PROCESS_ID"),payload:JSON.stringify(e)};return kx((async()=>{const e=await NT.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(qx("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(qx("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(t=>{const n={status:-1,message:t.message,errorRange:e.map((e=>e.log_item_id))};return t.response?(n.status=t.response.status,n.data=t.response.data,n.headers=t.response.headers):t.request&&(n.status=t.request.status),sR.reportLogUploadError(n),!0}),{timeout:qx("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:qx("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,qx("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),qx("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),qx("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),qx("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}};var mR;function gR(e){return CC(e.reportId,"params.reportId",0,100,!1),CC(e.category,"params.category",0,100,!1),CC(e.event,"params.event",0,100,!1),CC(e.label,"params.label",0,100,!1),SC(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(mR={}).FREE="free",mR.UPLOADING="uploading",function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}({});const vR={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let yR=function(e){return e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",e}({}),bR=function(e){return e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",e}({});!function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}({});let ER=function(e){return e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",e}({});function _R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){const i=r.value;if("function"==typeof i){const o=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);r.value=function(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];let c=a;if(e.argsMap)try{c=e.argsMap(this,...a)}catch(e){fR.warning(e),c=[]}try{JSON.stringify(c)}catch(e){fR.warning("arguments for method ".concat(o,".").concat(String(n)," not serializable for apiInvoke.")),c=[]}const l=(e.report||wR).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(t=this.store)||void 0===t?void 0:t.clientId)||this._ID,name:"".concat(o,".").concat(String(n)),options:c,tag:FC.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=i.apply(this,a);return t instanceof Wh?t.then((t=>(l.onSuccess(e.reportResult&&t),t))).catch((e=>{throw l.onError(e),e})):(l.onSuccess(e.reportResult&&t),t)}catch(e){throw l.onError(e),e}}}return r}}const wR=new class{constructor(){iR(this,"baseInfoMap",new Map),iR(this,"proxyServer",void 0),iR(this,"eventUploadTimer",void 0),iR(this,"setSessionIdTimer",void 0),iR(this,"url",void 0),iR(this,"sids",new Set),iR(this,"backupUrl",void 0),iR(this,"_appId",void 0),iR(this,"keyEventUploadPendingItems",[]),iR(this,"normalEventUploadPendingItems",[]),iR(this,"apiInvokeUploadPendingItems",[]),iR(this,"apiInvokeCount",0),iR(this,"apiInvokeLoggedCount",0),iR(this,"ltsList",[]),iR(this,"lastSendNormalEventTime",Date.now()),iR(this,"customReportCounterTimer",void 0),iR(this,"customReportCount",0),iR(this,"extApiInvoke",(async e=>{for(const t of e){const e=aR(aR({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:FC.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),qx("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),qx("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=!!qx("SHOW_REPORT_INVOKER_LOG"),a=!!qx("SHOW_REPORT_USER_INVOKER_LOG"),s=o||a&&t.id;s&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function l(e,n){if(s){let r="[apiInvoke-".concat(c,"]");t.id&&(r+="[".concat(t.id,"]")),t.name&&(r+="[".concat(t.name,"]")),fR.info("".concat(r," ").concat(e),"start"===e?t.options:n||"")}}const u=()=>({tag:t.tag,invokeId:i,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null});l("start");let d=!1;mx(t.timeout).then((()=>{d||(this.sendApiInvoke(aR(aR({},u()),{},{error:bC.API_INVOKE_TIMEOUT,success:!1})),l("timeout"))}));const h=new EC(bC.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const r=()=>{if(d)throw h;return d=!0,this.sendApiInvoke(aR(aR({},u()),{},{success:!0},t.reportResult&&{result:e})),l("onSuccess"),e};return n?Ex(r,t.name+"Success",n,(()=>d=!0)):r()},onError:e=>{const r=()=>{if(d)throw e;d=!0,this.sendApiInvoke(aR(aR({},u()),{},{success:!1,error:e})),l("onFailure",e.toString())};return n?Ex(r,t.name+"Error",n,(()=>d=!0)):r()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const i=Object.assign({},{willUploadConsoleLog:qx("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:Vx?"global":"oversea",areas:qx("AREAS")&&qx("AREAS").join(",")},t.extend),{stringUid:o,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientRole:u}=t,d=Date.now(),h=aR(aR({},r),{},{eventType:yR.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:zx,lts:d,elapse:d-n,extend:JSON.stringify(i),mode:t.mode,process:qx("PROCESS_ID"),appType:qx("APP_TYPE"),success:!0,version:Bx,stringUid:o,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientType:kr(p=window.navigator.userAgent).call(p,"AgoraWebView")?42:20,clientRole:u,serviceId:qx("PROCESS_ID"),extensionID:qx("PLUGIN_INFO").join(",")||""});var p;this.send({type:bR.SESSION,data:h},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.JOIN_CHOOSE_SERVER,lts:i,eventElapse:t.elapse||i-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:i-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3,corssRegionTagReq:t.corssRegionTagReq||void 0,corssRegionTagRes:t.corssRegionTagRes||void 0});this.send({type:bR.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.REQ_USER_ACCOUNT,lts:i,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||i-n.startTime,eventElapse:i-t.lts,extend:JSON.stringify(t.extend)});this.send({type:bR.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const i=Date.now(),{firstSuccess:o,avoidJoinStartTime:a}=t,s=i-(o&&a?a:n.startTime),c=aR(aR({},r),{},{eventType:yR.JOIN_GATEWAY,lts:i,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||"",elapse:s,eventElapse:i-t.lts,firstSuccess:o,signalChannel:t.signalChannel,preload:t.preload?1:0});t.succ&&(n.lastJoinSuccessTime=i),this.send({type:bR.JOIN_GATEWAY,data:c},!0)}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),i=aR(aR({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:bR.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.PUBLISH,lts:i,eventElapse:t.eventElapse,elapse:i-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:bR.PUBLISH,data:o},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const i=r.info,o=Date.now(),a=aR(aR({},i),{},{eventType:yR.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:bR.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...uf(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",i=this.baseInfoMap.get(r);if(!i)return;const o=i.info,a=Date.now(),s=aR(aR({},o),{},{eventType:yR.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-i.startTime,status:e.status?1:2});this.send({type:bR.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=aR(aR(aR({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max((r.firstFrame||a)-i.startTime,0),apEnd:Math.max(r.apEnd-i.startTime,0),apStart:Math.max(r.apStart-i.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-i.startTime,0),joinGwStart:Math.max(r.joinGwStart-i.startTime,0),pcEnd:Math.max(r.pcEnd-i.startTime,0),pcStart:Math.max(r.pcStart-i.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-i.startTime,0),subscriberStart:Math.max(r.subscriberStart-i.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-i.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=aR(aR(aR({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}pcStats(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR(aR({},r),t),{},{vid:void 0===r.vid?0:Number(r.vid),elapse:i-n.startTime,eventType:yR.PC_STATS,lts:i,preallocation:t.preallocation?1:0});this.send({type:bR.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(e,t){if(e){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR(aR({},r),t),{},{vid:void 0===r.vid?0:Number(r.vid),eventType:yR.UPDATE_REMOTE_RTPCAPABILITIES,lts:i});this.send({type:bR.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=aR(aR(aR({},o),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.STREAM_SWITCH,lts:i,isDual:t.isdual,elapse:i-n.startTime,success:t.succ});this.send({type:bR.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:bR.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{eventType:yR.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:bR.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?fR.debug("reportProxyServerurl: ".concat(e)):fR.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:i,elapse:i-n.startTime,joinChannelSuccessElapse:i-(n.lastJoinSuccessTime||i),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:bR.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now();(function(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const i=hx(JSON.stringify(e));let o=0;const a=[];let s=0;for(let c=0;c<r.length;c++)s+=r.charCodeAt(c)<=127?1:3,s<=n-i||(a[a.length]=yC(yC({},e),{},{[t]:r.substring(o,c)}),o=c,s=r.charCodeAt(c)<=127?1:3);return o!==r.length-1&&(a[a.length]=yC(yC({},e),{},{[t]:r.substring(o)})),a})(aR(aR(aR({},r),t),{},{elapse:i-n.startTime,lts:i,productType:"WebRTC"}),"payload",1300).forEach((e=>this.send({type:bR.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR(aR({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:bR.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR(aR({},r),t),{},{elapse:i-n.startTime,lts:i,extend:t.extend||void 0});this.send({type:bR.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=aR(aR(aR({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:bR.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>qx("CUSTOM_REPORT_LIMIT"))throw new EC(bC.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=Date.now(),r=t.map((t=>({type:bR.USER_ANALYTICS,data:aR(aR({sid:e},t),{},{lts:n})})));try{qx("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(r):await this.postDataToStatsCollector(r)}catch(e){throw fR.error("send custom report message failed",e.toString()),new EC(bC.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=qx("NOT_REPORT_EVENT");if(e.tag&&kr(t)&&kr(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:i,cid:o}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof EC){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:r,cid:o,uid:i,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:bR.API_INVOKE,data:s},!1),!0}addSid(e){this.sids.add(e)}removeSid(e){this.sids.delete(e)}appendSessionId(){const e=this.apiInvokeUploadPendingItems;if(0===e.length)return;const t=Array.from(this.sids).find((e=>null!==e));t&&e.forEach((e=>{e&&(e.sid=t,this.sendApiInvoke(Object.assign({},e)))})),e.length=0}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>qx("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):r.push(t)}e.push(...r);for(const o of[...n]){var i;-1!==this.ltsList.indexOf(o.data.lts)?(o.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(o.data.lts)):(this.ltsList.push(o.data.lts),am(i=this.ltsList).call(i,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),qx("ENABLE_EVENT_REPORT")?(n.length&&(qx("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{qx("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>qx("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-qx("NORMAL_EVENT_QUEUE_CAPACITY")),fR.warning("report: drop normal events"))))})(n)),e):e}async postDataToStatsCollector2(e){ex.networkState===qC.OFFLINE&&await Wh.race([ex.onlineWaiter,mx(2*Ix.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=kC(JSON.stringify(e.data)),r=new ArrayBuffer(5),i=(e=>{let t=0;return Object.entries(bR).forEach((n=>{let[r,i]=n;i===e.type&&(t=ER[r])})),t})(e),o=new DataView(r);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),t=PC(t,new Uint8Array(r)),t=PC(t,n)})),t},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qx("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(qx("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let i=0;i<2;i+=1){1===i&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qx("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(qx("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await jx(r,{timeout:1e4,data:t(e),headers:aR(aR({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===i)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};ex.networkState===qC.OFFLINE&&await Wh.race([ex.onlineWaiter,mx(2*Ix.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let i=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qx("EVENT_REPORT_DOMAIN"),"&p=").concat(qx("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(qx("EVENT_REPORT_DOMAIN"),":").concat(qx("STATS_COLLECTOR_PORT")).concat(r));for(let o=0;o<2;o+=1){1===o&&(i=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qx("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(qx("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(qx("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(qx("STATS_COLLECTOR_PORT")).concat(r)));try{t?await Ux(i,{timeout:1e4,data:n}):await jx(i,{timeout:1e4,data:n})}catch(t){if(1===o)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},vR);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:FC.TRACER}).onSuccess()}};sR.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=ex.networkState,wR.reportApiInvoke(null,{name:"logUploadError",options:e,tag:FC.TRACER}).onSuccess("logUploadError")}));class SR extends EC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),iR(this,"name","AgoraRTCException")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(e,fR)}throw(){super.throw(fR)}}const TR=["CHINA","GLOBAL"],CR=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],xR=[];function RR(e,t){return!!t&&xR.some((n=>n.uid===e&&n.channelName===t))}var AR=ty.forEach,OR=Vr("forEach")?[].forEach:function(e){return AR(this,e,arguments.length>1?arguments[1]:void 0)};In({target:"Array",proto:!0,forced:[].forEach!=OR},{forEach:OR});var IR=Jn("Array").forEach,NR=fr,kR=Ze,PR=d,DR=IR,LR=Array.prototype,MR={DOMTokenList:!0,NodeList:!0},jR=function(e){var t=e.forEach;return e===LR||PR(LR,e)&&t===LR.forEach||kR(MR,NR(e))?DR:t},UR=r(jR),FR=Xe,BR=to;In({target:"Object",stat:!0,forced:i((function(){BR(1)}))},{keys:function(e){return BR(FR(e))}});var VR=r(re.Object.keys),WR=r($r),HR=In,GR=rv,zR=u([].reverse),KR=[1,2];HR({target:"Array",proto:!0,forced:String(KR)===String(KR.reverse())},{reverse:function(){return GR(this)&&(this.length=this.length),zR(this)}});var YR=Jn("Array").reverse,qR=d,$R=YR,XR=Array.prototype,QR=function(e){var t=e.reverse;return e===XR||qR(XR,e)&&t===XR.reverse?$R:t},JR=QR,ZR=r(JR),eA=In,tA=rv,nA=Vc,rA=ne,iA=Fn,oA=Gn,aA=Z,sA=gf,cA=pt,lA=Xc,uA=mv("slice"),dA=cA("species"),hA=Array,pA=Math.max;eA({target:"Array",proto:!0,forced:!uA},{slice:function(e,t){var n,r,i,o=aA(this),a=oA(o),s=iA(e,a),c=iA(void 0===t?a:t,a);if(tA(o)&&(n=o.constructor,(nA(n)&&(n===hA||tA(n.prototype))||rA(n)&&null===(n=n[dA]))&&(n=void 0),n===hA||void 0===n))return lA(o,s,c);for(r=new(void 0===n?hA:n)(pA(c-s,0)),i=0;s<c;s++,i++)s in o&&sA(r,i,o[s]);return r.length=i,r}});var fA=Jn("Array").slice,mA=d,gA=fA,vA=Array.prototype,yA=function(e){var t=e.slice;return e===vA||mA(vA,e)&&t===vA.slice?gA:t},bA=r(yA);function EA(e,t,n,r,i){var o,a,s,c={};return UR(o=VR(r)).call(o,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=WR(a=ZR(s=bA(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),i&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(i):void 0,c.initializer=void 0),void 0===c.initializer&&(tv(e,t,c),c=null),c}let _A=function(e){return e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L1T3_KEY="L1T3_KEY",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY",e}({}),wA=function(e){return e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver",e}({}),SA=function(e){return e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",e}({}),TA=function(e){return e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e}({}),CA=function(e){return e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",e}({}),xA=function(e){return e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",e}({}),RA=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",e}({}),AA=function(e){return e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed",e}({}),OA=function(e){return e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.PRE_CONNECT_PC="pre_connect_pc",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",e.RECOVER_NOTIFICATION="recover_notification",e}({}),IA=function(e){return e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag",e}({}),NA=function(e){return e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats",e}({}),kA=function(e){return e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list",e}({}),PA=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({}),DA=function(e){return e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",e}({});function LA(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw fR.error("Invalid Channel Name ".concat(e)),new SR(bC.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function MA(e){if(!function(e){return"number"==typeof e&&Math.floor(e)===e&&0<=e&&e<=4294967295}(e)&&!AC(e,1,255))throw new SR(bC.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");"string"==typeof e&&fR.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let jA=function(e){return e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e}({});const UA={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},FA={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function BA(e,t){CC(e.url,"".concat(t,".url"),1,1e3,!1),RC(e.x)||SC(e.x,"".concat(t,".x"),0,1e4),RC(e.y)||SC(e.y,"".concat(t,".y"),0,1e4),RC(e.width)||SC(e.width,"".concat(t,".width"),0,1e4),RC(e.height)||SC(e.height,"".concat(t,".height"),0,1e4),RC(e.zOrder)||SC(e.zOrder,"".concat(t,".zOrder"),0,255),RC(e.alpha)||SC(e.alpha,"".concat(t,".alpha"),0,1,!1)}const VA={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let WA=function(e){return e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address",e}({}),HA=function(e){return e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",e}({}),GA=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",e}({});function zA(e){if(!e.channelName)throw new SR(bC.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new SR(bC.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&CC(e.token,"info.token",1,2047),MA(e.uid),LA(e.channelName),!0}let KA=function(e){return e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile",e}({}),YA=function(e){return e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",e}({}),qA=function(e){return e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",e}({}),$A=function(e){return e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",e}({}),XA=function(e){return e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low",e}({}),QA=function(e){return e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.PRE_CONNECT_PC="pre-connect_pc",e}({}),JA=function(e){return e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON",e}({}),ZA=function(e){return e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7",e}({}),eO=function(e){return e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS",e}({});const tO=[eO.AFRICA,eO.ASIA,eO.CHINA,eO.EUROPE,eO.GLOBAL,eO.INDIA,eO.JAPAN,eO.NORTH_AMERICA,eO.OCEANIA,eO.OVERSEA,eO.SOUTH_AMERICA];let nO=function(e){return e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL",e}({});const rO={CHINA:{},ASIA:{CODE:nO.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:nO.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:nO.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:nO.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:nO.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:nO.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:nO.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:nO.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:nO.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:nO.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:nO.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:nO.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:nO.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};Vx&&(rO.CHINA={CODE:nO.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let iO=function(e){return e.UPDATE_BITRATE_LIMIT="update_bitrate_limit",e}({});class oO extends LC{constructor(e,t){super(),jE(this,"onICEConnectionStateChange",void 0),jE(this,"onConnectionStateChange",void 0),jE(this,"onDTLSTransportStateChange",void 0),jE(this,"onDTLSTransportError",void 0),jE(this,"onICETransportStateChange",void 0),jE(this,"onFirstAudioReceived",void 0),jE(this,"onFirstVideoReceived",void 0),jE(this,"onFirstAudioDecoded",void 0),jE(this,"onFirstVideoDecoded",void 0),jE(this,"onFirstVideoDecodedTimeout",void 0),jE(this,"onSelectedLocalCandidateChanged",void 0),jE(this,"onSelectedRemoteCandidateChanged",void 0),jE(this,"getLocalVideoStats",void 0)}}class aO extends oO{constructor(e,t){super(e,t),jE(this,"establishPromise",void 0)}}let sO=function(e){return e.VIDEO="video",e.AUDIO="audio",e}({}),cO=function(e){return e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.RELAY=2]="RELAY",e}({}),lO=function(e){return e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.TCP_RESTART=1]="TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",e}({}),uO=function(e){return e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack",e}({}),dO=function(e){return e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected",e}({}),hO=function(e){return e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE",e}({}),pO=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),fO=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),mO=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),gO=function(e){return e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback",e.PRE_CONNECT_PC="transmitter:pre_connect_pc",e}({}),vO=function(e){return e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation",e}({}),yO=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),bO=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),EO=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),_O=function(e){return e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check",e}({}),wO=function(e){return e.ABORT="abort",e}({}),SO=function(e){return e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e}({}),TO=function(e){return e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed",e}({});const CO={[SA.ACCESS_POINT]:{[xA.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[xA.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[xA.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[xA.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[xA.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[xA.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[xA.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[SA.UNILBS]:{[CA.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[CA.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[CA.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[CA.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[CA.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[CA.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[CA.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[CA.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[CA.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[CA.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[CA.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[CA.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[SA.STRING_UID_ALLOCATOR]:{[TA.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[TA.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[TA.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function xO(e){const t=CO[Math.floor(e/1e4)];if(!t)return{desc:"unknown error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===SA.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return n}const RO={[RA.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[RA.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[RA.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[RA.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[RA.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[RA.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[RA.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[RA.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[RA.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[RA.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[RA.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[RA.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[RA.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[RA.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[RA.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[RA.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[RA.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[RA.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[RA.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[RA.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[RA.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[RA.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[RA.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[RA.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[RA.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[RA.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[RA.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[RA.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[RA.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[RA.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[RA.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[RA.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[RA.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[RA.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[RA.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[RA.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[RA.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[RA.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[RA.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[RA.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[RA.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[RA.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[RA.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[RA.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[RA.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[RA.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[RA.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[RA.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[RA.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[RA.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[RA.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[RA.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[RA.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[RA.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[RA.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[RA.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[RA.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[RA.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[RA.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[RA.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[RA.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[RA.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[RA.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function AO(e){return RO[e]||{desc:"UNKNOWN_ERROR_".concat(e),action:"failed"}}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NO(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function kO(e,t){if("string"==typeof e)return e;const{proxy:n,host:r,port:i}=e;if(t){const e=qx("JOIN_GATEWAY_FALLBACK_PORT")||443;return 443===e?"wss://".concat(r,"/ws/?p=").concat(Number(i)+150):"wss://".concat(r,":").concat(e,"/ws/?p=").concat(Number(i)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(r,"&p=").concat(i):"wss://".concat(r,":").concat(i)}const PO=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,DO=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,LO=/wss:\/\/(.+):([0-9]+)\/?/,MO=/wss:\/\/(.[^\/]+)\/?/;let jO=0;class UO{constructor(e,t){jE(this,"id",0),jE(this,"store",void 0),jE(this,"recordIndex",void 0),jE(this,"websockets",[]),jE(this,"try443PortDuration",2e3),jE(this,"forceCloseWSDuration",5e3),jE(this,"try443PortTimeout",null),jE(this,"forceCloseTimeout",null),jE(this,"isTry443PortFailed",!1),jE(this,"isNormalPortFailed",!1),jE(this,"useDoubleDomain",!1),jE(this,"useProxy",!1),jE(this,"startTime",Date.now()),this.id=++jO,this.try443PortDuration=qx("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];fR.debug("[choose-best-ws ".concat(null===(e=this.store)||void 0===e?void 0:e.clientId," ").concat(this.id,"] ").concat(t,"ms:"),...r)}createWebSocket(e,t,n){this.logger("createWebSocket:",e,{isTry443Port:t,hasTimeoutDetection:n});const r=qx("GATEWAY_DOMAINS"),i=Date.now(),o=[],a=r.find((t=>{var n;return kr(n=e.host).call(n,t)}));a||(this.useDoubleDomain=!1);const s=[];if(this.useDoubleDomain)r.forEach((n=>{s.push(kO(IO(IO({},e),{},{host:e.host.replace(a,n)}),t))}));else{const n=IO({},e);if(t&&a){const e=r.find((e=>e!==a));e&&(n.host=n.host.replace(a,e))}s.push(kO(n,t))}try{s.forEach((e=>{const t=new WebSocket(e);t.binaryType="arraybuffer",o.push(t),this.logger("ws is connecting:",t.url)}))}catch(r){if(this.logger("ws create failed"),o.forEach((e=>e.close())),o.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,n);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,n);throw new SR(bC.WS_ERR,"init websocket failed! Error: ".concat(r.toString()))}const c=PT();return this.store&&this.store.recordJoinChannelService({urls:o.map((e=>e.url)),service:"gateway"},this.recordIndex),o.forEach((e=>{e.onopen=()=>{this.logger("onopen: ws ".concat(e.url," open cost ").concat(Date.now()-i,"ms")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger("close backup websocket: ".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=n=>{this.logger("onclose: ws ".concat(e.url," closed cost ").concat(Date.now()-i,"ms state: ").concat(e.readyState)),t?this.isTry443PortFailed=NO(o):this.isNormalPortFailed=NO(o),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(n.reason)),c.reject({code:n.code,reason:JA.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger("".concat(e.url," onmessage: ").concat(t.data))})),this.websockets.push(...o),n||(()=>{const n=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger("add 5s timeout at ".concat(t?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger("2s timeout, isWebsocket created: ",c.isResolved),c.isResolved)return n();WT().os===jT.MAC_OS&&XT()&&n(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger("try 443 port to create ws failed")})),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,n,r){return this.useDoubleDomain=!!t,"string"==typeof e&&(e=function(e){let t,n,r;return[,t,n,r]=e.match(PO)||[],t||([,n,r]=e.match(DO)||[]),n&&r||([,n,r]=e.match(LO)||[]),n&&r||([,n]=e.match(MO)||[]),n||fR.warning("un-destructible url: ",e),{proxy:t,host:n,port:r||"443"}}(e)),this.recordIndex=r,this.useProxy=!!e.proxy,n&&this.useProxy&&(fR.warn("cannot use 443 only when use proxy"),n=!1),this.createWebSocket(e,!!n,!1).finally((()=>this.clearTimeout()))}}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class BO extends LC{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;kr(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(DA.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(DA.CONNECTED):"closed"===this._state?this.emit(DA.CLOSED):"failed"===this._state&&this.emit(DA.FAILED))}resetReconnectCount(e){fR.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;super(),jE(this,"connectionID",0),jE(this,"currentURLIndex",0),jE(this,"urls",[]),jE(this,"_reconnectMode","tryNext"),jE(this,"reconnectReason",void 0),jE(this,"_initMutex",void 0),jE(this,"name",void 0),jE(this,"_state","closed"),jE(this,"reconnectInterrupter",void 0),jE(this,"websocket",void 0),jE(this,"retryConfig",void 0),jE(this,"reconnectCount",0),jE(this,"forceCloseTimeout",5e3),jE(this,"onlineReconnectListener",void 0),jE(this,"useCompress",void 0),jE(this,"tryDoubleDomain",!1),jE(this,"use443PortOnly",!1),jE(this,"wsInflateLength",0),jE(this,"wsDeflateLength",0),jE(this,"closeEstablishingWs",(()=>{})),jE(this,"store",void 0),jE(this,"joinGatewayRecordIndex",void 0),this.store=o,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=r,this.use443PortOnly=i,this._initMutex=new Ax("websocket",o?o.clientId:void 0);const{timeout:a,timeoutFactor:s}=t,c=Math.max(300,Math.floor(3*a/5)),l=Math.max(1.2,Math.floor(8*s)/10);qC.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l),ex.on($C.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===qC.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=s))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state="connecting";try{const e=PT(),t=this.urls[this.currentURLIndex];qx("ENABLE_PREALLOC_PC")&&this.emit(gO.PRE_CONNECT_PC),this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(DA.CLOSED,(()=>{e.reject(new EC(bC.WS_DISCONNECT))})),this.once(DA.CONNECTED,e.resolve),await e.promise}catch(e){}finally{n()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void fR.warning("[".concat(this.name,"] can not reconnect, no websocket"));void 0!==e&&(this.reconnectMode=e),fR.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinGatewayRecordIndex);const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new EC(bC.WS_ABORT,"websocket is not ready");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new EC(bC.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const n=PT();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const r=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),fR.debug("[".concat(this.name,"] websocket opened:"),e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n.resolve()},i=async e=>{var t;if(fR.debug("[".concat(this.name,"] websocket close ").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)n.reject(new EC(bC.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close();else{"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=JC(this,DA.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,r=await this.reconnectWithAction(t);if("closed"===this.state)return void fR.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!r)return n.reject(new EC(bC.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),this.close(!0);n.resolve()}},o=e=>{this.emit(DA.ON_MESSAGE,e)},a=e=>{fR.warn("[".concat(this.connectionID,"] ws open error ").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),qx("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=qx("GATEWAY_WSS_ADDRESS")),fR.debug("[".concat(this.name,"] start connect, url:"),e);const s=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,r&&r(this.websocket.url),this.websocket.onclose=i,this.websocket.onmessage=o,this.websocket.onerror=a,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this.joinGatewayRecordIndex=s}catch(e){const t="closed"===this.state,r=e instanceof EC,o=r&&e.code===bC.WS_ABORT,a=r&&e.code===bC.WS_ERR,c=r?e.message:e&&(e.reason||e.toString());fR.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o?"aborted":"error",errors:[e]},s),t||a?(n.reject(t?new EC(bC.WS_DISCONNECT,"websocket is closed: ".concat(c)):new EC(bC.WS_ERR,"init websocket failed: ".concat(c))),a&&fR.error("[".concat(this.name,"] init websocket failed: ").concat(c))):i&&i(e)}return n.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if("closed"===this.state)return!1;fR.warning("[choose-best-ws] action: =>",e),this.onlineReconnectListener||ex.isOnline||!ex.onlineWaiter||(this.onlineReconnectListener=ex.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>n=!1,t){const t=Nx(this.reconnectCount,this.retryConfig);fR.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),await Wh.race([mx(t),this.onlineReconnectListener||new Wh((()=>{}))])}if("closed"===this._state||!n)return!1;this.reconnectCount+=1;const r=async(e,t)=>{this.emit(DA.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e)await r(this.urls[this.currentURLIndex],e);else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);fR.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),await r(this.urls[this.currentURLIndex],e)}else"recover"===e&&(fR.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.urls=await XC(this,DA.REQUEST_NEW_URLS),this.currentURLIndex=0,await r(this.urls[this.currentURLIndex],e))}catch(n){var i;fR.error("[".concat(this.name,"] reconnect failed ").concat(n&&n.toString()));const r=null==n||null===(i=n.data)||void 0===i?void 0:i.desc;return Array.isArray(r)&&kr(r).call(r,"dynamic key expired")?(this.emit(DA.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class VO extends BO{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const n=PT(),r=function(e,t){return new UO(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{fR.debug("[choose-best-ws] close establishing websockets"),r.closeAllWebsockets(),n.reject(new EC(bC.WS_ABORT,"choose best websocket aborted"))};const i=qx("GATEWAY_DOMAINS");return fR.debug("[choose-best-ws] currentDomain: ",e,", domains: ",i,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),r.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(n.resolve).catch(n.reject),n.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class WO extends BO{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new Wh(((n,r)=>{let i=!1;const o=[];this.closeEstablishingWs=()=>{fR.debug("[choose-best-ws] close establishing websockets"),o.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),r(new EC(bC.WS_ABORT,"choose best websocket aborted"))};const a=qx("GATEWAY_DOMAINS");let s;const c=e.indexOf("?h="),l=a.find((t=>-1!==c?kr(e).call(e,t,c):kr(e).call(e,t)));fR.debug("[choose-best-ws] currentDomain: ",l,", domains: ",a);let u=!this.tryDoubleDomain||!l;if(!u&&l){var d;const h=Date.now();try{a.forEach((t=>{const n=-1===c?e.replace(l,t):e.substr(0,c)+e.substr(c).replace(l,t),r=new WebSocket(n);r.binaryType="arraybuffer",o.push(r),fR.debug("[choose-best-ws] ws is connecting:",r.url)}))}catch(e){for(fR.debug("[choose-best-ws] ws create failed, fallback to single url"),o.forEach((e=>e.close()));o.length;)o.pop();u=!0}null===(d=this.store)||void 0===d||d.recordJoinChannelService({urls:o.map((e=>e.url)),service:"gateway"},t),o.forEach((e=>{e.onopen=()=>{if(i)return;const t=Date.now()-h;fR.debug("[choose-best-ws] ws open cost ".concat(t,"ms")),o.filter((t=>t!==e)).forEach((e=>{fR.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()})),i=!0,n(e)},e.onclose=e=>{s=e,i||o.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(fR.debug("[choose-best-ws] all websocket is closed"),i=!0,r(s))},e.onmessage=t=>{fR.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data))}})),mx(this.forceCloseTimeout).then((()=>{o.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(u){var h;let i;fR.debug("[choose-best-ws] use single url: ",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:"gateway"},t);try{i=new WebSocket(e),o.push(i),i.binaryType="arraybuffer"}catch(e){const n=new EC(bC.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return fR.error("[".concat(this.name,"]").concat(n)),void r(n)}i.onopen=()=>{n(i)},i.onclose=e=>{r(e)},i.onmessage=e=>{fR.debug("[choose-best-ws]".concat(i.url," onmessage: ").concat(e.data))},mx(this.forceCloseTimeout).then((()=>{i&&i.readyState!==WebSocket.OPEN&&i.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class HO extends LC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===AA.CONNECTED?this.emit(OA.WS_CONNECTED):e===AA.RECONNECTING?this.emit(OA.WS_RECONNECTING,this._websocketReconnectReason):e===AA.CLOSED&&this.emit(OA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),jE(this,"_disconnectedReason",void 0),jE(this,"_websocketReconnectReason",void 0),jE(this,"_connectionState",AA.CLOSED),jE(this,"reconnectToken",void 0),jE(this,"websocket",void 0),jE(this,"openConnectionTime",void 0),jE(this,"clientId",void 0),jE(this,"lastMsgTime",Date.now()),jE(this,"uploadCache",[]),jE(this,"uploadCacheInterval",void 0),jE(this,"rttRolling",new Px(5)),jE(this,"pingpongTimer",void 0),jE(this,"wsInflateDataTimer",void 0),jE(this,"pingpongTimeoutCount",0),jE(this,"joinResponse",void 0),jE(this,"multiIpOption",void 0),jE(this,"initError",void 0),jE(this,"spec",void 0),jE(this,"store",void 0),jE(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(OA.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){if(this.emit(t._type,t._message),t._type===kA.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===kA.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(WC.UID_BANNED);break;case 15:this.close(WC.IP_BANNED);break;case 16:this.close(WC.CHANNEL_BANNED)}if(t._type===kA.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case RA.ERR_LICENSE_MISSING:this.close(WC.LICENSE_MISSING);break;case RA.ERR_LICENSE_EXPIRED:this.close(WC.LICENSE_EXPIRED);break;case RA.ERR_LICENSE_MINUTES_EXCEEDED:this.close(WC.LICENSE_MINUTES_EXCEEDED);break;case RA.ERR_LICENSE_PERIOD_INVALID:this.close(WC.LICENSE_PERIOD_INVALID);break;case RA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(WC.LICENSE_MULTIPLE_SDK_SERVICE);break;case RA.ERR_LICENSE_ILLEGAL:this.close(WC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new VO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,qx("JOIN_GATEWAY_USE_DUAL_DOMAIN"),qx("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===AA.CONNECTED&&this.reconnect("retry",YC.OFFLINE)}))}async request(e,t,n,r){const i=gx(6,""),o={_id:i,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new Wh(((t,n)=>{if(this.connectionState===AA.CONNECTED)return t();const r=()=>{this.off(OA.WS_CLOSED,i),t()},i=()=>{this.off(OA.WS_CONNECTED,r),n(new SR(bC.WS_ABORT))};this.once(OA.WS_CONNECTED,r),this.once(OA.WS_CLOSED,i),e!==IA.PUBLISH&&e!==IA.PUBLISH_DATASTREAM&&e!==IA.SUBSCRIBE&&e!==IA.SUBSCRIBE_DATASTREAM&&e!==IA.UNSUBSCRIBE&&e!==IA.UNSUBSCRIBE_DATASTREAM&&e!==IA.UNPUBLISH&&e!==IA.UNPUBLISH_DATASTREAM&&e!==IA.CONTROL&&e!==IA.RESTART_ICE||this.once(OA.DISCONNECT_P2P,(()=>{n(new SR(bC.DISCONNECT_P2P))})),e!==IA.PUBLISH&&e!==IA.RESTART_ICE||this.once(OA.ABORT_P2P_EXECUTION,(()=>{n(new SR(bC.DISCONNECT_P2P))}))}));if(this.connectionState!==AA.CONNECTING&&this.connectionState!==AA.RECONNECTING||e===IA.JOIN||e===IA.REJOIN||await s(),this.websocket.sendMessage(o,!0),r)return;const c=new Wh(((n,r)=>{let o=!1;const s=(r,i)=>{o=!0,n({isSuccess:"success"===r,message:i||{}}),this.off(OA.WS_CLOSED,c),this.off(OA.WS_RECONNECTING,c),this.emit(OA.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(i),s);const c=()=>{r(new SR(bC.WS_ABORT,"type: ".concat(e))),this.off(OA.WS_CLOSED,c),this.off(OA.WS_RECONNECTING,c),this.off("res-@".concat(i),s)};this.once(OA.WS_CLOSED,c),this.once(OA.WS_RECONNECTING,c),mx(qx("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(fR.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(OA.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(r){if(this.connectionState===AA.CLOSED||e===IA.LEAVE)throw new SR(bC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===IA.JOIN||e===IA.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=AO(u),h=new SR(bC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(fR.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===RA.ERR_TOO_MANY_BROADCASTERS?e===IA.JOIN||e===IA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===RA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,fR.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",YC.MULTI_IP)):this.reconnect(d.action,YC.SERVER_ERROR),e===IA.JOIN||e===IA.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Wh((n=>{const r=i=>{(!t||t(i))&&(this.off(e,r),n(i))};this.on(e,r)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void fR.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(NA.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=qx("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==AA.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),qx("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Wh(((t,n)=>{this.once(OA.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(OA.WS_CLOSED,(()=>n(this.initError||new SR(bC.WS_ABORT)))),this.connectionState=AA.CONNECTING,this.websocket.init(e).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||WC.LEAVE,this.connectionState=AA.CLOSED,fR.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(OA.ABORT_P2P_EXECUTION);const e=await XC(this,OA.REQUEST_JOIN_INFO),t=await this.request(IA.JOIN,e);if(!t)return this.emit(OA.REPORT_JOIN_GATEWAY,JA.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(OA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=AA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new SR(bC.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=ZC(this,OA.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(IA.REJOIN,e);return!!t&&(this.connectionState=AA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(kA.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(kA.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(kA.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(kA.MUTE_AUDIO,{uid:e.uid}):this.emit(kA.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(kA.MUTE_VIDEO,{uid:e.uid}):this.emit(kA.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(kA.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(kA.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(kA.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(kA.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(kA.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){fR.debug("[".concat(this.clientId,"] receive notification: "),e);const t=AO(e.code);if(28===e.code&&"detail"in e&&(fR.info("[".concat(this.clientId,"] receive recover notification: "),e.detail),this.emit(OA.RECOVER_NOTIFICATION,e.detail)),"success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(WC.UID_BANNED),void this.close()):void this.reconnect(t.action,YC.SERVER_ERROR);fR.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=qx("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(fR.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>qx("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",YC.TIMEOUT):this.request(IA.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),qx("REPORT_STATS")&&this.send(IA.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(NA.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(DA.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(OA.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(DA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(DA.CLOSED,(()=>{this.connectionState=AA.CLOSED})),this.websocket.on(DA.FAILED,(()=>{this._disconnectedReason=WC.NETWORK_ERROR,this.connectionState=AA.CLOSED})),this.websocket.on(DA.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===AA.CONNECTED?this.connectionState=AA.RECONNECTING:this.connectionState=AA.CONNECTING})),this.websocket.on(DA.WILL_RECONNECT,((e,t,n)=>{const r=ZC(this,OA.IS_P2P_DISCONNECTED),i=r||"retry"!==e;r&&"retry"===e&&(fR.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),e="tryNext",t=JA.P2P_DISCONNECTED),i&&(fR.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(e)),this.emit(OA.REPORT_JOIN_GATEWAY,t||JA.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(OA.DISCONNECT_P2P)),n(e)})),this.websocket.on(DA.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{fR.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",YC.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(OA.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof SR){if(e.code===bC.UNEXPECTED_RESPONSE&&e.data.code===RA.ERR_NO_AUTHORIZED)return this.initError=new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),fR.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",YC.SERVER_ERROR);fR.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",YC.SERVER_ERROR):(this.initError=e,this.close())}}))})),this.websocket.on(DA.REQUEST_NEW_URLS,((e,t)=>{XC(this,OA.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(DA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(kA.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(gO.PRE_CONNECT_PC,(()=>{this.emit(OA.PRE_CONNECT_PC)}))}}let GO=function(e){return e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",e}({});function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zO(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YO(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(qx("TURN_DOMAIN")):(fR.debug("Cannot recognized as ip address: ".concat(e,", use as host")),e)}function qO(e,t){e.addresses||(e.addresses=[]);const n=function(e,t){if(qx("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return e.map((e=>{let{ip:t,port:n}=e;return{address:"".concat(t,":").concat(n)}}));const n=qx("GATEWAY_DOMAINS");let r=n[1]&&kr(t).call(t,n[1])?1:0;return e.map((e=>{let{domain_prefix:t,port:i,ip:o}=e;if(t)return{address:"".concat(t,".").concat(n[r++%n.length],":").concat(i)};const a=/^[\.\:\d]+$/.test(o),s=a?"".concat(o.replace(/[^\d]/g,"-"),".").concat(n[r++%n.length],":").concat(i):"".concat(o,":").concat(i);return a||fR.debug("Cannot recognized as ip address: ".concat(o,", use as host")),{ip:o,port:i,address:s}}))}(e.addresses,t),r=Array.isArray(e.detail)&&e.detail[18];if(r&&"string"==typeof r){const e=r.split(";");for(let t=0;t<e.length;t++){var i;const r=Vp(i=e[t]).call(i);n[t]&&r&&(n[t].ip6=r)}}const o=e.detail&&e.detail.candidate;let a;if(o){const[e,t]=o.split(":");e&&t&&(a={port:Number(t),ip:e,address:"".concat(e,":").concat(t)})}return{gatewayAddrs:n,apGatewayAddress:a,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function $O(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function XO(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat($O(t.width),"x").concat($O(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function QO(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function JO(e,t){let n,r,i;switch(t){case GO.CHOOSE_SERVER:r=4096,i="choose server";break;case GO.CLOUD_PROXY:r=1048576,i="proxy";break;case GO.CLOUD_PROXY_5:r=4194304,i="proxy5";break;case GO.CLOUD_PROXY_FALLBACK:r=4194310,i="proxy fallback";break;default:throw new SR(bC.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===r&&(n={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>KO(KO({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:KO(KO({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!n)throw new SR(bC.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(i," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return n}async function ZO(e,t){return await Wh.all(e.addresses.map((async e=>({address:YO(e.ip),tcpport:e.port,udpport:e.port,username:t&&qx("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():Hx.username,password:t&&qx("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await DC(t.toString()):Hx.password}))))}function eI(e,t){const n=t.getMediaStreamTrack(!0).getSettings(),r=t.videoHeight||n.height,i=t.videoWidth||n.width;return r&&i?Math.max(Math.min(r,i)/Math.min($O(e.height),$O(e.width)),1):(fR.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function tI(e){let{candidateType:t,relayProtocol:n,type:r,address:i,port:o,protocol:a}=e;const s={candidateType:t,relayProtocol:n,protocol:a};if("local-candidate"!==r){const e=i.split(".");e.length>=4&&(e[1]="*",e[2]="*"),s.address=e.join("."),s.port=o}return s}var nI,rI=r(JR),iI=Jn("Array").values,oI=fr,aI=Ze,sI=d,cI=iI,lI=Array.prototype,uI={DOMTokenList:!0,NodeList:!0},dI=function(e){var t=e.values;return e===lI||sI(lI,e)&&t===lI.values||aI(uI,oI(e))?cI:t},hI=r(dI),pI=N,fI=u,mI=D,gI=i,vI=to,yI=Vi,bI=L,EI=Xe,_I=K,wI=Object.assign,SI=Object.defineProperty,TI=fI([].concat),CI=!wI||gI((function(){if(pI&&1!==wI({b:1},wI(SI({},"a",{enumerable:!0,get:function(){SI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=wI({},e)[n]||vI(wI({},t)).join("")!=r}))?function(e,t){for(var n=EI(e),r=arguments.length,i=1,o=yI.f,a=bI.f;r>i;)for(var s,c=_I(arguments[i++]),l=o?TI(vI(c),o(c)):vI(c),u=l.length,d=0;u>d;)s=l[d++],pI&&!mI(a,c,s)||(n[s]=c[s]);return n}:wI,xI=rn,RI=oa,AI=Qt,OI=D,II=Xe,NI=function(e,t,n,r){try{return r?t(xI(n)[0],n[1]):t(n)}catch(t){RI(e,"throw",t)}},kI=Wo,PI=Vc,DI=Gn,LI=gf,MI=ta,jI=qo,UI=Array,FI=u,BI=2147483647,VI=/[^\0-\u007E]/,WI=/[.\u3002\uFF0E\uFF61]/g,HI="Overflow: input needs wider integers to process",GI=RangeError,zI=FI(WI.exec),KI=Math.floor,YI=String.fromCharCode,qI=FI("".charCodeAt),$I=FI([].join),XI=FI([].push),QI=FI("".replace),JI=FI("".split),ZI=FI("".toLowerCase),eN=function(e){return e+22+75*(e<26)},tN=function(e,t,n){var r=0;for(e=n?KI(e/700):e>>1,e+=KI(e/t);e>455;)e=KI(e/35),r+=36;return KI(r+36*e/(e+38))},nN=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=qI(e,n++);if(i>=55296&&i<=56319&&n<r){var o=qI(e,n++);56320==(64512&o)?XI(t,((1023&i)<<10)+(1023&o)+65536):(XI(t,i),n--)}else XI(t,i)}return t}(e);var n,r,i=e.length,o=128,a=0,s=72;for(n=0;n<e.length;n++)(r=e[n])<128&&XI(t,YI(r));var c=t.length,l=c;for(c&&XI(t,"-");l<i;){var u=BI;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<u&&(u=r);var d=l+1;if(u-o>KI((BI-a)/d))throw GI(HI);for(a+=(u-o)*d,o=u,n=0;n<e.length;n++){if((r=e[n])<o&&++a>BI)throw GI(HI);if(r==o){for(var h=a,p=36;;){var f=p<=s?1:p>=s+26?26:p-s;if(h<f)break;var m=h-f,g=36-f;XI(t,YI(eN(f+m%g))),h=KI(m/g),p+=36}XI(t,YI(eN(h))),s=tN(a,d,l==c),a=0,l++}}a++,o++}return $I(t,"")},rN=In,iN=N,oN=BE,aN=p,sN=Qt,cN=u,lN=ps,uN=hc,dN=bc,hN=Ze,pN=CI,fN=function(e){var t=II(e),n=PI(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=AI(i,r>2?arguments[2]:void 0));var a,s,c,l,u,d,h=jI(t),p=0;if(!h||this===UI&&kI(h))for(a=DI(t),s=n?new this(a):UI(a);a>p;p++)d=o?i(t[p],p):t[p],LI(s,p,d);else for(u=(l=MI(t,h)).next,s=n?new this:[];!(c=OI(u,l)).done;p++)d=o?NI(l,i,[c.value,p],!0):c.value,LI(s,p,d);return s.length=p,s},mN=wf,gN=wh.codeAt,vN=function(e){var t,n,r=[],i=JI(QI(ZI(e),WI,"."),".");for(t=0;t<i.length;t++)n=i[t],XI(r,zI(VI,n)?"xn--"+nN(n):n);return $I(r,".")},yN=vr,bN=ks,EN=Jc,_N=nw,wN=os,SN=wN.set,TN=wN.getterFor("URL"),CN=_N.URLSearchParams,xN=_N.getState,RN=aN.URL,AN=aN.TypeError,ON=aN.parseInt,IN=Math.floor,NN=Math.pow,kN=cN("".charAt),PN=cN(/./.exec),DN=cN([].join),LN=cN(1..toString),MN=cN([].pop),jN=cN([].push),UN=cN("".replace),FN=cN([].shift),BN=cN("".split),VN=cN("".slice),WN=cN("".toLowerCase),HN=cN([].unshift),GN="Invalid scheme",zN="Invalid host",KN="Invalid port",YN=/[a-z]/i,qN=/[\d+-.a-z]/i,$N=/\d/,XN=/^0x/i,QN=/^[0-7]+$/,JN=/^\d+$/,ZN=/^[\da-f]+$/i,ek=/[\0\t\n\r #%/:<>?@[\\\]^|]/,tk=/[\0\t\n\r #/:<>?@[\\\]^|]/,nk=/^[\u0000-\u0020]+/,rk=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ik=/[\t\n\r]/g,ok=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)HN(t,e%256),e=IN(e/256);return DN(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=LN(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ak={},sk=pN({},ak,{" ":1,'"':1,"<":1,">":1,"`":1}),ck=pN({},sk,{"#":1,"?":1,"{":1,"}":1}),lk=pN({},ck,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),uk=function(e,t){var n=gN(e,0);return n>32&&n<127&&!hN(t,e)?e:encodeURIComponent(e)},dk={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hk=function(e,t){var n;return 2==e.length&&PN(YN,kN(e,0))&&(":"==(n=kN(e,1))||!t&&"|"==n)},pk=function(e){var t;return e.length>1&&hk(VN(e,0,2))&&(2==e.length||"/"===(t=kN(e,2))||"\\"===t||"?"===t||"#"===t)},fk=function(e){return"."===e||"%2e"===WN(e)},mk={},gk={},vk={},yk={},bk={},Ek={},_k={},wk={},Sk={},Tk={},Ck={},xk={},Rk={},Ak={},Ok={},Ik={},Nk={},kk={},Pk={},Dk={},Lk={},Mk=function(e,t,n){var r,i,o,a=yN(e);if(t){if(i=this.parse(a))throw AN(i);this.searchParams=null}else{if(void 0!==n&&(r=new Mk(n,!0)),i=this.parse(a,null,r))throw AN(i);(o=xN(new CN)).bindURL(this),this.searchParams=o}};Mk.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,s,c=this,l=t||mk,u=0,d="",h=!1,p=!1,f=!1;for(e=yN(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=UN(e,nk,""),e=UN(e,rk,"$1")),e=UN(e,ik,""),r=fN(e);u<=r.length;){switch(i=r[u],l){case mk:if(!i||!PN(YN,i)){if(t)return GN;l=vk;continue}d+=WN(i),l=gk;break;case gk:if(i&&(PN(qN,i)||"+"==i||"-"==i||"."==i))d+=WN(i);else{if(":"!=i){if(t)return GN;d="",l=vk,u=0;continue}if(t&&(c.isSpecial()!=hN(dk,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&dk[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Ak:c.isSpecial()&&n&&n.scheme==c.scheme?l=yk:c.isSpecial()?l=wk:"/"==r[u+1]?(l=bk,u++):(c.cannotBeABaseURL=!0,jN(c.path,""),l=Pk)}break;case vk:if(!n||n.cannotBeABaseURL&&"#"!=i)return GN;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=mN(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Lk;break}l="file"==n.scheme?Ak:Ek;continue;case yk:if("/"!=i||"/"!=r[u+1]){l=Ek;continue}l=Sk,u++;break;case bk:if("/"==i){l=Tk;break}l=kk;continue;case Ek:if(c.scheme=n.scheme,i==nI)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=mN(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())l=_k;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=mN(n.path),c.query="",l=Dk;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=mN(n.path),c.path.length--,l=kk;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=mN(n.path),c.query=n.query,c.fragment="",l=Lk}break;case _k:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=kk;continue}l=Tk}else l=Sk;break;case wk:if(l=Sk,"/"!=i||"/"!=kN(d,u+1))continue;u++;break;case Sk:if("/"!=i&&"\\"!=i){l=Tk;continue}break;case Tk:if("@"==i){h&&(d="%40"+d),h=!0,o=fN(d);for(var m=0;m<o.length;m++){var g=o[m];if(":"!=g||f){var v=uk(g,lk);f?c.password+=v:c.username+=v}else f=!0}d=""}else if(i==nI||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==d)return"Invalid authority";u-=fN(d).length+1,d="",l=Ck}else d+=i;break;case Ck:case xk:if(t&&"file"==c.scheme){l=Ik;continue}if(":"!=i||p){if(i==nI||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==d)return zN;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",l=Nk,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),d+=i}else{if(""==d)return zN;if(a=c.parseHost(d))return a;if(d="",l=Rk,t==xk)return}break;case Rk:if(!PN($N,i)){if(i==nI||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=d){var y=ON(d,10);if(y>65535)return KN;c.port=c.isSpecial()&&y===dk[c.scheme]?null:y,d=""}if(t)return;l=Nk;continue}return KN}d+=i;break;case Ak:if(c.scheme="file","/"==i||"\\"==i)l=Ok;else{if(!n||"file"!=n.scheme){l=kk;continue}if(i==nI)c.host=n.host,c.path=mN(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=mN(n.path),c.query="",l=Dk;else{if("#"!=i){pk(DN(mN(r,u),""))||(c.host=n.host,c.path=mN(n.path),c.shortenPath()),l=kk;continue}c.host=n.host,c.path=mN(n.path),c.query=n.query,c.fragment="",l=Lk}}break;case Ok:if("/"==i||"\\"==i){l=Ik;break}n&&"file"==n.scheme&&!pk(DN(mN(r,u),""))&&(hk(n.path[0],!0)?jN(c.path,n.path[0]):c.host=n.host),l=kk;continue;case Ik:if(i==nI||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&hk(d))l=kk;else if(""==d){if(c.host="",t)return;l=Nk}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Nk}continue}d+=i;break;case Nk:if(c.isSpecial()){if(l=kk,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=nI&&(l=kk,"/"!=i))continue}else c.fragment="",l=Lk;else c.query="",l=Dk;break;case kk:if(i==nI||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(s=WN(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||jN(c.path,"")):fk(d)?"/"==i||"\\"==i&&c.isSpecial()||jN(c.path,""):("file"==c.scheme&&!c.path.length&&hk(d)&&(c.host&&(c.host=""),d=kN(d,0)+":"),jN(c.path,d)),d="","file"==c.scheme&&(i==nI||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)FN(c.path);"?"==i?(c.query="",l=Dk):"#"==i&&(c.fragment="",l=Lk)}else d+=uk(i,ck);break;case Pk:"?"==i?(c.query="",l=Dk):"#"==i?(c.fragment="",l=Lk):i!=nI&&(c.path[0]+=uk(i,ak));break;case Dk:t||"#"!=i?i!=nI&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":uk(i,ak)):(c.fragment="",l=Lk);break;case Lk:i!=nI&&(c.fragment+=uk(i,sk))}u++}},parseHost:function(e){var t,n,r;if("["==kN(e,0)){if("]"!=kN(e,e.length-1))return zN;if(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return kN(e,d)};if(":"==h()){if(":"!=kN(e,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&PN(ZN,h());)t=16*t+ON(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!PN($N,h()))return;for(;PN($N,h());){if(o=ON(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(VN(e,1,-1)),!t)return zN;this.host=t}else if(this.isSpecial()){if(e=vN(e),PN(ek,e))return zN;if(t=function(e){var t,n,r,i,o,a,s,c=BN(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==kN(i,0)&&(o=PN(XN,i)?16:8,i=VN(i,8==o?1:2)),""===i)a=0;else{if(!PN(10==o?JN:8==o?QN:ZN,i))return e;a=ON(i,o)}jN(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=NN(256,5-t))return null}else if(a>255)return null;for(s=MN(n),r=0;r<n.length;r++)s+=n[r]*NN(256,3-r);return s}(e),null===t)return zN;this.host=t}else{if(PN(tk,e))return zN;for(t="",n=fN(e),r=0;r<n.length;r++)t+=uk(n[r],ak);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return hN(dk,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&hk(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ok(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+DN(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw AN(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new jk(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ok(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(yN(e)+":",mk)},getUsername:function(){return this.username},setUsername:function(e){var t=fN(yN(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=uk(t[n],lk)}},getPassword:function(){return this.password},setPassword:function(e){var t=fN(yN(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=uk(t[n],lk)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ok(e):ok(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ck)},getHostname:function(){var e=this.host;return null===e?"":ok(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,xk)},getPort:function(){var e=this.port;return null===e?"":yN(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=yN(e))?this.port=null:this.parse(e,Rk))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+DN(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Nk))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=yN(e))?this.query=null:("?"==kN(e,0)&&(e=VN(e,1)),this.query="",this.parse(e,Dk)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=yN(e))?("#"==kN(e,0)&&(e=VN(e,1)),this.fragment="",this.parse(e,Lk)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var jk=function(e){var t=dN(this,Uk),n=EN(arguments.length,1)>1?arguments[1]:void 0,r=SN(t,new Mk(e,!1,n));iN||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Uk=jk.prototype,Fk=function(e,t){return{get:function(){return TN(this)[e]()},set:t&&function(e){return TN(this)[t](e)},configurable:!0,enumerable:!0}};if(iN&&(uN(Uk,"href",Fk("serialize","setHref")),uN(Uk,"origin",Fk("getOrigin")),uN(Uk,"protocol",Fk("getProtocol","setProtocol")),uN(Uk,"username",Fk("getUsername","setUsername")),uN(Uk,"password",Fk("getPassword","setPassword")),uN(Uk,"host",Fk("getHost","setHost")),uN(Uk,"hostname",Fk("getHostname","setHostname")),uN(Uk,"port",Fk("getPort","setPort")),uN(Uk,"pathname",Fk("getPathname","setPathname")),uN(Uk,"search",Fk("getSearch","setSearch")),uN(Uk,"searchParams",Fk("getSearchParams")),uN(Uk,"hash",Fk("getHash","setHash"))),lN(Uk,"toJSON",(function(){return TN(this).serialize()}),{enumerable:!0}),lN(Uk,"toString",(function(){return TN(this).serialize()}),{enumerable:!0}),RN){var Bk=RN.createObjectURL,Vk=RN.revokeObjectURL;Bk&&lN(jk,"createObjectURL",sN(Bk,RN)),Vk&&lN(jk,"revokeObjectURL",sN(Vk,RN))}bN(jk,"URL"),rN({global:!0,constructor:!0,forced:!oN,sham:!iN},{URL:jk});var Wk=In,Hk=i,Gk=Jc,zk=vr,Kk=BE,Yk=ce("URL");Wk({target:"URL",stat:!0,forced:!(Kk&&Hk((function(){Yk.canParse()})))},{canParse:function(e){var t=Gk(arguments.length,1),n=zk(e),r=t<2||void 0===arguments[1]?void 0:zk(arguments[1]);try{return!!new Yk(n,r)}catch(e){return!1}}});var qk=r(re.URL);const $k={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function Xk(){return $k}function Qk(){return"setSinkId"in HTMLAudioElement.prototype&&(!qx("RESTRICTION_SET_PLAYBACK_DEVICE")||(YT()||$T())&&!hC())}function Jk(){return!$k.supportUnifiedPlan||qx("CHROME_FORCE_PLAN_B")&&pC()}let Zk=function(e){return e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change",e}({});function eP(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function tP(e,t,n,r,i){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:i}}function nP(e,t,n,r,i){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:i}}function rP(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const iP={"90p":tP(160,90),"90p_1":tP(160,90),"120p":tP(160,120,15,30,65),"120p_1":tP(160,120,15,30,65),"120p_3":tP(120,120,15,30,50),"120p_4":tP(212,120),"180p":tP(320,180,15,30,140),"180p_1":tP(320,180,15,30,140),"180p_3":tP(180,180,15,30,100),"180p_4":tP(240,180,15,30,120),"240p":tP(320,240,15,40,200),"240p_1":tP(320,240,15,40,200),"240p_3":tP(240,240,15,40,140),"240p_4":tP(424,240,15,40,220),"360p":tP(640,360,15,80,400),"360p_1":tP(640,360,15,80,400),"360p_3":tP(360,360,15,80,260),"360p_4":tP(640,360,30,80,600),"360p_6":tP(360,360,30,80,400),"360p_7":tP(480,360,15,80,320),"360p_8":tP(480,360,30,80,490),"360p_9":tP(640,360,15,80,800),"360p_10":tP(640,360,24,80,800),"360p_11":tP(640,360,24,80,1e3),"480p":tP(640,480,15,100,500),"480p_1":tP(640,480,15,100,500),"480p_2":tP(640,480,30,100,1e3),"480p_3":tP(480,480,15,100,400),"480p_4":tP(640,480,30,100,750),"480p_6":tP(480,480,30,100,600),"480p_8":tP(848,480,15,100,610),"480p_9":tP(848,480,30,100,930),"480p_10":tP(640,480,10,100,400),"720p":tP(1280,720,15,120,1130),"720p_auto":tP(1280,720,30,900,3e3),"720p_1":tP(1280,720,15,120,1130),"720p_2":tP(1280,720,30,120,2e3),"720p_3":tP(1280,720,30,120,1710),"720p_5":tP(960,720,15,120,910),"720p_6":tP(960,720,30,120,1380),"1080p":tP(1920,1080,15,120,2080),"1080p_1":tP(1920,1080,15,120,2080),"1080p_2":tP(1920,1080,30,120,3e3),"1080p_3":tP(1920,1080,30,120,3150),"1080p_5":tP(1920,1080,60,120,4780),"1440p":tP(2560,1440,30,120,4850),"1440p_1":tP(2560,1440,30,120,4850),"1440p_2":tP(2560,1440,60,120,7350),"4k":tP(3840,2160,30,120,8910),"4k_1":tP(3840,2160,30,120,8910),"4k_3":tP(3840,2160,60,120,13500)},oP={"480p":nP(640,480,5),"480p_1":nP(640,480,5),"480p_2":nP(640,480,30),"480p_3":nP(640,480,15),"720p":nP(1280,720,5),"720p_auto":tP(1280,720,30,900,3e3),"720p_1":nP(1280,720,5),"720p_2":nP(1280,720,30),"720p_3":nP(1280,720,15),"1080p":nP(1920,1080,5),"1080p_1":nP(1920,1080,5),"1080p_2":nP(1920,1080,30),"1080p_3":nP(1920,1080,15)},aP={"1SL1TL":rP(1,1),"3SL3TL":rP(3,3),"2SL3TL":rP(2,3)};function sP(e){return e||(e="480p_1"),"string"==typeof e?Object.assign({},iP[e]):e}function cP(e){return"string"==typeof e?Object.assign({},oP[e]):e}function lP(e){return"string"==typeof e?Object.assign({},aP[e]):e}const uP={speech_low_quality:eP(16e3,!1),speech_standard:eP(32e3,!1,18),music_standard:eP(48e3,!1),standard_stereo:eP(48e3,!0,56),high_quality:eP(48e3,!1,128),high_quality_stereo:eP(48e3,!0,192)};function dP(e){return"string"==typeof e?Object.assign({},uP[e]):e}const hP=[];function pP(e){return wC(e,"mediaSource",["screen","window","application"]),!0}let fP=function(e){return e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track",e}({}),mP=function(e){return e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream",e.SCREEN_LOW_TRACK="screen_low_track",e}({}),gP=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e}({}),vP=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.HIGH_STREAM_LAYER1=4]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=5]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=6]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=7]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=8]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=9]="HIGH_STREAM_LAYER6",e}({}),yP=function(e){return e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e[e.HIGH_STREAM_LAYER1=3]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=4]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=5]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=6]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=7]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=8]="HIGH_STREAM_LAYER6",e}({}),bP=function(e){return e.TRANSCEIVER_UPDATED="transceiver-updated",e.SEI_TO_SEND="sei-to-send",e.SEI_RECEIVED="sei-received",e.TRACK_UPDATED="track-updated",e}({}),EP=function(e){return e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed",e}({}),_P=function(e){return e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.VIDEO_STATE_CHANGED="video-state-changed",e}({}),wP=function(e){return e.AUDIO="audio",e.VIDEO="video",e.DATA="data",e}({}),SP=function(e){return e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source",e}({});const TP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},CP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},xP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},RP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},AP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let OP=function(e){return e.ON_TRACK="on_track",e.ON_NODE="on_node",e}({}),IP=function(e){return e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints",e}({}),NP=function(e){return e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND",e}({}),kP=function(e){return e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",e}({}),PP=function(e){return e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata",e}({}),DP=function(e){return e[e.VideoStateStopped=0]="VideoStateStopped",e[e.VideoStateStarting=1]="VideoStateStarting",e[e.VideoStateDecoding=2]="VideoStateDecoding",e[e.VideoStateFrozen=3]="VideoStateFrozen",e}({});const LP={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let MP=function(e){return e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error",e}({});function jP(e,t,n,r,i){var o,a,s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=Xr(o=rI(a=n.slice()).call(a)).call(o,(function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}function UP(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FP(Object(n),!0).forEach((function(t){UP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class VP extends LC{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(bP.TRACK_UPDATED,e),this.mediaStreamTrack=e)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,t){super(),UP(this,"trackMediaType",void 0),UP(this,"_ID",void 0),UP(this,"_rtpTransceiver",void 0),UP(this,"_lowRtpTransceiver",void 0),UP(this,"_hints",[]),UP(this,"_isClosed",!1),UP(this,"_originMediaStreamTrack",void 0),UP(this,"mediaStreamTrack",void 0),UP(this,"_external",{}),this._ID=t||gx(8,"track-"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(e){kr(hP).call(hP,e)||hP.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||sx((()=>{var e;wR.reportApiInvoke(null,{name:UC.GET_MEDIA_STREAM_TRACK,options:[],tag:FC.TRACER}).onSuccess((null===(e=this._mediaStreamTrack)||void 0===e?void 0:e.label)||"")}),this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===gP.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=hP.indexOf(e);-1!==t&&hP.splice(t,1)}(this),this.emit(EP.CLOSED),this.removeAllListeners(bP.SEI_RECEIVED)}_updateRtpTransceiver(e,t){if(t===gP.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(bP.TRANSCEIVER_UPDATED,e,t)}}class WP extends VP{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,t){super(e,t),UP(this,"_enabled",!0),UP(this,"_muted",!1),UP(this,"_isExternalTrack",!1),UP(this,"_isClosed",!1),UP(this,"_enabledMutex",void 0),UP(this,"processor",void 0),UP(this,"_processorContext",void 0),UP(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new Ax("".concat(this.getTrackId())),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,fR.debug("[".concat(this.getTrackId(),"] close")),this.emit(fP.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=n,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await QC(this,fP.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){fR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(EP.TRACK_ENDED)}stateCheck(e,t){if(fR.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),_C(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new EC(bC.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",fR);if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new EC(bC.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",fR)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():Wh.resolve([])}}const HP=window.AudioContext||window.webkitAudioContext;let GP=null;const zP=new class extends LC{constructor(){super(...arguments),UP(this,"prevState",void 0),UP(this,"curState",void 0),UP(this,"currentTime",void 0),UP(this,"currentTimeStuckAt",void 0),UP(this,"interruptDetectorTrack",void 0),UP(this,"onLocalAudioTrackMute",(()=>{fR.info("ios15-interruption-start"),this.emit(Zk.IOS_15_16_INTERRUPTION_START)})),UP(this,"onLocalAudioTrackUnmute",(async()=>{fR.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?fR.info("ios15-interruption-end-canceled"):(GP&&await GP.suspend(),this.emit(Zk.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){fR.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){fR.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function KP(){if(!GP){if(function(){if(!HP)return void fR.error("your browser is not support web audio");fR.info("create audio context");const e=BP({},qx("WEBAUDIO_INIT_OPTIONS"));fR.debug("audio context init option:",JSON.stringify(e)),GP=new HP(e),zP.curState=GP.state,GP.onstatechange=()=>{zP.prevState=zP.curState,zP.curState=GP?GP.state:void 0;const{prevState:e,curState:t}=zP,n="running"===t,r="interrupted"===t,i="running"===e,o="suspended"===e,a="interrupted"===e,s=WT().osVersion;(QT()||lC())&&i&&r&&(fR.info("ios".concat(s,"-interruption-start")),zP.emit(Zk.IOS_INTERRUPTION_START)),(QT()||lC())&&(o||a)&&n&&(fR.info("ios".concat(s,"-interruption-end")),zP.emit(Zk.IOS_INTERRUPTION_END)),e!==t&&zP.emit(Zk.STATE_CHANGE,t,e)},setInterval((()=>{var e;const t=null===(e=GP)||void 0===e?void 0:e.currentTime;zP.currentTime!==t?(zP.currentTimeStuckAt&&(fR.debug("AudioContext current time resume at ".concat(t)),zP.currentTimeStuckAt=void 0),zP.currentTime=t):(t!==zP.currentTimeStuckAt&&(wR.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:FC.TRACER}).onSuccess(),fR.warning("AudioContext current time stuck at ".concat(t))),zP.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,r=!1,i=!1,o=!1;function a(t){"running"===e.state?s(!1):QT()||lC()?"suspended"===e.state&&(s(!0),t&&e.resume().then(c,c)):"closed"!==e.state&&(s(!0),t&&e.resume().then(c,c))}function s(e){if(r!==e){r=e;for(let n=0,r=t;n<r.length;n+=1){const t=r[n];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){a(!1)}function l(){a(!0)}function u(e){if(!o)if(n.paused)if(e){let t;d(!1),o=!0;try{t=n.play(),t?t.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(e){h()}}else d(!0);else d(!1)}function d(e){if(i!==e){i=e;for(let n=0,r=t;n<r.length;n++){const t=r[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),o=!1,u(!1)}function p(){u(!0)}if(QT()){const t=e.createMediaStreamDestination(),r=document.createElement("div");r.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=r.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,u(!0)}zP.on(Zk.STATE_CHANGE,(function(){a(!0)})),a(!1)}(GP)}(),!GP)throw new EC(bC.NOT_SUPPORTED,"can not create audio context");return GP}return GP}function YP(e){if(function(){if(null!==qP)return qP;const e=KP(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);let i=!1;try{t.disconnect(n)}catch(e){i=!0}return t.disconnect(),qP=i,i}())return;const t=e.connect,n=e.disconnect;e.connect=(n,r,i)=>{var o;return e._inputNodes||(e._inputNodes=[]),kr(o=e._inputNodes).call(o,n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,i)):t.call(e,n,r)),e},e.disconnect=(r,i,o)=>{n.call(e),r?tx(e._inputNodes,r):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let qP=null;function $P(e,t){let n=!1;const r=1/t;if(qx("DISABLE_WEBAUDIO")){const t=window.setInterval((()=>{n?window.clearInterval(t):e(performance.now()/1e3)}),1e3*r)}else{const t=KP();let i=t.createGain();i.gain.value=0,i.connect(t.destination);const o=()=>{if(n)return void(i=null);const a=t.createOscillator();a.onended=o,a.connect(i),a.start(0),a.stop(t.currentTime+r),e(t.currentTime)};o()}return()=>{n=!0}}class XP{constructor(){UP(this,"context",void 0),UP(this,"analyserNode",void 0),UP(this,"sourceNode",void 0),this.context=KP(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||QT()||lC()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=Xr(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){fR.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class QP extends LC{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),UP(this,"outputNode",void 0),UP(this,"outputTrack",void 0),UP(this,"isPlayed",!1),UP(this,"sourceNode",void 0),UP(this,"context",void 0),UP(this,"audioBufferNode",void 0),UP(this,"destNode",void 0),UP(this,"audioOutputLevel",0),UP(this,"volumeLevelAnalyser",void 0),UP(this,"_processedNode",void 0),UP(this,"playNode",void 0),UP(this,"isDestroyed",!1),UP(this,"onNoAudioInput",void 0),UP(this,"isNoAudioInput",!1),UP(this,"_noAudioInputCount",0),this.context=KP(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),YP(this.outputNode),this.volumeLevelAnalyser=new XP}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(SP.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!Xk().webAudioMediaStreamDest)throw new EC(bC.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&rx((()=>{zP.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;QT()||lC()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let r=!1;for(let i=0;i<n.length;i++)0!==n[i]&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await mx(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class JP extends QP{get isFreeze(){return!1}constructor(e,t,n){var r;if(super(),UP(this,"sourceNode",void 0),UP(this,"track",void 0),UP(this,"clonedTrack",void 0),UP(this,"audioElement",void 0),UP(this,"isCurrentTrackCloned",!1),UP(this,"isRemoteTrack",!1),UP(this,"originVolumeLevelAnalyser",void 0),UP(this,"rebuildWebAudio",(async()=>{if(fR.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void fR.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>fR.info("resume success"))),fR.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),YP(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),YP(this.outputNode),this.emit(SP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new EC(bC.UNEXPECTED_ERROR);this.track=e;const i=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(i),YP(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,fR.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));YP(t),this.originVolumeLevelAnalyser=new XP,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=i;const o=WT();t&&o.os===jT.IOS&&Number(null===(r=o.osVersion)||void 0===r?void 0:r.split(".")[0])<15&&(zP.on(Zk.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),YP(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(SP.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),zP.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),fR.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));YP(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function ZP(e,t,n){const r=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,i={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:r(t.height,1080),maxWidth:r(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(i.video.mandatory.maxFrameRate=t.frameRate.max,i.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(i.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(i)}async function eD(e,t){const n=await tD(e.mediaSource),{sourceId:r,audio:i}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Wh(((n,r)=>{const i=document.createElement("div");i.innerText="share screen",i.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const a=document.createElement("div");a.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",a.setAttribute("style","height: 12%;");const s=document.createElement("div");s.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const c=document.createElement("div");c.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const l=document.createElement("button");l.innerHTML="cancel",l.setAttribute("style","width: 85px;"),l.onclick=()=>{document.body.removeChild(h);const e=new Error("NotAllowedError");e.name="NotAllowedError",r(e)};let u=t;const d=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=u,e.onchange=()=>{u=e.checked},d.appendChild(e),d.appendChild(t)}c.appendChild(d),c.appendChild(l),o.appendChild(a),o.appendChild(s),o.appendChild(c);const h=document.createElement("div");h.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),h.appendChild(i),h.appendChild(o),document.body.appendChild(h),e.map((e=>{if(e.id){const t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let r=e.thumbnail;try{const{width:e}=r.getSize();e>1920&&(r=r.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",t.onclick=()=>{document.body.removeChild(h),n({sourceId:e.id,audio:u})},s.appendChild(t)}}))}))}(n,t);return await ZP(r,e,i)}async function tD(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=jC();if(!n)throw console.error("failed to fetch electron, please mount it to window"),new EC(bC.ELECTRON_IS_NULL);let r=null;try{var i;r=(null===(i=n.desktopCapturer)||void 0===i?void 0:i.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch(e){r=null}r&&r.then||(r=new Wh(((e,r)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?r(t):e(n)}))})));try{return await r}catch(e){throw new EC(bC.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}const nD=new Ax("safari");let rD=!1,iD=!1;async function oD(e,t){let n=0,r=null;for(;n<2;)try{r=await aD(e,t,n>0);break}catch(e){if(e instanceof EC)throw fR.error("[".concat(t,"] ").concat(e.toString())),e;const r=sD(e.name||e.code||e,e.message);if(r.code===bC.MEDIA_OPTION_INVALID){fR.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await mx(500);continue}throw fR.error("[".concat(t,"] ").concat(r.toString())),r}if(!r)throw new EC(bC.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function aD(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new EC(bC.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=Xk(),i=new MediaStream;if(e.audioSource&&i.addTrack(e.audioSource),e.videoSource&&i.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return fR.debug("Using Video Source/ Audio Source"),i;if(e.screen)if(jC())e.screen.sourceId?cD(i,await ZP(e.screen.sourceId,e.screen,!!e.screenAudio)):cD(i,await eD(e.screen,!!e.screenAudio));else if(YT()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new EC(bC.NOT_SUPPORTED,"This browser does not support screen sharing");fR.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(a=e.screen.extensionId,s=t,new Wh(((e,t)=>{try{chrome.runtime.sendMessage(a,{getStream:!0},(n=>{if(!n||!n.streamId)return fR.error("[".concat(s,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new EC(bC.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){fR.error("[".concat(s,"] AgoraRTC screensharing plugin is not accessible(").concat(a,")"),e.toString()),t(new EC(bC.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,cD(i,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){var o;e.screen.mediaSource&&pP(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(o=e.screen.displaySurface)&&void 0!==o?o:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource},{selfBrowserSurface:r,surfaceSwitching:a,systemAudio:s}=e.screen,c={selfBrowserSurface:r,surfaceSwitching:a,systemAudio:s};!r&&delete c.selfBrowserSurface,!a&&delete c.surfaceSwitching,!s&&delete c.systemAudio,fR.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:e.screenAudio,controls:c})),cD(i,await navigator.mediaDevices.getDisplayMedia(BP({video:n,audio:e.screenAudio},c)))}else{if(!XT())throw fR.error("[".concat(t,"] This browser does not support screenSharing")),new EC(bC.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&pP(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};fR.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),cD(i,await navigator.mediaDevices.getUserMedia(n))}}var a,s;if(!e.video&&!e.audio)return i;let c={video:e.video,audio:e.audio},l=qx("MEDIA_DEVICE_CONSTRAINTS");if(l)try{"string"==typeof l&&(l=JSON.parse(l)),c=wx(c,l)}catch(e){}fR.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(c)),WT();let u,d=null;(qT()||QT()||KT())&&(d=await nD.lock());try{u=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw d&&d(),e}return c.audio&&(rD=!0),c.video&&(iD=!0),cD(i,u),d&&d(),i}function sD(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new EC(bC.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new EC(bC.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new EC(bC.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new EC(bC.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new EC(bC.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new EC(bC.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return fR.error("getUserMedia unexpected error",e),new EC(bC.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function cD(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],i=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(r&&e.removeTrack(r),e.addTrack(o)),i&&(n&&e.removeTrack(n),e.addTrack(i))}const lD=new class extends LC{get state(){return this._state}set state(e){e!==this._state&&(this.emit(kP.STATE_CHANGE,e),this._state=e)}constructor(){super(),UP(this,"_state",NP.IDLE),UP(this,"isAccessMicrophonePermission",!1),UP(this,"isAccessCameraPermission",!1),UP(this,"lastAccessMicrophonePermission",!1),UP(this,"lastAccessCameraPermission",!1),UP(this,"checkdeviceMatched",!1),UP(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(qx("ENUMERATE_DEVICES_INTERVAL")||(fC()||GT()===jT.HARMONY_OS)&&pC())&&this.updateDevicesInfo()}),qx("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>fR.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new EC(bC.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),i=this.checkMediaDeviceInfoIsOk(r);let o=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;i.audio&&(o=!1),i.video&&(a=!1);let s=null,c=null,l=null;if(!n&&(o||a)){if(nD.isLocked&&(fR.debug("[device manager] wait GUM lock"),(await nD.lock())(),fR.debug("[device manager] GUM unlock")),rD&&(o=!1,this.isAccessMicrophonePermission=!0),iD&&(a=!1,this.isAccessCameraPermission=!0),fR.debug("[device manager] check media device permissions",e,t,o,a),o&&a){try{l=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=sD(e.name||e.code||e,e.message);if(t.code===bC.PERMISSION_DENIED)throw t;fR.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=sD(e.name||e.code||e,e.message);if(t.code===bC.PERMISSION_DENIED)throw t;fR.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=sD(e.name||e.code||e,e.message);if(t.code===bC.PERMISSION_DENIED)throw t;fR.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}fR.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,e}catch(e){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,new EC(bC.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new EC(bC.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=NP.INITING;try{await this.updateDevicesInfo(),this.state=NP.INITEND}catch(e){throw fR.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=NP.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new EC(bC.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?fR.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):fR.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):fR.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const r=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(r?r.state:"INACTIVE")){const r={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}r&&(r.updateAt=t)})),this.deviceInfoMap.forEach(((e,r)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==NP.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(kP.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(kP.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(kP.PLAYOUT_DEVICE_CHANGED,e)}})),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r={audio:!1,video:!1};for(const i of t)if(i.label&&i.deviceId){r.audio=!0;break}for(const i of n)if(i.label&&i.deviceId){r.video=!0;break}return r}};let uD=!1;const dD=new class extends LC{constructor(){super(...arguments),UP(this,"onAutoplayFailed",void 0),UP(this,"onAudioAutoplayFailed",void 0)}};function hD(){if(WT(),!uD){const e=t=>{t.preventDefault(),uD=!1,mC()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};uD=!0,mC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),fR.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),dD.onAutoplayFailed?dD.onAutoplayFailed():dD.onAudioAutoplayFailed?fR.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):fR.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),dD.emit("autoplay-failed")}}function pD(e,t,n,r){if(!e)return;const i=wR.getBaseInfoBySessionId(e);if(!i)return;const o=i.info,a=Date.now(),s=BP(BP({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:a,elapse:a-i.startTime,cbRegistered:dD.onAutoplayFailed||dD.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});wR.send({type:bR.AUTOPLAY_FAILED,data:s},!0)}const fD=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],mD=new class{constructor(){UP(this,"onAutoplayFailed",void 0),UP(this,"elementMap",new Map),UP(this,"elementStateMap",new Map),UP(this,"elementsNeedToResume",[]),UP(this,"sinkIdMap",new Map),UP(this,"autoResumeAfterInterruption",(e=>{Array.from(this.elementMap.entries()).forEach((t=>{let[n,r]=t;const i=this.elementStateMap.get(n),o=r.srcObject.getAudioTracks()[0],a=o&&o.readyState;if(fR.debug("resume after interrupted, ele: ".concat(i," audio: ").concat(a," ").concat(e)),"live"===a){if(e)return r.pause(),void r.play();if("running"===zP.curState)return aC()?(r.pause(),void r.play()):void(i&&"paused"===i&&r.play())}}))})),UP(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&"live"===r.readyState&&(fR.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),zP.on(Zk.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),zP.on(Zk.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),zP.on(Zk.STATE_CHANGE,(()=>{QT()&&"suspended"===zP.prevState&&"running"===zP.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new EC(bC.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const i=document.createElement("audio");i.autoplay=!0,i.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,i),this.elementMap.set(t,i),this.elementStateMap.set(t,PP.INIT),this.setVolume(t,n);const o=this.sinkIdMap.get(t);if(o)try{i.setSinkId(o).catch((e=>{fR.warning("[".concat(t,"] set sink id failed"),e.toString())}))}catch(e){fR.warning("[".concat(t,"] set sink id failed"),e.toString())}const a=i.play();a&&a.then&&a.catch((e=>{r&&pD(r,"audio",e.message,t),fR.warning("audio element play warning",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(fR.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(i),rx((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),hD()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&"playing"===this.elementStateMap.get(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){fD.forEach((n=>{t.addEventListener(n,(n=>{const r=this.elementStateMap.get(e),i="pause"===n.type?"paused":n.type;if(fR.debug("[".concat(e,"] audio-element-status change ").concat(r," => ").concat(i)),"error"===n.type){const n=null==t?void 0:t.error;n&&fR.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(e,i)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{fR.debug("Auto resume audio element success")})).catch((e=>{fR.warning("Auto resume audio element failed!",e)}))})),this.elementsNeedToResume=[]};new Wh((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{mC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))}))}};function gD(){return function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new EC(bC.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",fR);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=r.apply(this,t);return i instanceof Wh?new Wh(((e,t)=>{i.then(e).catch(t)})):i}),n}}class vD extends LC{constructor(e){super(),UP(this,"name","VideoProcessorDestination"),UP(this,"ID","0"),UP(this,"_source",void 0),UP(this,"videoContext",void 0),UP(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new EC(bC.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new EC(bC.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(OP.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(OP.ON_TRACK,void 0)}}class yD extends LC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),UP(this,"constraintsMap",new Map),UP(this,"statsRegistry",[]),UP(this,"usageRegistry",[]),UP(this,"trackId",void 0),UP(this,"direction",void 0),UP(this,"_chained",!1),this.trackId=e,this.direction=t}async getConstraints(){return await XC(this,IP.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return fR.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),QC(this,IP.REQUEST_UPDATE_CONSTRAINTS,Array.from(hI(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return fR.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),QC(this,IP.REQUEST_UPDATE_CONSTRAINTS,Array.from(hI(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){fR.error(new EC(bC.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof Wh&&(n=await n),e.push(BP(BP({},n),{},{direction:this.direction}))}catch(e){fR.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class bD extends LC{constructor(e){super(),UP(this,"name","AudioProcessorDestination"),UP(this,"ID","0"),UP(this,"inputTrack",void 0),UP(this,"inputNode",void 0),UP(this,"audioProcessorContext",void 0),UP(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new EC(bC.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new EC(bC.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(OP.ON_TRACK,void 0),this.emit(OP.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(OP.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(OP.ON_NODE,this.inputNode))}}class ED extends LC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,n){super(),UP(this,"constraintsMap",new Map),UP(this,"statsRegistry",[]),UP(this,"audioContext",void 0),UP(this,"trackId",void 0),UP(this,"direction",void 0),UP(this,"usageRegistry",[]),UP(this,"_chained",!1),this.audioContext=e,this.trackId=t,this.direction=n}async getConstraints(){return XC(this,IP.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return fR.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),QC(this,IP.REQUEST_UPDATE_CONSTRAINTS,Array.from(hI(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),QC(this,IP.REQUEST_UPDATE_CONSTRAINTS,Array.from(hI(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){fR.error(new EC(bC.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof Wh&&(n=await n),e.push(BP(BP({},n),{},{direction:this.direction}))}catch(e){fR.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class _D extends LC{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),UP(this,"context",void 0),UP(this,"processSourceNode",void 0),UP(this,"outputTrack",void 0),UP(this,"processedNode",void 0),UP(this,"clonedTrack",void 0),UP(this,"outputNode",void 0),this.outputNode=new wD}setVolume(){}createOutputTrack(){throw new EC(bC.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class wD{disconnect(){}connect(){}}function SD(e){return new Wh(((t,n)=>{let r=!1;const i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.muted=!0,i.autoplay=!0,i.setAttribute("playsinline",""),i.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(i);const o=QT()?"canplay":"playing";i.addEventListener(o,(()=>{const e=i.videoWidth,n=i.videoHeight;!e&&XT()||(r=!0,i.srcObject=null,i.remove(),t([e,n]))})),i.srcObject=new MediaStream([e]),i.play().catch(yx),setTimeout((()=>{r||(i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))}),4e3)}))}function TD(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const n=sP(e.encoderConfig);return null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height),!dC()&&n.frameRate&&(t.frameRate=n.frameRate),$T()&&"object"==typeof t.frameRate&&(t.frameRate.max=60),XT()&&(t.frameRate={ideal:30,max:30}),t}function CD(e){const t={};return dC()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,YT()&&e.ANS&&(t.googHighpassFilter=e.ANS))),t}function xD(e){const t=CD(e);if(e.encoderConfig){const n=dP(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),fC()&&(t.sampleRate=void 0),t}const RD=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:n,width:r,height:i}=e.getMediaStreamTrackSettings();let{frameRate:o=n,width:a=r,height:s=i}=t;if(!o||!a||!s)return;a=Tx(a),s=Tx(s),o=Tx(o);const{max:c,min:l}=function(e,t,n){const r=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75);return{min:Math.floor(r),max:Math.floor(4*r)}}(a,s,o),{bitrateMax:u,bitrateMin:d}=t||{};u||fR.debug("calculate bitrate: [w: ".concat(a,", h: ").concat(s,", fps: ").concat(o,"] => [brMax: ").concat(u,", brMin: ").concat(d,"]"));const{maxFramerate:h}=qx("ENCODER_CONFIG_LIMIT");return h&&"number"==typeof h&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:u||c,bitrateMin:d||l,scaleResolutionDownBy:1,scale:0}},AD=async(e,t,n)=>await(async(e,t,n)=>{const r=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return Uint8Array.from(t)}(Cx(""+t+n)).slice(0,16),i=r.slice(0,12),o=await window.crypto.subtle.importKey("raw",r,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},o,e))})(e.buffer,t,n),OD=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new Wh(((n,r)=>{t.toBlob((async e=>{if(t.remove(),e){const r=await ID(e);n({buffer:r,width:t.width,height:t.height})}else r(new EC(bC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},ID=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var ND,kD,PD,DD,LD,MD,jD,UD,FD,BD,VD,WD,HD,GD,zD,KD,YD,qD,$D,XD,QD,JD,ZD,eL,tL,nL,rL,iL,oL,aL,sL,cL,lL,uL,dL,hL,pL,fL,mL,gL;let vL=(ND=_R({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),kD=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),PD=gD(),DD=Ox("LocalAudioTrack","_enabledMutex"),LD=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),MD=gD(),jD=Ox("LocalAudioTrack","_enabledMutex"),UD=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),FD=gD(),BD=gD(),VD=gD(),WD=_R({argsMap:e=>[e.getTrackId()]}),HD=gD(),GD=_R({argsMap:e=>[e.getTrackId()]}),zD=gD(),KD=_R({argsMap:e=>[e.getTrackId()]}),YD=_R({argsMap:(e,t)=>[e.getTrackId(),t.name]}),qD=_R({argsMap:e=>[e.getTrackId()]}),jP(($D=class extends WP{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?mD.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,r){super(e,n),UP(this,"trackMediaType",wP.AUDIO),UP(this,"_encoderConfig",void 0),UP(this,"_trackSource",void 0),UP(this,"_enabled",!0),UP(this,"_volume",100),UP(this,"_useAudioElement",!0),UP(this,"_bypassWebAudio",!1),UP(this,"processor",void 0),UP(this,"_processorContext",void 0),UP(this,"_processorDestination",void 0),UP(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!r,this._trackSource=new _D,qx("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),qx("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),qT()&&!GP?setTimeout((()=>this.initWebAudio())):this.initWebAudio()}setVolume(e){SC(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&mD.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void fR.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,QC(this,fP.NEED_REPLACE_TRACK,this).then((()=>{fR.debug("[".concat(this.getTrackId(),"] replace web audio track success"))})).catch((e=>{fR.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!Qk())throw new EC(bC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await mD.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(fR.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await QC(this,fP.NEED_ENABLE_TRACK,this),fR.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(e){throw n||(this._enabled=!1),fR.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await QC(this,fP.NEED_DISABLE_TRACK,this)}catch(e){throw n||(this._enabled=!0),fR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,fR.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await QC(this,fP.NEED_MUTE_TRACK,this):await QC(this,fP.NEED_UNMUTE_TRACK,this))}getStats(){return sx((()=>{fR.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),JC(this,fP.GET_STATS)||BP({},TP)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(SP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(SP.ON_AUDIO_BUFFER),this._source.on(SP.ON_AUDIO_BUFFER,(t=>e(t)))}play(){fR.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(fR.debug("[".concat(this.getTrackId(),"] start audio playback in element")),mD.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){fR.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?mD.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fR.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&mD.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await QC(this,fP.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return Wh.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new EC(bC.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new EC(bC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(OP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await QC(this,fP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await QC(this,fP.NEED_REPLACE_TRACK,this))})),e.on(OP.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(e){e.removeAllListeners(OP.ON_TRACK),e.removeAllListeners(OP.ON_NODE)}bindProcessorContextEvents(e){e.on(IP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}unbindProcessorContextEvents(e){e.removeAllListeners(IP.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof _D&&(this._trackSource=new JP(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new ED(this._source.context,this.getTrackId(),"local"),t=new bD(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(SP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(mD.stop(this.getTrackId()),this._source.play()),QC(this,fP.NEED_REPLACE_MIXING_TRACK,this).then((()=>{fR.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))})).catch((e=>{fR.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),e)}))),{processorContext:e,processorDestination:t}}}).prototype,"setVolume",[ND],Object.getOwnPropertyDescriptor($D.prototype,"setVolume"),$D.prototype),jP($D.prototype,"setPlaybackDevice",[kD,PD],Object.getOwnPropertyDescriptor($D.prototype,"setPlaybackDevice"),$D.prototype),jP($D.prototype,"setEnabled",[DD,LD,MD],Object.getOwnPropertyDescriptor($D.prototype,"setEnabled"),$D.prototype),jP($D.prototype,"setMuted",[jD,UD,FD],Object.getOwnPropertyDescriptor($D.prototype,"setMuted"),$D.prototype),jP($D.prototype,"getStats",[BD],Object.getOwnPropertyDescriptor($D.prototype,"getStats"),$D.prototype),jP($D.prototype,"setAudioFrameCallback",[VD],Object.getOwnPropertyDescriptor($D.prototype,"setAudioFrameCallback"),$D.prototype),jP($D.prototype,"play",[WD,HD],Object.getOwnPropertyDescriptor($D.prototype,"play"),$D.prototype),jP($D.prototype,"stop",[GD,zD],Object.getOwnPropertyDescriptor($D.prototype,"stop"),$D.prototype),jP($D.prototype,"close",[KD],Object.getOwnPropertyDescriptor($D.prototype,"close"),$D.prototype),jP($D.prototype,"pipe",[YD],Object.getOwnPropertyDescriptor($D.prototype,"pipe"),$D.prototype),jP($D.prototype,"unpipe",[qD],Object.getOwnPropertyDescriptor($D.prototype,"unpipe"),$D.prototype),$D),yL=(XD=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),QD=gD(),JD=Ox("MicrophoneAudioTrack","_enabledMutex"),ZD=_R({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),eL=gD(),tL=_R({argsMap:e=>[e.getTrackId()]}),jP((nL=class extends vL{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,r){super(e,t.encoderConfig?dP(t.encoderConfig):{},r,qx("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),UP(this,"_config",void 0),UP(this,"_deviceName","default"),UP(this,"_constraints",void 0),UP(this,"_originalConstraints",void 0),UP(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(aC()||sC())&&zP.bindInterruptDetectorTrack(this)}async setDevice(e){if(fR.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const t=await lD.getDeviceById(e),n={};n.audio=BP({},this._constraints),n.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let r=null;try{r=await oD(n,this.getTrackId())}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),r=await oD({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await lD.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return fR.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(fR.info("[".concat(this.getTrackId(),"] start setEnabled"),e),qx("AUTO_RESET_AUDIO_ROUTE")&&(QT()||lC())){const t=navigator.audioSession;t&&(e||(t.type="playback"),t.type="auto")}if(!e){var r;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(r=this._source.clonedTrack)||void 0===r||r.stop(),n||(this._enabled=!1);try{await QC(this,fP.NEED_DISABLE_TRACK,this)}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.toString()),e}return}const i=BP({},this._constraints),o=lD.searchDeviceIdByName(this._deviceName);o&&!i.deviceId&&(i.deviceId=o);try{n||(this._enabled=!0);const e=await oD({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await QC(this,fP.NEED_ENABLE_TRACK,this)}catch(e){throw n||(this._enabled=!1),fR.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(aC()||sC())&&zP.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((QT()||lC())&&this._enabled&&!this._isClosed&&zP.duringInterruption){const e=async()=>{zP.off(Zk.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(fR.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};zP.on(Zk.IOS_INTERRUPTION_END,e)}else fR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(EP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=lD.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await oD({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on(IP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}}))}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners(IP.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[XD,QD],Object.getOwnPropertyDescriptor(nL.prototype,"setDevice"),nL.prototype),jP(nL.prototype,"setEnabled",[JD,ZD,eL],Object.getOwnPropertyDescriptor(nL.prototype,"setEnabled"),nL.prototype),jP(nL.prototype,"close",[tL],Object.getOwnPropertyDescriptor(nL.prototype,"close"),nL.prototype),nL),bL=(rL=_R({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),iL=gD(),oL=_R({argsMap:e=>[e.getTrackId()]}),aL=gD(),sL=_R({argsMap:e=>[e.getTrackId()]}),cL=gD(),lL=_R({argsMap:e=>[e.getTrackId()]}),uL=gD(),dL=_R({argsMap:e=>[e.getTrackId()]}),hL=gD(),pL=_R({argsMap:e=>[e.getTrackId()]}),fL=_R({argsMap:e=>[e.getTrackId()]}),mL=gD(),jP((gL=class extends vL{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,r){super(t.createOutputTrack(),n,r),UP(this,"source",void 0),UP(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(SP.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(EP.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){SC(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,"startProcessAudioBuffer",[rL,iL],Object.getOwnPropertyDescriptor(gL.prototype,"startProcessAudioBuffer"),gL.prototype),jP(gL.prototype,"pauseProcessAudioBuffer",[oL,aL],Object.getOwnPropertyDescriptor(gL.prototype,"pauseProcessAudioBuffer"),gL.prototype),jP(gL.prototype,"seekAudioBuffer",[sL,cL],Object.getOwnPropertyDescriptor(gL.prototype,"seekAudioBuffer"),gL.prototype),jP(gL.prototype,"resumeProcessAudioBuffer",[lL,uL],Object.getOwnPropertyDescriptor(gL.prototype,"resumeProcessAudioBuffer"),gL.prototype),jP(gL.prototype,"stopProcessAudioBuffer",[dL,hL],Object.getOwnPropertyDescriptor(gL.prototype,"stopProcessAudioBuffer"),gL.prototype),jP(gL.prototype,"close",[pL],Object.getOwnPropertyDescriptor(gL.prototype,"close"),gL.prototype),jP(gL.prototype,"setAudioBufferPlaybackSpeed",[fL,mL],Object.getOwnPropertyDescriptor(gL.prototype,"setAudioBufferPlaybackSpeed"),gL.prototype),gL);class EL extends vL{get __className__(){return"MixingAudioTrack"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=KP().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,gx(8,"track-mix-")),UP(this,"trackList",void 0),UP(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(fR.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):fR.debug("track ".concat(e.getTrackId()," is already added"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){fR.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}tx(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof EL?t.emit(bP.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}class _L extends QP{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(SP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),UP(this,"audioBuffer",void 0),UP(this,"sourceNode",void 0),UP(this,"startPlayTime",0),UP(this,"startPlayOffset",0),UP(this,"pausePlayTime",0),UP(this,"options",void 0),UP(this,"currentLoopCount",0),UP(this,"currentPlaybackSpeed",100),UP(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):fR.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const wL=new Map;class SL{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const e=this.renderStats.curTs-this.renderStats.lastTs,t=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/e;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,t}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(fR.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}get videoState(){return this._videoState}set videoState(e){var t;e!==this._videoState&&(this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}constructor(e){UP(this,"trackId",void 0),UP(this,"config",void 0),UP(this,"onFirstVideoFrameDecoded",void 0),UP(this,"onVideoStateChanged",void 0),UP(this,"freezeTimeCounterList",[]),UP(this,"renderFreezeAccTime",0),UP(this,"isKeepLastFrame",!1),UP(this,"timeUpdatedCount",0),UP(this,"freezeTime",0),UP(this,"playbackTime",0),UP(this,"lastTimeUpdatedTime",0),UP(this,"autoplayFailed",!1),UP(this,"videoTrack",void 0),UP(this,"videoElement",void 0),UP(this,"cacheVideoElement",void 0),UP(this,"renderStats",void 0),UP(this,"_videoState",DP.VideoStateStopped),UP(this,"videoElementCheckInterval",void 0),UP(this,"videoElementFreezeTimeout",void 0),UP(this,"_videoElementStatus",PP.NONE),UP(this,"isGettingVideoDimensions",!1),UP(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return fR.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),UP(this,"autoResumeAfterInterruption",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===zP.curState&&(fR.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(zT())),cC()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),UP(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=PP.PLAYING;break;case"loadeddata":if(this.videoState=DP.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=PP.CANPLAY;break;case"stalled":this.videoElementStatus=PP.STALLED;break;case"suspend":this.videoElementStatus=PP.SUSPEND;break;case"pause":this.videoElementStatus=PP.PAUSED,QT()||lC()||qT()&&this.autoplayFailed||!this.videoTrack||"live"!==this.videoTrack.readyState||(fR.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=PP.WAITING;break;case"abort":this.videoElementStatus=PP.ABORT;break;case"ended":this.videoElementStatus=PP.ENDED;break;case"emptied":this.videoElementStatus=PP.EMPTIED;break;case"error":{const e=this.videoElement.error;e&&(this.videoElementStatus=PP.ERROR,fR.error("[".concat(this.trackId,"] media error: ").concat(e.message," (").concat(e.code,")")));break}case"timeupdate":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,TM.lastVisibleTime<TM.lastHiddenTime||n<TM.lastHiddenTime||n<TM.lastVisibleTime)return;for(t>qx("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),UP(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&(fR.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(zT())),cC()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement("video"),zP.on(Zk.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),zP.on(Zk.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&pD(e,"video",t.message,this.trackId),"NotAllowedError"===t.name?(fR.warning("detected video element autoplay failed",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):fR.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=WT();if(("Safari"===n.name&&15===Number(n.version)||aC())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return fR.error("create canvas context failed!"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const r=n.getContext("2d");return r?(r.drawImage(this.videoElement,0,0,n.width,n.height),new Wh(((r,i)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await ID(e);r({buffer:t,width:n.width,height:n.height})}else i(new EC(bC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await OD(e)}destroy(){this.renderStats=void 0,zP.off(Zk.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),zP.off(Zk.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=DP.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=PP.INIT,!this.videoElementCheckInterval&&(TL.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=PP.DESTROYED)}),1e3),qx("ENABLE_VIDEO_FRAME_CALLBACK"))){var e,t;let n;const r=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",r),this.videoElementFreezeTimeout=window.setTimeout(i,qx("VIDEO_FREEZE_DURATION")))},i=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===DP.VideoStateDecoding&&("visible"===document.visibilityState?this.videoState=DP.VideoStateFrozen:document.addEventListener("visibilitychange",r))},o=(e,t)=>{if(this.videoElementStatus===PP.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=t.mediaTime):this.renderStats={lastTs:t.mediaTime,curTs:t.mediaTime,lastRenderNum:0,renderNum:0},n){const e=t.presentationTime-n.presentationTime;this.videoState===DP.VideoStateStarting&&(this.videoState=DP.VideoStateDecoding),this.videoState===DP.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(i,qx("VIDEO_FREEZE_DURATION"))),e<qx("VIDEO_FREEZE_DURATION")&&this.videoState===DP.VideoStateFrozen&&(this.videoState=DP.VideoStateDecoding),e>qx("VIDEO_FREEZE_DURATION")&&TM.lastVisibleTime>=TM.lastHiddenTime&&n.timestamp>TM.lastVisibleTime&&n.timestamp>TM.lastHiddenTime&&(this.renderFreezeAccTime+=e)}n=BP(BP({},t),{},{timestamp:e})}var r,a;qx("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(r=(a=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(a,o))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,o)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),fC()&&!qx("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const n=WT();"Safari"===n.name&&15===Number(n.version)||aC()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,XT()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,XT()&&this.videoElement.load());const r=this.videoElement.play();void 0!==r&&r.catch((e=>{fR.debug("[".concat(this.trackId,"] playback interrupted"),e.toString())}))}resetVideoElement(){TL.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=PP.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{fR.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))})).catch((e=>{fR.error(e)})),this.autoplayFailed=!1,mC()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};mC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),hD()}}const TL=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class CL extends SL{constructor(e){super(e),UP(this,"container",void 0),UP(this,"slot",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,n):await OD(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",qx("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement("video")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var xL,RL,AL,OL,IL,NL,kL,PL,DL,LL,ML,jL,UL,FL,BL,VL,WL,HL,GL,zL,KL,YL,qL,$L,XL,QL,JL,ZL,eM,tM,nM,rM,iM,oM;let aM=(xL=_R({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),RL=gD(),AL=_R({argsMap:e=>[e.getTrackId()]}),OL=Ox("LocalVideoTrack","_enabledMutex"),IL=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),NL=gD(),kL=Ox("LocalVideoTrack","_enabledMutex"),PL=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),DL=gD(),LL=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),ML=gD(),jL=gD(),UL=_R({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),FL=gD(),BL=gD(),VL=gD(),WL=gD(),HL=gD(),GL=gD(),zL=gD(),KL=_R({argsMap:(e,t)=>[e.getTrackId(),t.name]}),YL=_R({argsMap:e=>[e.getTrackId()]}),qL=_R({argsMap:e=>[e.getTrackId()]}),$L=_R({argsMap:(e,t,n)=>[e.getTrackId(),t.label,n]}),XL=class e extends WP{get videoHeight(){if(qT()){const{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(qT()){const{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==PP.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return"LocalVideoTrack"}constructor(e,t,n,r,i,o){if(super(e,i),UP(this,"trackMediaType",wP.VIDEO),UP(this,"_player",void 0),UP(this,"isUseScaleResolutionDownBy",!1),UP(this,"_videoVisibleTimer",null),UP(this,"_previousVideoVisibleStatus",void 0),UP(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),UP(this,"_encoderConfig",void 0),UP(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),UP(this,"_optimizationMode",void 0),UP(this,"_videoHeight",void 0),UP(this,"_videoWidth",void 0),UP(this,"_forceBitrateLimit",void 0),UP(this,"_enabled",!0),UP(this,"_processorDestination",void 0),UP(this,"_processorContext",void 0),qT()){const{width:t,height:n}=e.getSettings();this._videoWidth=t,this._videoHeight=n}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=n,this._optimizationMode=r,this._hints=o||[],-1===this._hints.indexOf(mP.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t,n){const r=WT();return!(r.name!==e||!r.osVersion)&&(n?Number(r.version)>=t&&Number(r.version)<=n:Number(r.version)===t)}(UT.CHROME,115)&&-1!==GT().indexOf("Windows")){const t=function(e,t){if("VideoFrame"in window&&"TransformStream"in window&&Xk().supportWebRTCInsertableStream){const n=new MediaStreamTrackProcessor(e),r=new MediaStreamTrackGenerator({kind:"video"});let i,o,a=Date.now();const s=()=>{c&&(clearInterval(c),c=void 0),i&&(i.close(),i=void 0),e.stop(),o=void 0,r.removeEventListener("ended",s)};let c=window.setInterval((()=>{if(o&&i&&Date.now()-a>(null!=t?t:1e3))try{"live"===r.readyState?o.enqueue(i.clone()):s()}catch(e){s()}}),null!=t?t:1e3);const l=new TransformStream({transform:(e,t)=>{"live"===r.readyState?(o=t,a=Date.now(),void 0===i?(i=e,t.enqueue(e.clone())):(t.enqueue(i),i=e)):e.close()}});return r.addEventListener("ended",s),n.readable.pipeThrough(l).pipeTo(r.writable),r}}(e);t&&(fR.info("local screen video track begin to inject frame"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(mP.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this._processorContext=new yD(this.getTrackId(),"local"),this._processorDestination=new vD(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(fR.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}fR.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=BP(BP(BP({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new SL(n):this._player=new CL(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(EP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),qx("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,fR.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(fR.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await QC(this,fP.NEED_DISABLE_TRACK,this)}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}return t||(this._enabled=!1),void fR.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await QC(this,fP.NEED_ENABLE_TRACK,this)}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,fR.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await QC(this,fP.NEED_MUTE_TRACK,this):await QC(this,fP.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new EC(bC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(e=sP(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=TD({encoderConfig:e});(qT()||QT()||lC())&&(t.deviceId=void 0),fR.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new EC(bC.UNEXPECTED_ERROR,e.toString());throw fR.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(mP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await QC(this,fP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(fR)}}getStats(){return sx((()=>{fR.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),JC(this,fP.GET_STATS)||BP({},CP)}async setBeautyEffect(e){fR.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await OD(e)}async setBitrateLimit(e){if(fR.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await QC(this,fP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(fR)}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return void fR.error(bC.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const t=this._optimizationMode;try{this._optimizationMode=e,await QC(this,fP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(e){throw this._optimizationMode=t,fR.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return fR.error(bC.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,fR.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}updateMediaStreamTrackResolution(){SD(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(yx)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(e){if(!this._enabled)throw new EC(bC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");fR.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(e)),e=sP(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(mP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await QC(this,fP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(fR)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const{bitrateMax:r,bitrateMin:i}=this._encoderConfig;if(null==i||null==r){const{max:o,min:a}=function(e,t,n,r,i){const o=qx("BITRATE_ADAPTER_TYPE");if("DEFAULT_BITRATE"===o)return{min:r,max:i};if(void 0===i){var a;const s=Math.floor(200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75));i="STANDARD_BITRATE"===o?4*s:2*s,r=null!==(a=r)&&void 0!==a?a:s}else{var s;r=null!==(s=r)&&void 0!==s?s:Math.floor(i/10)}return{min:r,max:i}}(e,t,n,i,r);this._encoderConfig.bitrateMin=a,this._encoderConfig.bitrateMax=o,fR.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(o,", brMin: ").concat(a,"]"))}}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=NC.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=wR.reportApiInvoke(null,{tag:FC.TRACER,name:UC.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new EC(bC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new EC(bC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._encoderConfig;t&&(r=BP(BP({},r),sP(t))),r=ox(r);const i=gx(8,"track-video-cloned-"),o=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,r,ox(this._scalabilityMode),this._optimizationMode,i,ox(this._hints));return t&&r&&o.setEncoderConfiguration(r),fR.debug("clone video track from ".concat(this.getTrackId()," to ").concat(i,", clone ").concat(n)),o}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new EC(bC.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if("video"!==e.kind)throw new EC(bC.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e){if(sx((()=>{wR.reportApiInvoke(null,{name:UC.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:FC.TRACER}).onSuccess("")}),this._mediaStreamTrack.id||this.getTrackId()),!qx("ENABLE_VIDEO_SEI")||!qx("ENABLE_ENCODED_TRANSFORM"))return void fR.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new EC(bC.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const t=this.getRTCRtpTransceiver();if(!t)return void fR.warning("Video track is not published, SEI can not be send");const n=t.sender.getParameters();if(0===n.codecs.length)return;const r=n.codecs[0].mimeType.toLocaleLowerCase();"video/h264"===r?this.safeEmit("sei-to-send",e):fR.warning("SEI is not supported by ".concat(r))}bindProcessorDestinationEvents(){this.processorDestination.on(OP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await QC(this,fP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await QC(this,fP.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(OP.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(IP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(IP.REQUEST_CONSTRAINTS)}},jP(XL.prototype,"play",[xL,RL],Object.getOwnPropertyDescriptor(XL.prototype,"play"),XL.prototype),jP(XL.prototype,"stop",[AL],Object.getOwnPropertyDescriptor(XL.prototype,"stop"),XL.prototype),jP(XL.prototype,"setEnabled",[OL,IL,NL],Object.getOwnPropertyDescriptor(XL.prototype,"setEnabled"),XL.prototype),jP(XL.prototype,"setMuted",[kL,PL,DL],Object.getOwnPropertyDescriptor(XL.prototype,"setMuted"),XL.prototype),jP(XL.prototype,"setEncoderConfiguration",[LL,ML],Object.getOwnPropertyDescriptor(XL.prototype,"setEncoderConfiguration"),XL.prototype),jP(XL.prototype,"getStats",[jL],Object.getOwnPropertyDescriptor(XL.prototype,"getStats"),XL.prototype),jP(XL.prototype,"setBeautyEffect",[UL,FL],Object.getOwnPropertyDescriptor(XL.prototype,"setBeautyEffect"),XL.prototype),jP(XL.prototype,"getCurrentFrameData",[BL],Object.getOwnPropertyDescriptor(XL.prototype,"getCurrentFrameData"),XL.prototype),jP(XL.prototype,"getCurrentFrameImage",[VL],Object.getOwnPropertyDescriptor(XL.prototype,"getCurrentFrameImage"),XL.prototype),jP(XL.prototype,"setBitrateLimit",[WL],Object.getOwnPropertyDescriptor(XL.prototype,"setBitrateLimit"),XL.prototype),jP(XL.prototype,"setOptimizationMode",[HL],Object.getOwnPropertyDescriptor(XL.prototype,"setOptimizationMode"),XL.prototype),jP(XL.prototype,"setScalabiltyMode",[GL],Object.getOwnPropertyDescriptor(XL.prototype,"setScalabiltyMode"),XL.prototype),jP(XL.prototype,"updateMediaStreamTrackResolution",[zL],Object.getOwnPropertyDescriptor(XL.prototype,"updateMediaStreamTrackResolution"),XL.prototype),jP(XL.prototype,"pipe",[KL],Object.getOwnPropertyDescriptor(XL.prototype,"pipe"),XL.prototype),jP(XL.prototype,"unpipe",[YL],Object.getOwnPropertyDescriptor(XL.prototype,"unpipe"),XL.prototype),jP(XL.prototype,"close",[qL],Object.getOwnPropertyDescriptor(XL.prototype,"close"),XL.prototype),jP(XL.prototype,"replaceTrack",[$L],Object.getOwnPropertyDescriptor(XL.prototype,"replaceTrack"),XL.prototype),XL),sM=(QL=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),JL=gD(),ZL=Ox("CameraVideoTrack","_enabledMutex"),eM=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),tM=gD(),nM=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),rM=gD(),iM=_R({argsMap:e=>[e.getTrackId()]}),oM=class e extends aM{get __className__(){return"CameraVideoTrack"}constructor(e,t,n,r,i,o){super(e,sP(t.encoderConfig),r,i,o),UP(this,"_config",void 0),UP(this,"_originalConstraints",void 0),UP(this,"_constraints",void 0),UP(this,"_enabled",!0),UP(this,"_deviceName","default"),UP(this,"tryResumeVideoForIOS15_16WeChat",(async()=>{(aC()||sC())&&!function(){const e=WT();if(e.os!==jT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}()&&uC()&&this._enabled&&!this._isClosed&&(fR.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._encoderConfig=sP(this._config.encoderConfig),zP.on(Zk.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),zP.on(Zk.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return"string"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(fR.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),this._enabled)try{const t=await lD.getDeviceById(e),n={};n.video=BP({},this._constraints),n.video.deviceId={exact:e},n.video.facingMode=void 0,this._originMediaStreamTrack.stop();let r=null;try{r=await oD(n,this.getTrackId())}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),r=await oD({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await lD.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(e){fR.info("[".concat(this.getTrackId(),"] set facingMode ").concat(e));const t={video:BP(BP({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await oD(t,this.getTrackId())}catch(t){throw fR.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),t.toString()),e=await oD({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=BP({},t.video),fR.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(fR.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await oD({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await QC(this,fP.NEED_ENABLE_TRACK,this)}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.toString()),e}this.updateMediaStreamTrackResolution(),fR.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await QC(this,fP.NEED_DISABLE_TRACK,this)}catch(e){throw fR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}fR.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new EC(bC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");e=sP(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);const n=ix(this._config);n.encoderConfig=e;const r=TD(n);(qT()||QT()||lC())&&(r.deviceId=void 0),fR.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution()}catch(e){const t=new EC(bC.UNEXPECTED_ERROR,e.toString());throw fR.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}this._config=n,this._constraints=r,this._originalConstraints=r,this._encoderConfig=e,-1===this._hints.indexOf(mP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await QC(this,fP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(fR)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((QT()||lC())&&this._enabled&&!this._isClosed&&zP.duringInterruption){const e=async()=>{zP.off(Zk.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(fR.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};zP.on(Zk.IOS_INTERRUPTION_END,e)}else fR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(EP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=lD.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId={exact:n}),this._enabled){const e=await oD({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),zP.off(Zk.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),zP.off(Zk.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._encoderConfig;t&&(r=BP(BP({},r),sP(t))),r=ox(r);const i=gx(8,"track-cam-cloned-"),o=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,ox(BP(BP({},this._config),{},{encoderConfig:r})),ox(this._constraints),ox(this._scalabilityMode),this._optimizationMode,i);return t&&r&&o.setEncoderConfiguration(r),fR.debug("clone track from ".concat(this.getTrackId()," to ").concat(i,", clone ").concat(n)),o}bindProcessorContextEvents(){this.processorContext.on(IP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(IP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}},jP(oM.prototype,"setDevice",[QL,JL],Object.getOwnPropertyDescriptor(oM.prototype,"setDevice"),oM.prototype),jP(oM.prototype,"setEnabled",[ZL,eM,tM],Object.getOwnPropertyDescriptor(oM.prototype,"setEnabled"),oM.prototype),jP(oM.prototype,"setEncoderConfiguration",[nM,rM],Object.getOwnPropertyDescriptor(oM.prototype,"setEncoderConfiguration"),oM.prototype),jP(oM.prototype,"close",[iM],Object.getOwnPropertyDescriptor(oM.prototype,"close"),oM.prototype),oM);function cM(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=BP(BP({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?fR.debug("[".concat(e,"] set content hint to"),n.optimizationMode):fR.debug("[".concat(e,"] set content hint failed")))):fR.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}var lM,uM,dM,hM,pM,fM,mM,gM,vM,yM,bM,EM;class _M extends VP{getUserId(){return this._userId}constructor(e,t,n,r){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(r.clientId,"_").concat(gx(5,""))),UP(this,"_userId",void 0),UP(this,"_uintId",void 0),UP(this,"_isDestroyed",!1),UP(this,"store",void 0),UP(this,"processor",void 0),UP(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=r}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,fR.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let wM=(lM=_R({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),uM=_R({argsMap:e=>[e.getTrackId()]}),dM=_R({argsMap:(e,t)=>[e.getTrackId(),t.name]}),hM=_R({argsMap:e=>[e.getTrackId()]}),jP((pM=class extends _M{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==PP.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,r){super(e,t,n,r),UP(this,"_videoVisibleTimer",null),UP(this,"_previousVideoVisibleStatus",void 0),UP(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),UP(this,"trackMediaType",wP.VIDEO),UP(this,"_videoWidth",void 0),UP(this,"_videoHeight",void 0),UP(this,"_player",void 0),UP(this,"processorDestination",void 0),UP(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new yD(this.getTrackId(),"remote"),this.processorDestination=new vD(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return sx((()=>{fR.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),JC(this,fP.GET_STATS)||BP({},AP)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(fR.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}fR.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=BP(BP({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new SL(n):this._player=new CL(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(_P.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=e=>{this.safeEmit(_P.VIDEO_STATE_CHANGED,e)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(_P.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),qx("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,fR.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){SD(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(yx)}_updatePlayerSource(){fR.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=NC.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=wR.reportApiInvoke(null,{tag:FC.TRACER,name:UC.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new EC(bC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new EC(bC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(OP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(OP.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(bP.SEI_RECEIVED,e)}}).prototype,"play",[lM],Object.getOwnPropertyDescriptor(pM.prototype,"play"),pM.prototype),jP(pM.prototype,"stop",[uM],Object.getOwnPropertyDescriptor(pM.prototype,"stop"),pM.prototype),jP(pM.prototype,"pipe",[dM],Object.getOwnPropertyDescriptor(pM.prototype,"pipe"),pM.prototype),jP(pM.prototype,"unpipe",[hM],Object.getOwnPropertyDescriptor(pM.prototype,"unpipe"),pM.prototype),pM),SM=(fM=_R({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),mM=_R({argsMap:(e,t)=>[e.getTrackId(),t]}),gM=_R({argsMap:e=>[e.getTrackId()]}),vM=_R({argsMap:e=>[e.getTrackId()]}),yM=_R({argsMap:(e,t)=>[e.getTrackId(),t.name]}),bM=_R({argsMap:e=>[e.getTrackId()]}),jP((EM=class extends _M{get isPlaying(){return this._useAudioElement?mD.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,r){super(e,t,n,r),UP(this,"trackMediaType",wP.AUDIO),UP(this,"_source",void 0),UP(this,"_useAudioElement",!0),UP(this,"_volume",100),UP(this,"processorContext",void 0),UP(this,"processorDestination",void 0),UP(this,"_played",!1),UP(this,"_bypassWebAudio",!1),qx("DISABLE_WEBAUDIO")?(this._source=new _D,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new JP(e,!0),qx("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(SP.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(_P.FIRST_FRAME_DECODED)})),this.processorContext=new ED(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new bD(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(SP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(SP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(SP.ON_AUDIO_BUFFER),this._source.on(SP.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?mD.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!Qk())throw new EC(bC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await mD.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return sx((()=>{fR.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),JC(this,fP.GET_STATS)||BP({},xP)}play(){fR.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(fR.debug("[".concat(this.getTrackId(),"] use audio element to play")),mD.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){fR.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?mD.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fR.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&mD.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new EC(bC.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new EC(bC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new EC(bC.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(OP.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(OP.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(OP.ON_TRACK),this.processorDestination.removeAllListeners(OP.ON_NODE)}}).prototype,"setVolume",[fM],Object.getOwnPropertyDescriptor(EM.prototype,"setVolume"),EM.prototype),jP(EM.prototype,"setPlaybackDevice",[mM],Object.getOwnPropertyDescriptor(EM.prototype,"setPlaybackDevice"),EM.prototype),jP(EM.prototype,"play",[gM],Object.getOwnPropertyDescriptor(EM.prototype,"play"),EM.prototype),jP(EM.prototype,"stop",[vM],Object.getOwnPropertyDescriptor(EM.prototype,"stop"),EM.prototype),jP(EM.prototype,"pipe",[yM],Object.getOwnPropertyDescriptor(EM.prototype,"pipe"),EM.prototype),jP(EM.prototype,"unpipe",[bM],Object.getOwnPropertyDescriptor(EM.prototype,"unpipe"),EM.prototype),EM);const TM=new class extends LC{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),UP(this,"_lastHiddenTime",0),UP(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),fR.debug("current web page is ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)}))}};class CM extends LC{constructor(e,t){super(),UP(this,"trackMediaType",wP.DATA),UP(this,"_version",1),UP(this,"_type",3),UP(this,"_config",void 0),UP(this,"_originDataChannel",void 0),UP(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),UP(this,"_dataStreamPacketHandler",{serialize:e=>e,deserialize:e=>e}),UP(this,"_datachannelEventMap",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader()}useDataStream(e){this._dataStreamPacketHandler=e}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return qx("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:"connecting"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new Wh(((e,t)=>{if(this._originDataChannel){"open"===this._originDataChannel.readyState&&e();const n=setTimeout((()=>{var e;t(new EC(bC.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(n),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(n),new EC(bC.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new EC(bC.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[MP.OPEN,MP.CLOSE,MP.ERROR].forEach((t=>{const n=()=>{this.emit(t)};this._datachannelEventMap.set(t,n),e.addEventListener(t,n)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[n,r]=t;e.removeEventListener(n,r)})),this._datachannelEventMap.clear()}}class xM extends CM{constructor(e){super(e),UP(this,"_messageListener",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),n=new DataView(t).getUint8(3);if(n!==this.id)return void(qx("SHOW_DATASTREAM2_LOG")&&fR.debug("invalid datachannel id: ".concat(n," !== ").concat(this.id)));let r=e.data.slice(this._dataStreamPacketHeader.byteLength);r=this._dataStreamPacketHandler.deserialize(r),this.emit(MP.MESSAGE,r)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class RM extends CM{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const n=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);n.set(new Uint8Array(this._dataStreamPacketHeader),0),n.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(n.buffer)}}}function AM(){const e=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout((()=>qk.revokeObjectURL(e)),0),new Worker(qk.createObjectURL(e))}const OM=new Map,IM=new Map;function NM(e,t,n){let r=new Uint8Array(e,t,n),i=[],o=0;for(;i.length<n;)o+3<n&&0===r[o]&&0===r[o+1]&&3===r[o+2]&&(0===r[o+3]||1===r[o+3]||2===r[o+3]||3===r[o+3])?(i.push(r[o],r[o+1],r[o+3]),o+=4):(i.push(r[o]),o++);return new Uint8Array(i)}const kM=new Map;async function PM(e,t){if(!Xk().supportWebRTCEncodedTransform)return void fR.warning("browser not support video encoded transform");if(kM.has(e))return;if(!e.track)return;const n={track:e.track};if(YT()){if(!e.createEncodedStreams)return void fR.warning("browser not support createEncodedStreams() API");let i=null;try{i=e.createEncodedStreams()}catch(e){return void fR.error("create video-encoded-streams error",e&&e.message)}let o=[];t.on("sei-to-send",(e=>{o.push(e)}));const a=new TransformStream({transform(t,i){n.controller||(n.controller=i),e.track&&e.track.id!==n.track.id&&(fR.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r));const a=o.shift();a&&(t.data=function(e,t){const n=function(e){const t=e.length;let n=[],r=0;for(;r<t;)r+2<t&&0===e[r]&&0===e[r+1]&&(0===e[r+2]||1===e[r+2]||2===e[r+2]||3===e[r+2])?(n.push(e[r],e[r+1],3,e[r+2]),r+=3):(n.push(e[r]),r++);return new Uint8Array(n)}(t),r=n.length,i=Math.floor(r/255),o=r%255,a=new Uint8Array(6+i+1+r+e.byteLength);a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=6,a[5]=101;let s=0;for(;s<i;)a[6+s]=255,s++;return a[6+s]=o,s++,a.set(n,6+s),a.set(new Uint8Array(e),6+s+r),a.buffer}(t.data,a)),i.enqueue(t)}});i.readable.pipeThrough(a).pipeTo(i.writable)}else{if(!qT())return;{if("undefined"==typeof RTCRtpScriptTransform)return void fR.warning("browser not support RTCRtpScriptTransform");const i=AM(),o=new MessageChannel;await new Wh((e=>i.onmessage=t=>{"registered"===t.data&&e(void 0)}));const a=new RTCRtpScriptTransform(i,{name:"tx",port:o.port2},[o.port2]);e.transform=a,await new Wh((e=>i.onmessage=t=>{"started"===t.data&&e(void 0)})),t.on("sei-to-send",(e=>{o.port1.postMessage({sei:e})})),o.port1.onmessage=t=>{var i;t.data.transformed&&e.track&&(null===(i=e.track)||void 0===i?void 0:i.id)!==n.track.id&&(fR.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r))},n.worker=i}}function r(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",r)}const t=kM.get(e);if(t){kM.delete(e);try{var n,i;null===(n=t.controller)||void 0===n||n.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(e){fR.warning(e&&e.message)}}}kM.set(e,n),e.track.addEventListener("ended",r)}const DM=new Map;!function(){const e=WT();$k.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),$k.getStreamFromExtension=e.name===UT.CHROME&&Number(e.version)>34,$k.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),$k.supportMinBitrate=e.name===UT.CHROME||e.name===UT.EDGE,$k.supportSetRtpSenderParameters=function(){const e=WT();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!pC()||!(!qT()&&!KT())||e.name===UT.FIREFOX&&Number(e.version)>=64)}(),e.name===UT.SAFARI&&(Number(e.version)>=14?$k.supportDualStream=!0:$k.supportDualStream=!1),$k.webAudioMediaStreamDest=function(){const e=WT();return!(e.name===UT.SAFARI&&Number(e.version)<12)}(),$k.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,$k.supportWebGL="undefined"!=typeof WebGLRenderingContext,$k.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,pC()||($k.webAudioWithAEC=!0),$k.supportShareAudio=function(){const e=WT();return(e.os===jT.WIN_10||e.os===jT.WIN_81||e.os===jT.WIN_7||e.os===jT.LINUX||e.os===jT.MAC_OS||e.os===jT.CHROMIUM_OS)&&e.name===UT.CHROME&&Number(e.version)>=74}(),$k.supportDataChannel=!!(JT(76)||function(e){const t=WT();return!(t.name!==UT.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||tC(14)),$k.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!XT()&&!!e&&e.prototype.setConfiguration instanceof Function}(),$k.supportWebRTCEncodedTransform=function(){const e=WT();return"Chrome"===e.name&&Number(e.version)>=86||"Safari"===e.name&&Number(e.version)>=15}(),$k.supportWebRTCInsertableStream=function(){const e=WT();return(e.name===UT.CHROME||e.name===UT.EDGE)&&Number(e.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),$k.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,$k.supportWebCrypto="undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,rx((()=>{$k.supportDualStreamEncoding=function(){const e=WT();return!!qx("DISABLE_WEBAUDIO")||"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&qx("CHROME_DUAL_STREAM_USE_ENCODING"))}(),fR.debug("browser ua: ",navigator.userAgent),fR.info("browser info: ",e),fR.info("browser compatibility: ",$k)}))}();class LM extends LC{constructor(e,t){super(),jE(this,"signal",void 0),jE(this,"token",void 0),jE(this,"tokenTimeout",void 0),jE(this,"tokenInterval",void 0),jE(this,"_sequence",0),jE(this,"userMap",new Map),jE(this,"encoder",new TextEncoder),this.signal=e,this.token=t;const n=()=>{this.signal.connectionState===AA.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(n,1e3):this.tokenInterval=window.setTimeout(n,3*qx("P2P_TOKEN_INTERVAL"))};n()}async send(e,t,n,r,i){var o,a,s;if(0===this.userMap.size)return;const c=Array.from(hI(o=this.userMap).call(o))[0].token;"string"!=typeof t&&(t=JSON.stringify(t)),r=null!==(a=r)&&void 0!==a?a:gx(6,""),i=null!==(s=i)&&void 0!==s?s:this._sequence++;const l={_id:r,_type:e,_seq:i,_message:t,token:"".concat(this.token,"_").concat(c)};qx("SHOW_P2P_LOG")&&fR.debug("send message",l,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(l)).forEach((e=>{this.signal.request(IA.DATA_STREAM,{payload:lx(this.encoder.encode(e))})}));const u=new Wh(((t,i)=>{const o=window.setTimeout((()=>{this.off("res-@".concat(r,"_ack"),a),this.off("res-@".concat(r),c),this.off(wO.ABORT,s),fR.debug("[external-signal] request timeout, type: ".concat(e,", requestId: ").concat(r)),0===this.userMap.size?i(new EC(bC.INVALID_REMOTE_USER)):i(new EC(bC.TIMEOUT))}),qx("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),a=()=>{o&&window.clearTimeout(o),this.off(wO.ABORT,s),n&&t()},s=()=>{o&&window.clearTimeout(o),this.off("res-@".concat(r,"_ack"),a),this.off("res-@".concat(r),c),i(new EC(bC.EXTERNAL_SIGNAL_ABORT,"type: ".concat(e,", requestId: ").concat(r)))};this.once(wO.ABORT,s),this.once("res-@".concat(r,"_ack"),a);const c=(n,c)=>{u=!0,o&&window.clearTimeout(o),this.off("res-@".concat(r,"_ack"),a),this.off(wO.ABORT,s),"success"===n?t(c):i(new EC(bC.P2P_MESSAGE_FAILED,"request ".concat(e," failed, requestId: ").concat(r)))};let u=!1;n||(this.once("res-@".concat(r),c),mx(qx("SIGNAL_REQUEST_TIMEOUT")).then((()=>{u||fR.warning("external_signal request timeout, type: ".concat(e,", requestId: ").concat(r,", ").concat(l))})))}));try{return await u}catch(o){if(o.code===bC.TIMEOUT)return await this.send(e,t,n,r,i);throw o}}onMessage(e){var t;const{_uid:n}=e;let r,i=this.userMap.get(n);if(i)r=i.splitMessageMap;else{if(this.userMap.size>0||!("_type"in e)||e._type!==_O.CHECK)return;const{token:t}=e;r=new Map,i={uid:n,isStart:!0,token:t,splitMessageMap:r,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(n,i),this.signal.emit(kA.ON_USER_ONLINE,{uid:n}),this.handleUserOnline()}if("id"in e&&"total"in e){var o;const{id:t,total:i}=e,a=null!==(o=r.get(t))&&void 0!==o?o:[];if(a.push(e),r.has(t)||r.set(t,a),a.length!==i)return;{const i=am(a).call(a,((e,t)=>e.index-t.index)).map((e=>e.payload)).join("");r.delete(t),(e=JSON.parse(i))._uid=n}}const{_type:a,token:s}=e;if(kr(t=[_O.ACK,_O.CHECK]).call(t,a))return a===_O.CHECK&&this.handleCheckToken(i,s),void this.receiveMessage(e);s==="".concat(i.token,"_").concat(this.token)?this.handleReceivedMessage(e):fR.debug('Receive unexpected message", '.concat(s,", cur_token: ").concat(i.token,"_").concat(this.token),e)}check(){const e={_id:gx(6,""),token:this.token,_type:_O.CHECK};qx("SHOW_P2P_LOG")&&fR.debug("send message",e),this.signal.request(IA.DATA_STREAM,{payload:lx(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:_O.ACK,token:this.token};qx("SHOW_P2P_LOG")&&fR.debug("send message",t),this.signal.request(IA.DATA_STREAM,{payload:lx(this.encoder.encode(JSON.stringify(t)))})}response(e,t,n){this.send(_O.RESPONSE,JSON.stringify({success:!n,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:n}=e;for(;t.has(n);){const r=t.get(n);t.delete(n),this.receiveMessage(r),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:n,_seq:r}=e,i=this.userMap.get(n),{receivedMessagesMap:o,isStart:a,nextExpectedSequenceNumber:s}=i;if(r<s)return this.ack(e._id),void fR.debug("[external-signal] receive old message, seq: ".concat(r,", ").concat(e._message));o.set(r,e),a&&r===s&&(this.receiveMessage(e),o.delete(s),i.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:n,_message:r,_uid:i}=e;if(qx("SHOW_P2P_LOG")&&fR.debug("receive message",e),t){let o;switch(e._type!==_O.ACK&&(r&&(o=JSON.parse(r)),this.ack(e._id)),e._type){case _O.CANDIDATE:case _O.CONTROL:this.signal.emit(n,o,i);break;case _O.PUBLISH:case _O.UNPUBLISH:case _O.RESTART_ICE:case _O.CALL:o.uid=i,XC(this.signal,n,o).then((t=>{this.response(e._id,t)})).catch((()=>{this.response(e._id,void 0,!0)}));break;case _O.ACK:this.getListeners("res-@".concat(t,"_ack")).length>0&&this.emit("res-@".concat(t,"_ack"));break;case _O.RESPONSE:{const{success:e,message:n}=o;this.emit("res-@".concat(t),e?"success":"failed",n);break}}}}splitMessage(e){if(e.length<LM.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:n}=JSON.parse(e),r=gx(6,"");let i=0,o=800;const a=Math.ceil(e.length/o);for(;e.length>0;){i++;const s={id:r,index:i,total:a,payload:e.slice(0,o),token:"".concat(this.token,"_").concat(n)};JSON.stringify(s).length>LM.MAX_MESSAGE_SIZE?o-=50:(t.push(s),e=e.slice(o))}return t.map((e=>JSON.stringify(e)))}handleCheckToken(e,t){return e.token!==t?(fR.debug("token changed, from ".concat(e.token," to ").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((()=>{fR.debug("token timeout, ".concat(t)),this.reset(e.uid)}),qx("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const e=await XC(this.signal,_O.CALL,void 0),t=await this.send(_O.CALL,e);this.signal.emit(OA.P2P_CONNECTION,t,!0)}async reset(e,t){const n=this.userMap.get(e);n&&(this.emit(wO.ABORT),this.signal.emit(kA.ON_USER_OFFLINE,{uid:n.uid,reason:TO.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(fR.debug("change local token from ".concat(t," to ").concat(t)),this.token=gx(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(wO.ABORT)}}jE(LM,"MAX_SIZE",1),jE(LM,"MAX_MESSAGE_SIZE",1024);class MM extends LC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===AA.CONNECTED?this.emit(OA.WS_CONNECTED):e===AA.RECONNECTING?this.emit(OA.WS_RECONNECTING,this._websocketReconnectReason):e===AA.CLOSED&&this.emit(OA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),jE(this,"_disconnectedReason",void 0),jE(this,"_websocketReconnectReason",void 0),jE(this,"_connectionState",AA.CLOSED),jE(this,"reconnectToken",void 0),jE(this,"p2pToken",void 0),jE(this,"websocket",void 0),jE(this,"openConnectionTime",void 0),jE(this,"clientId",void 0),jE(this,"lastMsgTime",Date.now()),jE(this,"uploadCache",[]),jE(this,"uploadCacheInterval",void 0),jE(this,"rttRolling",new Px(5)),jE(this,"pingpongTimer",void 0),jE(this,"pingpongTimeoutCount",0),jE(this,"joinResponse",void 0),jE(this,"multiIpOption",void 0),jE(this,"initError",void 0),jE(this,"spec",void 0),jE(this,"store",void 0),jE(this,"_external_signal",void 0),jE(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(OA.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){switch(t._type){case kA.ON_DATA_STREAM:return void this.handleDataStream(t._message);case kA.MUTE_AUDIO:case kA.MUTE_VIDEO:case kA.ON_P2P_LOST:case kA.ON_USER_ONLINE:return;case kA.ON_USER_OFFLINE:const{uid:e}=t._message;return fR.debug("[".concat(this.clientId,"] user-offline uid: ").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===kA.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===kA.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(WC.UID_BANNED);break;case 15:this.close(WC.IP_BANNED);break;case 16:this.close(WC.CHANNEL_BANNED)}if(t._type===kA.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case RA.ERR_LICENSE_MISSING:this.close(WC.LICENSE_MISSING);break;case RA.ERR_LICENSE_EXPIRED:this.close(WC.LICENSE_EXPIRED);break;case RA.ERR_LICENSE_MINUTES_EXCEEDED:this.close(WC.LICENSE_MINUTES_EXCEEDED);break;case RA.ERR_LICENSE_PERIOD_INVALID:this.close(WC.LICENSE_PERIOD_INVALID);break;case RA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(WC.LICENSE_MULTIPLE_SDK_SERVICE);break;case RA.ERR_LICENSE_ILLEGAL:this.close(WC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new VO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,qx("JOIN_GATEWAY_USE_DUAL_DOMAIN"),qx("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===AA.CONNECTED&&this.reconnect("retry",YC.OFFLINE)})),this.p2pToken=gx(6,""),this._external_signal=new LM(this,this.p2pToken)}async request(e,t,n,r){const i=gx(6,""),o={_id:i,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new Wh(((e,t)=>{if(this.connectionState===AA.CONNECTED)return e();const n=()=>{this.off(OA.WS_CLOSED,r),e()},r=()=>{this.off(OA.WS_CONNECTED,n),t(new EC(bC.WS_ABORT))};this.once(OA.WS_CONNECTED,n),this.once(OA.WS_CLOSED,r)}));if(this.connectionState!==AA.CONNECTING&&this.connectionState!==AA.RECONNECTING||e===IA.JOIN||e===IA.REJOIN||await s(),this.websocket.sendMessage(o,!0),r)return;const c=new Wh(((n,r)=>{let o=!1;const s=(r,i)=>{o=!0,n({isSuccess:"success"===r,message:i||{}}),this.off(OA.WS_CLOSED,c),this.off(OA.WS_RECONNECTING,c),this.emit(OA.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(i),s);const c=()=>{r(new EC(bC.WS_ABORT,"type: ".concat(e))),this.off(OA.WS_CLOSED,c),this.off(OA.WS_RECONNECTING,c),this.off("res-@".concat(i),s)};this.once(OA.WS_CLOSED,c),this.once(OA.WS_RECONNECTING,c),mx(qx("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(fR.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(OA.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(r){if(this.connectionState===AA.CLOSED||e===IA.LEAVE)throw new EC(bC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===IA.JOIN||e===IA.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=AO(u),h=new EC(bC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(fR.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===RA.ERR_TOO_MANY_BROADCASTERS?e===IA.JOIN||e===IA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===RA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,fR.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",YC.MULTI_IP)):this.reconnect(d.action,YC.SERVER_ERROR),e===IA.JOIN||e===IA.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Wh((n=>{const r=i=>{(!t||t(i))&&(this.off(e,r),n(i))};this.on(e,r)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void fR.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(NA.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=qx("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==AA.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),qx("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}async sendExtensionMessage(e,t,n){return await this._external_signal.send(e,t,n)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Wh(((t,n)=>{this.once(OA.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(OA.WS_CLOSED,(()=>n(this.initError||new EC(bC.WS_ABORT)))),this.connectionState=AA.CONNECTING,this.websocket.init(e).catch(n)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||WC.LEAVE,this.connectionState=AA.CLOSED,fR.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=gx(6,""),this._external_signal.clear(),this._external_signal=new LM(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(OA.ABORT_P2P_EXECUTION);const e=await XC(this,OA.REQUEST_JOIN_INFO),t=await this.request(IA.JOIN,e);if(!t)return this.emit(OA.REPORT_JOIN_GATEWAY,bC.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(OA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=AA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const n=cx(e.payload),r=(new TextDecoder).decode(n),i=JSON.parse(r);"total"in i&&"id"in i||kr(t=Object.values(_O)).call(t,i._type)?(i._uid=e.uid,this._external_signal.onMessage(i)):this.emit(kA.ON_DATA_STREAM,e)}catch(t){this.emit(kA.ON_DATA_STREAM,e)}}handleNotification(e){fR.debug("[".concat(this.clientId,"] receive notification: "),e);const t=AO(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(WC.UID_BANNED),void this.close()):void this.reconnect(t.action,YC.SERVER_ERROR);fR.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=qx("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(fR.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>qx("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",YC.TIMEOUT):this.request(IA.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),qx("REPORT_STATS")&&this.send(IA.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWebsocketEvents(){this.websocket.on(DA.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(OA.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(DA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(DA.CLOSED,(()=>{this.connectionState=AA.CLOSED})),this.websocket.on(DA.FAILED,(()=>{this._disconnectedReason=WC.NETWORK_ERROR,this.connectionState=AA.CLOSED})),this.websocket.on(DA.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===AA.CONNECTED?this.connectionState=AA.RECONNECTING:this.connectionState=AA.CONNECTING})),this.websocket.on(DA.WILL_RECONNECT,((e,t,n)=>{"retry"!==e?(fR.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0):fR.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),n(e)})),this.websocket.on(DA.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e=>{if(this.emit(OA.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof EC&&e.code===bC.UNEXPECTED_RESPONSE&&e.data.code===RA.ERR_NO_AUTHORIZED)return fR.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",YC.SERVER_ERROR);fR.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",YC.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(DA.REQUEST_NEW_URLS,((e,t)=>{XC(this,OA.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(DA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(kA.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var jM={exports:{}};!function(e){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>w,Printer:()=>R,parse:()=>N,print:()=>k});const r="\n",i="".concat("\r").concat(r),o=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function l(e){return c(e)||e>="\x80"&&e<="\xff"}function u(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function d(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function f(e){return e>"\x01"&&e<"\t"||e>"\v"&&e<"\f"||e>"\x0e"&&e<"\xff"}function m(e){return h(e)||s(e)||"+"===e||"/"===e}function g(e){return s(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function v(e){return h(e)||s(e)||"+"===e||"/"===e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(a||(a={}));class _{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===r)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,n){let r=t;for(;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let r=0;r<4;r++)if(n=this.consumeDecimalUChar(e,n),3!==r){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let i=0;i<3&&s(e[n]);i++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const r=parseInt(e.slice(t,n));if(r>=0&&r<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((r=e[t+n])>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F")){if(0===n)throw new Error("Invalid hex 4");break}var r;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,l)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const r=e.slice(t,n),i=parseInt(r);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let o=0;o<3;o++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!d(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!d(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,u)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(d(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!d(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}consumeTill(e,t,n){let r=t;for(;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}class w extends _{constructor(){super(),E(this,"records",[]),E(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!Vp(e).call(e))).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),r=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),l=this.parseConnection(),u=this.parseBandWidth(),d=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),f=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:i,information:o,uri:a,emails:s,phones:c,connection:l,bandwidths:u,timeFields:d,key:h,attributes:p,mediaDescriptions:f}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===r)return"\r"===e[t-1]?i:r;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new T;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>u(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,f)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new C(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>u(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,f)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let r=!1;"-"===e.value[e.cur]&&(r=!0,e.cur+=1);const i=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:i,back:r})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),r=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:r}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,u);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const r=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:r}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:r,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:r}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");const i=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:i}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),r=this.parseZone();e.push({time:t,repeats:n,zones:r})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),r=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:r,bandwidths:i,key:o,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];const o=t.call(this,e.value,e.cur,...r),a=e.value.slice(e.cur,o);return e.cur=o,a}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class S extends _{constructor(){super(...arguments),E(this,"attributes",void 0),E(this,"digested",!1)}extractOneOrMore(e,t,n){const r=this.consumeOneOrMore(e.attValue,e._cur,t),i=e.attValue.slice(e._cur,r),[o,a]=n||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof a&&i.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=r,i}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];const o=t.call(this,e.attValue,e._cur,...r),a=e.attValue.slice(e._cur,o);return e._cur=o,a}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,m,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,m,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,m));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,o),i=b(b({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:r});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),i.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class T extends S{constructor(){super(...arguments),E(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,g)}parseIdentity(e){const t=this.extractOneOrMore(e,v),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const r=this.extractOneOrMore(e,(e=>e!==o&&f(e)));n.push({name:t,value:r})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,o);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class C extends S{constructor(e){super(),E(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,m,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const l=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const u={foundation:t,componentId:n,transport:r,priority:i,connectionAddress:a,port:l,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),u.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),u.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),u.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(u)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:r,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const r={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let r;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),r=this.extract(e,this.consumeTill));const i=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));i?i.attributes[n]=r:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:r}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=Vp(t).call(t);const i="string"==typeof n?Vp(n).call(n):null;"string"==typeof t&&t.length>0&&(r[t]=i)}));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");t[n]=r}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o);let r;if("trr-int"===n)r={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),r=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(r);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(r):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[r]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,u,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,u,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const r={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(r);break}default:{const r={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),r.val=this.extract(e,this.consumeTill,";")),n.params.push(r)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{constructor(){x(this,"eol",i)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new I(this.eol).print(e)}}class A{constructor(e){x(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(o).concat(e.extensionName).concat(e.extensionAttributes?"".concat(o).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class O extends A{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(o).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(o).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(o,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(o).concat(e)))),t+this.eol}}class I extends A{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCTPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,"typ").concat(o).concat(e.type).concat(e.relAddr?"".concat(o,"raddr").concat(o).concat(e.relAddr):"").concat(e.relPort?"".concat(o,"rport").concat(o).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(o).concat(t).concat(o).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(o)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const r of t)n+=this.printRtpMap(r.payloadType,r.rtpMap),n+=this.printFmtp(r.payloadType,r.fmtp),n+=r.rtcpFeedbacks.map((e=>this.printRTCPFeedback(r.payloadType,e))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&null===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(o).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(o).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(o),r=t;return"trr-int"===r.type?n+="ttr-int".concat(o).concat(r.interval):(n+="".concat(r.type),r.parameter&&(n+="".concat(o).concat(r.parameter),r.additional&&(n+="".concat(o).concat(r.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(o).concat(e.netType)),e.addressType&&(t+="".concat(o).concat(e.addressType)),e.address&&(t+="".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(o).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+="".concat(o,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(o).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(o).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function N(e){return(new w).parse(e)}function k(e,t){return(new R).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(jM);var UM=jM.exports;function FM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qx("SVC_MODE");if(qx("ENABLE_SVC"))return function(e){return e in _A}(e)?e:_A.L1T3}const BM={[sO.VIDEO]:[{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"},{key:"video-orientation",extensionName:"urn:3gpp:video-orientation"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"playout-delay",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"},{key:"video-content-type",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type"},{key:"color-space",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/color-space"},{key:"video-timing",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing"}],[sO.AUDIO]:[{key:"ssrc-audio-level",extensionName:"urn:ietf:params:rtp-hdrext:ssrc-audio-level"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}]};function VM(e,t,n){t.forEach((t=>{var r;const i=BM[e].find((e=>{var n;let{key:r}=e;return kr(n=t.extensionName).call(n,r)}));if(!i)return;const o=n.find((e=>{let{extensionName:t}=e;return kr(t).call(t,i.key)}));o&&kr(r=o.extensionName).call(r,"gdpr_forbidden")&&(t.extensionName=o.extensionName)}))}function WM(e,t){t.forEach((t=>{var n;const r=BM[e].find((e=>{var n;let{key:r}=e;return kr(n=t.extensionName).call(n,r)}));kr(n=t.extensionName).call(n,"gdpr_forbidden")&&r&&(t.extensionName=r.extensionName)}))}function HM(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e||kr(e).call(e,"abs-send-time")}function GM(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e||kr(e).call(e,"draft-holmer-rmcat-transport-wide-cc-extensions-01")}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zM(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const{filterRTX:i,filterVideoFec:o,filterAudioFec:a,filterAudioCodec:s,filterVideoCodec:c}=t,{useXR:l}=n;let u=[],d=[],h=[],p=[],f=!1,m=!1;if(UM.parse(e).mediaDescriptions.forEach((e=>{r&&r!==e.attributes.direction||("video"!==e.media.mediaType||f||(d=e.attributes.payloads,p=e.attributes.extmaps,f=!0),"audio"!==e.media.mediaType||m||(u=e.attributes.payloads,h=e.attributes.extmaps,m=!0))})),!p||0===d.length)throw new Error("Cannot get video capabilities from SDP.");if(!h||0===u.length)throw new Error("Cannot get audio capabilities from SDP.");if(d.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),u.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),i&&(u=u.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),d=d.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),o&&(d=d.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),a&&(u=u.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),s&&(null==s?void 0:s.length)>0&&(u=u.filter((e=>{var t;return kr(s).call(s,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),c&&(null==c?void 0:c.length)>0){const e=d.filter((e=>{var t;return kr(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}));d=e.concat(i?[]:dj(e,d))}const g=qx("UNSUPPORTED_VIDEO_CODEC");return g&&g.length>0&&(d=d.filter((e=>!(e.rtpMap&&kr(g).call(g,e.rtpMap.encodingName.toLowerCase()))))),{audioCodecs:u,videoCodecs:d,audioExtensions:h,videoExtensions:p}}function qM(e){const t=UM.parse(e);let n,r;for(const i of t.mediaDescriptions){if(!n){const e=i.attributes.iceUfrag,t=i.attributes.icePwd;if(!e||!t)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:e,icePwd:t}}if(!r){const e=i.attributes.fingerprints;e.length>0&&(r={fingerprints:e})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function $M(e,t){const n=[],r=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),i=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),o=e.attributes.ssrcs;if(i)i.ssrcIds.forEach((e=>{var i;const o=null===(i=r.find((t=>t.ssrcIds[0]===e)))||void 0===i?void 0:i.ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}));else if(r.length>0){const e=r[0].ssrcIds[0],i=r[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?i:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}function XM(e,t,n){const{cname:r}=e;let i=[];t&&(i=QM(t)),0===i.length&&(i=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),fR.debug("Using candidates from gateway."));const o={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},a={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let s;switch(e.dtlsParameters.role){case"server":s="passive";break;case"client":s="active";break;case"auto":s="actpass"}const c=cj(e.rtpCapabilities),l=[];return Array.isArray(n)&&n.length>0&&n.forEach((e=>{l.push({kind:sO.VIDEO,ssrcId:e.v,rtx:e.v_rtx,mslabel:"".concat(e.v,"_").concat(e.a)},{kind:sO.AUDIO,ssrcId:e.a,mslabel:"".concat(e.v,"_").concat(e.a)})})),{dtlsParameters:o,iceParameters:a,candidates:i,rtpCapabilities:c,setup:s,cname:r,preSSRCs:l}}function QM(e){let t=[];return e.ip&&"number"==typeof e.port&&(t=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],fR.debug("Using remote candidate from AP ".concat(e.ip,":").concat(e.port)),e.ip6&&(t.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip6,port:e.port.toString(),type:"host",extension:{}}),fR.debug("Using IPV6 remote candidate from AP ".concat(e.ip6,":").concat(e.port)))),t}function JM(e,t,n){const r=[],i=[];return e.forEach((e=>{let{ssrcId:o,rtx:a}=e;const s=gx(8,"track-"),c={ssrcId:o,attributes:KM({label:s,mslabel:n=n||gx(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){const e={ssrcId:a,attributes:KM({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(e),i.push({semantic:"FID",ssrcIds:[o,a]})}})),e.length>1&&i.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:r,ssrcGroups:i}}function ZM(e,t){t instanceof vL&&e.attributes.payloads.forEach((e=>{var n;const r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!r||-1===["opus","pcmu","pcma","g722"].indexOf(r))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const i=t._encoderConfig;i&&"pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(i.bitrate&&!XT()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*i.bitrate))),i.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(i.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(i.sampleRate)),i.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function ej(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function tj(e,t){var n;if(!(t instanceof aM&&t._encoderConfig&&-1===t._hints.indexOf(mP.SCREEN_TRACK)))return;const r=t._encoderConfig;Xk().supportMinBitrate&&r.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,n;kr(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(r.bitrateMin))})),Xk().supportMinBitrate&&!kr(n=t._hints).call(n,mP.LOW_STREAM)&&r.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,n;kr(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(qx("X_GOOGLE_START_BITRATE")||Math.floor(r.bitrateMax)))}))}function nj(e){if("video"!==e.media.mediaType)return;const t=WT();if(t.name!==UT.SAFARI&&t.os!==jT.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}function rj(e,t,n){if(!t)return;let r,i;if("video"===e.media.mediaType?(r=n.videoExtensions,i=n.videoCodecs):(r=n.audioExtensions,i=n.audioCodecs),!0===t.twcc){const t=r.find((e=>GM(e.extensionName)));if(t){const n=t.extensionName;e.attributes.extmaps.find((e=>GM(e.extensionName)))||e.attributes.extmaps.push({entry:t.entry,extensionName:n});const r=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))}(i,e.attributes.payloads);r.forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>GM(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=r.find((e=>HM(e.extensionName)));if(t){const n=t.extensionName;e.attributes.extmaps.find((e=>e.extensionName===n))||e.attributes.extmaps.push({entry:t.entry,extensionName:n});const r=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(i,e.attributes.payloads);r.forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>HM(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function ij(e,t,n){if(XT())return;if("video"!==e.media.mediaType)return;if(!(t instanceof aM))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!qx("SIMULCAST"))return;if("vp9"===n&&qx("ENABLE_SVC"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const r="vp8"===n?2:t._scalabilityMode.numSpatialLayers,i=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===i.ssrcId)),a={semantic:"SIM",ssrcIds:[i.ssrcId]};for(let s=1;s<r;s++)e.attributes.ssrcs.push({ssrcId:i.ssrcId+s,attributes:ix(i.attributes)}),a.ssrcIds.push(i.ssrcId+s),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+s,attributes:ix(i.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[i.ssrcId+s,o.ssrcIds[1]+s]}));e.attributes.ssrcGroups.unshift(a)}async function oj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const r=(await n.createOffer()).sdp,{send:i,recv:o,sendrecv:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=YM(n,e,t,"sendonly"),i=YM(n,e,t,"recvonly"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(sj(r,i,"videoExtensions",o,a,s),sj(r,i,"videoCodecs",o,a,s),sj(r,i,"audioExtensions",o,a,s),sj(r,i,"audioCodecs",o,a,s),qx("RAISE_H264_BASELINE_PRIORITY")){const e=[],t=[];s.videoCodecs.forEach(((n,r)=>{var i;if("h264"===(null===(i=n.rtpMap)||void 0===i?void 0:i.encodingName.toLocaleLowerCase())){var o,a;const i=s.videoCodecs[r+1],c=i&&gj(n,i),l=null===(o=n.fmtp)||void 0===o?void 0:o.parameters["profile-level-id"],u=null===(a=n.fmtp)||void 0===a?void 0:a.parameters["packetization-mode"];!l||l!==qx("FIRST_H264_PROFILE_LEVEL_ID")||qx("FIRST_PACKETIZATION_MODE")&&u!==qx("FIRST_PACKETIZATION_MODE")?c?t.push([n,i]):t.push([n]):c?e.push([n,i]):e.push([n])}})),e.length>0&&t.length>0&&(fR.debug("raising H264 baseline profile priority"),s.videoCodecs.forEach(((n,r)=>{var i;if("h264"===(null===(i=n.rtpMap)||void 0===i?void 0:i.encodingName.toLocaleLowerCase())){const i=gj(n,s.videoCodecs[r+1]),o=e.shift()||t.shift()||[];o.length>0&&(i?s.videoCodecs.splice(r,2,...o):s.videoCodecs.splice(r,1,...o))}})),a.videoCodecs=a.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==qx("FIRST_H264_PROFILE_LEVEL_ID"))})),qx("FILTER_SEND_H264_BASELINE")&&(o.videoCodecs=o.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==qx("FIRST_H264_PROFILE_LEVEL_ID"))}))))}return{send:o,recv:a,sendrecv:s}}(e,t,r);try{n.close()}catch(e){}return{send:i,recv:o,sendrecv:a}}function aj(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=YM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(sj(e,t,"videoExtensions",n,r,i),sj(e,t,"videoCodecs",n,r,i),sj(e,t,"audioExtensions",n,r,i),sj(e,t,"audioCodecs",n,r,i),qx("RAISE_H264_BASELINE_PRIORITY")){const e=i.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=i.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){fR.debug("raising H264 baseline profile priority");const n=i.videoCodecs[e];i.videoCodecs.splice(e,1),i.videoCodecs.splice(t,0,n)}-1!==t&&(r.videoCodecs=r.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:r,sendrecv:i}}function sj(e,t,n,r,i,o){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}}function cj(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let i,o;return t?(i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i.audioCodecs=[...t.audioCodecs,...r.audioCodecs],i.videoCodecs=[...t.videoCodecs,...r.videoCodecs],i.audioExtensions=[...t.audioExtensions,...r.audioExtensions],i.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):i=r,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...r.audioCodecs],o.videoCodecs=[...n.videoCodecs,...r.videoCodecs],o.audioExtensions=[...n.audioExtensions,...r.audioExtensions],o.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):o=r,{send:i,recv:o}}function lj(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}function uj(e,t,n,r){let i=[];if(e===sO.VIDEO){if(qx("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(i=t.videoCodecs.filter((e=>{var t;return kr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,r)&&e&&e.fmtp&&e.fmtp.parameters["profile-level-id"]===qx("H264_PROFILE_LEVEL_ID")}))),!Array.isArray(i)||0===i.length){let e=[];const o=[],a=[],s=[];if(n.videoCodecs.forEach((t=>{const n=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"";kr(n).call(n,r)?e.push(t):kr(n).call(n,"vp9")?o.push(t):kr(n).call(n,"vp8")?a.push(t):kr(n).call(n,"h264")&&s.push(t)})),0===e.length){let t="";0!==o.length?(e=o,t="vp9"):0!==a.length?(e=a,t="vp8"):0!==s.length&&(e=s,t="h264"),fR.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(t))}0!==e.length&&(i=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(0===i.length&&(fR.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),i=t.videoCodecs),qx("USE_PUB_RTX")||qx("USE_SUB_RTX")){const e=dj(i,t.videoCodecs);i=[...i,...e]}}else i=t.audioCodecs.filter((e=>{var t;return kr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,r)})),0===i.length&&(fR.warning("codec ".concat(r," not included in rtpCapabilities, fallback to opus")),i=t.audioCodecs.filter((e=>{var t;return kr(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"opus")})));return i}function dj(e,t){const n=e.map((e=>e.payloadType.toString()));return t.filter((e=>e.rtpMap&&"rtx"===e.rtpMap.encodingName&&e.fmtp&&e.fmtp.parameters.apt&&kr(n).call(n,e.fmtp&&e.fmtp.parameters.apt)))}async function hj(e,t,n){const r=t.toString(),i=fj(r,"offer","remote","exchangeSDP");await e.setRemoteDescription({type:"offer",sdp:r});const o=await e.createAnswer();if(!o.sdp)throw new Error("cannot get answer sdp");let a=o.sdp;a=pj(a,n||{}),null==i||i(a||""),await e.setLocalDescription({type:"answer",sdp:a})}function pj(e,t,n){const r=UM.parse(e),{useXR:i}=t;return r.mediaDescriptions.forEach((e=>{var t;e.attributes.mid&&(Array.isArray(n)&&!kr(n).call(n,e.attributes.mid)||("audio"===e.media.mediaType&&lj(e),i&&kr(t=["audio","video"]).call(t,e.media.mediaType)&&e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>"rrtr"===e.type))&&e.rtcpFeedbacks.push({type:"rrtr"})}))))})),UM.print(r)}function fj(e,t,n,r){if(qx("SDP_LOGGING"))return fR.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{fj(e,"answer","local"===n?"remote":"local",r)}:void 0}function mj(e){const t=qx("COMPATIBLE_SDP_EXTENSION");return!!(Array.isArray(t)&&t.length>0)&&t.some((t=>kr(e).call(e,t)))}function gj(e,t){try{var n;return(null===(n=e.fmtp)||void 0===n?void 0:n.parameters.apt)===t.payloadType.toString()}catch(e){return!1}}function vj(e,t){return typeof qx(e)===t?qx(e):void 0}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yj(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ej=new Map;class _j extends LC{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(QA.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(QA.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){fR.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),jE(this,"store",void 0),jE(this,"joinInfo",void 0),jE(this,"key",void 0),jE(this,"ntpOffset",0),jE(this,"signal",void 0),jE(this,"role",void 0),jE(this,"inChannelInfo",{joinAt:null,duration:0}),jE(this,"spec",void 0),jE(this,"_state","DISCONNECTED"),jE(this,"_statsCollector",void 0),jE(this,"_disconnectedReason",void 0),jE(this,"isSignalRecover",!1),jE(this,"hasChangeBGPAddress",!1),jE(this,"trafficStatsInterval",void 0),jE(this,"networkQualityInterval",void 0),jE(this,"_joinGatewayStartTime",0),jE(this,"_signalTimeout",!1),jE(this,"_clientRoleOptions",void 0),jE(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new MM(bj(bj({},t),{},{retryConfig:t.websocketRetryConfig}),e):new HO(bj(bj({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const r=Date.now();let i=Ej.get(e.cname);if(i||(i=new Map,Ej.set(e.cname,i)),this._isProactiveJoin=!0,i.has(e.uid)){const t=new SR(bC.UID_CONFLICT);throw wR.joinGateway(e.sid,{lts:r,succ:!1,ec:t.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:"0",preload:e.preload}),this._isProactiveJoin=!1,t}i.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=r;const a=e.proxyServer;try{fR.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(o));const t=e.gatewayAddrs.map((t=>{let{address:n}=t;const[r,i]=n.split(":"),o={host:r,port:i};return e.proxyServer&&(o.proxy=e.proxyServer),o}));o=(await this.signal.init(t,n)).uid,fR.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(o," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(t){var s;throw fR.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),wR.joinGateway(e.sid,{lts:r,succ:!1,ec:(null===(s=t.data)||void 0===s?void 0:s.desc)||t.code,errorMsg:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:"0",preload:e.preload}),this._isProactiveJoin=!1,i.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),fR.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{fR.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(QA.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(QA.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(QA.NETWORK_QUALITY,{uplinkNetworkQuality:QO(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:QO(this._statsCollector.trafficStats.B_dnq)}):this.emit(QA.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==WC.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==AA.CONNECTED||await function(e,t){return t===1/0?e:Wh.race([e,fx(t)])}(this.signal.request(IA.LEAVE,void 0,!0),3e3)}catch(e){fR.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e)}this.signal.close(t),t!==WC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:qx("PUB_EXTEND"),twcc:!!qx("PUBLISH_TWCC"),rtx:!!qx("USE_PUB_RTX")};try{return(await this.signal.request(IA.PUBLISH,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===RA.ERR_PUBLISH_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),r.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw r}}async publishDataChannel(e,t,n){var r;if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const i={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(r=t.maxRetransmits)&&void 0!==r?r:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(IA.PUBLISH_DATASTREAM,i,!0)}catch(r){if(n&&r.data&&r.data.code===RA.ERR_PUBLISH_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),r.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw r}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(IA.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){fR.warning("[".concat(this.store.clientId,"] unpublish warning: "),e)}}async unpublishDataChannel(e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Wh.all(e.map((e=>this.signal.request(IA.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){fR.warning("unpublish datachannels warning: ",e)}}async presubscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!qx("SUBSCRIBE_TWCC"),rtx:!!qx("USE_SUB_RTX")||void 0,extend:qx("SUB_EXTEND"),svc:Array.isArray(qx("SVC"))&&0!==qx("SVC").length?qx("SVC"):void 0};try{return await this.signal.request(IA.PRE_SUBSCRIBE,r,!0)}catch(r){if(n&&r.data&&r.data.code===RA.ERR_SUBSCRIBE_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),r.toString()),this.presubscribe(e,t,!1);throw r}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!qx("SUBSCRIBE_TWCC"),rtx:!!qx("USE_SUB_RTX"),extend:qx("SUB_EXTEND"),ssrcId:t.ssrcId,svc:Array.isArray(qx("SVC"))&&0!==qx("SVC").length?qx("SVC"):void 0};try{return(await this.signal.request(IA.SUBSCRIBE,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===RA.ERR_SUBSCRIBE_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),r.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw r}}async subscribeDataChannel(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const r={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(IA.SUBSCRIBE_DATASTREAM,r,!0)}catch(r){if(n&&r.data&&r.data.code===RA.ERR_SUBSCRIBE_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),r.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw r}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!qx("USE_SUB_RTX"),twcc:!!qx("SUBSCRIBE_TWCC"),svc:Array.isArray(qx("SVC"))&&0!==qx("SVC").length?qx("SVC"):void 0};try{return await this.signal.request(IA.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===RA.ERR_SUBSCRIBE_REQUEST_INVALID)return fR.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,r=e.height,i=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(i=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(i=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(i=!1)),i?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(IA.SET_VIDEO_PROFILE,t);fR.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(IA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){fR.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),e)}}async unsubscribeDataChannel(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new SR(bC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Wh.all(e.map((e=>this.signal.request(IA.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){fR.warning("unsubscribeDataChannel warning: ",e)}}async massUnsubscribe(e){try{await this.signal.request(IA.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){fR.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=e;return{gatewayEstablishParams:await this.signal.request(IA.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(IA.GATEWAY_INFO)}async renewToken(e){await this.signal.request(IA.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n,r=0;"audience"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,r=1):r=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:r=0,await this.signal.request(IA.SET_CLIENT_ROLE,{role:e,level:r,delay:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(IA.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(IA.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(IA.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(IA.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(IA.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,n){if(this.signal instanceof MM)return this.signal.sendExtensionMessage(e,t,n)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),bj({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(IA.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=Ej.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith("dc")?e.match(/(dc\:\/\/)?([^:]+):(\d+)/):e.match(/(wss\:\/\/)?([^:]+):(\d+)/),t?{username:Hx.username,password:Hx.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(bj(bj({},Hx),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(IA.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&rx((()=>{this.emit(QA.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new SR(bC.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=qx("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);const r=!(XT()||ZT(87)||Jk())&&"boolean"==typeof qx("ENABLE_PRE_SUB")&&qx("ENABLE_PRE_SUB"),i=!Jk()&&vj("ENABLE_PREALLOC_PC","boolean"),o=bj({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Bx,browser:navigator.userAgent,process_id:qx("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:qx("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:qx("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:qx("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof qx("SUBSCRIBE_AUDIO_FILTER_TOPN")?qx("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof qx("ENABLE_PUBLISH_AUDIO_FILTER")?qx("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:"boolean"==typeof qx("ENABLE_USER_LICENSE_CHECK")?qx("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:!0===qx("USE_PUB_RTX")||!0===qx("USE_SUB_RTX")||void 0,disableFEC:qx("DISABLE_FEC"),enableNTPReport:!!qx("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!qx("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!qx("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:vj("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!qx("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!qx("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:vj("USE_XR","boolean"),enableLossbasedBwe:vj("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!qx("ENABLE_AUT_CC")||void 0,enableCCFallback:vj("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:i,preSubNum:r?vj("PRE_SUB_NUM","number"):void 0,enablePubTWCC:vj("PUBLISH_TWCC","boolean"),enableSubTWCC:vj("SUBSCRIBE_TWCC","boolean"),enablePubRTX:vj("USE_PUB_RTX","boolean"),enableSubRTX:vj("USE_SUB_RTX","boolean"),enableSubSVC:qx("ENABLE_SVC")?qx("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(qx("SVC"))&&0!==qx("SVC").length?qx("SVC"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(o.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(o.aes_mode=this.joinInfo.aesmode,qx("ENCRYPT_AES")?(o.aes_secret=this.joinInfo.aespassword,o.aes_encrypt=!0):o.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(o.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(o.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(o.default_video_stream=this.joinInfo.defaultVideoStream),o}getRejoinMessage(){if(!this.joinInfo)throw new SR(bC.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(OA.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(OA.WS_RECONNECTING,(e=>{this.joinInfo&&wR.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||YC.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",wR.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:"live"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:"audience"===this.role?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(OA.WS_CLOSED,(e=>{let t;switch(e){case WC.LEAVE:t=YC.LEAVE;break;case WC.UID_BANNED:case WC.IP_BANNED:case WC.CHANNEL_BANNED:case WC.SERVER_ERROR:t=YC.SERVER_ERROR;break;case WC.FALLBACK:t=YC.FALLBACK;break;case WC.LICENSE_MISSING:case WC.LICENSE_EXPIRED:case WC.LICENSE_MINUTES_EXCEEDED:case WC.LICENSE_PERIOD_INVALID:case WC.LICENSE_MULTIPLE_SDK_SERVICE:case WC.LICENSE_ILLEGAL:case WC.TOKEN_EXPIRE:t=e;break;default:t=YC.NETWORK_ERROR}fR.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(t||"undefined -> "+YC.NETWORK_ERROR)),this.joinInfo&&wR.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===WC.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==WC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(OA.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(fR.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),wR.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return void fR.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e));Yx("EVENT_REPORT_DOMAIN",e[1]),Yx("EVENT_REPORT_BACKUP_DOMAIN",e[1]),Yx("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(kA.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(OA.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new SR(bC.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,XC(this,QA.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(OA.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:n,dtlsParameters:r,rtpCapabilities:i}=await XC(this,QA.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:i,version:"2"}}))})),this.signal.on(OA.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(OA.REPORT_JOIN_GATEWAY,((e,t)=>{if(!this.joinInfo)return;let n,r="";var i;e instanceof SR?(n=(null===(i=e.data)||void 0===i?void 0:i.desc)||e.code,r=e.message):n=e,wR.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:n,errorMsg:r,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1})),this.signal.on(OA.IS_P2P_DISCONNECTED,(e=>{e(ZC(this,QA.IS_P2P_DISCONNECTED))})),this.signal.on(OA.DISCONNECT_P2P,(()=>{this.emit(QA.DISCONNECT_P2P)})),this.signal.on(OA.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(OA.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(OA.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(QA.JOIN_RESPONSE,e,t)})),this.signal.on(OA.PRE_CONNECT_PC,(async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const e=this.getCurrentGatewayAddress(),t=qx("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(e&&t){const n=QM(e);this.emit(QA.PRE_CONNECT_PC,{candidates:n,fingerprint:t})}}})),this.signal.on(OA.RECOVER_NOTIFICATION,(e=>{this.joinInfo&&"string"==typeof qx("AP_REQUEST_DETAIL")&&(this.joinInfo.apRequestDetail="".concat(qx("AP_REQUEST_DETAIL"),";").concat(e))}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(IA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(IA.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw fR.warning("unsubscribe datachannel warning",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(IA.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(IA.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw fR.warning("unpublish datastream warning: ",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(IA.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),e),e}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===XA.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(IA.CONTROL,n,!0,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),e),e}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===XA.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(IA.CONTROL,n,!0,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),e),e}}async muteRemote(e,t){const n={action:e===sO.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(IA.CONTROL,n,!0,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),e),e}}async unmuteRemote(e,t){const n={action:e===sO.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(IA.CONTROL,n,!0,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),e),e}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(IA.RESTART_ICE,t,!0)}catch(e){throw fR.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),e),e}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,YC.P2P_FAILED)}getCurrentGatewayAddress(){var e,t;if(!qx("GATEWAY_WSS_ADDRESS"))return qx("USE_CANDIDATE_FROM_AP_DETAIL")&&null!==(e=this.joinInfo)&&void 0!==e&&e.apGatewayAddress?(fR.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(t=this.joinInfo)&&void 0!==t&&t.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(IA.SET_PARAMETER,{enablePublishAudioFilter:e})}}let wj=0,Sj=0;function Tj(e,t,n,r){return new Wh(((i,o)=>{t.timeout=t.timeout||qx("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),wj+=hx(t.data)):n&&(t.data.size?wj+=t.data.size:t.data instanceof FormData?wj+=px(t.data):wj+=hx(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,NT.request(t).then((e=>{"string"==typeof e.data?Sj+=hx(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?Sj+=e.data.byteLength:Sj+=hx(JSON.stringify(e.data)),r&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{NT.isCancel(e)?o(new SR(bC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new SR(bC.NETWORK_TIMEOUT,e.message)):e.response?o(new SR(bC.NETWORK_RESPONSE_ERROR,e.response.status)):o(new SR(bC.NETWORK_ERROR,e.message))}))}))}!function(){var e;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,i(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var a=o[t[r]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var l;e:{var u={};try{u.__proto__={a:!0},l=u.a;break e}catch(e){}l=!1}r=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function f(e,t){return e.h=3,{value:t}}function m(e){this.g=new h,this.G=e}function g(e,t,n,r){try{var i=t.call(e.g.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.m=!1,i;var o=i.value}catch(t){return e.g.j=null,e.g.s(t),v(e)}return e.g.j=null,r.call(e.g,o),v(e)}function v(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?g(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),v(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(e,t){return t=new y(new m(t)),d&&e.prototype&&d(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},m.prototype.o=function(e){return p(this.g),this.g.j?g(this,this.g.j.next,e,this.g.o):(this.g.o(e),v(this))},m.prototype.s=function(e){return p(this.g),this.g.j?g(this,this.g.j.throw,e,this.g.o):(this.g.s(e),v(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},_=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},w=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},S=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},T="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,C=T.FormData,x=T.XMLHttpRequest&&T.XMLHttpRequest.prototype.send,R=T.Request&&T.fetch,A=T.navigator&&T.navigator.sendBeacon,O=T.Element&&T.Element.prototype,I=T.Symbol&&Symbol.toStringTag;I&&(Blob.prototype[I]||(Blob.prototype[I]="Blob"),"File"in T&&!File.prototype[I]&&(File.prototype[I]="File"));try{new File([],"")}catch(e){T.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),I&&Object.defineProperty(e,I,{value:"File"}),e}}var N=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},k=function(e){this.i=[];var t=this;e&&E(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?E(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?_(e.value):e.value,t.append(e.name,n))}))};if((e=k.prototype).append=function(e,t,n){S(arguments,2),this.i.push(w(e,t,n))},e.delete=function(e){S(arguments,1);var t=[];e=String(e),E(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},e.entries=function e(){var t,n=this;return b(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=f(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){S(arguments,1);for(var n=c(this),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,e.call(t,i,r,this)}},e.get=function(e){S(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},e.getAll=function(e){S(arguments,1);var t=[];return e=String(e),E(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},e.has=function(e){S(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,n,r,i=this;return b(e,(function(e){if(1==e.h&&(t=c(i),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,f(e,c(r).next().value));n=t.next(),e.h=2}))},e.set=function(e,t,n){S(arguments,2),e=String(e);var r=[],i=w(e,t,n),o=!0;E(this.i,(function(t){t[0]===e?o&&(o=!r.push(i)):r.push(t)})),o&&r.push(i),this.i=r},e.values=function e(){var t,n,r,i,o=this;return b(e,(function(e){if(1==e.h&&(t=c(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(i=c(r)).next(),f(e,i.next().value));n=t.next(),e.h=2}))},k.prototype._asNative=function(){for(var e=new C,t=c(this),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},k.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+N(_(r))+'"\r\n\r\n'+_(e)+"\r\n"):t.push(n+N(_(r))+'"; filename="'+N(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},k.prototype[Symbol.iterator]=function(){return this.entries()},k.prototype.toString=function(){return"[object FormData]"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),I&&(k.prototype[I]="FormData"),x){var P=T.XMLHttpRequest.prototype.setRequestHeader;T.XMLHttpRequest.prototype.setRequestHeader=function(e,t){P.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},T.XMLHttpRequest.prototype.send=function(e){e instanceof k?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),x.call(this,e)):x.call(this,e)}}R&&(T.fetch=function(e,t){return t&&t.body&&t.body instanceof k&&(t.body=t.body._blob()),R.call(this,e,t)}),A&&(T.navigator.sendBeacon=function(e,t){return t instanceof k&&(t=t._asNative()),A.call(this,e,t)}),T.FormData=k}}();const Cj=()=>{const e=qx("AREAS");return 0===e.length&&e.push(eO.GLOBAL),Xr(e).call(e,((e,t,n)=>{const r=xj(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},xj=e=>e===eO.OVERSEA?"".concat(nO.ASIA,",").concat(nO.EUROPE,",").concat(nO.AFRICA,",").concat(nO.NORTH_AMERICA,",").concat(nO.SOUTH_AMERICA,",").concat(nO.OCEANIA):nO[e],Rj=e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=rO[e],r=Object.keys(n);r&&r.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t},Aj={GLOBAL:{ASIA:[eO.CHINA,eO.JAPAN,eO.INDIA,eO.KOREA,eO.HKMC],EUROPE:[],NORTH_AMERICA:[eO.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Oj=Object.keys(Aj[eO.GLOBAL]),Ij=[eO.CHINA,eO.NORTH_AMERICA,eO.EUROPE,eO.ASIA,eO.JAPAN,eO.INDIA,eO.OCEANIA,eO.SOUTH_AMERICA,eO.AFRICA,eO.KOREA,eO.HKMC,eO.US],Nj=function(e,t){let n=[];if(kr(e).call(e,eO.GLOBAL)){const o=[eO.GLOBAL,eO.OVERSEA],a=Object.keys(rO);if(t===eO.GLOBAL)throw new SR(bC.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===eO.CHINA)n=[eO.OVERSEA];else if(i=t,kr(Oj).call(Oj,i)){const e=(r=t,Aj[eO.GLOBAL][r]||[]),i=[...o,t,...e];n=a.filter((e=>!kr(i).call(i,e)))}else if(function(e){let t=!1;return Oj.forEach((n=>{var r;kr(r=Aj[eO.GLOBAL][n]).call(r,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return Oj.forEach((n=>{var r;kr(r=Aj[eO.GLOBAL][n]).call(r,e)&&(t=n)})),t}(t),r=[...o,e,t];n=a.filter((e=>!kr(r).call(r,e)))}else n=e;n=function(e){const t=[];return Ij.forEach((n=>{kr(e).call(e,n)&&t.push(n)})),t.concat(e.filter((e=>!kr(Ij).call(Ij,e))))}(n)}else n=e;var r,i;return n};function kj(e){var t,n;if(!e&&kr(t=qx("AREAS")).call(t,eO.EXTENSIONS))return fR.debug("update area from ap : reset"),void Pj(TR,!0);if(!kr(n=qx("AREAS")).call(n,eO.GLOBAL)||!e)return;let r=rO.EXTENSIONS;r&&(r={CODE:xj(eO.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},fR.debug("update area from ap success: ".concat(e,",config is "),r),Yx("AREAS",[eO.EXTENSIONS],!0),Object.keys(r).map((e=>{Yx(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?r[e][0]:r[e])})))}function Pj(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wR.reportApiInvoke(null,{name:UC.SET_AREA,options:e,tag:FC.TRACER});try{let r=[];if("string"==typeof e&&(r=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!kr(tO).call(tO,e))throw new SR(bC.INVALID_PARAMS,"invalid area code")})),r=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:n}=e;if(!t)throw new SR(bC.INVALID_PARAMS,"area code is needed");let i=t;"string"==typeof t&&(i=[t]),r=n?Nj(i,n):i}if(!t){if($x.AREAS){const e=new SR(bC.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(e),void fR.warning("setArea is prohibited because of config-distribute")}if(kr(r).call(r,eO.GLOBAL)&&qx("AREAS")===eO.EXTENSIONS){const e=new SR(bC.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(e),void fR.warning("setArea is prohibited because of ap extensions")}}Yx("AREAS",r,t);const i=Rj(r);Object.keys(i).map((e=>{Yx(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?i[e][0]:i[e])})),fR.debug("set area success:",r.join(","))}catch(e){throw n.onError(e),e}n.onSuccess()}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dj(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Mj=1;function jj(e,t,n,r,i){Mj+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:Mj,requestId:Mj,version:Bx,cname:n.cname},a={service_name:t,json_body:JSON.stringify(o)};let s,c,l=e[0];return kx((async()=>{s=Date.now();const e=await Tj(l,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new SR(bC.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw fR.error(t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new SR(bC.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw fR.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new SR(bC.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw fR.error(e.toString()),e}const i=function(e,t){return{addressList:e.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(qx("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(n,t);return qx("LIVE_STREAMING_ADDRESS")&&(i.addressList=qx("LIVE_STREAMING_ADDRESS")instanceof Array?qx("LIVE_STREAMING_ADDRESS"):[qx("LIVE_STREAMING_ADDRESS")]),Lj(Lj({},i),{},{responseTime:c})}),((r,i)=>(wR.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===i,responseTime:c,serverIp:e[i%e.length]}),!1)),((r,i)=>(wR.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:c,serverIp:e[i%e.length]}),!!(r.code!==bC.OPERATION_ABORTED&&r.code!==bC.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(l=e[(i+1)%e.length],!0))),i)}let Uj=1;function Fj(e,t,n,r){let{url:i,areaCode:o}=e;const{clientId:a,sid:s}=t,c=Date.now();let l;const[u,d]=Gj(t,o,[GO.CHOOSE_SERVER]);let h=ex.networkState;return kx((async()=>{h&&ex.networkState===qC.OFFLINE&&ex.onlineWaiter&&await Wh.race([ex.onlineWaiter,mx(r&&r.maxRetryTimeout||Ix.maxRetryTimeout)]),h=ex.networkState;const{data:e,headers:o}=await Tj(i,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);l="1"===o.http3?1:-1,wR.reportResourceTiming(i,s),Vj(e,i,t,c,[GO.CHOOSE_SERVER],l);const a=JO(e,GO.CHOOSE_SERVER);return Wj(a),qO(a,i)}),(e=>(e&&wR.joinChooseServer(s,{lts:c,succ:!0,csAddr:i,opid:d,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[GO.CHOOSE_SERVER].toString(),isHttp3:l,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.res.detail&&e.res.detail[38]}),!1)),(e=>e.code!==bC.OPERATION_ABORTED&&(e.code===bC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(wR.joinChooseServer(s,{lts:c,succ:!1,csAddr:i,serverList:null,opid:d,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[GO.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:l,corssRegionTagReq:t.apRequestDetail}),fR.warning("[".concat(a||"sid-".concat(s.slice(0,6)),"] Choose server network error, retry"),e),!0))),r)}function Bj(e,t,n,r){let i,{url:o,areaCode:a,serviceIds:s}=e;const c=Date.now(),[l,u]=Gj(t,a,s);let d;return kx((async()=>{d&&ex.networkState===qC.OFFLINE&&ex.onlineWaiter&&await Wh.race([ex.onlineWaiter,mx(r&&r.maxRetryTimeout||Ix.maxRetryTimeout)]),d=ex.networkState;const{data:e,headers:a}=await Tj(o,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);i="1"===a.http3?1:-1,wR.reportResourceTiming(o,t.sid),Vj(e,o,t,c,s,i);const u=JO(e,GO.CHOOSE_SERVER),h=JO(e,"proxy5"===t.cloudProxyServer?GO.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?GO.CLOUD_PROXY:GO.CLOUD_PROXY_FALLBACK);return Wj(u),{gatewayInfo:qO(u,o),proxyInfo:h,url:o}}),(e=>(e.gatewayInfo&&wR.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:i,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.gatewayInfo.res.detail&&e.gatewayInfo.res.detail[38]}),e.proxyInfo&&wR.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==bC.OPERATION_ABORTED&&(e.code===bC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(wR.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:d})}),fR.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0))),r)}const Vj=(e,t,n,r,i,o)=>{const{sid:a,clientId:s,cloudProxyServer:c}=n,l=[],u=s=>{4096===s.flag?wR.joinChooseServer(a,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:s.error.message,csIp:s.error.data&&s.error.data.csIp,unilbsServerIds:i.toString(),isHttp3:o,corssRegionTagReq:n.apRequestDetail}):1048576!==s.flag&&4194304!==s.flag&&4194310!==s.flag||wR.joinWebProxyAP(a,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:s.error.code,eventType:c,unilbsServerIds:i.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)fR.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};l.push(n),u(n)}if(0!==n){const r=xO(n),i={error:new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?fR.warning(i.error.toString()):l.push(i),u(i)}})),l.length)throw fR.warning("[".concat(s||"sid-".concat(a.slice(0,6)),"] multi unilbs ").concat(t," failed, ").concat(l.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,l.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!l.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(l.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},Wj=e=>{var t,n,r,i;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(qx("AP_AREA")&&(null!==(r=e.detail)&&void 0!==r&&r[23]&&"string"==typeof(null===(i=e.detail)||void 0===i?void 0:i[23])?kj(e.detail[23].toLowerCase()):kj()),null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(n=e.detail)||void 0===n?void 0:n[19])){const t=e.detail[19],n=null==t?void 0:t.split(";");for(let r=0;r<n.length;r++){var o;const t=Vp(o=n[r]).call(o);e.addresses[r]&&n&&(e.addresses[r].fingerprint=t)}}if(qx("GATEWAY_ADDRESS")&&qx("GATEWAY_ADDRESS").length>0){fR.debug("assign gateway address to",qx("GATEWAY_ADDRESS"));const t=qx("GATEWAY_ADDRESS").map((t=>{var n,r;const i=null!==(n=null===(r=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===r?void 0:r.fingerprint)&&void 0!==n?n:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:i}}));e.addresses=t}},Hj=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=xO(t.buffer.code);throw new SR(bC.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw fR.debug("update ticket request received ap response without response body:",t),new SR(bC.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},Gj=(e,t,n)=>{const r=Math.floor(Math.random()*10**12),i={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:Lj(Lj({6:e.stringUid,11:t,12:qx("USE_NEW_TOKEN")?"1":void 0,22:t},e.apRequestDetail?{33:e.apRequestDetail}:{}),e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:n,uid:e.uid||0}}]};i.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const o=new FormData;return o.append("request",JSON.stringify(i)),[o,r]},zj=(e,t)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},i=new FormData;return i.append("request",JSON.stringify(r)),[i,n]};let Kj=0;function Yj(e){return Wh.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const qj=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:i,promisesCollector:o}=e,a=0;const s=t;let c,l=0;const u=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(r)})();o&&o.push(...e);try{c=await Yj(e)}catch(e){if(l+=s,a++,!(l>=n.length))return void await u();i(e)}e.forEach((e=>e.cancel()))};return await u(),c},$j=async e=>{let{referenceList:t,asyncMapHandler:n,closeFn:r}=e;const i=t.length;let o=0;const a=async()=>{const e=n(t.shift());try{return await e}catch(e){if(o++,o>=i||null!=r&&r(e))throw e;return a()}};return a()};async function Xj(e,t,n,r){const i=async function(e,t,n,r){let i=null;const o=[],a=async()=>{const i=qx("WEBCS_DOMAIN").slice(0,qx("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:Cj()}))),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),s=await qj({fragementLength:qx("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(fR.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),Fj(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await mx(1e3),null!==i)return i;const a=qx("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:Cj()}))),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await qj({fragementLength:qx("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(fR.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),Fj(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return i=await Yj([a(),s()]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),i}catch(e){throw e[0]}}(e,t,n,r);return{gatewayInfo:await i}}async function Qj(e,t,n,r,i){const o=e.cloudProxyServer;if("disabled"===o){if(!r)return;if(e.useLocalAccessPoint)return await Xj(e,t,n,i);if(qx("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:r,proxyInfo:o}=await nU(e,t,n,i);if(e.turnServer&&"auto"!==e.turnServer.mode)return{gatewayInfo:r};const s=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||Hx.tcpport,udpport:e.udpport||Hx.udpport,username:e.username||Hx.username,password:e.password||Hx.password,forceturn:!1,security:!0})));if(i.useP2P){var a;const t=null!==(a=e.uid)&&void 0!==a?a:r.uid,n="glb:".concat(t.toString()),i=await DC(n),c=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||Hx.tcpport,udpport:e.udpport||Hx.udpport,username:n,password:i,forceturn:!1,security:!0})));s.push(...c)}return e.turnServer={mode:"manual",servers:s},{gatewayInfo:r}}return await Xj(e,t,n,i)}const{proxyInfo:s,gatewayInfo:c}=await nU(e,t,n,i),l={gatewayInfo:c},u=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport?e.tcpport:Hx.tcpport,udpport:"proxy4"===o?void 0:e.udpport?e.udpport:Hx.udpport,username:e.username||Hx.username,password:e.password||Hx.password,forceturn:"proxy4"!==o,security:"proxy5"===o})));if(i.useP2P){var d;const t=null!==(d=e.uid)&&void 0!==d?d:c.uid,n="glb:".concat(t.toString()),r=await DC(n),i=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport||Hx.tcpport,udpport:"proxy4"===o?void 0:e.udpport||Hx.udpport,username:n,password:r,forceturn:"proxy4"!==o,security:"proxy5"===o})));u.push(...i)}return e.turnServer={mode:"manual",servers:u},fR.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(o)),l}async function Jj(e,t,n,r,i){const o=qx("ACCOUNT_REGISTER").slice(0,qx("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?o.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):o.map((e=>"https://".concat(e,"/api/v1")));const s=null==i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const o=await async function(e,t,n,r,i){const o=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await kx((()=>Tj(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,r)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw fR.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),wR.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:bC.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new SR(bC.INVALID_UINT_UID_FROM_STRING_UID);return wR.reqUserAccount(a.sid,{lts:o,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const i=xO(n.code);return i.retry&&(s=e[(r+1)%e.length]),wR.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:i.desc,extend:a}),i.retry}),((t,n)=>t.code!==bC.OPERATION_ABORTED&&(wR.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),i);if(0!==c.code){const e=xO(c.code);throw new SR(bC.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,r);return null==i||i.recordJoinChannelService({status:"success",endTs:Date.now()},s),o.uid}catch(e){throw null==i||i.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},s),e}}async function Zj(e,t,n){const r=qx("ACCOUNT_REGISTER");let i=[];i=t.proxyServer?r.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):r.map((e=>"https://".concat(e,"/api/v1")));try{const r=await $j({referenceList:i,asyncMapHandler:r=>async function(e,t,n,r){const i=Date.now(),o={sid:n.sid,opid:10,appid:n.appId,string_uid:t};try{const t=await Tj(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),{data:o,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(0!==t.code){const e=xO(t.code);throw new SR(bC.UNEXPECTED_RESPONSE,"preload sua error:".concat(e.desc),e)}if(t.uid<=0||t.uid>=Math.pow(2,32))throw new SR(bC.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:i,url:e,req:o,uid:t.uid,elapse:Date.now()-i}}catch(e){throw e}}(r,e,t,n),closeFn:e=>e.code===bC.OPERATION_ABORTED||e.code===bC.UNEXPECTED_RESPONSE&&!e.data.retry});return r}catch(e){throw e}}async function eU(e,t,n){const r=qx("CDS_AP").slice(0,qx("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))),i=r.map((r=>function(e,t,n,r){const i=WT(),o={flag:64,cipher_method:0,features:{device:i.name,system:i.os,system_general:navigator.userAgent,vendor:t.appId,version:Bx,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return kx((()=>Tj(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==bC.OPERATION_ABORTED),r)}(r,e,t,n)));let o=null,a=null,s={};try{o=await Yj(i)}catch(e){if(e.code===bC.OPERATION_ABORTED)throw e;a=e}if(i.forEach((e=>e.cancel())),wR.reportApiInvoke(e.sid,{name:UC.REQUEST_CONFIG_DISTRIBUTE,options:{error:a,res:o}}).onSuccess(),o&&o.test_tags)try{s=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),r={};return n.forEach((e=>{var n;const i=Vp(n=e.slice(4)).call(n),o=JSON.parse(t[e])[1];r[i]=o})),r}(o)}catch(e){}return s}async function tU(e,t){const n=qx("WEBCS_DOMAIN").concat(qx("WEBCS_DOMAIN_BACKUP_LIST")).map((e=>({url:"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:Cj(),serviceIds:[GO.CHOOSE_SERVER,GO.CLOUD_PROXY_FALLBACK]})));try{const r=await $j({referenceList:n,asyncMapHandler:n=>async function(e,t,n){let r,{url:i,areaCode:o,serviceIds:a}=e;const s=Date.now(),[c,l]=Gj(t,o,a);let u=ex.networkState;try{u&&ex.networkState===qC.OFFLINE&&ex.onlineWaiter&&await Wh.race([ex.onlineWaiter,mx(Ix.maxRetryTimeout)]),u=ex.networkState;const{data:e,headers:t}=await Tj(i,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);r="1"===t.http3?1:-1;const o=e=>{const t=[];if(e.response_body.forEach((n=>{const r=n.buffer.code;if(23===n.uri&&0===r&&!n.buffer.edges_services)if(4194310===n.buffer.flag)n.buffer.edges_services=[];else{const r={error:new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:n.buffer.flag};t.push(r)}if(0!==r){const i=xO(r),o={error:new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,i.desc,{desc:i.desc,retry:i.retry,csIp:e.detail[502]}),flag:n.buffer.flag};4194310===n.buffer.flag?fR.warning(o.error.toString()):t.push(o)}})),t.length)throw new SR(bC.CAN_NOT_GET_GATEWAY_SERVER,t.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!t.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(t.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})};o(e);const a=JO(e,GO.CHOOSE_SERVER),d=JO(e,GO.CLOUD_PROXY_FALLBACK);return Wj(a),{gatewayInfo:qO(a,i),proxyInfo:d,opid:l,requestTime:s,url:i,isHttp3:r,elapse:Date.now()-s}}catch(e){throw e}}(n,e,t),closeFn:e=>e.code===bC.OPERATION_ABORTED||e.code===bC.CAN_NOT_GET_GATEWAY_SERVER&&!e.data.retry});return r}catch(e){throw e}}async function nU(e,t,n,r){const i=qx("PROXY_SERVER_TYPE3"),o=(e,t,n)=>{let r=n||i;return Array.isArray(r)&&(r=t%2==0?i[1]:i[0]),"https://".concat(r,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const i=qx("WEBCS_DOMAIN").slice(0,qx("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:Cj(),serviceIds:[GO.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?GO.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?GO.CLOUD_PROXY:GO.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),c=await qj({fragementLength:qx("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(fR.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),Bj(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},l=async()=>{if(await mx(1e3),null!==a)return a;const i=qx("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:Cj(),serviceIds:[GO.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?GO.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?GO.CLOUD_PROXY:GO.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),l=await qj({fragementLength:qx("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(fR.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),Bj(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),l};let u,d,h;try{({gatewayInfo:u,proxyInfo:d,url:h}=await Yj([c(),l()]))}catch(e){throw e[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!u||!d)throw new SR(bC.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(i)&&h){const t=/^https?:\/\/(.+?)(\/.*)?$/.exec(h)[1];kr(i).call(i,t)&&(e.proxyServer=t,fR.setProxyServer(t),wR.setProxyServer(t))}return a={gatewayInfo:u,proxyInfo:await ZO(d,u.uid)},a}async function rU(e,t,n){const r=qx("UAP_AP").slice(0,qx("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))),i=r.map((r=>function(e,t,n,r){const i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:Bx,cname:t.cname,uid:t.uid.toString(),requestId:Uj,seq:Uj};Uj+=1;const o={service_name:"tele_channel",json_body:JSON.stringify(i)};return kx((async()=>{const t=await Tj(e,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new SR(bC.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw fR.error(e.toString()),e}const r=JSON.parse(t.json_body);if(200!==r.code){const e=new SR(bC.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(r.code,", reason: ").concat(r.reason));throw fR.error(e.toString()),e}if(!r.servers||0===r.servers.length){const e=new SR(bC.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw fR.error(e.toString()),e}return{vid:r.vid,workerToken:r.workerToken,addressList:(qx("CHANNEL_MEDIA_RELAY_SERVERS")||r.servers).map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(qx("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==bC.OPERATION_ABORTED&&e.code!==bC.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),r)}(r,e,t,n)));try{const e=await Yj(i);return i.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function iU(e,t,n){let r=null;const i=[],o=async o=>{const a=qx(o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return o&&(await mx(1e3),null!==r)?r:await qj({fragementLength:qx("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(fR.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),r),function(e,t,n,r){const[i]=zj(t,[GO.CHOOSE_SERVER]);let o=ex.networkState;return kx((async()=>{o&&ex.networkState===qC.OFFLINE&&ex.onlineWaiter&&await Wh.race([ex.onlineWaiter,mx(r&&r.maxRetryTimeout||Ix.maxRetryTimeout)]),o=ex.networkState;const t=await Tj(e,{data:i,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return Hj(t,e)}),(()=>!1),(e=>e.code!==bC.OPERATION_ABORTED&&(e.code===bC.UPDATE_TICKET_FAILED?e.data.retry:(fR.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),!0))),r)}(r,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:i})};try{return r=await Yj([o(!1),o(!0)]),i.length&&i.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}function oU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oU(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class sU extends LC{get isSuccess(){return!!this.configs}constructor(e){super(),jE(this,"configs",void 0),jE(this,"joinInfo",void 0),jE(this,"cancelToken",void 0),jE(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),jE(this,"interval",void 0),jE(this,"mutex",void 0),jE(this,"mutableParamsRead",!1),this.mutex=new Ax("config-distribute",e)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),qx("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),qx("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,wR.reportApiInvoke(null,{options:void 0,name:UC.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:FC.TRACER}).onSuccess(JSON.stringify($x))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void fR.debug("[config-distribute] get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await eU(this.joinInfo,this.cancelToken,this.retryConfig),fR.debug("[config-distribute] get config distribute",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new SR(bC.NETWORK_RESPONSE_ERROR,e);fR.warning("[config-distribute] ".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(iO.UPDATE_BITRATE_LIMIT,e):this.emit(iO.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&aU({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=am(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let i=0;i<n.length;i++)for(let t=n.length-1;t>i;t--){const r=n[t];if("number"==typeof e[r].__priority){const i=e[r].__priority,o=n[t-1];if("number"==typeof e[o].__priority){if(!(i>e[o].__priority))continue;{const e=r;n[t]=n[t-1],n[t-1]=e}}else{const e=r;n[t]=n[t-1],n[t-1]=e}}}const r={};n.forEach((t=>{const n=e[t],i=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(r,e)||(r[e]=aU({value:n[e]},i&&{expires:i}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((n=>{switch(n){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(Kx,n)){const{value:r,expires:i}=e[n];if(i&&i<=t)return;$x[n]=r,Kx[n]=r,fR.debug("Update global parameters from config distribute",n,r)}}}))}catch(t){fR.error("Error update config immediately: ".concat(e),t.message)}}(r);const e=JSON.stringify(r),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),fR.debug("Caching global parameters ".concat(e))}catch(e){fR.error("Error caching global parameters:",e.message)}}}class cU extends LC{constructor(){super(...arguments),jE(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){if(qx("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){var i;const n=kr(i=r.result).call(i,!0);r.isPrevNormal&&!n&&this.emit("exception",lU[e],e,t),!r.isPrevNormal&&n&&this.emit("exception",lU[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=n,r.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof EL&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=$O(t._encoderConfig.frameRate));const r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof EL&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const lU={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},uU=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};var dU=r(re.Object.getOwnPropertySymbols),hU=In,pU=$n.indexOf,fU=Vr,mU=C([].indexOf),gU=!!mU&&1/mU([1],1,-0)<0;hU({target:"Array",proto:!0,forced:gU||!fU("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return gU?mU(this,e,t)||0:pU(this,e,t)}});var vU=Jn("Array").indexOf,yU=d,bU=vU,EU=Array.prototype,_U=function(e){var t=e.indexOf;return e===EU||yU(EU,e)&&t===EU.indexOf?bU:t},wU=r(_U);function SU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=VR(e);for(r=0;r<o.length;r++)n=o[r],wU(t).call(t,n)>=0||(i[n]=e[n]);return i}(e,t);if(dU){var o=dU(e);for(r=0;r<o.length;r++)n=o[r],wU(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TU(e){if(Array.isArray(e))return e.map((e=>e));if(!CU(e))return e;const t={};for(const n in e){const r=e[n];CU(r)||Array.isArray(r)?t[n]=TU(r):t[n]=r}return t}function CU(e){return!("object"!=typeof e||Array.isArray(e)||!e)}class xU{constructor(e){jE(this,"input",[]),jE(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const RU={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},AU={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:RU,remoteCandidate:RU},updateInterval:0},OU={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},IU={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},NU={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},kU={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class LU{constructor(e,t){jE(this,"onFirstVideoReceived",void 0),jE(this,"onFirstVideoDecoded",void 0),jE(this,"onFirstAudioReceived",void 0),jE(this,"onFirstVideoDecodedTimeout",void 0),jE(this,"onFirstAudioDecoded",void 0),jE(this,"onSelectedLocalCandidateChanged",void 0),jE(this,"onSelectedRemoteCandidateChanged",void 0),jE(this,"videoIsReady",!1),jE(this,"videoIsReady2",{}),jE(this,"pc",void 0),jE(this,"options",void 0),jE(this,"intervalTimer",void 0),jE(this,"stats",TU(AU)),jE(this,"isFirstVideoReceived",{}),jE(this,"isFirstVideoDecoded",{}),jE(this,"isFirstAudioReceived",{}),jE(this,"isFirstAudioDecoded",{}),jE(this,"isFirstVideoDecodedTimeout",{}),jE(this,"lossRateWindowStats",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Wh((e=>{e({local:DU({},RU),remote:DU({},RU)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"];let r=0,i=0,o=0,a=0;for(const s of n)e[s].forEach(((e,n)=>{if(!this.lossRateWindowStats[t-1][s][n]||!this.lossRateWindowStats[0][s][n])return;const c=this.lossRateWindowStats[t-1][s][n].packets-this.lossRateWindowStats[0][s][n].packets,l=this.lossRateWindowStats[t-1][s][n].packetsLost-this.lossRateWindowStats[0][s][n].packetsLost;"videoSend"===s||"audioSend"===s?(r+=c,o+=l):(i+=c,a+=l),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||l<=0?0:l/(c+l)}));e.sendPacketLossRate=r<=0||o<=0?0:o/(r+o),e.recvPacketLossRate=i<=0||a<=0?0:a/(i+a)}}function MU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MU(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class UU extends LU{constructor(){super(...arguments),jE(this,"_stats",AU),jE(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=TU(AU);const n=t.filter((e=>"ssrc"===e.type));this.processSSRCStats(n);const r=t.find((e=>"VideoBwe"===e.type));r&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const n=kr(t=e.id).call(t,"send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":{const t=TU(IU);t.codec=e.googCodecName,t.adaptionChangeReason="none",e.googCpuLimitedResolution&&(t.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason="bandwidth"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case"video_recv":{const t=TU(OU),n=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),n){const r=n.stats,i=Date.now()-n.lts;t.framesDecodeFreezeTime=r.framesDecodeFreezeTime,t.framesDecodeInterval=r.framesDecodeInterval,t.framesDecodeCount>r.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=i,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:jU({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case"audio_recv":{const t=TU(kU);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case"audio_send":{const t=TU(NU);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new Wh(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t.push(n)})),t}}var FU=function(e){return e[e.kNone=1]="kNone",e[e.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",e[e.kBytesToBits=8]="kBytesToBits",e}(FU||{});function BU(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:FU.kNone;if(!t)return;const o=Number(t[n]);if("number"!=typeof o)return;const a=Number(t[r]);if("number"!=typeof a)return;if(!e)return a?o/a*i:void 0;const s=Number(e[n]);if("number"!=typeof s)return;const c=Number(e[r]);if("number"!=typeof c)return;const l=a-c;return l?(o-s)/l*i:void 0}function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VU(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class HU extends LU{constructor(){super(...arguments),jE(this,"_stats",AU),jE(this,"report",void 0),jE(this,"lastDecodeVideoReceiverStats",new Map),jE(this,"lastVideoFramesRecv",new Map),jE(this,"lastVideoFramesSent",new Map),jE(this,"lastVideoFramesDecode",new Map),jE(this,"lastVideoFramesOutput",new Map),jE(this,"lastVideoJBDelay",new Map),jE(this,"lastAudioJBDelay",new Map),jE(this,"mediaBytesSent",new Map),jE(this,"mediaBytesRetransmit",new Map),jE(this,"mediaBytesTargetEncode",new Map),jE(this,"lastDecodeAudioReceiverStats",new Map),jE(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=TU(AU),this.report.forEach((e=>{switch(e.type){case wA.OUTBOUND:case wA.INBOUND:{const t=e.mediaType||e.kind,n=!t&&"frameWidth"in e,r=!t&&!("frameWidth"in e);e.type===wA.OUTBOUND?"audio"===t||r?this.processAudioOutboundStats(e):("video"===t||n)&&this.processVideoOutboundStats(e):e.type===wA.INBOUND&&("audio"===t||r?this.processAudioInboundStats(e):("video"===t||n)&&this.processVideoInboundStats(e));break}case wA.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case wA.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:WU({},RU),remote:WU({},RU)};return e.forEach((n=>{let r;if(n.type===wA.TRANSPORT&&(r=e.get(n.selectedCandidatePairId)),n.type===wA.CANDIDATE_PAIR&&n.selected&&(r=n),r){const n=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(r.localCandidateId){const i=e.get(r.localCandidateId);i&&n(t.local,i)}if(r.remoteCandidateId){const i=e.get(r.remoteCandidateId);i&&n(t.remote,i)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===wA.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===wA.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===wA.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(WU({},t),WU({},this.stats.selectedCandidatePair.localCandidate)),e.type===wA.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(WU({},t),WU({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=TU(kU),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.totalProcessingDelay=e.totalProcessingDelay,t.jitterBufferEmittedCount=e.jitterBufferEmittedCount;const n=this.lastDecodeAudioReceiverStats.get(t.ssrc);t.avgProcessingDelayMs=BU(n,t,"totalProcessingDelay","jitterBufferEmittedCount",FU.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples),this.lastDecodeAudioReceiverStats.set(t.ssrc,WU({},t))}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=TU(OU),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration,t.totalProcessingDelay=e.totalProcessingDelay,t.packetsDiscarded=e.packetsDiscarded,t.framesAssembledFromMultiplePackets=e.framesAssembledFromMultiplePackets,t.totalAssemblyTime=e.totalAssemblyTime,t.keyFramesDecoded=e.keyFramesDecoded,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived;const n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),i=this.lastVideoFramesOutput.get(t.ssrc),o=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,n=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,n),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){const r=n.stats,i=o-n.lts;t.framesDecodeFreezeTime=r.framesDecodeFreezeTime,t.framesDecodeInterval=r.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&i>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>r.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=i,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<r.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime,t.avgDecodeMs=BU(null==n?void 0:n.stats,t,"decodeMs","framesDecodeCount")),t.avgProcessingDelayMs=BU(null==n?void 0:n.stats,t,"totalProcessingDelay","framesDecodeCount",FU.kMillisecondsFromSeconds),t.avgFramesAssembledFromMultiplePacketsMs=BU(null==n?void 0:n.stats,t,"totalAssemblyTime","framesAssembledFromMultiplePackets",FU.kMillisecondsFromSeconds),t.avgInterFrameDelayMs=BU(null==n?void 0:n.stats,t,"totalInterFrameDelay","framesDecodeCount",FU.kMillisecondsFromSeconds),r&&o-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:0}),t.framesDroppedCount&&e.framesReceived&&(i&&o-i.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-i.count)/((o-i.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:Math.max(t.outputFrameRate,0)})):i?t.outputFrameRate=i.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:0})),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:WU({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=TU(IU),this._stats.videoSend.push(t));const n=this.mediaBytesSent.get(e.ssrc);if(n)n.add(e.bytesSent);else{const t=new xU(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new xU(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new xU(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,t.hugeFramesSent=e.hugeFramesSent,t.keyFramesEncoded=e.keyFramesEncoded,e.totalEncodeTime&&e.framesEncoded){const n=this.lastEncoderMs.get(e.ssrc);if(!n||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const r=e.framesEncoded-n.lastFrameCount,i=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*i/r}}if(e.framesEncoded&&e.qpSum){const n=this.lastEncoderMs.get(e.ssrc);!n||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,wA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=TU(NU),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,wA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}findRemoteStatsId(e,t){var n;const r=Array.from(hI(n=this.report).call(n)).find((n=>n.type===t&&n.ssrc===e));return r?r.id:null}processVideoMediaSource(e,t){const n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})}processAudioMediaSource(e,t){const n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)}processVideoTrackSenderStats(e,t,n){var r,i,o,a;const s=t?this.report.get(t):void 0,c=null!==(r=null==s?void 0:s.framesSent)&&void 0!==r?r:e.framesSent;if("number"!=typeof c)return;let l=null!==(i=null==s?void 0:s.frameWidth)&&void 0!==i?i:e.frameWidth,u=null!==(o=null==s?void 0:s.frameHeight)&&void 0!==o?o:e.frameHeight,d=null!==(a=null==s?void 0:s.framesPerSecond)&&void 0!==a?a:e.framesPerSecond;if("number"==typeof l&&"number"==typeof u||(l=0,u=0),null==d){const e=Date.now(),t=this.lastVideoFramesSent.get(n.ssrc);t&&e-t.lts>=800?(d=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:d})):t?d=t.rate:this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:0})}n.sentFrame={width:l,height:u,frameRate:Math.max(0,d)}}processVideoTrackReceiverStats(e,t,n){var r,i,o,a,s;const c=t?this.report.get(t):void 0,l=null!==(r=null==c?void 0:c.framesReceived)&&void 0!==r?r:e.framesReceived,u=null!==(i=null==c?void 0:c.frameWidth)&&void 0!==i?i:e.frameWidth,d=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(a=null==c?void 0:c.jitterBufferDelay)&&void 0!==a?a:e.jitterBufferDelay,p=null!==(s=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount;if("number"==typeof l){const e=this.lastVideoFramesRecv.get(n.ssrc),t=Date.now();n.framesReceivedCount=l;let r=0;e&&t-e.lts>=800?(r=Math.round((l-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:r})):e?r=e.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:0}),n.receivedFrame={width:u||0,height:d||0,frameRate:r||0},n.decodedFrame={width:u||0,height:d||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:u||0,height:d||0,frameRate:n.outputFrameRate||n.decodeFrameRate||0}}if(h&&p){const e=this.lastVideoJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const r=p-e.jitterBufferEmittedCount;r>0&&(t=1e3*(h-e.jitterBufferDelay)/r),n.jitterBufferMs=t,n.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:n.currentDelayMs})}}processAudioTrackSenderStats(e,t,n){var r,i,o,a;const s=t?this.report.get(t):void 0,c=null!==(r=null!==(i=null==s?void 0:s.echoReturnLoss)&&void 0!==i?i:e.echoReturnLoss)&&void 0!==r?r:0,l=null!==(o=null!==(a=null==s?void 0:s.echoReturnLossEnhancement)&&void 0!==a?a:e.echoReturnLossEnhancement)&&void 0!==o?o:0;n.aecReturnLoss=c,n.aecReturnLossEnhancement=l}processAudioTrackReceiverStats(e,t,n){var r,i,o,a,s,c,l;const u=t?this.report.get(t):void 0,d=null!==(r=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==r?r:e.removedSamplesForAcceleration,h=null!==(i=null==u?void 0:u.totalSamplesReceived)&&void 0!==i?i:e.totalSamplesReceived,p=null!==(o=null==u?void 0:u.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,f=null!==(a=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount,m=null!==(s=null==u?void 0:u.audioLevel)&&void 0!==s?s:null==e?void 0:e.audioLevel,g=null!==(c=null==u?void 0:u.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,v=null!==(l=null==u?void 0:u.concealedSamples)&&void 0!==l?l:e.concealedSamples;if(d&&h&&(n.accelerateRate=d/h),p&&f){const e=this.lastAudioJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const r=f-e.jitterBufferEmittedCount;r>0&&(t=1e3*(p-e.jitterBufferDelay)/r),n.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:f,jitterBufferMs:n.jitterBufferMs})}n.outputLevel=m;let y=1920;g&&h&&(y=h/g/50,n.receivedFrames=Math.round(h/y)),v&&(n.droppedFrames=Math.round(v/y))}processRemoteInboundStats(e,t){const n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime),n.jitter&&(t.jitterMs=1e3*n.jitter),n.timestamp&&(t.timestamp=n.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return"";const n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""}updateSendBitrate(){let e=0,t=null,n=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{n=null===n?e.diffMean():n+e.diffMean()}));const r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))}}class GU extends LU{updateStats(){return Wh.resolve()}}function zU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?Number(e[0].split("/")[1]):null}();return o?o<76?new UU(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new HU(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!!(t instanceof Wh||function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(t))}(e)?new HU(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new GU(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i})}let KU=class{get localCapabilities(){return ix(this._localCapabilities)}get rtpCapabilities(){return ix(this._rtpCapabilities)}get candidates(){return ix(this._candidates)}get iceParameters(){return ix(this._iceParameters)}get dtlsParameters(){return ix(this._dtlsParameters)}constructor(e){jE(this,"sessionDesc",void 0),jE(this,"_localCapabilities",void 0),jE(this,"_rtpCapabilities",void 0),jE(this,"_candidates",void 0),jE(this,"_iceParameters",void 0),jE(this,"_dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname","o/i14u9pJrxRKAsu"),jE(this,"firefoxSsrcMidMap",new Map),e=ix(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,localCapabilities:o,direction:a,setup:s,videoCodec:c,audioCodec:l}=e;let u;this.setup=s,u=a===PA.RECEIVE_ONLY?UM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):UM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=o;const d=a===PA.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=a===PA.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=a===PA.RECEIVE_ONLY?i.send.videoCodecs:uj(sO.VIDEO,d,h,c),f=a===PA.RECEIVE_ONLY?i.send.audioCodecs:uj(sO.AUDIO,d,h,l);for(const m of u.mediaDescriptions)m.attributes.iceUfrag=t.iceUfrag,m.attributes.icePwd=t.icePwd,m.attributes.fingerprints=n.fingerprints,m.attributes.candidates=r,m.attributes.setup=this.setup,"application"===m.media.mediaType&&(m.attributes.sctpPort="5000"),"video"===m.media.mediaType&&(m.media.fmts=p.map((e=>e.payloadType.toString(10))),m.attributes.payloads=p,m.attributes.extmaps=d.videoExtensions),"audio"===m.media.mediaType&&(m.media.fmts=f.map((e=>e.payloadType.toString(10))),m.attributes.payloads=f,m.attributes.extmaps=d.audioExtensions,lj(m));this.sessionDesc=u,this.currentMidIndex=u.mediaDescriptions.length-1}toString(){return UM.print(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every((e=>this.hasMid(e))):this.sessionDesc.mediaDescriptions.some((t=>t.attributes.mid===e))}send(e,t,n,r,i){n=n.replace(/ /g,"-");const{ssrcs:o,ssrcGroups:a}=JM(t,this.cname,qx("SYNC_GROUP")?n:void 0),s=this.findPreloadMediaDesc(o);if(s){if(XT()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,s.attributes.mid),i&&(i.twcc||i.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,i),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o,r);let n;return-1===t?(n=this.createOrRecycleSendMedia(e,o,a,"sendonly",r,i),this.updateBundleMids()):(n=ix(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=o,n.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,i)),XT()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,n.attributes.mid),{needExchangeSDP:!0,mid:n.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{e.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e,t,n){const r=[];return e.forEach((e=>{const i=e._mediaStreamTrack.kind,o=this.findAvailableRecvMediaIndex(i);let a,s=!1;-1===o?(s=!0,a=this.createOrRecycleRecvMedia(e,[],"recvonly",t,n),this.updateBundleMids()):(a=ix(this.sessionDesc.mediaDescriptions[o]),a.attributes.direction="recvonly"),r.push({mid:a.attributes.mid,needCreateTransceiver:s})})),r}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:n,address:r,port:i,type:o,relatedAddress:a,relatedPort:s,priority:c}=new RTCIceCandidate(e),l={foundation:null!=t?t:"",componentId:"1",transport:null!=n?n:"",priority:c?c+"":"",connectionAddress:null!=r?r:"",port:i?i+"":"",type:o?o+"":"",relAddr:null!=a?a:"",relPort:s?s+"":"",extension:{}};this.candidates.some((e=>e.priority===l.priority&&e.connectionAddress===l.connectionAddress&&e.port===l.port))||(this._candidates.push(l),this.sessionDesc.mediaDescriptions.forEach((e=>{e.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,n,r,i){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,s=uj(o,a,this.localCapabilities.send,o===sO.AUDIO?i:r),c=o===sO.VIDEO?a.videoExtensions:a.audioExtensions,l="".concat(++this.currentMidIndex);let u={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(l)}};u=this.mungRecvMediaDsec(u,e);const d=this.findFirstClosedMedia(o);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>kr(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>kr(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}findAvailableMediaIndex(e,t,n){return this.sessionDesc.mediaDescriptions.findIndex((r=>{const i=r.media.mediaType===e&&"0"!==r.media.port&&("sendonly"===r.attributes.direction||"sendrecv"===r.attributes.direction)&&0===r.attributes.ssrcs.length;if(XT()){if(i){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==r.attributes.mid&&"1"!==r.attributes.mid)||!(!e||e!==r.attributes.mid)}return!1}return i&&r.attributes.mid===n}))}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex((t=>{const n=t.media.mediaType===e&&"0"!==t.media.port&&("recvonly"===t.attributes.direction||"sendrecv"===t.attributes.direction);return"0"!==t.attributes.mid&&"1"!==t.attributes.mid&&n}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}restartICE(e){e=ix(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}createOrRecycleSendMedia(e,t,n,r,i,o){const a=this.rtpCapabilities.send,s=e===sO.VIDEO?a.videoCodecs:a.audioCodecs,c=e===sO.VIDEO?a.videoExtensions:a.audioExtensions;XT()&&(i="".concat(++this.currentMidIndex));let l={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:i}};l=this.mungSendMediaDesc(l,o);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}mungRecvMediaDsec(e,t,n){const r=ix(e);return ej(r),ZM(r,t),tj(r,t),nj(r),rj(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=ix(e);return rj(n,t,this.localCapabilities.recv),lj(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>XT()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}};const YU=["sdp"];var qU;function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let QU=(qU=class e extends oO{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,n,r){super(t,n),jE(this,"direction",void 0),jE(this,"name",void 0),jE(this,"store",void 0),jE(this,"spec",void 0),jE(this,"peerConnection",void 0),jE(this,"initialOffer",void 0),jE(this,"transport",void 0),jE(this,"statsFilter",void 0),jE(this,"localCandidateCount",0),jE(this,"_isInRestartIce",!1),jE(this,"mutex",void 0),jE(this,"onLocalCandidate",void 0),jE(this,"remoteSDP",void 0),jE(this,"pendingCandidates",[]),jE(this,"localCapabilities",void 0),jE(this,"isReady",!1),jE(this,"restartCnt",0),jE(this,"curTurnServerIndex",0),this.store=n,this.spec=t,this.mutex=new Ax("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=r?r:PA.SEND_ONLY,this.name=this.direction===PA.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=zU(this.peerConnection,qx("STATS_UPDATE_INTERVAL"),void 0,XT()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await oj();if(this.localCapabilities=cj(t),e){const{sdp:t}=e,n=SU(e,YU),r=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=YM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(sj(t,e,"videoExtensions",n,r,i),sj(t,e,"videoCodecs",n,r,i),sj(t,e,"audioExtensions",n,r,i),sj(t,e,"audioCodecs",n,r,i),qx("RAISE_H264_BASELINE_PRIORITY")){const e=i.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=i.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){fR.debug("raising H264 baseline profile priority");const n=i.videoCodecs[e];i.videoCodecs.splice(e,1),i.videoCodecs.splice(t,0,n)}-1!==t&&qx("FILTER_SEND_H264_BASELINE")&&(n.videoCodecs=n.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:r,sendrecv:i}}({},{},t);this.remoteSDP=new KU({remoteIceParameters:n.iceParameters,remoteDtlsParameters:n.dtlsParameters,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const i=await this.peerConnection.createAnswer();if(!i.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const o=qM(i.sdp);await this.peerConnection.setLocalDescription(i);const a=await aj({},{},i.sdp);this.localCapabilities=cj(a);const s=this.peerConnection.getTransceivers()[0];return null!=s&&s.receiver&&s.receiver.transport&&this.tryBindTransportEvents(s.receiver.transport),XU(XU({},o),{},{sdp:i.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=qM(e.sdp);return this.initialOffer=e,XU(XU({},t),{},{sdp:e.sdp})}}catch(e){throw new EC(bC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:n,dtlsParameters:r}=e,i=await aj({},{},t);this.remoteSDP=new KU({remoteIceParameters:n,remoteDtlsParameters:r,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const o=this.peerConnection.getTransceivers()[0];null!=o&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e=>{this.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[])}catch(e){throw new EC(bC.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(e.toString()))}}send(e,t,n){var r=this;return GS((function*(){const i=yield zS(r.mutex.lock("From P2PConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const i=[],o=r.remoteSDP.receive(e,t,n);e.forEach(((e,t)=>{if(o[t].needCreateTransceiver){const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});i.push(t),e._updateRtpTransceiver(t)}else{const n=r.peerConnection.getTransceivers().find((e=>e.mid===o[t].mid));if(!n)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(o[t].mid));i.push(n),e._updateRtpTransceiver(n)}})),XT()&&!0===qx("SIMULCAST")&&(yield zS(r.applySimulcastForFirefox(i,e)));const a=o.map((e=>e.mid)),s=yield zS(r.peerConnection.createOffer()),c=r.mungSendOfferSDP(s.sdp,e,a),l=UM.parse(c),u=a.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return $M(t,qx("USE_PUB_RTX"))})),d=i.map(((e,t)=>{const n=a[t];return{localSSRC:u[t],id:n}}));yield zS(r.peerConnection.setLocalDescription({type:"offer",sdp:c}));try{yield d}catch(e){const n=r.remoteSDP.toString();throw yield zS(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield zS(r.peerConnection.setRemoteDescription({type:"answer",sdp:n})),yield zS(r.stopSending(a,!0)),e}yield zS(r.applySimulcastEncodings(i,e)),yield zS(r.applySendEncodings(i,e));const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return null==p||p(h),yield zS(r.setRemoteDescription({type:"answer",sdp:h})),i.map(((e,t)=>{const n=a[t];return{localSSRC:u[t],id:n}}))}catch(e){throw e instanceof EC?e:new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length (".concat(t.length,") doesn't match mids' length (").concat(e.length,") when trying to call P2PConnection.stopSending."));t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();null==r||r(i),await this.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(r.sdp,i,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),fR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else fR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===i));if(!a||null===a.mid)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,mid:a.mid,transceiver:a}}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async mockReceive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(r.sdp,i,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),fR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else fR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."))}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===Wx.Auto&&(this.store.p2pTransport=Wx.SdRtn,Xk().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,Xk().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:t}=qM(e.sdp);return this.store.descriptionStart(),this.direction===PA.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===PA.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:t}=qM(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?XT()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:r}=t.getSelectedCandidatePair();return{local:XU(XU({},RU),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:XU(XU({},RU),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;kr(e=["connected","completed"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;"connected"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{var t;e.candidate?(e.candidate.candidate&&(null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON())),this.localCandidateCount+=1):fR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i={iceServers:[]};var o;return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(HC(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,n,r)),qx("USE_TURN_SERVER_OF_GATEWAY")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,n,r)),kr(o=[Wx.Relay,Wx.SdRtn]).call(o,n)&&(i.iceTransportPolicy="relay"),qx("FORCE_TURN_TCP")?i.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy="relay")})))),qx("ENABLE_ENCODED_TRANSFORM")&&Xk().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),fR.debug("P2PConnection p2pTransport is ".concat(n)),i}static turnServerConfigToIceServers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[],i=e.filter((e=>e.tcpport));fR.debug("P2PConnection turnServers is ".concat(i,", current index is ").concat(n));const o=i.length>n?i[n]:i[0];switch(t){case Wx.SdRtn:const t=e.filter((e=>{var t;return kr(t=e.username).call(t,"glb:")&&e.turnServerURL==e.turnServerURL})),i=t.length>n?t[n]:t[0];i&&(r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turn:".concat(YO(i.turnServerURL),":").concat(i.tcpport,"?transport=udp")}),r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turns:".concat(YO(i.turnServerURL),":").concat(i.tcpport,"?transport=tcp")}));break;case Wx.Relay:o&&(r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(YO(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}));break;default:o&&(r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(YO(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}),r.push({username:o.username,credential:o.password,credentialType:"password",urls:"stun:".concat(o.turnServerURL,":").concat(o.tcpport)}))}return r}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var n;t&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:n}=t.getSelectedCandidatePair();fR.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))),!t)return fR.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return fR.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Xk().supportSetRtpSenderParameters)return fR.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const r={},i={};switch(e._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;default:r.degradationPreference="balanced"}if(e._encoderConfig){var o;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:r}=e._encoderConfig;t&&(i.maxBitrate=1e3*t),kr(o=e._hints).call(o,mP.LOW_STREAM)&&(n&&(i.maxFramerate=$O(n)),r&&r>=1&&(i.scaleResolutionDownBy=r))}if(qx("DSCP_TYPE")&&pC()){var a;const e=qx("DSCP_TYPE");kr(a=["very-low","low","medium","high"]).call(a,e)&&(i.networkPriority=e)}const s=t.getParameters(),c=null===(n=s.encodings)||void 0===n?void 0:n[0];XT()&&!c&&(r.encodings=[i]),c&&Object.assign(c,i),Object.assign(s,r),fR.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!Xk().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];i instanceof aM&&!this.isVP8Simulcast(i)&&await this.updateRtpSenderEncodings(i,r.sender)}}catch(e){fR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const r=UM.parse(e);return t.forEach(((e,t)=>{const i=n[t],o=r.mediaDescriptions.find((e=>e.attributes.mid===i));o&&(ZM(o,e),ij(o,e,this.store.codec))})),UM.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,r,i,o,a;const c=e[s],l=t[s];if(l instanceof aM&&!kr(n=l._hints).call(n,mP.LOW_STREAM)&&null!==(r=l._encoderConfig)&&void 0!==r&&r.bitrateMax&&(null===(i=l._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!XT()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof aM&&this.isVP8Simulcast(r)){const t=e[n],i={},o={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};i.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,i))}}}isVP8Simulcast(e){var t,n,r,i,o;return!!(e instanceof aM&&qx("SIMULCAST")&&"vp8"===this.store.codec&&!kr(t=e._hints).call(t,mP.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=e._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(i=e._scalabilityMode)&&void 0!==i&&i.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(qx("SDP_LOGGING"))return fR.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async e=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async getRemoteSSRC(e,t){var n,r;if(t=null!==(n=t)&&void 0!==n?n:null===(r=this.currentRemoteDescription)||void 0===r?void 0:r.sdp){var i;const n=null===(i=UM.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===i?void 0:i.attributes.ssrcs;return null==n?void 0:n[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),kr(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,n){const r=UM.parse(e),i=r.mediaDescriptions.find((e=>e.attributes.mid===t));return i&&n===sO.AUDIO&&"audio"===i.media.mediaType&&lj(i),UM.print(r)}},EA(qU.prototype,"establish",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"establish"),qU.prototype),EA(qU.prototype,"connect",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"connect"),qU.prototype),EA(qU.prototype,"receive",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"receive"),qU.prototype),EA(qU.prototype,"mockReceive",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"mockReceive"),qU.prototype),EA(qU.prototype,"stopReceiving",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"stopReceiving"),qU.prototype),EA(qU.prototype,"restartICE",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"restartICE"),qU.prototype),EA(qU.prototype,"close",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"close"),qU.prototype),EA(qU.prototype,"updateEncoderConfig",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"updateEncoderConfig"),qU.prototype),EA(qU.prototype,"updateSendParameters",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"updateSendParameters"),qU.prototype),EA(qU.prototype,"replaceTrack",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"replaceTrack"),qU.prototype),EA(qU.prototype,"muteLocal",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"muteLocal"),qU.prototype),EA(qU.prototype,"unmuteLocal",[JU],Object.getOwnPropertyDescriptor(qU.prototype,"unmuteLocal"),qU.prototype),qU);function JU(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function ZU(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=$O(t.width),r.height=$O(t.height);const i=$O(t.framerate||15);document.body.append(n),document.body.append(r);let o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const a=r.getContext("2d");if(!a)throw new SR(bC.UNEXPECTED_ERROR,"can not get canvas context");const s=Xk(),c=r.captureStream(s.supportRequestFrame?0:i).getVideoTracks()[0];c.canvas||(c.canvas=r),r.startCapture=()=>{if(!n)return r.stopCapture&&r.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,i=r.width*t;Math.abs(i-r.height)>=2&&(fR.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(i)),r.height=i)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))},r.stopCapture=$P((()=>r.startCapture&&r.startCapture()),i);const l=c.stop;return c.stop=()=>{l.call(c),n&&(n.remove(),n.srcObject=null,n=null),r&&(r.width=0,r.remove(),r.stopCapture&&r.stopCapture(),r.startCapture=void 0,r.stopCapture=void 0,r=null),fR.debug("clean low stream renderer")},c}var eF=function(e){return e[e.HEIGHT=2033]="HEIGHT",e[e.FRAME_RATE=2034]="FRAME_RATE",e[e.WIDTH=2035]="WIDTH",e}(eF||{}),tF=function(e){return e[e.FRAME_RATE=2002]="FRAME_RATE",e[e.WIDTH=2003]="WIDTH",e[e.HEIGHT=2004]="HEIGHT",e[e.PACKAGE_LOST=2005]="PACKAGE_LOST",e[e.AVG_ENCODE=2007]="AVG_ENCODE",e[e.NACKS=2009]="NACKS",e[e.PLIS=2010]="PLIS",e[e.FIRS=2011]="FIRS",e[e.BITRATE=2012]="BITRATE",e[e.PACKAGE_RATE=2031]="PACKAGE_RATE",e[e.ADAPTATION=2032]="ADAPTATION",e[e.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",e[e.BANDWIDTH=2061]="BANDWIDTH",e[e.RETRANSMIT=2062]="RETRANSMIT",e[e.TARGET_ENCODED=2064]="TARGET_ENCODED",e[e.TRANSMIT=2066]="TRANSMIT",e[e.FREEZE=2082]="FREEZE",e[e.DISABLED=2095]="DISABLED",e[e.PLAYER_STATUS=2128]="PLAYER_STATUS",e[e.QP_SUM=2143]="QP_SUM",e[e.BYTES_RETRANSMIT=2173]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2172]="PACKAGES_RETRANSMIT",e[e.HUGE_FRAME_SENT=2174]="HUGE_FRAME_SENT",e[e.KEY_FRAMES_ENCODED=2207]="KEY_FRAMES_ENCODED",e}(tF||{}),nF=function(e){return e[e.BITRATE=2069]="BITRATE",e[e.PACKAGE_LOST=2070]="PACKAGE_LOST",e[e.PACKAGE_RATE=2071]="PACKAGE_RATE",e[e.HEIGHT=2073]="HEIGHT",e[e.FRAME_RATE=2075]="FRAME_RATE",e[e.WIDTH=2077]="WIDTH",e}(nF||{}),rF=function(e){return e[e.JITTER=-1]="JITTER",e[e.PACKAGE_LOST=2014]="PACKAGE_LOST",e[e.WIDTH=2018]="WIDTH",e[e.HEIGHT=2019]="HEIGHT",e[e.FRAME_RATE=2020]="FRAME_RATE",e[e.JITTER_BUFFER=2023]="JITTER_BUFFER",e[e.CURRENT_DELAY=2024]="CURRENT_DELAY",e[e.NACKS=2026]="NACKS",e[e.PLIS=2027]="PLIS",e[e.FIRS=2028]="FIRS",e[e.BITRATE=2029]="BITRATE",e[e.PACKAGE_RATE=2078]="PACKAGE_RATE",e[e.FREEZE=2084]="FREEZE",e[e.DISABLED=2101]="DISABLED",e[e.PLAYER_STATUS=2129]="PLAYER_STATUS",e[e.QP_SUM=2144]="QP_SUM",e[e.I_FRAME_DELAY=2149]="I_FRAME_DELAY",e[e.FRAMES_DROPPED=2181]="FRAMES_DROPPED",e[e.BYTES_RETRANSMIT=2175]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2176]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2198]="PACKAGES_DISCARDED",e[e.AVG_DECODE=2200]="AVG_DECODE",e[e.AVG_PROCESSING_DELAY=2202]="AVG_PROCESSING_DELAY",e[e.AVG_ASSEMBLY_TIME=2203]="AVG_ASSEMBLY_TIME",e[e.AVG_INTER_FRAME_DELAY=2204]="AVG_INTER_FRAME_DELAY",e[e.KEY_FRAMES_DECODED=2206]="KEY_FRAMES_DECODED",e}(rF||{}),iF=function(e){return e[e.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",e[e.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",e[e.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",e[e.FREEZE_TIME=2109]="FREEZE_TIME",e[e.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",e[e.FREEZE_DURATION=2156]="FREEZE_DURATION",e}(iF||{}),oF=function(e){return e[e.PCM_LEVEL=2104]="PCM_LEVEL",e}(oF||{}),aF=function(e){return e[e.PACKAGE_LOST=-1]="PACKAGE_LOST",e[e.LEVEL=2038]="LEVEL",e[e.BITRATE=2039]="BITRATE",e[e.PACKAGE_RATE=2040]="PACKAGE_RATE",e[e.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",e[e.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",e[e.FREEZE=2081]="FREEZE",e[e.DISABLED=2096]="DISABLED",e[e.BYTES_RETRANSMIT=2179]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2180]="PACKAGES_RETRANSMIT",e}(aF||{}),sF=function(e){return e[e.BITRATE=2044]="BITRATE",e[e.PACKAGE_LOST=2045]="PACKAGE_LOST",e[e.PACKAGE_RATE=2046]="PACKAGE_RATE",e[e.CURRENT_DELAY=2047]="CURRENT_DELAY",e[e.JITTER_BUFFER=2054]="JITTER_BUFFER",e[e.JITTER=2055]="JITTER",e[e.FREEZE=2083]="FREEZE",e[e.DISABLED=2102]="DISABLED",e[e.PCM_LEVEL=2105]="PCM_LEVEL",e[e.PLAYER_STATUS=2130]="PLAYER_STATUS",e[e.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",e[e.BYTES_RETRANSMIT=2178]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2177]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2199]="PACKAGES_DISCARDED",e[e.AVG_PROCESSING_DELAY=2201]="AVG_PROCESSING_DELAY",e}(sF||{}),cF=function(e){return e[e.FREEZE_TIME=-1]="FREEZE_TIME",e[e.LEVEL=2043]="LEVEL",e}(cF||{}),lF=function(e){return e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE",e[e.STATS_UPDATE_INTERVAL=2205]="STATS_UPDATE_INTERVAL",e}(lF||{});const uF=1e3,dF=3;function hF(e,t,n){null!=n&&Number.isFinite(n)&&(e[t]=Math.round(Math.max(0,n)))}function pF(e){const t={[lF.CONN_TYPE]:0,[lF.RTT]:e.rtt,[lF.STATS_UPDATE_INTERVAL]:e.updateInterval?Math.round(Math.max(0,e.updateInterval)):void 0};switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t[lF.CONN_TYPE]=1),"tcp"===n&&(t[lF.CONN_TYPE]=3),"tls"===n&&(t[lF.CONN_TYPE]=4);break}case"srflx":t[lF.CONN_TYPE]=2}return t}function fF(e){let t=0;switch(e){case"none":t=0;break;case"cpu":t=1;break;case"bandwidth":t=2;break;case"other":t=3}return t}class mF extends LC{constructor(e){super(),jE(this,"store",void 0),jE(this,"uploadWRTCStatsTimer",void 0),jE(this,"uploadOutboundDenoiserStatsTimer",void 0),jE(this,"uploadExtStatsTimer",void 0),jE(this,"uploadExtUsageStatsTimer",void 0),jE(this,"uploadInboundExtStatsTimer",void 0),jE(this,"requestStats",void 0),jE(this,"requestTransportStats",void 0),jE(this,"requestLocalMedia",void 0),jE(this,"requestRemoteMedia",void 0),jE(this,"requestAllTracks",void 0),jE(this,"requestVideoIsReady",void 0),jE(this,"requestUploadStats",void 0),jE(this,"requestUpload",void 0),jE(this,"uploadOutboundStarted",!1),jE(this,"uploadInboundStarted",!1),jE(this,"uploadTransportStarted",!1),jE(this,"uploadExtensionUsageStarted",!1),jE(this,"lastRecvStats",void 0),jE(this,"lastSendStats",void 0),jE(this,"lastFullRecvStats",void 0),jE(this,"lastFullSendStats",void 0),jE(this,"needUploadRenderFreezeTime",!0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let t,n;if(this.uploadTransportStarted&&(t=this.requestStats(),this.store.useP2P&&(n=this.requestStats(!0))),!t&&this.uploadOutboundStarted&&(t=this.requestStats()),!n&&this.uploadInboundStarted&&(n=this.requestStats(!0)),t||n){const r={};if(this.uploadTransportStarted&&t){const i=this.getTransportStats(t,n,e);i&&(r.misc=[i])}if(this.uploadOutboundStarted&&t){const n=this.getOutboundStats(t,e?this.lastSendStats:this.lastFullSendStats,e);n&&(r.outbound=[n])}if(this.uploadInboundStarted&&n){const t=this.getInboundStats(n,e?this.lastRecvStats:this.lastFullRecvStats,e);t&&(r.inbound=t)}this.requestUploadStats(r)}this.lastRecvStats=n,this.lastSendStats=t,e||(this.lastFullRecvStats=n,this.lastFullSendStats=t)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==dF),++e===dF+1&&(e=1)}),uF)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(e,t,n){if(!this.requestStats)return;if(n)return null==e.rtt?void 0:{addition:{[lF.RTT]:e.rtt,[lF.CONN_TYPE]:void 0,[lF.STATS_UPDATE_INTERVAL]:e.updateInterval||void 0}};const r=pF(e);if(this.store.useP2P){if(t){const e=pF(t);r[lF.CONN_TYPE]+=e[lF.CONN_TYPE]<<3}r[lF.CONN_TYPE]+=110}else r[lF.CONN_TYPE]+=100;return{addition:r}}getOutboundStats(e,t,n){if(!this.requestUploadStats||!this.requestLocalMedia)return;const r=this.requestLocalMedia();if(!r||0===r.length)return;let i,o,a;return r.forEach((r=>{let[s,{track:c,ssrcs:l}]=r;switch(s){case uO.LocalVideoLowTrack:case uO.LocalVideoTrack:if(s===uO.LocalVideoTrack){const r=function(e,t,n,r,i){const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return;const a={},{sentFrame:s,inputFrame:c}=o;if(c&&s){const e=c.frameRate,t=s.frameRate;a[tF.FREEZE]=function(e,t){let n=!0;return n=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),n}(e,t)?1:0}if(hF(a,tF.QP_SUM,o.qpSumPerFrame),i)return a;switch(s&&(hF(a,tF.HEIGHT,s.height),hF(a,tF.WIDTH,s.width),hF(a,tF.FRAME_RATE,s.frameRate)),a[tF.DISABLED]=r._originMediaStreamTrack&&!r._originMediaStreamTrack.enabled||r._mediaStreamTrack&&!r._mediaStreamTrack.enabled?1:0,o.adaptionChangeReason){case"none":a[tF.ADAPTATION]=0;break;case"cpu":a[tF.ADAPTATION]=1;break;case"bandwidth":a[tF.ADAPTATION]=2;break;case"other":a[tF.ADAPTATION]=3}let l=0;o.adaptionChangeReason&&(l+=fF(o.adaptionChangeReason)),t.qualityLimitationReason&&(l+=fF(t.qualityLimitationReason)<<3),a[tF.ADAPTATION]=l,a[tF.PLAYER_STATUS]=LP[r._player?r._player.videoElementStatus:"uninit"],hF(a,tF.NACKS,o.nacksCount),hF(a,tF.PLIS,o.plisCount),hF(a,tF.FIRS,o.firsCount),hF(a,tF.AVG_ENCODE,o.avgEncodeMs),hF(a,tF.HUGE_FRAME_SENT,o.hugeFramesSent),hF(a,tF.BYTES_RETRANSMIT,o.retransmittedBytesSent),hF(a,tF.PACKAGES_RETRANSMIT,o.retransmittedPacketsSent),hF(a,tF.KEY_FRAMES_ENCODED,o.keyFramesEncoded);const u=n&&n.videoSend.find((t=>t.ssrc===e));if(u){let e=i?uF:uF*dF;u.timestamp&&o.timestamp&&(e=o.timestamp-u.timestamp),null!=u.packets&&null!=o.packets&&hF(a,tF.PACKAGE_RATE,1e3*(o.packets-u.packets)/e),null!=o.packetsLost&&null!=u.packetsLost&&hF(a,tF.PACKAGE_LOST,o.packetsLost-u.packetsLost),null!=u.bytes&&null!=o.bytes&&hF(a,tF.BITRATE,8*(o.bytes-u.bytes)/e)}return a}(l[0].ssrcId,e,t,c,n),i=n?null:function(e,t,n){const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return null;const i={},o=r.inputFrame,a=o&&o.height||n&&n.videoHeight||0,s=o&&o.width||n&&n.videoWidth||0,c=o&&o.frameRate||0;return hF(i,eF.HEIGHT,a),hF(i,eF.WIDTH,s),hF(i,eF.FRAME_RATE,c),i}(l[0].ssrcId,e,c),a=n?null:function(e){const t={};return hF(t,tF.RETRANSMIT,e.bitrate.retransmit),hF(t,tF.TARGET_ENCODED,e.bitrate.targetEncoded),hF(t,tF.ACTUAL_ENCODED,e.bitrate.actualEncoded),hF(t,tF.TRANSMIT,e.bitrate.transmit),hF(t,tF.BANDWIDTH,e.sendBandwidth),t}(e);o=Object.assign({},r,i,a)}else a=n?void 0:function(e,t,n){const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return;const i={},o=r.sentFrame;if(o&&(hF(i,nF.HEIGHT,o.height),hF(i,nF.WIDTH,o.width),hF(i,nF.FRAME_RATE,o.frameRate)),n){const t=n.videoSend.find((t=>t.ssrc===e));if(t){let e=uF*dF;t.timestamp&&r.timestamp&&(e=r.timestamp-t.timestamp),null!=t.packets&&null!=r.packets&&hF(i,nF.PACKAGE_RATE,1e3*(r.packets-t.packets)/e),null!=r.packetsLost&&null!=t.packetsLost&&hF(i,nF.PACKAGE_LOST,r.packetsLost-t.packetsLost),null!=t.bytes&&null!=r.bytes&&hF(i,nF.BITRATE,8*(r.bytes-t.bytes)/e)}}return i}(l[0].ssrcId,e,t);break;case uO.LocalAudioTrack:i=n?void 0:function(e,t,n,r){const i=t.audioSend.find((t=>t.ssrc===e));if(!i)return;const o={};o[aF.DISABLED]=r._originMediaStreamTrack&&!r._originMediaStreamTrack.enabled||r._mediaStreamTrack&&!r._mediaStreamTrack.enabled?1:0;const a=100*r._source.getAccurateVolumeLevel(),s=i.inputLevel;if(null!=s){const e=Math.ceil(50*Math.log10(100*s+1));hF(o,aF.LEVEL,e)}else hF(o,aF.LEVEL,a);hF(o,oF.PCM_LEVEL,a),hF(o,aF.AEC_RETURN_LOSS,i.aecReturnLoss),hF(o,aF.AEC_RETURN_LOSS_ENH,i.aecReturnLossEnhancement),hF(o,aF.BYTES_RETRANSMIT,i.retransmittedBytesSent),hF(o,aF.PACKAGES_RETRANSMIT,i.retransmittedPacketsSent),o[aF.FREEZE]=0;const c=n&&n.audioSend.find((t=>t.ssrc===e));if(c){let e=uF*dF;c.timestamp&&i.timestamp&&(e=i.timestamp-c.timestamp),null!=c.bytes&&null!=i.bytes&&hF(o,aF.BITRATE,8*(i.bytes-c.bytes)/e),null!=c.packets&&null!=i.packets&&hF(o,aF.PACKAGE_RATE,1e3*(i.packets-c.packets)/e)}return o}(l[0].ssrcId,e,t,c)}})),{high:o,low:a,audio:i}}getInboundStats(e,t,n){if(!this.requestRemoteMedia)return;const r=this.requestRemoteMedia()||[],i=[];return r.forEach((r=>{let[o,a]=r;const s={peer:o.uid};if(a.has(sO.VIDEO)&&o.videoTrack){const r=o._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(o._videoSSRC)||!1,i=o.videoTrack?function(e,t,n,r,i,o,a){var s;const c=t.videoRecv.find((t=>t.ssrc===e));if(!c)return;const l={},{receivedFrame:u,outputFrame:d,decodeFrameRate:h}=c,p=n&&n.videoRecv.find((t=>t.ssrc===e));if(l[rF.FREEZE]=i&&FF.isRemoteVideoFreeze(r,c,p)?1:0,hF(l,iF.FRAME_RATE_DECODE,h),hF(l,rF.QP_SUM,c.qpSumPerFrame),c.framesRateFirefox&&hF(l,rF.FRAME_RATE,c.framesRateFirefox),u&&hF(l,rF.FRAME_RATE,u.frameRate),hF(l,rF.FRAMES_DROPPED,c.framesDroppedCount),hF(l,rF.BYTES_RETRANSMIT,c.retransmittedBytesReceived),hF(l,rF.PACKAGES_RETRANSMIT,c.retransmittedPacketsReceived),hF(l,rF.PACKAGES_DISCARDED,c.packetsDiscarded),hF(l,rF.AVG_DECODE,c.avgDecodeMs),hF(l,rF.AVG_PROCESSING_DELAY,c.avgProcessingDelayMs),hF(l,rF.AVG_ASSEMBLY_TIME,c.avgFramesAssembledFromMultiplePacketsMs),hF(l,rF.AVG_INTER_FRAME_DELAY,c.avgInterFrameDelayMs),hF(l,rF.KEY_FRAMES_DECODED,c.keyFramesDecoded),p){const e=t.timestamp-n.timestamp||(a?uF:dF*uF);null!=c.packetsLost&&null!=p.packetsLost&&hF(l,rF.PACKAGE_LOST,c.packetsLost-p.packetsLost),null!=p.bytes&&null!=c.bytes&&hF(l,rF.BITRATE,8*(c.bytes-p.bytes)/e),null!=p.packets&&null!=c.packets&&hF(l,rF.PACKAGE_RATE,1e3*(c.packets-p.packets)/e)}if(a)return l;u?(hF(l,rF.HEIGHT,u.height),hF(l,rF.WIDTH,u.width)):r&&(hF(l,rF.HEIGHT,r._videoHeight||0),hF(l,rF.WIDTH,r._videoWidth||0)),d&&hF(l,iF.FRAME_RATE_OUTPUT,d.frameRate);const f=null===(s=r._player)||void 0===s?void 0:s.rendFrameRate.toFixed(0);if(f&&hF(l,iF.FRAME_RATE_RENDER,+f),hF(l,rF.JITTER_BUFFER,c.jitterBufferMs),hF(l,rF.CURRENT_DELAY,c.currentDelayMs),hF(l,rF.FIRS,c.firsCount),hF(l,rF.NACKS,c.nacksCount),hF(l,rF.PLIS,c.plisCount),r){l[rF.DISABLED]=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?0:1;const e=r._player;if(e){const{freezeTimeCounterList:t,renderFreezeAccTime:n,videoElementStatus:r}=e;if(t&&t.length>0&&hF(l,iF.FREEZE_TIME,t.splice(0,1)[0]),o&&"visible"===TM.visibility&&r===PP.PLAYING&&Xk().supportRequestVideoFrameCallback){const t=Math.min(6e3,n);e.renderFreezeAccTime=Math.max(0,n-t),hF(l,iF.FREEZE_TIME_RENDER,t)}if("number"==typeof c.totalFreezesDuration){const e=p&&p.totalFreezesDuration?c.totalFreezesDuration-p.totalFreezesDuration:c.totalFreezesDuration;hF(l,iF.FREEZE_DURATION,1e3*e)}}}if(l[rF.PLAYER_STATUS]=LP[r._player?r._player.videoElementStatus:"uninit"],p&&void 0!==c.totalInterFrameDelay&&void 0!==c.totalSquaredInterFrameDelay&&void 0!==p.totalInterFrameDelay&&void 0!==p.totalSquaredInterFrameDelay){const e=c.totalInterFrameDelay-p.totalInterFrameDelay,t=c.totalSquaredInterFrameDelay-p.totalSquaredInterFrameDelay,n=c.framesDecodeCount-p.framesDecodeCount,r=e/n*1e3,i=Math.round(1e3*Math.sqrt((t-Math.pow(e,2)/n)/n));!isNaN(i)&&r+i>Math.max(3*r,r+150)&&(l[rF.I_FRAME_DELAY]=i)}return l}(o._videoSSRC,e,t,o.videoTrack,!0===r,this.needUploadRenderFreezeTime,n):void 0;i&&(s.video=i)}if(a.has(sO.AUDIO)&&o.audioTrack){const r=o.audioTrack?function(e,t,n,r,i){const o=t.audioRecv.find((t=>t.ssrc===e));if(!o)return;const a={},s=n&&n.audioRecv.find((t=>t.ssrc===e)),{receivedFrames:c,droppedFrames:l}=o;var u;if(hF(a,sF.JITTER,o.jitterMs),hF(a,sF.BYTES_RETRANSMIT,o.retransmittedBytesReceived),hF(a,sF.PACKAGES_RETRANSMIT,o.retransmittedPacketsReceived),hF(a,sF.PACKAGES_DISCARDED,o.packetsDiscarded),hF(a,sF.AVG_PROCESSING_DELAY,o.avgProcessingDelayMs),null!=c&&null!=l&&(a[sF.FREEZE]=0===(u=c)||100*l/u>20?1:0),s){const e=t.timestamp-n.timestamp||(i?uF:uF*dF);null!=o.packets&&null!=s.packets&&hF(a,sF.PACKAGE_RATE,1e3*(o.packets-s.packets)/e),null!=s.bytes&&null!=o.bytes&&hF(a,sF.BITRATE,8*(o.bytes-s.bytes)/e),null!=o.packetsLost&&null!=s.packetsLost&&hF(a,sF.PACKAGE_LOST,o.packetsLost-s.packetsLost)}if(i)return a;const d=100*r._source.getAccurateVolumeLevel(),h=o.outputLevel;if(null!=h){const e=Math.ceil(50*Math.log10(100*h+1));hF(a,cF.LEVEL,e)}if(hF(a,sF.PCM_LEVEL,d),r&&(a[sF.DISABLED]=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?0:1),hF(a,sF.JITTER_BUFFER,o.jitterBufferMs),hF(a,sF.CURRENT_DELAY,o.jitterBufferMs),a[sF.PLAYER_STATUS]=LP[mD.getPlayerState(r.getTrackId())],s){const e=o.concealedSamples-s.concealedSamples;e>0&&hF(a,sF.CONCEALED_SAMPLES,e)}return a}(o._audioSSRC,e,t,o.audioTrack,n):void 0;r&&(s.audio=r)}(s.video||s.audio)&&i.push(s)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,i}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find((e=>e instanceof yL));if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(NA.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{this.requestAllTracks&&this.requestUpload&&this.requestAllTracks().forEach((e=>{e.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{this.requestUpload&&this.requestRemoteMedia&&(this.requestRemoteMedia()||[]).forEach((e=>{let[t,n]=e;n.has(sO.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)})),n.has(sO.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{const t=Date.now(),n={connectionInterval:qx("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:t};let r=[];const i=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of i)!e.muted&&e.enabled&&(r=r.concat(await e.getProcessorUsage()));const o=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,c]of o)c.has(sO.VIDEO)&&e.videoTrack&&(r=r.concat(await e.videoTrack.getProcessorUsage())),c.has(sO.AUDIO)&&e.audioTrack&&(r=r.concat(await e.audioTrack.getProcessorUsage()));if(0===r.length)return;n.details=function(e,t){const n={};for(const{id:a,value:s,level:c,direction:l}of e){var r;const e=null!==(r=t.get(a))&&void 0!==r?r:0,u=2===s?e+qx("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:e;var i,o;t.set(a,u),n[a]?(2===s&&(n[a].value=s),c>n[a].level&&(n[a].level=c),"remote"===l&&(n[a].remoteUidCount+=1),n[a].totalTs=null!==(i=t.get(a))&&void 0!==i?i:0):n[a]={value:s,level:c,remoteUidCount:"local"===l?0:1,totalTs:null!==(o=t.get(a))&&void 0!==o?o:0}}return Object.keys(n).map((e=>{const{level:t,value:r,totalTs:i}=n[e];return{id:e,level:t,value:r,totalTs:i}}))}(r,e);const a=Date.now(),s=a>t?a:t+1;this.requestUpload&&this.requestUpload(NA.EXTENSION_USAGE_STATS,{usageStats:n,sendTs:s})}),qx("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class gF{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){jE(this,"uid",void 0),jE(this,"_uintid",void 0),jE(this,"_trust_in_room_",!0),jE(this,"_trust_audio_enabled_state_",!0),jE(this,"_trust_video_enabled_state_",!0),jE(this,"_trust_audio_mute_state_",!0),jE(this,"_trust_video_mute_state_",!0),jE(this,"_audio_muted_",!1),jE(this,"_video_muted_",!1),jE(this,"_audio_enabled_",!0),jE(this,"_video_enabled_",!0),jE(this,"_audio_added_",!1),jE(this,"_video_added_",!1),jE(this,"_is_pre_created",!1),jE(this,"_video_pre_subscribed",!1),jE(this,"_audio_pre_subscribed",!1),jE(this,"_trust_video_stream_added_state_",!0),jE(this,"_trust_audio_stream_added_state_",!0),jE(this,"_audioTrack",void 0),jE(this,"_videoTrack",void 0),jE(this,"_dataChannels",[]),jE(this,"_audioSSRC",void 0),jE(this,"_videoSSRC",void 0),jE(this,"_audioOrtc",void 0),jE(this,"_videoOrtc",void 0),jE(this,"_cname",void 0),jE(this,"_rtxSsrcId",void 0),jE(this,"_videoMid",void 0),jE(this,"_audioMid",void 0),this.uid=e,this._uintid=t}}let vF=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({});function yF(e,t){var n;let r;switch(t){case uO.LocalAudioTrack:r=XA.Audio;break;case uO.LocalVideoTrack:r=kr(n=e._hints).call(n,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:r=XA.Low}return r}function bF(e){const t=Xk();if(e.some((e=>e._bypassWebAudio)))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!t.webAudioMediaStreamDest)throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function EF(e,t){bF(e);const n=t||new EL;return e.forEach((e=>n.addAudioTrack(e))),n}var _F,wF,SF,TF,CF,xF,RF,AF,OF,IF,NF,kF;function PF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PF(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let LF=(_F=MF(vF.SEND_ONLY),wF=MF(vF.SEND_ONLY),SF=MF(),TF=MF(vF.RECEIVE_ONLY),CF=MF(vF.RECEIVE_ONLY),xF=MF(vF.RECEIVE_ONLY),RF=MF(vF.RECEIVE_ONLY),AF=MF(vF.RECEIVE_ONLY),OF=MF(vF.RECEIVE_ONLY),IF=MF(),NF=MF(vF.RECEIVE_ONLY),kF=class extends LC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(hO.StateChange,t,this._state)}constructor(e,t){super(),jE(this,"isPlanB",!1),jE(this,"store",void 0),jE(this,"statsUploader",void 0),jE(this,"sendConnection",void 0),jE(this,"recvConnection",void 0),jE(this,"localTrackMap",new Map),jE(this,"remoteUserMap",new Map),jE(this,"localDataChannels",[]),jE(this,"pendingLocalTracks",[]),jE(this,"pendingRemoteTracks",[]),jE(this,"statsCollector",void 0),jE(this,"dtlsFailedCount",0),jE(this,"sendMutex",void 0),jE(this,"recvMutex",void 0),jE(this,"_state",dO.Disconnected),jE(this,"_restartStates",["disconnected","failed"]),jE(this,"reconnectInterval",void 0),jE(this,"uploadUnplinkStarted",!1),jE(this,"uploadDownlinkStarted",!1),jE(this,"uplinkStateUploadInterval",void 0),jE(this,"downlinkStatsUploadInterval",void 0),jE(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==dO.Connected)return void n(new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const a=r.find((e=>"videoLowTrack"===e[0]));a&&a[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));let s=!1;var i,o;s="video"===e.trackMediaType?!(null===(i=this.localTrackMap.get(uO.LocalAudioTrack))||void 0===i||!i.track._muted):void 0===(null===(o=this.localTrackMap.get(uO.LocalVideoTrack))||void 0===o?void 0:o.id);const c=this.createMuteMessage(r);await QC(this,hO.RequestMuteLocal,c);const l="video"===e.trackMediaType?SO.MUTE_LOCAL_VIDEO:SO.MUTE_LOCAL_AUDIO;await QC(this,hO.RequestP2PMuteLocal,{action:l,message:c,isMuteAll:s}),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==dO.Connected)return void n(new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();await this.sendConnection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const i=this.createUnmuteMessage(r),o="video"===e.trackMediaType?SO.UNMUTE_LOCAL_VIDEO:SO.UNMUTE_LOCAL_AUDIO;await QC(this,hO.RequestP2PMuteLocal,{action:o,message:i}),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const n=this.localTrackMap.get(uO.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==dO.Connected)return void t();const{id:r,track:i}=n;r&&(await this.sendConnection.updateSendParameters(r,i),await this.sendConnection.updateEncoderConfig(r,i),this.emit(hO.UpdateVideoEncoder,i)),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUpdateVideoSendParameters",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(uO.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==dO.Connected)return void t();const{id:r,track:i}=n;r&&await this.sendConnection.updateSendParameters(r,i),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleReplaceTrack",(async(e,t,n,r)=>{let i;fR.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(i=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.sendConnection||!n||void 0===n[1].id||this.state!==dO.Connected)return void t();if(await(null===(o=this.sendConnection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),n[0]===uO.LocalVideoTrack&&Xk().supportDualStreamEncoding){const t=this.localTrackMap.get(uO.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Wh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=i)||void 0===a||a()}})),jE(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),jE(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),jE(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),jE(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new mF(e),this.bindStatsUploaderEvents(),this.sendMutex=new Ax("P2PChannel2-send-mutex",e.clientId),this.recvMutex=new Ax("P2PChannel2-recv-mutex",e.clientId),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e=>{e&&("disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))}))}),qx("ICE_RESTART_INTERVAL"))}async startP2PConnection(e,t){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(e){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(e,t){let n;try{if(t){this.recvConnection&&(fR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new QU(e,this.store,PA.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const r=await this.recvConnection.establish(t);return{iceParameters:r.iceParameters,dtlsParameters:r.dtlsParameters,sdp:r.sdp}}{this.state=dO.New,this.sendConnection&&(fR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new QU(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{n&&n()}}async p2pConnect(e){if(!this.sendConnection)throw new EC(bC.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=dO.Connected}async addRemoteCandidate(e,t){if(t===PA.RECEIVE_ONLY){if(!this.sendConnection)throw new EC(bC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new EC(bC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,n){var r=this;return GS((function*(){const i=yield zS(r.sendMutex.lock("From P2PChannel.publish"));try{if(!r.sendConnection||r.state!==dO.Connected){r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,uU.markPublishStart(r.store.clientId,r.store.pubId);const i=r.filterTobePublishedTracks(e,t,n);if(0===i.length)return void(yield zS(r.tryToUnmuteAudio(e)));i.forEach((e=>{let{track:t,type:n}=e;const i=Date.now();r.store.publish(t.getTrackId(),n===uO.LocalAudioTrack?"audio":"video",i)})),r.bindLocalTrackEvents(i);const o=yield zS(r.sendConnection.send(i.map((e=>{let{track:t}=e;return t})),r.store.codec,r.store.audioCodec)),a=(yield zS(o.next())).value,s=r.createGatewayPublishMessage(i,a);try{yield s}catch(e){throw o.throw(e),(null==e?void 0:e.code)===bC.WS_ABORT&&i.forEach((e=>{let{track:t}=e;-1===r.pendingLocalTracks.indexOf(t)&&r.pendingLocalTracks.push(t)})),r.unbindLocalTrackEvents(i),e}yield zS(o.next()),i.forEach((e=>{let{type:t}=e;r.statsCollector.addLocalStats(t)})),r.statsUploader.startUploadOutboundStats(),r.assignLocalTracks(i,a),i.forEach((e=>{let{track:t,type:n}=e;const i=Date.now();r.store.publish(t.getTrackId(),n===uO.LocalAudioTrack?"audio":"video",void 0,i)})),r.startUploadUplinkState()}finally{i()}}))()}async unpublish(e){if(!this.sendConnection||this.state!==dO.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!kr(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));n&&n[1].track.close();const r=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===dO.Connected)return n&&n[1].track.close(),r;e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach((n=>{let[r,{track:i,ssrcs:o}]=n;const a={stream_type:yF(i,r),ssrcs:o};i._muted||!i._enabled?e.push(a):t.push(a)})),e.length>0&&e.forEach((e=>{QC(this,hO.RequestMuteLocal,[e])})),t.length>0&&t.forEach((e=>{QC(this,hO.RequestUnmuteLocal,[e])}))};e(),this.uplinkStateUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return GS((function*(){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")}))()}async republish(){this.pendingLocalTracks.length>0&&(fR.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await XC(this,hO.RequestRePublish,this.pendingLocalTracks),this.emit(hO.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(e,t,n,r){var i;if(!this.recvConnection)throw new EC(bC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if(null!==(i=this.remoteUserMap.get(e))&&void 0!==i&&i.has(t))return;const{track:o,mid:a,transceiver:s}=await this.recvConnection.receive(t,[{ssrcId:n}],String(e.uid),r);t===sO.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new SM(o,e.uid,e._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),s&&e._audioTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new wM(o,e.uid,e._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),s&&e._videoTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const l=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:i}=n;return r.uid===e.uid&&t===i}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(hO.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,n,r){if(!this.recvConnection)throw new EC(bC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(t,[{ssrcId:n}],String(e.uid),r)}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:i}=n;return void 0!==t?r.uid===e.uid&&t===i:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===sO.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===sO.VIDEO){var i;null===(i=e._videoTrack)||void 0===i||i._destroy(),e._videoTrack=void 0}})),!this.recvConnection)return;const i=this.filterTobeUnSubscribedTracks(e,t);0!==i.length&&(await this.recvConnection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),i.forEach((e=>{let[t,{kind:r}]=e;var i,o;if(r===sO.VIDEO&&t._videoSSRC&&(null===(i=this.recvConnection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===sO.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(r===sO.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),i.forEach((e=>{let[,{kind:t}]=e;QC(this,hO.RequestP2PMuteRemote,t)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach((e=>{let[,t]=e;[sO.VIDEO,sO.AUDIO].forEach((e=>{t.has(e)?QC(this,hO.RequestP2PUnmuteRemote,e):QC(this,hO.RequestP2PMuteRemote,e)}))}));e(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(e){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(e){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(e){throw new EC(bC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void fR.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void fR.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===sO.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.recvConnection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||fR.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):fR.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(uO.LocalAudioTrack);if((null==t?void 0:t.track)instanceof EL){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==uO.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===uO.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===uO.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,r,i){if(e){const n=this.localTrackMap.get(uO.LocalAudioTrack),o=r?this.localTrackMap.get(uO.LocalVideoLowTrack):this.localTrackMap.get(uO.LocalVideoTrack);wR.publish(this.store.sessionId,{eventElapse:uU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(mP.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof vL)),s=r?null===(o=this.localTrackMap.get(uO.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof aM));wR.publish(this.store.sessionId,{eventElapse:uU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(mP.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}}reportSubscribeEvent(e,t,n,r){const i=r===sO.VIDEO?n._videoSSRC:n._audioSSRC;i&&wR.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===sO.VIDEO,audio:r===sO.AUDIO,peerid:n.uid,subscribeRequestid:r===sO.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:uU.measureFromSubscribeStart(this.store.clientId,i)})}reset(){fR.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new Ax("P2PChannel2-send-mutex",this.store.clientId),this.sendMutex=new Ax("P2PChannel2-recv-mutex",this.store.clientId),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(uO.LocalAudioTrack);if((null==e?void 0:e.track)instanceof EL){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=dO.Disconnected}getStats(e){var t,n;return e?null===(n=this.recvConnection)||void 0===n?void 0:n.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(uO.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(uO.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof aM||t&&t.track instanceof vL?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(uO.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=am(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(fR.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=dO.Reconnecting,qx("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:r}]=e;switch(n){case uO.LocalVideoTrack:kr(t=r._hints).call(t,mP.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case uO.LocalAudioTrack:r instanceof EL?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case uO.LocalVideoLowTrack:}})),this.emit(hO.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uf(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(hO.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),fR.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:i}=n;if((e instanceof gF?e.uid:e)===r.uid&&t===i)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let n,r;if(e===PA.SEND_ONLY){if(!this.sendConnection)throw new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),r=this.sendConnection}else{if(!this.recvConnection)throw new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),r=this.recvConnection}try{if(t){const e=await r.restartICE(t);return r.isInRestartIce=!1,e}{const e=await r.restartICE();if(e){const t=await XC(this,hO.RequestP2PRestartICE,{direction:PA.RECEIVE_ONLY,iceParameter:e});await r.restartICE(t),r.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(uO.LocalVideoTrack),n=this.localTrackMap.get(uO.LocalAudioTrack),r=e.videoSend.find((e=>{var n;return e.ssrc===(null==t||null===(n=t.ssrcs)||void 0===n?void 0:n[0].ssrcId)})),i=e.audioSend.find((e=>{var t;return e.ssrc===(null==n||null===(t=n.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!r||!i)return 1;const o=JC(this,hO.NeedSignalRTT),a=r?r.rttMs:void 0,s=i?i.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&o?(c+o)/2:c||o)||0,u=100*e.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(mP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return CR[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const i=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===i)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=JC(this,hO.NeedSignalRTT),l=e.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Wh(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const r=[],i=Xk(),o=this.getAllTracks();e=nx(e=e.filter((e=>-1===o.indexOf(e))));let a=!1,s=!1;for(const c of e){if(c instanceof aM&&(this.localTrackMap.has(uO.LocalVideoTrack)||a?new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:c,type:uO.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);r.push({track:e,type:uO.LocalVideoLowTrack})}if(c instanceof vL){const e=this.localTrackMap.get(uO.LocalAudioTrack);if(e){if(!(e.track instanceof EL))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(s){const e=r.find((e=>{let{type:t}=e;return t===uO.LocalAudioTrack}));if(!(e.track instanceof EL))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c)}else{if(!i.webAudioMediaStreamDest||c instanceof EL||c._bypassWebAudio)r.push({track:c,type:uO.LocalAudioTrack});else{const e=new EL;e.addAudioTrack(c),r.push({track:e,type:uO.LocalAudioTrack})}s=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=nx(e=e.filter((e=>-1!==n.indexOf(e))));for(const r of e){if(r instanceof vL){const e=this.localTrackMap.get(uO.LocalAudioTrack);if(!e)continue;e.track instanceof EL?(e.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===e.track.trackList.length&&(t.push([uO.LocalAudioTrack,e]),e.track.close())):t.push([uO.LocalAudioTrack,e])}if(r instanceof aM){const e=this.localTrackMap.get(uO.LocalVideoTrack);if(!e)continue;t.push([uO.LocalVideoTrack,e]);const n=this.localTrackMap.get(uO.LocalVideoLowTrack);n&&t.push([uO.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case uO.LocalVideoTrack:t.addListener(fP.GET_STATS,this.handleGetLocalVideoStats),t.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(fP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(fP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uO.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case uO.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof EL?e.trackList.forEach((e=>{e.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(fP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(fP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case uO.LocalVideoTrack:t.off(fP.GET_STATS,this.handleGetLocalVideoStats),t.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(fP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(fP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uO.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case uO.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof EL?e.trackList.forEach((e=>{e.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(fP.GET_STATS,this.handleGetLocalAudioStats),e.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(fP.GET_STATS,this.handleGetLocalAudioStats),e.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof wM&&t.addListener(fP.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof SM&&t.addListener(fP.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(fP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(sO.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(sO.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var r;let i,{track:o,type:a}=e;switch(a){case uO.LocalAudioTrack:i=XA.Audio;break;case uO.LocalVideoTrack:i=kr(r=o._hints).call(r,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:i=XA.Low}return{kind:a===uO.LocalAudioTrack?sO.AUDIO:sO.VIDEO,stream_type:i,mid:t[n].id,ssrcs:t[n].localSSRC,isMuted:o.muted||!o.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:i}=e;this.localTrackMap.set(i,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var n;fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(t,")")),this.emit(hO.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(e.isInRestartIce=!1),kr(n=this._restartStates).call(n,t)&&!e.isInRestartIce&&("disconnected"===t&&await mx(800),"disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),wR.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:FC.TRACER}).onSuccess(),this.emit(hO.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(_P.FIRST_FRAME_DECODED),wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_AUDIO_DECODE,bR.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_AUDIO_RECEIVED,bR.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_VIDEO_RECEIVED,bR.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(hO.ConnectionTypeChange,n),fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(tI(t))," -> ").concat(JSON.stringify(tI(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(tI(t))," -> ").concat(JSON.stringify(tI(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(hO.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===PA.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,fR.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(t.name,"] start use restartICE")),e===PA.SEND_ONLY?this.restartICE(e):XC(this,hO.RequestP2PRestartICE,{direction:PA.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(uO.LocalAudioTrack);if(e instanceof vL&&(null==n?void 0:n.track)instanceof EL)return n.track.isActive||t.push([uO.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===uO.LocalVideoTrack)){const e=this.localTrackMap.get(uO.LocalVideoLowTrack);e&&t.push([uO.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(uO.LocalAudioTrack);if(e instanceof vL&&(null==n?void 0:n.track)instanceof EL)return n.track.isActive&&t.push([uO.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===uO.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(uO.LocalVideoLowTrack);e&&t.push([uO.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const i=r.get(t);if(!i)return n;n.push([e,{kind:t,id:i}])}else Array.from(r.entries()).forEach((t=>{let[r,i]=t;n.push([e,{kind:r,id:i}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:i}]=e;switch(r){case sO.VIDEO:return void(n._videoSSRC&&t.push({stream_type:sO.VIDEO,ssrcId:n._videoSSRC}));case sO.AUDIO:return void(n._audioSSRC&&t.push({stream_type:sO.AUDIO,ssrcId:n._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(uO.LocalVideoTrack),n=this.localTrackMap.get(uO.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return"connected"!==e&&"connected"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof vL){const n=this.filterTobeUnmutedTracks(e[t]);if(0===n.length)continue;const r=this.createUnmuteMessage(n);return void await QC(this,hO.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(hO.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(hO.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await mx(Nx(this.dtlsFailedCount,Ix)),this.emit(hO.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(uO.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof aM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof aM)).length>1)throw new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof vL)).length>1&&(e.some((e=>e instanceof vL&&e._bypassWebAudio))||!Xk().webAudioMediaStreamDest))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof aM&&this.pendingLocalTracks.some((e=>e instanceof aM)))throw new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof vL&&this.pendingLocalTracks.some((e=>e instanceof vL))&&(!Xk().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof vL&&e._bypassWebAudio))))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding,r=DF(DF({},{width:160,height:120,framerate:15,bitrate:50}),t);let i;i=n?e._mediaStreamTrack.clone():ZU(e,r);const o=gx(8,"track-low-"),a=new aM(i,DF(DF({},n&&{scaleResolutionDownBy:eI(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,o);return a.on(bP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,gP.LOW_STREAM)})),a._hints.push(mP.LOW_STREAM),e.addListener(fP.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var i;const o=Array.from(uf(i=this.remoteUserMap).call(i)).find((t=>t._videoSSRC===e));if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const i=this.store.keyMetrics,a=i.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));wR.firstRemoteVideoDecode(this.store.sessionId,yR.FIRST_VIDEO_DECODE,bR.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:i.requestAPEnd||0,apStart:i.requestAPStart||0,joinGwEnd:i.joinGatewayEnd||0,joinGwStart:i.joinGatewayStart||0,pcEnd:i.peerConnectionEnd||0,pcStart:i.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.recvConnection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const i=r.get(t);if(!i)return!1;const o=await this.recvConnection.getRemoteSSRC(i);return void 0!==o&&o!==n}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new EC(bC.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new EC(bC.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new EC(bC.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new EC(bC.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new EC(bC.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new EC(bC.NOT_SUPPORTED)}async preConnect(e){throw new EC(bC.NOT_SUPPORTED)}getEstablishParams(){throw new EC(bC.NOT_SUPPORTED)}async reSubscribe(e){throw new EC(bC.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new EC(bC.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===uO.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,gP.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}},EA(kF.prototype,"p2pConnect",[_F],Object.getOwnPropertyDescriptor(kF.prototype,"p2pConnect"),kF.prototype),EA(kF.prototype,"unpublish",[wF],Object.getOwnPropertyDescriptor(kF.prototype,"unpublish"),kF.prototype),EA(kF.prototype,"unpublishLowStream",[SF],Object.getOwnPropertyDescriptor(kF.prototype,"unpublishLowStream"),kF.prototype),EA(kF.prototype,"subscribe",[TF],Object.getOwnPropertyDescriptor(kF.prototype,"subscribe"),kF.prototype),EA(kF.prototype,"mockSubscribe",[CF],Object.getOwnPropertyDescriptor(kF.prototype,"mockSubscribe"),kF.prototype),EA(kF.prototype,"unsubscribe",[xF],Object.getOwnPropertyDescriptor(kF.prototype,"unsubscribe"),kF.prototype),EA(kF.prototype,"muteRemote",[RF],Object.getOwnPropertyDescriptor(kF.prototype,"muteRemote"),kF.prototype),EA(kF.prototype,"unmuteRemote",[AF],Object.getOwnPropertyDescriptor(kF.prototype,"unmuteRemote"),kF.prototype),EA(kF.prototype,"hasRemoteMediaWithLock",[OF],Object.getOwnPropertyDescriptor(kF.prototype,"hasRemoteMediaWithLock"),kF.prototype),EA(kF.prototype,"disconnectForReconnect",[IF],Object.getOwnPropertyDescriptor(kF.prototype,"disconnectForReconnect"),kF.prototype),EA(kF.prototype,"remoteMediaSsrcChanged",[NF],Object.getOwnPropertyDescriptor(kF.prototype,"remoteMediaSsrcChanged"),kF.prototype),kF);function MF(e){return function(t,n,r){const i=t[n];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return r.value=async function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];switch(e){case vF.SEND_ONLY:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await i.apply(this,r)}finally{e()}}case vF.RECEIVE_ONLY:{const e=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await i.apply(this,r)}finally{e()}}default:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n)),t=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await i.apply(this,r)}finally{e(),t()}}}},r}}function jF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jF(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class FF{constructor(e){jE(this,"store",void 0),jE(this,"onStatsException",void 0),jE(this,"onUploadPublishDuration",void 0),jE(this,"onStatsChanged",void 0),jE(this,"localStats",new Map),jE(this,"remoteStats",new Map),jE(this,"updateStatsInterval",void 0),jE(this,"trafficStats",void 0),jE(this,"trafficStatsPeerList",[]),jE(this,"uplinkStats",void 0),jE(this,"exceptionMonitor",void 0),jE(this,"p2pChannel",void 0),jE(this,"scalabilityMode",_A.L1T1),jE(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.exceptionMonitor=new cU,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(uO.LocalAudioTrack)||UF({},TP)}getLocalVideoTrackStats(){return this.localStats.get(uO.LocalVideoTrack)||UF({},CP)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{audioStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:r}]=e;r&&(t[n]=r)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{videoStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRTCStats(){let e=0,t=0,n=0,r=0;const i=this.localStats.get(uO.LocalAudioTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);const o=this.localStats.get(uO.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const a=this.localStats.get(uO.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:i}=e;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),i&&(n+=i.receiveBytes,r+=i.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),r=null!=n&&n.videoSSRC?uU.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,i=null!=n&&n.audioSSRC?uU.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,r>i?r:i),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&fR.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,i=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!i}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,r]=t;switch(n){case uO.LocalVideoTrack:case uO.LocalVideoLowTrack:{const t=r,o=UF({},CP),a=e.getStats(),s=e.getLocalMedia(n);if(a){const n=a.videoSend.find((e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId)));if(n){const r=e.getLocalVideoSize(),i=e.getEncoderConfig(uO.LocalVideoTrack);"H264"!==n.codec&&"H265"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(o.codecType=n.codec),o.sendBytes=n.bytes,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0,n.inputFrame?(o.captureFrameRate=n.inputFrame.frameRate,o.captureResolutionHeight=n.inputFrame.height,o.captureResolutionWidth=n.inputFrame.width):r&&(o.captureResolutionWidth=r.width,o.captureResolutionHeight=r.height),n.sentFrame?(o.sendFrameRate=n.sentFrame.frameRate,o.sendResolutionHeight=n.sentFrame.height,o.sendResolutionWidth=n.sentFrame.width):r&&(o.sendResolutionWidth=r.width,o.sendResolutionHeight=r.height),n.avgEncodeMs&&(o.encodeDelay=n.avgEncodeMs),i&&i.bitrateMax&&(o.targetSendBitrate=1e3*i.bitrateMax),o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.sendJitterMs=n.jitterMs,o.sendRttMs=n.rttMs,o.totalDuration=t?t.totalDuration+1:1,o.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(o.totalFreezeTime+=1),n.scalabilityMode&&this.scalabilityMode!==n.scalabilityMode&&(fR.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(n.scalabilityMode)),this.scalabilityMode=n.scalabilityMode)}this.trafficStats&&(o.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var i;this.localStats.set(n,o),((null==t?void 0:t.sendResolutionWidth)!==o.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==o.sendResolutionHeight)&&(null===(i=this.onStatsChanged)||void 0===i||i.call(this,"resolution",{width:o.sendResolutionWidth,height:o.sendResolutionHeight})),o&&s&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,s.track,o);break}case uO.LocalAudioTrack:{const t=r,i=UF({},TP),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(i.codecType=n.codec),n.inputLevel)i.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(i.sendVolumeLevel=Math.round(32767*t))}i.sendBytes=n.bytes,i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.sendJitterMs=n.jitterMs,i.sendRttMs=n.rttMs,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0}}this.trafficStats&&(i.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(uO.LocalAudioTrack,i),i&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,i);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{var n,r;let[i,{videoStats:o,audioStats:a,videoPcStats:s}]=t;const c=a,l=o,u=s,d=UF({},xP),h=UF({},AP),p=UF({},RP),{audioTrack:f,videoTrack:m,audioSSRC:g,videoSSRC:v}=e.getRemoteMedia(i);let y;y=e instanceof LF?e.getStats(!0):e.getStats();const b=null===(n=y)||void 0===n?void 0:n.audioRecv.find((e=>e.ssrc===g)),E=null===(r=y)||void 0===r?void 0:r.videoRecv.find((e=>e.ssrc===v)),_=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===i));if(b&&("opus"!==b.codec&&"aac"!==b.codec&&"PCMU"!==b.codec&&"PCMA"!==b.codec&&"G722"!==b.codec||(d.codecType=b.codec),b.outputLevel?d.receiveLevel=Math.round(32767*b.outputLevel):f&&(d.receiveLevel=Math.round(32767*f.getVolumeLevel())),d.receiveBytes=b.bytes,d.receivePackets=b.packets,d.receivePacketsLost=b.packetsLost,d.receivePacketsDiscarded=b.packetsDiscarded,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=c?8*Math.max(0,d.receiveBytes-c.receiveBytes):0,d.totalDuration=c?c.totalDuration+1:1,d.totalFreezeTime=c?c.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=b.jitterBufferMs,d.totalDuration>10&&FF.isRemoteAudioFreeze(f)&&(d.totalFreezeTime+=1)),E){"H264"!==E.codec&&"H265"!==E.codec&&"VP8"!==E.codec&&"VP9"!==E.codec&&"AV1X"!==E.codec&&"AV1"!==E.codec||(h.codecType=E.codec),h.receiveBytes=E.bytes,h.receiveBitrate=l?8*Math.max(0,h.receiveBytes-l.receiveBytes):0,h.decodeFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,h.renderFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,E.outputFrame&&(h.renderFrameRate=E.outputFrame.frameRate),E.receivedFrame?(h.receiveFrameRate=E.receivedFrame.frameRate,h.receiveResolutionHeight=E.receivedFrame.height,h.receiveResolutionWidth=E.receivedFrame.width):m&&(h.receiveResolutionHeight=m._videoHeight||0,h.receiveResolutionWidth=m._videoWidth||0),void 0!==E.framesRateFirefox&&(h.receiveFrameRate=Math.round(E.framesRateFirefox)),h.receivePackets=E.packets,h.receivePacketsLost=E.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.totalDuration=l?l.totalDuration+1:1,h.totalFreezeTime=l?l.totalFreezeTime:0,h.receiveDelay=E.jitterBufferMs||0;const t=!!v&&e.getRemoteVideoIsReady(v);m&&t&&FF.isRemoteVideoFreeze(m,E,u)&&(h.totalFreezeTime+=1),h.freezeRate=h.totalFreezeTime/h.totalDuration}_&&(d.end2EndDelay=_.B_ad,h.end2EndDelay=_.B_vd,d.transportDelay=_.B_ed,h.transportDelay=_.B_ed,d.currentPacketLossRate=_.B_ealr4/100,h.currentPacketLossRate=_.B_evlr4/100,p.uplinkNetworkQuality=_.B_punq?_.B_punq:0,p.downlinkNetworkQuality=_.B_pdnq?_.B_pdnq:0),this.remoteStats.set(i,{audioStats:d,videoStats:h,videoPcStats:E,networkStats:p}),f&&this.exceptionMonitor.setRemoteAudioStats(f,d),m&&this.exceptionMonitor.setRemoteVideoStats(m,h)}))}}class BF{constructor(){jE(this,"destChannelMediaInfos",new Map),jE(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){zA(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){zA(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){LA(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function VF(e){if(!(e instanceof BF))return new SR(bC.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new SR(bC.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new SR(bC.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GF;function zF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zF(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let YF=(GF=class e extends aO{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return kr(t=Object.keys(Jx)).call(t,e)})))]}constructor(t,n){super(t,n),jE(this,"store",void 0),jE(this,"peerConnection",void 0),jE(this,"remoteSDP",void 0),jE(this,"initialOffer",void 0),jE(this,"statsFilter",void 0),jE(this,"useRTX",!1),jE(this,"localCapabilities",void 0),jE(this,"localCandidateCount",0),jE(this,"allCandidatesReceived",!1),jE(this,"establishPromise",void 0),jE(this,"mutex",void 0),this.store=n,this.mutex=new Ax("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=zU(this.peerConnection,qx("STATS_UPDATE_INTERVAL"),void 0,XT()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=qM(e.sdp),n=YM(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:qx("FILTER_VIDEO_FEC"),filterAudioFec:qx("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=n,this.initialOffer=e,KF(KF({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new EC(bC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(e){jE(this,"sessionDesc",void 0),jE(this,"localCapabilities",void 0),jE(this,"rtpCapabilities",void 0),jE(this,"candidates",void 0),jE(this,"iceParameters",void 0),jE(this,"dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname",void 0),e=ix(e);const{iceParameters:t,dtlsParameters:n,candidates:r,rtpCapabilities:i,setup:o,localCapabilities:a,sdkCodec:s,cname:c}=e,l=UM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=i,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=o,this.localCapabilities=a,this.cname=c;for(let u=0;u<l.mediaDescriptions.length;u++){const e=l.mediaDescriptions[u];if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=o,"video"===e.media.mediaType){e.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10)));let t=i.videoCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:kr(n=t.encodingName.toLowerCase()).call(n,s)}));0===t.length&&(t=i.videoCodecs),e.attributes.payloads=t,e.attributes.extmaps=i.videoExtensions}"audio"===e.media.mediaType&&(e.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.audioCodecs,e.attributes.extmaps=i.audioExtensions),l.mediaDescriptions[u]=this.mungMediaDesc(e)}this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return UM.print(this.sessionDesc)}send(e,t,n){const{ssrcs:r,ssrcGroups:i}=JM(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===sO.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=r[0].attributes.label,s=r[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(r),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(i),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],r=[],i=[];t.attributes.ssrcs.forEach((t=>{kr(e).call(e,t.attributes.label||"")?i.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;kr(t=i.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],e);this.sessionDesc.mediaDescriptions[r]=i}))}stopReceiving(e){}updateCandidates(e){e===cO.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(HF(HF({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this.candidates=this.candidates.filter((e=>"tcp"!==e.transport));for(const t of this.sessionDesc.mediaDescriptions)t.attributes.candidates=this.candidates}restartICE(e){e=ix(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=ix(e);return ZM(n,t),tj(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const r=this.sessionDesc.mediaDescriptions.find((t=>e===sO.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(r){const e=r.attributes.ssrcs.find((e=>e.attributes.label===t));var i;e&&(e.attributes.label=n,null===(i=e.attributes.msid)||void 0===i||i.replace(t,n))}}mungMediaDesc(e){const t=ix(e);return ej(t),function(e){const t=e.attributes.extmaps.find((e=>GM(e.extensionName)));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}(KF(KF({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const t=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:t})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new EC(bC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(e){}send(e,t){var n=this;return GS((function*(){const r=yield zS(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),i=yield zS(n.peerConnection.createOffer()),o=UM.parse(i.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,r=o.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const r=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),i=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(i&&r.length>1){const e=i.find((e=>-1!==e.ssrcIds.indexOf(r[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)}));let s;try{s=yield a}catch(e){throw r.forEach((e=>{qT()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),e}const c=n.mungSendOfferSDP(i.sdp,e);n.remoteSDP.receive(e,t,s);const l=n.remoteSDP.toString();return yield zS(n.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield zS(n.applySendEncodings(r,e)),yield zS(n.peerConnection.setRemoteDescription({type:"answer",sdp:l})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:a[t],id:n}}))}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{qT()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:i}=this.remoteSDP.send(e,t,r),o=new Wh(((t,r)=>{const o=setTimeout((()=>{r(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=r=>{const s=WT();if(("Safari"===s.name&&11===Number(s.version)||QT())&&r.track.id!==n&&r.streams[0].id===i){var c;const i=r.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,r.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(i)}if(r.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(r.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await o,id:n}}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(qT()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(qT()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return GS((function*(){const n=yield zS(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Xk().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),r=e===cO.RELAY?"relay":"all";n.iceTransportPolicy!==r&&(fR.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(r,"]")),n.iceTransportPolicy=r,t.peerConnection.setConfiguration(n))}else if(e===cO.RELAY)return;e!==cO.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield zS(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=qM(n.sdp),{remoteIceParameters:i}=yield r.iceParameters;t.remoteSDP.restartICE(i);const o=t.remoteSDP.toString();yield zS(t.peerConnection.setLocalDescription(n)),yield zS(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){fR.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new EC(bC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(e){throw new EC(bC.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,fR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,fR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),qx("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(HC(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),qx("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e._mediaStreamTrack.id}))),!t)return fR.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(!Xk().supportSetRtpSenderParameters)return fR.warn("Browser not support set rtp-sender parameters");const r={},i={};if(e instanceof aM)switch(e._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;default:r.degradationPreference="balanced"}if(qx("DSCP_TYPE")&&pC()){var o;const e=qx("DSCP_TYPE");kr(o=["very-low","low","medium","high"]).call(o,e)&&(i.networkPriority=e)}const a=t.getParameters(),s=null===(n=a.encodings)||void 0===n?void 0:n[0];s&&Object.assign(s,i),Object.assign(a,r),fR.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!Xk().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];r&&i&&await this.updateRtpSenderEncodings(i,r)}}catch(e){fR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t){const n=UM.parse(e);return t.forEach(((e,t)=>{const r=e._mediaStreamTrack,i=n.mediaDescriptions.find((e=>e.attributes.mid===r.kind));i&&ZM(i,e)})),UM.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:r,mslabel:i}=t;const{kind:o}=e[n];return new Wh(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),a=t=>{const s=WT();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==r&&t.streams[0].id===i){var c;const i=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,r,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:i,id:r})}if(t.track.id===r)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:r})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await Wh.all(t)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(Xk().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}},EA(GF.prototype,"connect",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"connect"),GF.prototype),EA(GF.prototype,"stopSending",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"stopSending"),GF.prototype),EA(GF.prototype,"receive",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"receive"),GF.prototype),EA(GF.prototype,"stopReceiving",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"stopReceiving"),GF.prototype),EA(GF.prototype,"muteRemote",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"muteRemote"),GF.prototype),EA(GF.prototype,"unmuteRemote",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"unmuteRemote"),GF.prototype),EA(GF.prototype,"muteLocal",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"muteLocal"),GF.prototype),EA(GF.prototype,"unmuteLocal",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"unmuteLocal"),GF.prototype),EA(GF.prototype,"close",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"close"),GF.prototype),EA(GF.prototype,"updateEncoderConfig",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"updateEncoderConfig"),GF.prototype),EA(GF.prototype,"updateSendParameters",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"updateSendParameters"),GF.prototype),EA(GF.prototype,"replaceTrack",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"replaceTrack"),GF.prototype),EA(GF.prototype,"getRemoteSSRC",[qF],Object.getOwnPropertyDescriptor(GF.prototype,"getRemoteSSRC"),GF.prototype),GF);function qF(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function $F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$F(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const QF="9",JF=4e4;class ZF{get localCapabilities(){return ix(this._localCapabilities)}get rtpCapabilities(){return ix(this._rtpCapabilities)}get candidates(){return ix(this._candidates)}get iceParameters(){return ix(this._iceParameters)}get dtlsParameters(){return ix(this._dtlsParameters)}constructor(e){jE(this,"sessionDesc",void 0),jE(this,"_localCapabilities",void 0),jE(this,"_rtpCapabilities",void 0),jE(this,"_candidates",void 0),jE(this,"_iceParameters",void 0),jE(this,"_dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname",void 0),jE(this,"firefoxSsrcMidMap",new Map),e=ix(e);const{iceParameters:t,dtlsParameters:n,candidates:r,rtpCapabilities:i,setup:o,localCapabilities:a,cname:s}=e;this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s,this.sessionDesc=this.updateRemoteRTPCapabilities(i),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(e){const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,i=this.rtpCapabilities.send;let o=this.sessionDesc.mediaDescriptions.length-1;for(let a=1;a<e;a++){const e=2*a+2e4,s=2*a+JF,{ssrcs:c,ssrcGroups:l}=JM([{ssrcId:e}],this.cname),{ssrcs:u,ssrcGroups:d}=JM([{ssrcId:s,rtx:qx("USE_SUB_RTX")?s+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:QF,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:u,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:i.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:QF,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:c,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:i.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return UM.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:i,ssrcGroups:o}=JM(t,this.cname,qx("SYNC_GROUP")?n:void 0),a=this.findPreloadMediaDesc(i);if(a){if(XT()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,i);let n;return-1===t||1===t&&(qT()||function(){const e=WT();return!(e.name!==UT.CHROME||!e.osVersion)&&Number(e.version)<=90}())||0===t&&qx("USE_SUB_RTX")||oC()?(n=this.createOrRecycleSendMedia(e,i,o,"sendonly",r),this.updateBundleMids()):(n=ix(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=i,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),XT()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:i}=e;i&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||XT()||oC()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>kr(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>kr(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,i)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[i])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}updateRemoteRTPCapabilities(e){const t=this.sessionDesc||UM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=e;const n=this.rtpCapabilities.send,r=this.localCapabilities.send;for(const i of t.mediaDescriptions){if(i.attributes.iceUfrag=this._iceParameters.iceUfrag,i.attributes.icePwd=this._iceParameters.icePwd,i.attributes.fingerprints=this._dtlsParameters.fingerprints,i.attributes.candidates=this._candidates,i.attributes.setup=this.setup,"application"===i.media.mediaType&&(i.attributes.sctpPort="5000"),"video"===i.media.mediaType)if(0===n.videoCodecs.length){const e=r.videoCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:kr(n=t.encodingName.toLowerCase()).call(n,"vp8")}))||[r.videoCodecs[0]];i.media.fmts=e.map((e=>e.payloadType.toString(10))),i.attributes.payloads=e,i.attributes.extmaps=[]}else if(i.media.fmts=n.videoCodecs.map((e=>e.payloadType.toString(10))),i.attributes.payloads=n.videoCodecs,i.attributes.extmaps=n.videoExtensions,qx("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:e,ssrcGroups:t}=JM([{ssrcId:JF,rtx:qx("USE_SUB_RTX")?40001:void 0}],this.cname);i.attributes.ssrcs=e,i.attributes.ssrcGroups=t}if("audio"===i.media.mediaType)if(0===n.audioCodecs.length){const e=r.audioCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:kr(n=t.encodingName.toLowerCase()).call(n,"opus")}))||[r.audioCodecs[0]];i.media.fmts=e.map((e=>e.payloadType.toString(10))),i.attributes.payloads=e,i.attributes.extmaps=[]}else if(i.media.fmts=n.audioCodecs.map((e=>e.payloadType.toString(10))),i.attributes.payloads=n.audioCodecs,i.attributes.extmaps=n.audioExtensions,lj(i),qx("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:e,ssrcGroups:t}=JM([{ssrcId:2e4}],this.cname);i.attributes.ssrcs=e,i.attributes.ssrcGroups=t}}return this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(e){const t=this._candidates.filter((e=>"udp"===e.transport));if(e===cO.TCP){if(0===t.length)return;if(qx("TCP_CANDIDATE_ONLY")){const e=this._candidates.filter((e=>"tcp"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(XF(XF({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(XF(XF({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=[...t,...e]}}else if(e===cO.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>"tcp"===e.transport));e.forEach((e=>{t.push(XF(XF({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=[...t,...e]}}else 0===t.length?(this._candidates.filter((e=>"tcp"===e.transport)).forEach((e=>{t.push(XF(XF({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=t):this._candidates=this._candidates.filter((e=>"tcp"!==e.transport));for(const n of this.sessionDesc.mediaDescriptions)n.attributes.candidates=this.candidates}restartICE(e){e=ix(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(XT()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleDataChannel(){for(const n of this.sessionDesc.mediaDescriptions)if("application"===n.media.mediaType)return{mediaDesc:n,needExchangeSDP:!1};this.currentMidIndex+=1;const e="".concat(this.currentMidIndex),t={media:{mediaType:"application",port:QF,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(e),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,n,r,i,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=uj(a,s,this.localCapabilities.send,a===sO.VIDEO?r:i),l=a===sO.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const u="".concat(this.currentMidIndex);let d={media:{mediaType:a,port:QF,protos:["UDP","TLS","RTP","SAVPF"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(u)}};d=this.mungRecvMediaDsec(d,e,o);const h=this.findFirstClosedMedia(a);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateRemoteCodec(e,t,n){const r=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return kr(t=Object.keys(Jx)).call(t,e)})))],i=new Set(t);if(r.every((e=>i.has(e))))return fR.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var n;return kr(n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(n,t)}))));if(0===o.length)return fR.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(r," codecs: ").concat(t)),!1;const a=[...new Set(o.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")))];let s;if(fR.debug("updateRemoteCodec, from ".concat(r," to ").concat(a)),0===e.length)s=this.sessionDesc.mediaDescriptions.filter((e=>"video"===e.media.mediaType&&"recvonly"===e.attributes.direction));else if(s=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&kr(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction)),s.length!==e.length)return fR.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;if(qx("USE_PUB_RTX")||qx("USE_SUB_RTX")){const e=dj(o,this.rtpCapabilities.recv.videoCodecs);o.push(...e)}this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,l=this.rtpCapabilities.recv,u=uj(sO.VIDEO,l,c,n);return s.forEach((e=>{const t=u.map((e=>e.payloadType.toString(10)));fR.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from"),e.attributes.payloads,"to",u),e.attributes.payloads=u,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,n,r,i){const o=this.rtpCapabilities.send,a=e===sO.VIDEO?o.videoCodecs:o.audioCodecs,s=e===sO.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:QF,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,i);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=ix(e);return ej(r),ZM(r,t),tj(r,t),nj(r),rj(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=ix(e);return rj(n,t,this.localCapabilities.recv),lj(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>XT()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let nB=function(e){return e.BANDWIDTH="bandwidth",e.CPU="cpu",e.NONE="none",e.OTHER="other",e}({});var rB=function(e){return e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e}(rB||{});const iB=new Map;function oB(e,t,n,r){let{scale:i}=e;if(0===i&&r===rB.UP||i>=t.length-1&&r===rB.DOWN)return e;let o=tB(tB({},e),{},{scale:r===rB.DOWN?++i:--i});switch(n){case"maintain-framerate":o=tB(tB({},o),t[i].motion);break;case"maintain-resolution":o=tB(tB({},o),t[i].detail);break;case"balanced":o=tB(tB({},o),t[i].balanced)}return o}function aB(e,t){if(t){const n={overUse:0,underUse:0,adaptationList:sB(t)};iB.set(e,n)}else iB.delete(e)}function sB(e){const t=tB({},e),{bitrateMax:n,frameRate:r,scaleResolutionDownBy:i,bitrateMin:o}=t,{MIN_FRAME_RATE:a,MAX_THRESHOLD_FRAMERATE:s,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:l,BITRATE_MAX_THRESHOLD:u,BWE_SCALE_UP_THRESHOLD:d,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:f,BALANCE_BITRATE_FACTOR:m,BALANCE_FRAMERATE_FACTOR:g,BALANCE_RESOLUTION_FACTOR:v,MOTION_RESOLUTION_FACTOR:y,MOTION_BITRATE_FACTOR:b,DETAIL_FRAMERATE_FACTOR:E,DETAIL_BITRATE_FACTOR:_}=Gx,w=Math.min(t.frameRate,s),S=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*w),fps_up:r},balanced:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:o}}];for(let T=1;T<=c;T++){const e={bwe_up:Math.round(Math.pow(d,T)*n),bwe_down:Math.round(Math.pow(h,T+1)*n),fps_up:Math.round(Math.pow(f,T)*w),fps_down:Math.round(Math.pow(p,T+1)*w)},t={scaleResolutionDownBy:i/Math.pow(v,T),frameRate:Math.max(Math.round(Math.pow(g,T)*r),a),bitrateMax:Math.max(Math.round(Math.pow(m,T)*n),u),bitrateMin:Math.max(Math.round(Math.pow(m,T)*o),l)},s={scaleResolutionDownBy:i/Math.pow(y,T),frameRate:r,bitrateMax:Math.max(Math.round(Math.pow(b,T)*n),u),bitrateMin:Math.max(Math.round(Math.pow(b,T)*o),l)},c={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(E,T)*r),a),bitrateMax:Math.max(Math.round(Math.pow(_,T)*n),u),bitrateMin:Math.max(Math.round(Math.pow(_,T)*o),l)};S.push({scale:T,threshold:e,balanced:t,motion:s,detail:c})}return S}function cB(e,t,n,r,i,o){const a=iB.get(e)||{overUse:0,underUse:0,adaptationList:sB(i)},{adaptationList:s}=a;iB.set(e,a);const{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:l}=Gx,{scale:u}=r;let d,h;return"number"==typeof t&&t>0&&function(e,t,n,r){if(t>=n.length)return!1;let{threshold:{fps_down:i}}=n[t];return qx("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===r&&(i=n[0].threshold.fps_down),e<i}(t,u,s,o)&&(a.overUse++,h=nB.CPU,a.overUse>c)||"number"==typeof n&&n>0&&function(e,t,n){if(t>=n.length)return!1;const{threshold:{bwe_down:r}}=n[t];return e<r}(n,u,s)&&(a.overUse++,h=nB.BANDWIDTH,a.overUse>c)?(a.overUse=0,a.underUse=0,d=oB(r,s,o,rB.DOWN),[d,h]):("number"==typeof t&&t>0&&"number"==typeof n&&n>0&&function(e,t,n,r){if(0===t)return;let{threshold:{fps_up:i}}=n[t];return qx("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===r&&(i=n[1].threshold.fps_up),e>i}(t,u,s,o)&&function(e,t,n){if(0===t)return;const{threshold:{bwe_up:r}}=n[t];return e>r}(n,u,s)&&(a.underUse++,a.underUse>l&&(a.overUse=0,a.underUse=0,d=oB(r,s,o,rB.UP),0===d.scale&&(h=nB.NONE))),[d,h])}function lB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dB(e){var t;return!!qx("ENABLE_AG_ADAPTATION")&&!!(e instanceof sM||kr(t=e._hints).call(t,mP.CUSTOM_TRACK))&&(!!qx("FORCE_SUPPORT_AG_ADAPTATION")||!!(function(e){const t=WT();if(t.os!==jT.IOS||!t.osVersion)return!1;const n=t.osVersion.split(".");return Number(n[0])>=e}(14)&&nC(17,4,!0)||tC(14)&&rC(17,4,!0)))}const hB=new Map;function pB(e,t){const n=hB.get(e);if(n){const{timer:t}=n;window.clearTimeout(t),hB.delete(e)}t.qualityLimitationReason=nB.NONE,aB(e)}var fB;function mB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let vB=(fB=class e extends aO{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return kr(t=Object.keys(Jx)).call(t,e)})))]}constructor(t,n){super(t,n),jE(this,"store",void 0),jE(this,"peerConnection",void 0),jE(this,"id",gx(5,"connection-")),jE(this,"remoteSDP",void 0),jE(this,"initialOffer",void 0),jE(this,"transportEventReceiver",void 0),jE(this,"statsFilter",void 0),jE(this,"extension",{useXR:qx("USE_XR")}),jE(this,"localCapabilities",void 0),jE(this,"remoteCodecs",void 0),jE(this,"localCandidateCount",0),jE(this,"allCandidatesReceived",!1),jE(this,"isPreallocation",!1),jE(this,"preSSRCMap",new Map),jE(this,"dataStreamChannelMap",new Map),jE(this,"establishPromise",void 0),jE(this,"recoveredDataChannelIds",[]),jE(this,"currentDataChannelId",1),jE(this,"mutex",void 0),jE(this,"qualityLimitationReason",nB.NONE),this.store=n,this.mutex=new Ax("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=zU(this.peerConnection,qx("STATS_UPDATE_INTERVAL"),void 0,XT()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(e){const t=this.preSSRCMap.get(e);if(void 0!==t){const e=this.peerConnection.getTransceivers().find((e=>e.mid===t));if(e)return{transceiver:e,track:e.receiver.track,id:t}}}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(e);const n=this.remoteSDP.toString();null==t||t(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else fR.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else fR.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(t))}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const n=qM(t.sdp),r=await oj({filterRTX:!qx("USE_PUB_RTX")&&!qx("USE_SUB_RTX"),filterVideoFec:qx("FILTER_VIDEO_FEC"),filterAudioFec:qx("FILTER_AUDIO_FEC"),filterVideoCodec:qx("FILTER_VIDEO_CODEC")},this.extension);let i;return this.localCapabilities=cj(r),this.initialOffer=t,t.sdp&&mj(t.sdp)&&(i=ix(r),(e=i).send&&(WM(sO.VIDEO,e.send.videoExtensions),WM(sO.AUDIO,e.send.audioExtensions)),e.recv&&(WM(sO.VIDEO,e.recv.videoExtensions),WM(sO.AUDIO,e.recv.audioExtensions)),e.sendrecv&&(WM(sO.VIDEO,e.sendrecv.videoExtensions),WM(sO.AUDIO,e.sendrecv.audioExtensions))),gB(gB({},n),{},{rtpCapabilities:i||r,offerSDP:t.sdp})}catch(e){throw new EC(bC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}var e}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.initialOffer.sdp&&mj(this.initialOffer.sdp)&&(t=e.rtpCapabilities,n=this.localCapabilities,t.send&&(VM(sO.VIDEO,t.send.videoExtensions,n.send.videoExtensions),VM(sO.AUDIO,t.send.audioExtensions,n.send.audioExtensions)),t.recv&&(VM(sO.VIDEO,t.recv.videoExtensions,n.recv.videoExtensions),VM(sO.AUDIO,t.recv.audioExtensions,n.recv.audioExtensions))),this.remoteSDP=new ZF(gB(gB({},e),{},{localCapabilities:this.localCapabilities})),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const r=this.remoteSDP.toString(),i=pj(this.initialOffer.sdp,this.extension),o=this.logSDPExchange(i||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r});const a=this.peerConnection.getTransceivers()[0];if(null!=a&&a.receiver&&this.tryBindTransportEvents(a.receiver),qx("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(qx("PRELOAD_MEDIA_COUNT"));const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}const{preSSRCs:s}=e;if(Array.isArray(s)&&s.length>0){const{mids:e}=this.remoteSDP.batchSend(s.map((e=>({kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(s[t].ssrcId,e)})),await hj(this.peerConnection,this.remoteSDP,this.extension),fR.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}var t,n}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:t}=e;this.remoteSDP.updateRemoteRTPCapabilities(t),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:n}=e;if(Array.isArray(n)&&n.length>0){const{mids:e}=this.remoteSDP.batchSend(n.map((e=>Object.assign({},{kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(n[t].ssrcId,e)}))}await hj(this.peerConnection,this.remoteSDP,this.extension),fR.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(e.toString()))}}send(e,t,n){var r=this;return GS((function*(){const i=yield zS(r.mutex.lock("From P2PConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t),e._updateRtpTransceiver(t)})),XT()&&!0===qx("SIMULCAST")&&(yield zS(r.applySimulcastForFirefox(o,e)));const a=yield zS(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),l=UM.parse(c),u=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return $M(t,qx("USE_PUB_RTX"))}));let d;try{d=yield u}catch(i){d=[],r.remoteSDP.receive(e,t,n,d);const o=r.remoteSDP.toString();throw yield zS(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield zS(r.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield zS(r.stopSending(s,!0)),i}r.remoteSDP.receive(e,t,n,d);const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield zS(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield zS(r.applySimulcastEncodings(o,e)),yield zS(r.applySendEncodings(o,e)),null==p||p(h),yield zS(r.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:u[t],id:n,transceiver:e}}))}catch(e){throw e instanceof EC?e:new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(e);if(n&&"open"===n.readyState)fR.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if("number"!=typeof t)throw new Error("create DataChannel error, because cannot get dc id");n=this.peerConnection.createDataChannel("datastream-channel",{id:t,negotiated:!0,ordered:!1,maxRetransmits:qx("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(e,n)}t.forEach((e=>{e._updateOriginDataChannel(n)}));const{needExchangeSDP:r}=this.remoteSDP.sendDataChannel();if(r){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),fR.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else fR.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(e){throw e instanceof EC?e:new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof EC?e:new EC(bC.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(e.toString()))}}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;pB(this.id+e.mid,this),e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);o&&(await hj(this.peerConnection,this.remoteSDP,this.extension),fR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP.")));const a=this.peerConnection.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:i,transceiver:a}}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);return n&&(await hj(this.peerConnection,this.remoteSDP,this.extension),fR.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");e.forEach((e=>{Array.from(this.preSSRCMap.entries()).some((t=>{let[n,r]=t;if(r===e)return this.preSSRCMap.delete(n),!0}))})),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return GS((function*(){const n=yield zS(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Xk().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),r=e===cO.RELAY?"relay":"all";n.iceTransportPolicy!==r&&(fR.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(r,"]")),n.iceTransportPolicy=r,t.peerConnection.setConfiguration(n))}else if(e===cO.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield zS(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=qM(n.sdp),{remoteIceParameters:i}=yield r.iceParameters;t.remoteSDP.restartICE(i);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||"","offer","local","restartICE");t.store.descriptionStart(),yield zS(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield zS(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){fR.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}}))()}close(){var e;this.peerConnection.getTransceivers().forEach((e=>{pB(this.id+e.mid,this)})),this.preSSRCMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return gB(gB({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new EC(bC.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?XT()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:r}=t.getSelectedCandidatePair();return{local:gB(gB({},RU),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:gB(gB({},RU),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,fR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,fR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),qx("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(HC(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),qx("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),qx("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),qx("ENABLE_ENCODED_TRANSFORM")&&Xk().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(YO(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!qx("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const n=t.iceTransport;n&&(n.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var n;e&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,e))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:e,remote:t}=n.getSelectedCandidatePair();fR.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n,r;if(!t){const n=this.peerConnection.getSenders();t=n.find((t=>t.track===e._mediaStreamTrack))}if(!t)return fR.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return fR.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Xk().supportSetRtpSenderParameters)return fR.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const i={},o={};switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;case"balanced":i.degradationPreference="balanced"}const a=function(e,t){return e.getTransceivers().find((e=>e.sender.track===t||e.receiver.track===t))}(this.peerConnection,e._mediaStreamTrack),s=RD(e);if(dB(e)&&a&&t&&s&&this.getLocalVideoStats&&kr(n=["vp8","vp9"]).call(n,this.store.codec)){var c;const n=i.degradationPreference||(kr(c=e._hints).call(c,mP.CUSTOM_TRACK)?qx("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");!function(e,t,n,r,i,o){if(pB(e,n),i(t),"balanced"!==r&&"maintain-framerate"!==r&&"maintain-resolution"!==r)return;let a=-1;aB(e,t);const s=window.setInterval((()=>{const s=hB.get(e);if(!qx("ENABLE_AG_ADAPTATION")||!s)return pB(e,n),void i(t);const c=o();if(c.sendPackets>0&&c.OutgoingAvailableBandwidth>0){if(-1===a)return void(a=Date.now());if(Date.now()-a<1e3)return;const o=c.sendFrameRate,l=c.OutgoingAvailableBandwidth,[u,d]=cB(e,o,l,s.adaptationConfig,t,r);d&&(n.qualityLimitationReason=d),u&&s.adaptationConfig.scale!==u.scale&&(fR.debug("[".concat(e,"] applyAdaptation: ").concat(n.qualityLimitationReason,"\n           sendFps ").concat(o,", bwe ").concat(l,", switch from ").concat(s.adaptationConfig.scale," to ").concat(u.scale," ")),s.adaptationConfig=uB(uB({},s.adaptationConfig),u),i(u))}}),qx("CHECK_LOCAL_STATS_INTERVAL")),c=uB({},t);hB.set(e,{timer:s,adaptationConfig:c,originConfig:t,adaptationFunc:i}),fR.debug("[".concat(e,"] start adaptation, originConfig: ").concat(JSON.stringify(t),", degradationPreference: ").concat(r))}(this.id+a.mid,s,this,n,(e=>{t&&this.updateAdaptation(t,e)}),this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var l;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:r}=e._encoderConfig;t&&(o.maxBitrate=1e3*t),(kr(l=e._hints).call(l,mP.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(n&&(o.maxFramerate=$O(n)),r&&r>=1&&(o.scaleResolutionDownBy=r))}const{maxFramerate:u}=qx("ENCODER_CONFIG_LIMIT");if(u&&"number"==typeof u&&(o.maxFramerate=o.maxFramerate?Math.min(o.maxFramerate,u):u),qx("DSCP_TYPE")&&pC()){var d;const e=qx("DSCP_TYPE");kr(d=["very-low","low","medium","high"]).call(d,e)&&(o.networkPriority=e)}const h=t.getParameters(),p=null===(r=h.encodings)||void 0===r?void 0:r[0];XT()&&!p&&(i.encodings=[o]),p&&Object.assign(p,o),Object.assign(h,i),fR.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(h.encodings))),await t.setParameters(h),await async function(e,t,n){try{var r;if(!Xk().supportSetRtpSenderParameters)return;if(!function(e){return"vp9"===e}(e)||!qx("ENABLE_SVC"))return;const i={},o={},a=t.getParameters(),s=null===(r=a.encodings)||void 0===r?void 0:r[0];o.scalabilityMode=FM(n),s&&Object.assign(s,o),Object.assign(a,i),await t.setParameters(a),fR.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(a.encodings)))}catch(e){fR.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",e)}}(this.store.codec,t,qx("SVC_MODE"))}async updateAdaptation(e,t){var n,r;if(!e)return fR.debug("[updateAdaptation] no rtpSender found");if(!Xk().supportSetRtpSenderParameters)return fR.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const i={},{bitrateMax:o,frameRate:a,scaleResolutionDownBy:s}=t;o&&(i.maxBitrate=1e3*o),a&&(i.maxFramerate=$O(a)),s&&s>=1&&kr(n=["vp8","vp9"]).call(n,this.store.codec)&&(i.scaleResolutionDownBy=s);const c=e.getParameters(),l=null===(r=c.encodings)||void 0===r?void 0:r[0];l&&Object.assign(l,i),Object.assign(c,{});try{await e.setParameters(c),fR.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(c.encodings)))}catch(t){!("transport"in e)||e.transport&&"connected"===e.transport.state?"connected"!==this.peerConnectionState?fR.debug("[updateAdaptation] peerConnection not connected}"):fR.debug("[updateAdaptation] updateRtpSenderEncodings failed",t):fR.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(e,t){try{if(!Xk().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];i instanceof aM&&!this.isVP8Simulcast(i)&&await this.updateRtpSenderEncodings(i,r.sender)}}catch(e){fR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const r=UM.parse(e);return t.forEach(((e,t)=>{const i=n[t],o=r.mediaDescriptions.find((e=>e.attributes.mid===i));o&&(ZM(o,e),ij(o,e,this.store.codec))})),UM.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,r,i,o,a;const c=e[s],l=t[s];if(l instanceof aM&&!kr(n=l._hints).call(n,mP.LOW_STREAM)&&null!==(r=l._encoderConfig)&&void 0!==r&&r.bitrateMax&&(null===(i=l._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!XT()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof aM&&this.isVP8Simulcast(r)){const t=e[n],i={},o={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};i.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,i))}}}isVP8Simulcast(e){var t,n,r,i,o;return!!(e instanceof aM&&qx("SIMULCAST")&&"vp8"===this.store.codec&&!kr(t=e._hints).call(t,mP.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=e._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(i=e._scalabilityMode)&&void 0!==i&&i.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(qx("SDP_LOGGING"))return fR.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(Xk().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}},EA(fB.prototype,"updateRemoteRTPCapabilities",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"updateRemoteRTPCapabilities"),fB.prototype),EA(fB.prototype,"connect",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"connect"),fB.prototype),EA(fB.prototype,"updateRemoteConnect",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"updateRemoteConnect"),fB.prototype),EA(fB.prototype,"createDataChannels",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"createDataChannels"),fB.prototype),EA(fB.prototype,"receive",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"receive"),fB.prototype),EA(fB.prototype,"batchReceive",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"batchReceive"),fB.prototype),EA(fB.prototype,"stopReceiving",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"stopReceiving"),fB.prototype),EA(fB.prototype,"muteRemote",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"muteRemote"),fB.prototype),EA(fB.prototype,"unmuteRemote",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"unmuteRemote"),fB.prototype),EA(fB.prototype,"muteLocal",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"muteLocal"),fB.prototype),EA(fB.prototype,"unmuteLocal",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"unmuteLocal"),fB.prototype),EA(fB.prototype,"close",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"close"),fB.prototype),EA(fB.prototype,"updateEncoderConfig",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"updateEncoderConfig"),fB.prototype),EA(fB.prototype,"updateSendParameters",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"updateSendParameters"),fB.prototype),EA(fB.prototype,"replaceTrack",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"replaceTrack"),fB.prototype),EA(fB.prototype,"updateAdaptation",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"updateAdaptation"),fB.prototype),EA(fB.prototype,"getRemoteSSRC",[yB],Object.getOwnPropertyDescriptor(fB.prototype,"getRemoteSSRC"),fB.prototype),fB);function yB(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}var bB;function EB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wB(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=YS,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new SB(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function SB(e){function t(e){if(Object(e)!==e)return Wh.reject(new TypeError(e+" is not an object."));var t=e.done;return Wh.resolve(e.value).then((function(e){return{value:e,done:t}}))}return SB=function(e){this.s=e,this.n=e.next},SB.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Wh.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Wh.reject(e):t(n.apply(this.s,arguments))}},new SB(e)}let TB=(bB=class extends LC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(hO.StateChange,t,this._state)}constructor(e,t){super(),jE(this,"isPlanB",void 0),jE(this,"store",void 0),jE(this,"statsUploader",void 0),jE(this,"connection",void 0),jE(this,"localTrackMap",new Map),jE(this,"remoteUserMap",new Map),jE(this,"localDataChannels",[]),jE(this,"remoteDataChannelMap",new Map),jE(this,"pendingLocalTracks",[]),jE(this,"pendingRemoteTracks",[]),jE(this,"pendingLocalDataChannels",[]),jE(this,"pendingRemoteDataChannels",[]),jE(this,"statsCollector",void 0),jE(this,"shouldForwardP2PCreation",void 0),jE(this,"iceFailedCount",0),jE(this,"dtlsFailedCount",0),jE(this,"mutex",void 0),jE(this,"_state",dO.Disconnected),jE(this,"_pcStatsUploadType",qx("NEW_ICE_RESTART")?lO.FIRST_CONNECTION:lO.OLD_FIRST_CONNECTION),jE(this,"_isInRestartIce",!1),jE(this,"_isStartRestartIce",!1),jE(this,"_restartStates",["disconnected","failed"]),jE(this,"_restartTimer",void 0),jE(this,"_isFirstConnected",!0),jE(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==dO.Connected)return void n(new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const i=r.find((e=>"videoLowTrack"===e[0]));i&&i[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createMuteMessage(r);await QC(this,hO.RequestMuteLocal,o),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==dO.Connected)return void n(new EC(bC.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const i=r.find((e=>"videoLowTrack"===e[0]));if(i){const t=i[1];if(t.track._originMediaStreamTrack.stop(),!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=ZU(e,ZC(this,hO.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new Wh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r);await QC(this,hO.RequestUnmuteLocal,o),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(uO.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==dO.Connected)return void t();const{id:r,track:i}=n;await this.connection.updateSendParameters(r,i),await this.connection.updateEncoderConfig(r,i),this.emit(hO.UpdateVideoEncoder,i),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleUpdateVideoSendParameters",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(uO.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==dO.Connected)return void t();const{id:r,track:i}=n;await this.connection.updateSendParameters(r,i),t()}catch(e){n(e)}finally{r()}})),jE(this,"handleReplaceMixingTrack",(async(e,t,n,r)=>{if(!this.connection||this.state!==dO.Connected)return void t();const i=EF([e]);let o;fR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(i.getTrackId(),"]")),"boolean"==typeof r&&r||(o=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(e,i),t()}catch(e){n(e)}finally{var a;null===(a=o)||void 0===a||a()}})),jE(this,"handleReplaceTrack",(async(e,t,n,r)=>{let i;fR.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(i=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n||this.state!==dO.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===uO.LocalVideoTrack&&!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding){const t=this.localTrackMap.get(uO.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Wh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=i)||void 0===a||a()}})),jE(this,"handleGetRTCStats",(e=>{e(this.statsCollector.getRTCStats())})),jE(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),jE(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),jE(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),jE(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new mF(this.store),this.bindStatsUploaderEvents(),this.mutex=new Ax("P2PChannel-mutex",this.store.clientId),this.isPlanB=!Xk().supportUnifiedPlan||qx("CHROME_FORCE_PLAN_B")&&pC(),this.shouldForwardP2PCreation=qx("FORWARD_P2P_CREATION")&&Xk().supportPCSetConfiguration&&hC(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new YF({},this.store):new vB({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e){var t;this.state=dO.New;const n=this.shouldForwardP2PCreation&&"closed"===(null===(t=this.connection)||void 0===t?void 0:t.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(fR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new YF(e,this.store):new vB(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new EC(bC.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=qx("NEW_ICE_RESTART")?lO.FIRST_CONNECTION:lO.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new EC(bC.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");qx("ENABLE_PREALLOC_PC")&&this.state===dO.Connected?await this.connection.updateRemoteConnect(e):(this.store.peerConnectionStart(),await this.connection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=dO.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[n]=e;return kr(t=[uO.LocalVideoLowTrack,uO.LocalVideoTrack]).call(t,n)})),n=t.map((e=>{let[,{id:t}]=e;return t})),r=t.map((e=>{let[t]=e;return t}));if(this.connection instanceof vB){if(wR.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(r),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!kr(e).call(e,this.store.codec)){const t=["vp9","vp8","h264"].find((t=>kr(e).call(e,t)));t&&(this.store.codec=t,fR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(t,".")))}this.connection.updateRemoteRTPCapabilities(n,e)}}async getEstablishParams(){var e;if(this.connection instanceof vB&&"closed"!==this.connection.peerConnectionState&&kr(e=[dO.New,dO.Connected]).call(e,this.state))return this.connection.establishPromise}async publishDataChannel(e){if(!this.connection||this.state!==dO.Connected){if(this.state===dO.Disconnected)throw new EC(bC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return e.forEach((e=>{var t;kr(t=this.pendingLocalDataChannels).call(t,e)||this.pendingLocalDataChannels.push(e)})),[]}const t=this.filterTobePublishedDataChannels(e);return 0===t.length?[]:(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),"datachannel",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+"","datachannel",void 0,t)})),e.map((e=>({streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId}))))}publish(e,t,n){var r=this;return GS((function*(){const i=yield zS(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection||r.state!==dO.Connected){if(r.state===dO.Disconnected)throw new EC(bC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,uU.markPublishStart(r.store.clientId,r.store.pubId);const i=r.filterTobePublishedTracks(e,t,n);if(0===i.length)return void(yield zS(r.tryToUnmuteAudio(e)));yield*KS(wB(r.doPublish(r.connection,i)))}finally{i()}}))()}doPublish(e,t){var n=this;return GS((function*(){t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===uO.LocalAudioTrack?"audio":"video",i)})),n.bindLocalTrackEvents(t);const r=t.map((e=>{let{track:t}=e;return t})),i=yield zS(e.send(r,n.store.codec,n.store.audioCodec)),o=(yield zS(i.next())).value,a=n.createGatewayPublishMessage(t,o);let s;try{s=yield a}catch(e){throw i.throw(e),(null==e?void 0:e.code)===bC.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),e}const c=n.mapPubResToRemoteConfig(a,s,r),l=(yield zS(i.next(c))).value,u=qx("ENABLE_VIDEO_SEI");r.forEach((async e=>{const t=e.getRTCRtpTransceiver();t&&u&&(e.trackMediaType===sO.VIDEO?await PM(t.sender,e):e.trackMediaType===sO.AUDIO&&await async function(e){if(!Xk().supportWebRTCEncodedTransform)return void fR.warning("browser not support audio encoded transform");if(OM.has(e))return;if(!e.track)return;const t={track:e.track};if(YT()){if(!e.createEncodedStreams)return void fR.warning("browser not support createEncodedStreams() API");let r=null;try{r=e.createEncodedStreams()}catch(e){return void fR.error("create audio-encoded-streams error",e&&e.message)}const i=new TransformStream({transform(r,i){t.controller||(t.controller=i),e.track&&e.track.id!==t.track.id&&(fR.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n)),i.enqueue(r)}});r.readable.pipeThrough(i).pipeTo(r.writable)}else if(qT()){if("undefined"==typeof RTCRtpScriptTransform)return void fR.warning("browser not support RTCRtpScriptTransform");const r=AM(),i=new MessageChannel;await new Wh((e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(r,{name:"tx",port:i.port2},[i.port2]);e.transform=o,await new Wh((e=>r.onmessage=t=>{"started"===t.data&&e(void 0)})),i.port1.onmessage=r=>{var i;r.data.transformed&&e.track&&(null===(i=e.track)||void 0===i?void 0:i.id)!==t.track.id&&(fR.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n))},t.worker=r}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",n)}const t=OM.get(e);if(t){OM.delete(e);try{var r,i;null===(r=t.controller)||void 0===r||r.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(e){fR.warning(e&&e.message)}}}OM.set(e,t),e.track.addEventListener("ended",n)}(t.sender))})),t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,l),n.statsUploader.startUploadOutboundStats(),t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===uO.LocalAudioTrack?"audio":"video",void 0,i)}))}))()}async updateVideoStreamParameter(e,t){const n=this.localTrackMap.get(t);if(!n)return;if(!(n.track instanceof aM))return fR.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof vB||this.connection instanceof YF))return fR.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:r}=n,i=function(e,t){const n={};return e.height&&e.width&&(n.scaleResolutionDownBy=eI(e,t)),n.maxFramerate=e.framerate?$O(e.framerate):void 0,n.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,n}(e,r);if(r._encoderConfig||(r._encoderConfig={}),t!==uO.LocalVideoLowTrack||!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding)null!=i.scaleResolutionDownBy&&(r._encoderConfig.scaleResolutionDownBy=i.scaleResolutionDownBy);else{const t=r._originMediaStreamTrack;if(!t.canvas)return fR.warn("[".concat(r.getTrackId(),"] no canvas on track"));!function(e,t){const n=e.canvas;t.width&&(n.width=$O(t.width)),t.height&&(n.height=$O(t.height)),t.framerate&&(n.stopCapture&&n.stopCapture(),n.stopCapture=$P((()=>{!n.startCapture&&n.stopCapture&&n.stopCapture(),n.startCapture&&n.startCapture()}),$O(t.framerate)))}(t,e)}null!=i.maxBitrate&&(r._encoderConfig.bitrateMax=i.maxBitrate/1e3),null!=i.maxFramerate&&(r._encoderConfig.frameRate&&"object"==typeof r._encoderConfig.frameRate?r._encoderConfig.frameRate.max=i.maxFramerate:r._encoderConfig.frameRate={max:i.maxFramerate}),fR.debug("[".concat(r.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(r._encoderConfig))),await this.connection.updateRtpSenderEncodings(r)}publishLowStream(e){var t=this;return GS((function*(){if(!t.connection||t.state!==dO.Connected)return;const n=yield zS(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const n=t.localTrackMap.get(uO.LocalVideoTrack);if(!n)throw new EC(bC.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(uO.LocalVideoLowTrack))throw new EC(bC.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const i=[{track:t.getLowVideoTrack(n.track,e),type:uO.LocalVideoLowTrack}];if(yield*KS(wB(t.doPublish(t.connection,i))),n.track.muted||!n.track.enabled){var r;const e=null===(r=t.localTrackMap.get(uO.LocalVideoLowTrack))||void 0===r?void 0:r.id;void 0!==e&&(yield zS(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(fR.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await XC(this,hO.RequestRePublish,this.pendingLocalTracks),this.emit(hO.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(fR.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await XC(this,hO.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:e,kind:n}=this.pendingRemoteTracks[t];(n!==sO.AUDIO||e._audio_added_&&e._audioSSRC)&&(n!==sO.VIDEO||e._video_added_&&e._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await XC(this,hO.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===sO.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(hO.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==dO.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==dO.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==dO.Connected)return;const e=this.localTrackMap.get(uO.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[uO.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(e,t){if(!this.connection||this.state!==dO.Connected)throw new EC(bC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=t.filter((t=>{var n;return!(null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.get(t.id))}));if(0!==n.length)return await this.connection.createDataChannels(e.uid,n),n.forEach((t=>{var n;this.remoteDataChannelMap.has(e)?null===(n=this.remoteDataChannelMap.get(e))||void 0===n||n.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const r=this.pendingRemoteDataChannels.findIndex((n=>{let{user:r,id:i}=n;return r.uid===e.uid&&i===t.id}));-1!==r&&this.pendingRemoteDataChannels.splice(r,1)})),n.map((e=>e.id))}async subscribe(e,t,n,r,i){var o;if(!this.connection||this.state!==dO.Connected)throw new EC(bC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let a,s,c;const l=this.connection.getPreMedia(n);if(l)fR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(n,", no need to send sub to gateway.")),c=l.transceiver,a=l.track,s=l.id;else if(i){const n=i.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new EC(bC.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const r=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);this.connection instanceof vB&&(c=r.transceiver),a=r.track,s=r.id}else{const i=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);this.connection instanceof vB&&(c=i.transceiver),a=i.track,s=i.id}t===sO.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new SM(a,e.uid,e._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new wM(a,e.uid,e._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack)),qx("ENABLE_VIDEO_SEI")&&c&&(t==sO.VIDEO?await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Xk().supportWebRTCEncodedTransform)return void fR.warning("browser not support video encoded transform");if(!e.track)return;if(DM.has(e)){const n=DM.get(e);return void(n&&(n.onSei=t.onSei))}const n={track:e.track,onSei:t.onSei};if(YT()){if(!e.createEncodedStreams)return void fR.warning("browser not support createEncodedStreams() API");let t=null;try{t=e.createEncodedStreams()}catch(e){return void fR.error("create video-encoded-streams error",e&&e.message)}const i=new TransformStream({transform(t,i){n.controller||(n.controller=i),e.track&&e.track.id!==n.track.id&&(fR.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r));const o=function(e){const t=new DataView(e.data);let n=0;for(;n+4<e.data.byteLength;){if(0===t.getUint8(n+0)&&0===t.getUint8(n+1)&&0===t.getUint8(n+2)&&1===t.getUint8(n+3)&&6===t.getUint8(n+4)){let r=n+6,i=0,o=0;for(;255===(o=t.getUint8(r++));)i+=255;i+=o;const a=NM(e.data,r,i);return new Uint8Array(a)}n++}return null}(t);o&&n.onSei&&n.onSei(o),i.enqueue(t)}});t.readable.pipeThrough(i).pipeTo(t.writable)}else if(qT()){if("undefined"==typeof RTCRtpScriptTransform)return void fR.warning("browser not support RTCRtpScriptTransform");const t=AM(),i=new MessageChannel;await new Wh((e=>t.onmessage=t=>{"registered"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(t,{name:"rx",port:i.port2},[i.port2]);e.transform=o,await new Wh((e=>t.onmessage=t=>{"started"===t.data&&e(void 0)})),i.port1.onmessage=t=>{var i;t.data.transformed&&e.track&&(null===(i=e.track)||void 0===i?void 0:i.id)!==n.track.id?(fR.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r)):t.data.sei&&n.onSei&&n.onSei(t.data.sei)},n.worker=t}function r(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",r)}!function(e){const t=DM.get(e);if(t){DM.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){fR.warning(e&&e.message)}}}(e)}DM.set(e,n),e.track.addEventListener("ended",r)}(c.receiver,{onSei:t=>{var n;null===(n=e._videoTrack)||void 0===n||n._onSei(t)}}):t==sO.AUDIO&&await async function(e){if(!Xk().supportWebRTCEncodedTransform)return void fR.warning("browser not support audio encoded transform");if(IM.has(e))return;const t={track:e.track};if(YT()){if(!e.createEncodedStreams)return void fR.warning("browser not support createEncodedStreams() API");let r=null;try{r=e.createEncodedStreams()}catch(e){return void fR.error("create audio-encoded-streams error",e&&e.message)}const i=new TransformStream({transform(r,i){t.controller||(t.controller=i),e.track&&e.track.id!==t.track.id&&(fR.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n)),i.enqueue(r)}});r.readable.pipeThrough(i).pipeTo(r.writable)}else if(qT()){if("undefined"==typeof RTCRtpScriptTransform)return void fR.warning("browser not support RTCRtpScriptTransform");const r=AM(),i=new MessageChannel;await new Wh((e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(r,{name:"rx",port:i.port2},[i.port2]);e.transform=o,await new Wh((e=>r.onmessage=t=>{"started"===t.data&&e(void 0)})),i.port1.onmessage=r=>{var i;r.data.transformed&&e.track&&(null===(i=e.track)||void 0===i?void 0:i.id)!==t.track.id&&(fR.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n))},t.worker=r}function n(){e.track.removeEventListener("ended",n),function(e){const t=IM.get(e);if(t){IM.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){fR.warning(e&&e.message)}}}(e)}IM.set(e,t),e.track.addEventListener("ended",n)}(c.receiver));const u=this.remoteUserMap.get(e);u?u.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const d=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:i}=n;return r.uid===e.uid&&t===i}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(hO.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==dO.Connected)throw new EC(bC.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter((e=>{var t;let{user:n,mediaType:r}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(r))}));const t=[],n=new Map;e.forEach((e=>{if(!this.connection)return;const r=this.connection.getPreMedia(e.ssrcId);r?n.set(e.ssrcId,r):t.push(e)}));const r=await this.connection.batchReceive(t.map((e=>{let{user:t,mediaType:n,ssrcId:r,rtxSsrcId:i}=e;return{kind:n,ssrcMsg:[{ssrcId:r,rtx:i}],mslabel:String(t._uintid)}})));t.forEach(((e,t)=>{n.set(e.ssrcId,r[t])})),e.forEach((e=>{let{user:t,mediaType:r,ssrcId:i}=e;const o=n.get(i);if(!o)return void fR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(t.uid," subscribe data,").concat(r,", ").concat(i));const{track:a,id:s,transceiver:c}=o;r===sO.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(a):(t._audioTrack=new SM(a,t.uid,t._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(a):(t._videoTrack=new wM(a,t.uid,t._uintid,this.store),fR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack));const l=this.remoteUserMap.get(t);l?l.set(r,s):this.remoteUserMap.set(t,new Map([[r,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const u=this.pendingRemoteTracks.findIndex((e=>{let{user:n,kind:i}=e;return n.uid===t.uid&&r===i}));-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(hO.MediaReconnectEnd,t.uid))}))}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:i}=n;return void 0!==t?r.uid===e.uid&&t===i:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===dO.Connected||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===sO.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===sO.VIDEO){var i;null===(i=e._videoTrack)||void 0===i||i._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==dO.Connected)return;const i=this.filterTobeUnSubscribedTracks(e,t);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),i.forEach((e=>{let[t,{kind:r}]=e;var i,o;if(r===sO.VIDEO&&t._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===sO.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(r===sO.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),o}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(e,t);if(0===n.length)return;t.forEach((e=>{e._close()}));const r=this.remoteDataChannelMap.get(e);return n.forEach((e=>{r&&r.delete(e.id)})),r&&0===r.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),n.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:o}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:n}=e;return void 0!==o?t.uid===i.uid&&o===n:t.uid===i.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==dO.Connected)return void t.forEach((e=>{let{user:t,kind:n}=e;var r;if(n===sO.AUDIO)null===(r=t._audioTrack)||void 0===r||r._destroy(),t._audioTrack=void 0;else if(n===sO.VIDEO){var i;null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0}}));const n=Xr(e).call(e,((e,t)=>{let{user:n,mediaType:r}=t;const i=this.filterTobeUnSubscribedTracks(n,r);return e.concat(i)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),n.forEach((e=>{let[t,{kind:n}]=e;var r,i;if(n===sO.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===sO.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0;else if(n===sO.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),r}isPreSubScribe(e){return!(!this.connection||this.state!==dO.Connected)&&!!this.connection.getPreMedia(e)}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void fR.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void fR.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===sO.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||fR.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):fR.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(uO.LocalAudioTrack);if((null==t?void 0:t.track)instanceof EL){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==uO.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===uO.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===uO.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,n,r,i){if(e){const n=this.localTrackMap.get(uO.LocalAudioTrack),o=r?this.localTrackMap.get(uO.LocalVideoLowTrack):this.localTrackMap.get(uO.LocalVideoTrack);wR.publish(this.store.sessionId,{eventElapse:uU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(mP.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof vL)),s=r?null===(o=this.localTrackMap.get(uO.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof aM));wR.publish(this.store.sessionId,{eventElapse:uU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(mP.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}}reportSubscribeEvent(e,t,n,r){const i=r===sO.VIDEO?n._videoSSRC:n._audioSSRC;i&&wR.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===sO.VIDEO,audio:r===sO.AUDIO,peerid:n.uid,subscribeRequestid:i,p2pid:this.store.p2pId,eventElapse:uU.measureFromSubscribeStart(this.store.clientId,i),preSsrc:this.isPreSubScribe(i)})}reset(){fR.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new Ax("P2PChannel-mutex",this.store.clientId),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new YF({},this.store):new vB({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(uO.LocalAudioTrack);if((null==e?void 0:e.track)instanceof EL){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=dO.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(uO.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(uO.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof aM||t&&t.track instanceof vL?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(uO.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=am(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(fR.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=dO.Reconnecting,qx("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new YF({},this.store):new vB({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:r}]=e;switch(n){case uO.LocalVideoTrack:kr(t=r._hints).call(t,mP.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case uO.LocalAudioTrack:r instanceof EL?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case uO.LocalVideoLowTrack:}})),this.emit(hO.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uf(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(hO.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uf(n).call(n)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),fR.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(e,t){for(const n of this.pendingRemoteDataChannels){const{user:r,id:i}=n;if((e instanceof gF?e.uid:e)===r.uid&&i===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:i}=n;if((e instanceof gF?e.uid:e)===r.uid&&t===i)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return GS((function*(){if(!t.connection||t.state!==dO.Connected)return;const n=yield zS(t.mutex.lock("From P2PChannel.restartICE"));let r;try{r=yield zS(t.connection.restartICE(e));const n=yield zS(r.next());if(n.done)return;const i=n.value,o=yield i;switch(t.reportPCDisconnectedOrFailed(e),e){case cO.TCP:t._pcStatsUploadType=lO.TCP_RESTART;break;case cO.RELAY:t._pcStatsUploadType=lO.RELAY_RESTART;break;default:t._pcStatsUploadType=lO.OLD_RESTART}t._isInRestartIce=!0,r.next(o)}catch(e){var i;null===(i=r)||void 0===i||i.throw(e)}finally{n()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(uO.LocalVideoTrack),n=this.localTrackMap.get(uO.LocalAudioTrack),r=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),i=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!r||!i)return 1;const o=JC(this,hO.NeedSignalRTT),a=r?r.rttMs:void 0,s=i?i.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&o?(c+o)/2:c||o)||0,u=100*e.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(mP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return CR[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const i=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===i)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=JC(this,hO.NeedSignalRTT),l=e.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Wh(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}async replaceTrack(e,t){var n;if(fR.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(e.getTrackId(),"] to [").concat(t.getTrackId(),"]")),!this.connection||this.state!==dO.Connected)return;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!r)return;const i=r[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:i}]),this.bindLocalTrackEvents([{track:t,type:i}]),r[1].track=t),await(null===(n=this.connection)||void 0===n?void 0:n.replaceTrack(t,r[1].id)),this.isPlanB){const e=r[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(i,e)}if(i===uO.LocalVideoTrack&&!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding){const t=this.localTrackMap.get(uO.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Wh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}}filterTobePublishedTracks(e,t,n){const r=[],i=this.getAllTracks();e=nx(e=e.filter((e=>-1===i.indexOf(e))));let o,a=!1;const s=this.localTrackMap.get(uO.LocalAudioTrack);for(const c of e){if(c instanceof aM&&(this.localTrackMap.has(uO.LocalVideoTrack)||a?new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:c,type:uO.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);r.push({track:e,type:uO.LocalVideoLowTrack})}if(c instanceof vL)if(s){const e=s.track;if(e instanceof EL)bF([c]),e.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);else{const t=EF([e,c]);fR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(t.getTrackId(),"]")),this.replaceTrack(e,t)}}else o instanceof EL?(bF([c]),o.addAudioTrack(c)):o=o||!c._useAudioElement&&Xk().webAudioMediaStreamDest&&!c._bypassWebAudio?EF(o?[c,o]:[c]):c}return o&&(fR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(o.getTrackId(),"]")),r.push({track:o,type:uO.LocalAudioTrack})),r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=nx(e=e.filter((e=>-1!==n.indexOf(e))));for(const r of e){if(r instanceof vL){const e=this.localTrackMap.get(uO.LocalAudioTrack);if(!e)continue;e.track instanceof EL?(e.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===e.track.trackList.length&&(t.push([uO.LocalAudioTrack,e]),e.track.close())):t.push([uO.LocalAudioTrack,e])}if(r instanceof aM){const e=this.localTrackMap.get(uO.LocalVideoTrack);if(!e)continue;t.push([uO.LocalVideoTrack,e]);const n=this.localTrackMap.get(uO.LocalVideoLowTrack);n&&t.push([uO.LocalVideoLowTrack,n])}}return t}filterTobePublishedDataChannels(e){return(e=nx(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return(e=(e=nx(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case uO.LocalVideoTrack:t.addListener(fP.GET_STATS,this.handleGetLocalVideoStats),t.addListener(fP.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(fP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(fP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uO.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case uO.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof EL?e.trackList.forEach((e=>{e.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(fP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(fP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(fP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case uO.LocalVideoTrack:t.off(fP.GET_STATS,this.handleGetLocalVideoStats),t.off(fP.GET_RTC_STATS,this.handleGetRTCStats),t.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(fP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(fP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uO.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case uO.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof EL?e.trackList.forEach((e=>{e.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(fP.GET_STATS,this.handleGetLocalAudioStats),e.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(fP.GET_STATS,this.handleGetLocalAudioStats),e.off(fP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(fP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(fP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(fP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(fP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof wM&&t.addListener(fP.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof SM&&t.addListener(fP.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(fP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(sO.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(sO.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var r;let i,o,{track:a,type:s}=e;switch(s){case uO.LocalAudioTrack:i=XA.Audio,o={dtx:a instanceof yL&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case uO.LocalVideoTrack:i=kr(r=a._hints).call(r,mP.SCREEN_TRACK)?XA.Screen:XA.High,o=_B(_B({},XO(a)),{},{codec:this.store.codec,svc_mode:FM()});break;case uO.LocalVideoLowTrack:i=XA.Low,o=_B(_B({},XO(a)),{},{codec:this.store.codec,svc_mode:FM()})}return{stream_type:i,attributes:o,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:i}=e;this.localTrackMap.set(i,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(hO.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),qx("NEW_ICE_RESTART")){var n;if(kr(n=this._restartStates).call(n,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(fR.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(t)),"CONNECTED"===JC(this,hO.QueryClientConnectionState)&&this.emit(hO.RequestRestartICE,t))},n=()=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),fR.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout((()=>this.emit(hO.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},r=qx("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout((()=>{if(qx("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&Xk().supportPCSetConfiguration)t(cO.RELAY),this._restartTimer=window.setTimeout(n,r);else if(XT())t(cO.UDP),this._restartTimer=window.setTimeout(n,4e3);else{if(t(cO.TCP),Xk().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(cO.RELAY),this._restartTimer=window.setTimeout(n,r)}),r));this._restartTimer=window.setTimeout(n,r)}}),800))}}else{if("disconnected"===t&&"disconnected"===e.iceConnectionState)return setTimeout((()=>{"disconnected"===e.iceConnectionState&&qx("ICE_RESTART")&&"CONNECTED"===JC(this,hO.QueryClientConnectionState)&&this.emit(hO.RequestRestartICE)}),800),void setTimeout((()=>{"disconnected"===e.peerConnectionState&&(fR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(hO.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);"failed"===t&&(fR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(hO.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),wR.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:FC.TRACER}).onSuccess(),this.emit(hO.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(_P.FIRST_FRAME_DECODED),wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_AUDIO_DECODE,bR.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_AUDIO_RECEIVED,bR.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(uf(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&wR.firstRemoteFrame(this.store.sessionId,yR.FIRST_VIDEO_RECEIVED,bR.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(hO.ConnectionTypeChange,n),fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(tI(t))," -> ").concat(JSON.stringify(tI(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{fR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(tI(t))," -> ").concat(JSON.stringify(tI(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const e=this.statsCollector.getLocalVideoTrackStats(),t=this.statsCollector.getRTCStats();return _B(_B({},e),t)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(uO.LocalAudioTrack);if(e instanceof vL&&(null==n?void 0:n.track)instanceof EL)return n.track.isActive||t.push([uO.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===uO.LocalVideoTrack)){const e=this.localTrackMap.get(uO.LocalVideoLowTrack);e&&t.push([uO.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(uO.LocalAudioTrack);if(e instanceof vL&&(null==n?void 0:n.track)instanceof EL)return n.track.isActive&&t.push([uO.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===uO.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(uO.LocalVideoLowTrack);e&&t.push([uO.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[r,{track:i,ssrcs:o,id:a}]=e;switch(r){case uO.LocalAudioTrack:n=XA.Audio;break;case uO.LocalVideoTrack:n=kr(t=i._hints).call(t,mP.SCREEN_TRACK)?XA.Screen:XA.High;break;case uO.LocalVideoLowTrack:n=XA.Low}return{stream_type:n,ssrcs:o,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const i=r.get(t);if(!i)return n;n.push([e,{kind:t,id:i}])}else Array.from(r.entries()).forEach((t=>{let[r,i]=t;n.push([e,{kind:r,id:i}])}));return n}filterTobeUnSubscribedDataChannels(e,t){const n=[];return t.forEach((t=>{var r;null!==(r=this.remoteDataChannelMap.get(e))&&void 0!==r&&r.has(t.id)&&n.push(t)})),n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:i}]=e;switch(r){case sO.VIDEO:return void(n._videoSSRC&&t.push({stream_type:sO.VIDEO,ssrcId:n._videoSSRC}));case sO.AUDIO:return void(n._audioSSRC&&t.push({stream_type:sO.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:r}]=e;if(t.has(n)){let e=t.get(n);r===sO.VIDEO?e|=ZA.Video:e|=ZA.Audio,t.set(n,e)}else r===sO.VIDEO?t.set(n,ZA.Video):t.set(n,ZA.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(uO.LocalVideoTrack),n=this.localTrackMap.get(uO.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t,n){return e.map(((e,r)=>{var i;let{stream_type:o}=e;const a=null===(i=t.find((e=>{let{stream_type:t}=e;return o===t})))||void 0===i?void 0:i.attributes;if(a&&qx("DISABLE_SCREEN_SHARE_REMB")){const e=n[r]._hints;(kr(e).call(e,mP.SCREEN_TRACK)||kr(e).call(e,mP.SCREEN_LOW_TRACK))&&(a.remb=!1,fR.debug("disable remb for screen share, hints:",e))}return a}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof vL){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(0===r.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t}))));const i=this.createUnmuteMessage(r);return void await QC(this,hO.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(hO.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(hO.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await mx(Nx(this.dtlsFailedCount,Ix)),this.emit(hO.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await XC(this,hO.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(hO.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(uO.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof aM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof aM)).length>1)throw new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof vL)).length>1&&(e.some((e=>e instanceof vL&&e._bypassWebAudio))||!Xk().webAudioMediaStreamDest))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof aM&&this.pendingLocalTracks.some((e=>e instanceof aM)))throw new EC(bC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof vL&&this.pendingLocalTracks.some((e=>e instanceof vL))&&(!Xk().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof vL&&e._bypassWebAudio))))throw new EC(bC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){var n;const r=!qx("DISABLE_DUAL_STREAM_USE_ENCODING")&&Xk().supportDualStreamEncoding,i=_B(_B({},{width:160,height:120,framerate:15,bitrate:50}),t);let o;o=r?e._mediaStreamTrack.clone():ZU(e,i);const a=gx(8,"track-low-"),s=new aM(o,_B(_B({},r&&{scaleResolutionDownBy:eI(i,e)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,a);return s.on(bP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,gP.LOW_STREAM)})),s._hints.push(mP.LOW_STREAM),kr(n=e._hints).call(n,mP.SCREEN_TRACK)&&s._hints.push(mP.SCREEN_LOW_TRACK),e.on("sei-to-send",(e=>{s.emit("sei-to-send",e)})),e.addListener(fP.NEED_CLOSE,(()=>{s.close()})),s}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof vB){var i,o,a,s;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:l,dtlsTransportState:u,peerConnectionState:d}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();wR.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:l,dtlsstate:u,connectionstate:d,intSucc:t?1:2,error:r,selectedLocalCandidateProtocol:null!==(i=null==h?void 0:h.protocol)&&void 0!==i?i:"",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:"",selectedLocalCandidateAddress:"".concat(h.address,":").concat(h.port),selectedRemoteCandidateProtocol:null!==(a=p.protocol)&&void 0!==a?a:"",selectedRemoteCandidateType:null!==(s=p.candidateType)&&void 0!==s?s:"",selectedRemoteCandidateAddress:"".concat(p.address,":").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(e,t,n,r){var i;const o=Array.from(uf(i=this.remoteUserMap).call(i)).find((t=>t._videoSSRC===e));if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const i=this.store.keyMetrics,a=i.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));wR.firstRemoteVideoDecode(this.store.sessionId,yR.FIRST_VIDEO_DECODE,bR.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:uU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:i.requestAPEnd||0,apStart:i.requestAPStart||0,joinGwEnd:i.joinGatewayEnd||0,joinGwStart:i.joinGatewayStart||0,pcEnd:i.peerConnectionEnd||0,pcStart:i.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0,firstFrame:(null==a?void 0:a.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const i=r.get(t);if(!i)return!1;const o=await this.connection.getRemoteSSRC(i);return void 0!==o&&o!==n}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===uO.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,gP.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof vB&&("disconnected"!==this.connection.iceConnectionState&&"checking"!==this.connection.iceConnectionState&&"failed"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===lO.TCP_RESTART&&e===cO.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,lO.DISCONNECTED_OR_FAILED)))}},EA(bB.prototype,"startP2PConnection",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"startP2PConnection"),bB.prototype),EA(bB.prototype,"connect",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"connect"),bB.prototype),EA(bB.prototype,"updateRemoteRTPCapabilities",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"updateRemoteRTPCapabilities"),bB.prototype),EA(bB.prototype,"publishDataChannel",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"publishDataChannel"),bB.prototype),EA(bB.prototype,"unpublish",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unpublish"),bB.prototype),EA(bB.prototype,"unpublishDataChannel",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unpublishDataChannel"),bB.prototype),EA(bB.prototype,"unpublishLowStream",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unpublishLowStream"),bB.prototype),EA(bB.prototype,"subscribeDataChannel",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"subscribeDataChannel"),bB.prototype),EA(bB.prototype,"subscribe",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"subscribe"),bB.prototype),EA(bB.prototype,"massSubscribe",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"massSubscribe"),bB.prototype),EA(bB.prototype,"unsubscribe",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unsubscribe"),bB.prototype),EA(bB.prototype,"unsubscribeDataChannel",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unsubscribeDataChannel"),bB.prototype),EA(bB.prototype,"massUnsubscribe",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"massUnsubscribe"),bB.prototype),EA(bB.prototype,"muteRemote",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"muteRemote"),bB.prototype),EA(bB.prototype,"unmuteRemote",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"unmuteRemote"),bB.prototype),EA(bB.prototype,"hasRemoteMediaWithLock",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"hasRemoteMediaWithLock"),bB.prototype),EA(bB.prototype,"disconnectForReconnect",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"disconnectForReconnect"),bB.prototype),EA(bB.prototype,"updateBitrateLimit",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"updateBitrateLimit"),bB.prototype),EA(bB.prototype,"remoteMediaSsrcChanged",[CB],Object.getOwnPropertyDescriptor(bB.prototype,"remoteMediaSsrcChanged"),bB.prototype),bB);function CB(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}const xB={};function RB(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&fR.debug("install service ".concat(e.name)),xB[e.name]=e}function AB(e){const t=xB[e];if(!t)throw new EC(bC.INVALID_OPERATION,"".concat(e," not found, please use AgoraRTC.use(").concat(e,"Service) to load it first"));return t}function OB(e,t){return AB("DataStream").create(e,t)}function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const kB=Date.now(),PB=20,DB=new Map,LB=new Map;async function MB(e){const t=DB.get(e),n=Array.isArray(t)&&t[t.length-1],r=LB.get(e);if(!n)return void(r.isSyncing=!1);const i={uid:n.uid,payload:n.payload};0===r.firstRecvTs&&(r.firstRecvTs=n.recvTs,r.firstSendTs=n.sendTs);const o=n.sendTs-r.firstSendTs,a=o-(Date.now()-r.firstRecvTs);a>0&&(r.firstRecvTs=Date.now()-o);let s=n.mediaDelay+a;s<=0?(t.pop(),jB(n.context,i),s=0):s=Math.min(s,PB),setTimeout((()=>t.length&&MB(e)),s)}function jB(e,t){e.safeEmit(KC.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function UB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return jB(n,{uid:e.uid,payload:e.payload});const r="".concat(n.id,"-").concat(e.uid),i=DB.get(r)||[],o=i.findIndex((t=>e.sendTs>=t.sendTs)),a=NB(NB({},e),{},{context:n,mediaDelay:t,recvTs:Date.now()});-1===o?i.push(a):i.splice(o,0,a),DB.set(r,i);let s=!1;var c;LB.has(r)?s=!(null===(c=LB.get(r))||void 0===c||!c.isSyncing):LB.set(r,{isSyncing:s,firstRecvTs:0,firstSendTs:0}),s||MB(r)}const FB=WT().name;function BB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BB(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const WB="websdk_ng_cache_parameter",HB=qx("MAX_PRELOAD_ASYNC_LENGTH"),GB=1e4,zB=new Map,KB=[];let YB=null,qB=0,$B=0;const XB=new Map,QB=function(e,t){const n=[];let r=0;const i=async()=>{const e=n.shift();e&&await e(),n.length>0&&r<t?i():r--};return async function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return new Wh((async(o,s)=>{n.push((async()=>{try{const t=await e(...a);o(t)}catch(e){s(e)}})),r<t&&(r++,i())}))}}(ZB,HB),JB=NT.CancelToken.source();async function ZB(e,t,n,r,i,o){try{if(!qx("ENABLE_PRELOAD"))return;if(!Xk().supportWebCrypto)return void sx((()=>{fR.warn("Your browser does not support preloading, this feature  be run in a secure environment")}),"preload_webcrypto_not_supported");if(!n&&null!==n)throw new EC(bC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&CC(n,"token",1,2047),CC(e,"appid",1,2047),LA(t),r&&MA(r);const a=vx();fR.debug("preload channel ".concat(t,", uid is ").concat(r));const s={appId:e,cname:t,token:n||e,uid:"string"!=typeof r?r:null,sid:a,proxyServer:i};let c,l;"string"==typeof r?(s.stringUid=r,[l,c]=await Wh.all([Zj(r,{sid:a,appId:e},JB.token),tU(VB(VB({},s),{},{token:n||e,uid:0}),JB.token)]),s.uid=l.uid,c.gatewayInfo.uid=s.uid,c.gatewayInfo.res.uid=s.uid):(o&&(s.stringUid=o),c=await tU(s,JB.token));const u={sid:a,appId:e,cname:t,token:n||e,uid:s.stringUid||r,intUid:s.uid||c.gatewayInfo.uid,stringUid:s.stringUid,ts:Date.now(),sua:l,ap:c};await async function(e){let t;try{e.uid&&tV({appId:e.appId,cname:e.cname,token:e.token,uid:e.uid,stringUid:e.stringUid});const n=sV(e),r=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",ux(t),"AES-GCM",!1,["encrypt"]),r=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,cx(window.btoa(JSON.stringify(e))));return lx(new Uint8Array(r))}catch(e){return}}(e,e.token||e.appId);if(!r)return;t=oV(WB);const i=t?JSON.parse(t):[];i.push({[n]:r}),i.length>qx("AP_CACHE_NUM")&&i.shift(),aV(WB,JSON.stringify(i))}catch(e){fR.warn("Error caching server parameters:",e.message),aV(WB,"")}}(u),qB++}catch(e){throw $B++,function(e){YB||(YB=window.setTimeout((()=>{let t="";XB.forEach(((e,n)=>{t+="".concat(n,": ").concat(e," ;")})),wR.reportApiInvoke(null,{name:UC.PRELOAD,options:{success:qB,failed:$B,err:t}}).onError(e),qB=0,$B=0,XB.clear(),YB=null}),GB));const t=XB.get(e.code)||0;XB.set(e.code,t+1)}(e),e}}async function eV(e){try{if(qx("AP_REQUEST_DETAIL"))return;const t=tV(e);if(!t||"disabled"!==e.cloudProxyServer)return;const n=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",ux(t),"AES-GCM",!1,["decrypt"]),r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,cx(e));return JSON.parse(window.atob(lx(new Uint8Array(r))))}catch(e){return}}(t,e.token||e.appId);if(!n)return;if(!function(e,t){return!(e.cname!==t.cname||e.appId!==t.appId||e.token!==t.token)&&(t.stringUid?e.stringUid===t.stringUid:"number"==typeof t.uid?e.uid===t.uid:e.uid==t.uid)}(n,e))return;if(n&&Date.now()-n.ts<qx("AP_CACHE_LIFETIME"))return n}catch(e){fR.warn("Error get preloadInfo",e.message)}}function tV(e){let t;try{if(t=oV(WB),!t)return;const n=JSON.parse(t),r=sV(e),i=function(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}(n,(e=>r in e));if(-1===i)return;const o=n.splice(i,1)[0];return aV(WB,JSON.stringify(n)),o[r]}catch(e){fR.warn("Error delete preload info: ".concat(t),e.message),aV(WB,"")}}function nV(e){if(e){let t=zB.get(e);t&&(window.clearTimeout(t),t=null,zB.delete(e)),kr(KB).call(KB,e)||"disabled"!==e.cloudProxyServer||KB.push(e)}if(zB.size<qx("AP_CACHE_NUM")&&KB.length>0){const e=KB.shift();zB.set(e,window.setTimeout((async()=>{const{appId:t,cname:n,token:r,stringUid:i,uid:o,proxyServer:a}=e;try{await QB(t,n,r,o,a,i),zB.has(e)&&nV(e)}catch(t){fR.warn("update preload failed",t.message),rV(e)}}),qx("AP_UPDATE_INTERVAL")))}}function rV(e){const t=KB.indexOf(e);-1!==t&&KB.splice(t,1);let n=zB.get(e);n&&(window.clearTimeout(n),n=null,zB.delete(e),nV())}function iV(e,t){const n=e.sua,r=e.ap;t&&n&&wR.reqUserAccount(e.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:t,uid:e.intUid,errorCode:null,extend:n.req}),wR.reportResourceTiming(e.ap.url,e.sid),wR.joinWebProxyAP(e.sid,{lts:r.requestTime,elapse:r.elapse,sucess:1,apServerAddr:r.url,turnServerAddrList:r.proxyInfo.addresses.map((e=>e.ip)).join(","),eventType:"disabled",unilbsServerIds:[GO.CHOOSE_SERVER,GO.CLOUD_PROXY_FALLBACK].toString()}),wR.joinChooseServer(e.sid,{lts:r.requestTime,elapse:r.elapse,succ:!0,csAddr:r.url,opid:r.opid,serverList:r.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,cid:r.gatewayInfo.cid.toString(),uid:r.gatewayInfo.uid.toString(),csIp:r.gatewayInfo.csIp,unilbsServerIds:[GO.CHOOSE_SERVER].toString(),isHttp3:r.isHttp3})}function oV(e){return window.atob(window.localStorage.getItem(e)||"")}function aV(e,t){window.localStorage.setItem(e,window.btoa(t))}function sV(e){let t="".concat(e.appId,"_").concat(e.cname);return"string"==typeof e.uid&&(t+="_s_".concat(e.uid)),"number"==typeof e.uid&&(t+="_".concat(e.uid)),e.token&&(t+="_".concat(e.token)),Cx(t)}function cV(e){let t=function(){const e=hV.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let n=e.appId;void 0!==n&&(SV(t,10),bV(t,n));let r=e.cid;void 0!==r&&(SV(t,16),SV(t,r));let i=e.cname;void 0!==i&&(SV(t,26),bV(t,i));let o=e.deviceId;void 0!==o&&(SV(t,34),bV(t,o));let a=e.elapse;void 0!==a&&(SV(t,40),CV(t,a));let s=e.fileSize;void 0!==s&&(SV(t,48),CV(t,dV(s)));let c=e.height;void 0!==c&&(SV(t,56),CV(t,dV(c)));let l=e.jpg;void 0!==l&&(SV(t,66),SV(t,l.length),vV(t,l));let u=e.networkType;void 0!==u&&(SV(t,72),CV(t,dV(u)));let d=e.osType;void 0!==d&&(SV(t,80),CV(t,dV(d)));let h=e.requestId;void 0!==h&&(SV(t,90),bV(t,h));let p=e.sdkVersion;void 0!==p&&(SV(t,98),bV(t,p));let f=e.sequence;void 0!==f&&(SV(t,104),CV(t,dV(f)));let m=e.sid;void 0!==m&&(SV(t,114),bV(t,m));let g=e.timestamp;void 0!==g&&(SV(t,120),CV(t,g));let v=e.uid;void 0!==v&&(SV(t,128),SV(t,v));let y=e.vid;void 0!==y&&(SV(t,136),SV(t,y));let b=e.width;void 0!==b&&(SV(t,144),CV(t,dV(b)));let E=e.service;void 0!==E&&(SV(t,152),SV(t,E));let _=e.callbackData;void 0!==_&&(SV(t,162),SV(t,_.length),vV(t,_));let w=e.ticket;void 0!==w&&(SV(t,170),bV(t,w));let S=e.vendorConfigs;void 0!==S&&(SV(t,178),bV(t,S))}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function lV(e){return function(e){let t={};e:for(;!fV(e);){let n=wV(e);switch(n>>>3){case 0:break e;case 1:t.code=wV(e);break;case 2:t.msg=yV(e,wV(e));break;case 3:t.requestId=yV(e,wV(e));break;case 4:t.timestamp=TV(e,!1);break;default:uV(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function uV(e,t){switch(t){case 0:for(;128&EV(e););break;case 2:pV(e,wV(e));break;case 5:pV(e,4);break;case 1:pV(e,8);break;default:throw new Error("Unimplemented type: "+t)}}function dV(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let hV=[];function pV(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function fV(e){return e.offset>=e.limit}function mV(e,t){let n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>i&&(e.limit=o),r}function gV(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function vV(e,t){let n=mV(e,t.length);e.bytes.set(t,n)}function yV(e,t){let n=gV(e,t),r=String.fromCharCode,i=e.bytes,o="\ufffd",a="";for(let s=0;s<t;s++){let e,c,l,u,d=i[s+n];0==(128&d)?a+=r(d):192==(224&d)?s+1>=t?a+=o:(e=i[s+n+1],128!=(192&e)?a+=o:(u=(31&d)<<6|63&e,u<128?a+=o:(a+=r(u),s++))):224==(240&d)?s+2>=t?a+=o:(e=i[s+n+1],c=i[s+n+2],32896!=(49344&(e|c<<8))?a+=o:(u=(15&d)<<12|(63&e)<<6|63&c,u<2048||u>=55296&&u<=57343?a+=o:(a+=r(u),s+=2))):240==(248&d)?s+3>=t?a+=o:(e=i[s+n+1],c=i[s+n+2],l=i[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=o:(u=(7&d)<<18|(63&e)<<12|(63&c)<<6|63&l,u<65536||u>1114111?a+=o:(u-=65536,a+=r(55296+(u>>10),56320+(1023&u)),s+=3))):a+=o}return a}function bV(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),r+=e<128?1:e<2048?2:e<65536?3:4}SV(e,r);let i=mV(e,r),o=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?o[i++]=e:(e<2048?o[i++]=e>>6&31|192:(e<65536?o[i++]=e>>12&15|224:(o[i++]=e>>18&7|240,o[i++]=e>>12&63|128),o[i++]=e>>6&63|128),o[i++]=63&e|128)}}function EV(e){return e.bytes[gV(e,1)]}function _V(e,t){let n=mV(e,1);e.bytes[n]=t}function wV(e){let t,n=0,r=0;do{t=EV(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function SV(e,t){for(t>>>=0;t>=128;)_V(e,127&t|128),t>>>=7;_V(e,t)}function TV(e,t){let n,r=0,i=0,o=0;return n=EV(e),r=127&n,128&n&&(n=EV(e),r|=(127&n)<<7,128&n&&(n=EV(e),r|=(127&n)<<14,128&n&&(n=EV(e),r|=(127&n)<<21,128&n&&(n=EV(e),i=127&n,128&n&&(n=EV(e),i|=(127&n)<<7,128&n&&(n=EV(e),i|=(127&n)<<14,128&n&&(n=EV(e),i|=(127&n)<<21,128&n&&(n=EV(e),o=127&n,128&n&&(n=EV(e),o|=(127&n)<<7))))))))),{low:r|i<<28,high:i>>>4|o<<24,unsigned:t}}function CV(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10,a=mV(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}const xV={},RV={},AV=4294967296,OV=AV*AV,IV=OV/2,NV=MV(0,!0),kV=MV(0),PV=jV(0,-2147483648,!1),DV=jV(-1,2147483647,!1),LV=jV(-1,-1,!0);function MV(e,t){let n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=RV[e],r)?r:(n=jV(e,0,!0),i&&(RV[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=xV[e],r)?r:(n=jV(e,e<0?-1:0,!1),i&&(xV[e]=n),n)}function jV(e,t,n){return{low:0|e,high:0|t,unsigned:!!n}}function UV(e,t){if(isNaN(e))return t?NV:kV;if(t){if(e<0)return NV;if(e>=OV)return LV}else{if(e<=-IV)return PV;if(e+1>=IV)return DV}return e<0?t?NV:kV:jV(e%AV|0,e/AV|0,t)}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class BV extends LC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(bO.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),jE(this,"name","AgoraRTCImageModeration"),jE(this,"_connectionState",yO.CONNECTING),jE(this,"_sequence",0),jE(this,"_moderationStartTime",void 0),jE(this,"_workerConnection",void 0),jE(this,"_workerMessageLengthLimit",void 0),jE(this,"_qualityRatio",void 0),jE(this,"_connectInfo",void 0),jE(this,"_cancelTokenSource",NT.CancelToken.source()),jE(this,"_retryConfig",void 0),jE(this,"_moderationInterval",void 0),jE(this,"_moderationTimer",null),jE(this,"_moderationMode",1),jE(this,"_quality",1),jE(this,"_qualityTimer",null),jE(this,"_ticket",void 0),jE(this,"_moderationIntervalMinimum",void 0),jE(this,"_uploadFailedNum",0),jE(this,"_uploadNum",0),jE(this,"_uploadTimer",null),jE(this,"_extraInfo",void 0),jE(this,"_vendor",""),jE(this,"_encoder",new TextEncoder),jE(this,"_moderationId",void 0),jE(this,"inspectImage",(()=>{if(this.connectionState!==yO.CONNECTED)throw new SR(bC.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===yO.CONNECTED?this.requestToInspectImage():fR.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=gx(5,"image-moderation-"),this._workerMessageLengthLimit=qx("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=qx("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=qx("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new WO("worker-"+this._moderationId,Ix),this.on(bO.STATE_CHANGE,((e,t)=>{fR.debug("[".concat(this._moderationId,"] Moderation operation :").concat(EO[e]," ").concat(t||""))})),this.handleWorkerEvents()}async init(e,t){this.emit(bO.STATE_CHANGE,EO.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new Wh(((r,i)=>{this.on(bO.CONNECTION_STATE_CHANGE,((e,t)=>{e===yO.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorker(e)})).catch((e=>{i(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),fR.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(e))),this.connectionState===yO.CONNECTED&&this.inspectImage()}async requestAP(e,t,n){const r=qx("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),i=await function(e,t,n,r){let{appId:i,areaCode:o,cname:a,sid:s,token:c,uid:l}=t;Kj++;const u="moderation_plugin",d={service_name:u,json_body:JSON.stringify({appId:i,areaCode:o,cname:a,command:"allocateEdge",requestId:Kj,seq:Kj,sid:s,appToken:c,ts:Date.now(),uid:l+""})};let h,p,f=e[0];return kx((async()=>{h=Date.now();const e=await Tj(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new SR(bC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+e.code,{retry:!0,responseTime:p});throw fR.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new SR(bC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw fR.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new SR(bC.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:t.code,responseTime:p});throw fR.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new SR(bC.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:t.code,responseTime:p});throw fR.error(e.toString()),e}const r=qx("IMAGE_MODERATION_WORKER_HOST");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(n,"/moderation")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,n)=>(wR.apworkerEvent(s,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(wR.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==bC.OPERATION_ABORTED&&t.code!==bC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(bO.STATE_CHANGE,EO.AP_CONNECTED);const{addressList:o,ticket:a}=i;return this._ticket=a,o}async connectWorker(e){this.emit(bO.STATE_CHANGE,EO.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(DA.CONNECTED,(async()=>{this.emit(bO.STATE_CHANGE,EO.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=yO.CONNECTED})),this._workerConnection.on(DA.CLOSED,(()=>{this.connectionState=yO.CLOSED})),this._workerConnection.on(DA.FAILED,(()=>{this.connectionState=yO.CLOSED})),this._workerConnection.on(DA.RECONNECTING,(()=>{this.connectionState=this.connectionState===yO.CONNECTED?yO.RECONNECTING:yO.CONNECTING})),this._workerConnection.on(DA.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=lV(new Uint8Array(e.data));qx("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&fR.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,fR.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(t.code,", msg is ").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{wR.reportApiInvoke(this._connectInfo.sid||null,{name:UC.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:FC.TRACER}).onError(new SR(bC.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),qx("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else fR.error("[".concat(this._moderationId,"] Unexpected message type from worker"))})),this._workerConnection.on(DA.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this._workerConnection.on(DA.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=JC(this,bO.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(qx("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&fR.debug("Only the track being played can be inspected"));this._sequence++;const n=await this.generateRequestData(e,t);this._workerConnection.sendMessage(n,!0,!0)}else qx("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&fR.debug("Only the track being published can be inspected")}async generateRequestData(e,t){let{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),u=await AD(l,n,r),d=this._sequence+"-"+i+"-"+s+"-"+c+"-"+gx(12,""),h={appId:n,cid:i,cname:r,deviceId:"",elapse:BV.intToLong(Number(c-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.2",sequence:this._sequence,sid:a,timestamp:UV(c),uid:s,vid:o,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=cV(h);if(p.byteLength<this._workerMessageLengthLimit){if(qx("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FV(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,fR.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=NT.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=yO.CLOSED,this.emit(bO.STATE_CHANGE,EO.CLOSED)}}function VV(e){if(SC(e.interval,"interval",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new SR(bC.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(e&&e.vendor&&e.vendor.length>1024)throw new SR(bC.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const WV={name:"ImageModeration",create:function(e){let{config:t}=e;return VV(t),new BV(t)}};var HV,GV,zV,KV,YV,qV,$V,XV,QV,JV,ZV,eW,tW,nW,rW,iW,oW,aW,sW,cW,lW,uW,dW,hW,pW,fW,mW,gW,vW,yW,bW,EW,_W,wW,SW,TW,CW,xW,RW,AW,OW;function IW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IW(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ax.setLogger(fR);let kW=(HV=_R(),GV=_R({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof WP))return[t];t=[t]}return t.map((e=>e?Object(e).toString():"null"))}}),zV=_R({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==wP.DATA?(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))):[t.getChannelId()])}),KV=_R({argsMap:(e,t,n,r)=>["object"==typeof t?t.uid:t,n,r]}),YV=_R({argsMap:(e,t,n)=>[t,n]}),qV=_R({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]}))}),$V=_R({argsMap:(e,t,n,r)=>["object"==typeof t?t.uid:t,n,r]}),XV=_R({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}}))}),QV=_R(),JV=_R(),ZV=_R(),eW=_R(),tW=_R(),nW=_R(),rW=_R(),iW=_R(),oW=_R(),aW=_R(),sW=_R(),cW=_R(),lW=_R(),uW=_R(),dW=_R({argsMap:(e,t)=>[t]}),hW=_R(),pW=_R(),fW=_R(),mW=_R(),gW=_R(),vW=_R(),yW=_R(),bW=_R(),EW=_R({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),_W=_R(),wW=_R(),SW=_R(),TW=_R(),CW=_R(),xW=_R(),RW=_R({reportResult:!0}),AW=_R(),OW=class extends LC{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e,t){let n;if(super(),jE(this,"store",void 0),jE(this,"_uid",void 0),jE(this,"_channelName",void 0),jE(this,"_uintUid",void 0),jE(this,"_users",[]),jE(this,"_config",void 0),jE(this,"_clientId",void 0),jE(this,"_appId",void 0),jE(this,"_sessionId",null),jE(this,"_key",void 0),jE(this,"_rtmConfig",{}),jE(this,"_joinInfo",void 0),jE(this,"_gateway",void 0),jE(this,"_statsCollector",void 0),jE(this,"_configDistribute",void 0),jE(this,"_leaveMutex",void 0),jE(this,"_publishMutex",void 0),jE(this,"_renewTokenMutex",void 0),jE(this,"_subscribeMutex",void 0),jE(this,"_encryptionMode","none"),jE(this,"_encryptionSecret",null),jE(this,"_encryptionSalt",null),jE(this,"_encryptDataStream",!1),jE(this,"_encryptDataStreamKey",null),jE(this,"_encryptDataStreamIv",null),jE(this,"_proxyServer",void 0),jE(this,"_turnServer",{servers:[],mode:"auto"}),jE(this,"_cloudProxyServerMode","disabled"),jE(this,"_isDualStreamEnabled",!1),jE(this,"_defaultStreamFallbackType",void 0),jE(this,"_lowStreamParameter",void 0),jE(this,"_streamFallbackTypeCacheMap",new Map),jE(this,"_remoteStreamTypeCacheMap",new Map),jE(this,"_axiosCancelSource",NT.CancelToken.source()),jE(this,"_audioVolumeIndicationInterval",void 0),jE(this,"_networkQualityInterval",void 0),jE(this,"_userOfflineTimeout",void 0),jE(this,"_streamRemovedTimeout",void 0),jE(this,"_liveTranscodeStreamingClient",void 0),jE(this,"_liveRawStreamingClient",void 0),jE(this,"_channelMediaRelayClient",void 0),jE(this,"_networkQualitySensitivity","normal"),jE(this,"_p2pChannel",void 0),jE(this,"_useLocalAccessPoint",!1),jE(this,"_setLocalAPVersion",void 0),jE(this,"_joinAndNotLeaveYet",!1),jE(this,"_numberOfJoinCount",0),jE(this,"_remoteDefaultVideoStreamType",void 0),jE(this,"_inspect",void 0),jE(this,"_moderation",void 0),jE(this,"_license",void 0),jE(this,"_pendingPublishedUsers",[]),jE(this,"ntpAlignErrorCount",0),jE(this,"remoteInboundOffset",0),jE(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),jE(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),jE(this,"_handleUserOnline",(e=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(e.uid,this.channelName))return void fR.debug("[".concat(e.uid,"] will be ignored in local"));this.isStringUID&&"string"!=typeof e.uid&&fR.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(KC.USER_JOINED,t));else{const t=new gF(e.uid,e.uint_id||e.uid);this._users.push(t),fR.debug("[".concat(this._clientId,"] user online"),e.uid),this.safeEmit(KC.USER_JOINED,t)}})),jE(this,"_handleUserOffline",(e=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:tx(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),fR.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),this.safeEmit(KC.USER_LEAVED,t,e.reason))})),jE(this,"_handleAddAudioOrVideoStream",((e,t,n,r,i,o,a)=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(t,this.channelName))return;const s=this._users.find((e=>e.uid===t));if(!s)return void fR.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));fR.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=i||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),o&&(s._audioOrtc=o)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),o&&(s._videoOrtc=o)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(fR.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),this.safeEmit(KC.USER_PUBLISHED,s,e)),"video"===e?wR.onGatewayStream(this._sessionId,yR.ON_ADD_VIDEO_STREAM,bR.ON_ADD_VIDEO_STREAM,{peer:i||t,ssrc:s._videoSSRC}):wR.onGatewayStream(this._sessionId,yR.ON_ADD_AUDIO_STREAM,bR.ON_ADD_AUDIO_STREAM,{peer:i||t,ssrc:s._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t&&(fR.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof TB))return this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{fR.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(fR.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{fR.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),jE(this,"_handleRemoveStream",(e=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));if(!t)return void fR.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));fR.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid));let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{fR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(KC.USER_UNPUBLISHED,t,"audio"),fR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(KC.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{fR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(KC.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{fR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(KC.USER_UNPUBLISHED,t,"audio")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof TB&&this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),wR.onGatewayStream(this._sessionId,yR.ON_REMOVE_STREAM,bR.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),jE(this,"_handleSetStreamLocalEnable",((e,t,n)=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(t,this.channelName))return;const r=this._users.find((e=>e.uid===t));if(!r)return void fR.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));fR.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const i="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;const e=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===e)return;{const e=r._audio_enabled_?"enable-local-audio":"disable-local-audio";fR.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(KC.USER_INFO_UPDATED,t,e)}}else{r._trust_video_enabled_state_=!0;const e=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===e)return;{const e=r._video_enabled_?"enable-local-video":"disable-local-video";fR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(KC.USER_INFO_UPDATED,t,e)}}const o="audio"===e?r.hasAudio:r.hasVideo;return i!==o?!i&&o?(fR.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.safeEmit(KC.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,this._p2pChannel.muteRemote(r,e),fR.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void this.safeEmit(KC.USER_UNPUBLISHED,r,e)):void 0})),jE(this,"_handleMuteStream",((e,t,n)=>{if(qx("BLOCK_LOCAL_CLIENT")&&RR(e,this.channelName))return;fR.debug("[".concat(this._clientId,"] receive mute message"),e,t,n);const r=this._users.find((t=>t.uid===e));if(!r)return void fR.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));const i="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;const t=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===t)return;{const t=r._audio_muted_?"mute-audio":"unmute-audio";fR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(KC.USER_INFO_UPDATED,e,t)}}else{r._trust_video_mute_state_=!0;const t=r._video_muted_;if(r._video_muted_=n,r._video_muted_===t)return;{const t=r._video_muted_?"mute-video":"unmute-video";fR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(KC.USER_INFO_UPDATED,e,t)}}const o="audio"===t?r.hasAudio:r.hasVideo;if(i!==o){if(!i&&o)return("audio"===t?r._audioSSRC:r._videoSSRC)?(fR.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.safeEmit(KC.USER_PUBLISHED,r,t)):void fR.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&!r._video_pre_subscribed&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,this._p2pChannel.muteRemote(r,t),fR.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),this.safeEmit(KC.USER_UNPUBLISHED,r,t)}})),jE(this,"_handleP2PLost",(async e=>{fR.debug("[".concat(this._clientId,"] receive p2p lost"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():fR.warning("[".concat(this._clientId,"] P2PLost stream not found"),e)})),jE(this,"_handleTokenWillExpire",(()=>{fR.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(KC.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),jE(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),fR.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))})),jE(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(KC.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(KC.NETWORK_QUALITY,e)})),jE(this,"_handleP2PAddAudioOrVideoStream",((e,t,n,r)=>{const i=this._users.find((e=>e.uid===t));if(!i)return void fR.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));fR.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(i.uid,e,void 0,void 0,void 0,Date.now());const o="audio"===e?i.hasAudio:i.hasVideo;"audio"===e?i._trust_audio_stream_added_state_=!0:i._trust_video_stream_added_state_=!0,"audio"===e?(i._audio_added_=!0,void 0!==n&&(i._audioSSRC=n),void 0!==r&&(i._audioMid=r)):(i._video_added_=!0,void 0!==n&&(i._videoSSRC=n),void 0!==r&&(i._videoMid=r)),("audio"===e?i.hasAudio:i.hasVideo)&&!o&&(fR.info("[".concat(this._clientId,"] remote user ").concat(i.uid," published ").concat(e)),this.safeEmit(KC.USER_PUBLISHED,i,e)),this._p2pChannel.hasPendingRemoteMedia(i,e)&&(fR.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(i.uid," after reconnect.")),this._subscribe(i,e,!0).catch((e=>{fR.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),this._config=e,this._clientId=t||gx(5,"client-"),this.store=new Qx(e.codec,e.audioCodec,e.mode,this._clientId),this._leaveMutex=new Ax("client-leave",this._clientId),this._publishMutex=new Ax("client-publish",this._clientId),this._renewTokenMutex=new Ax("client-renewtoken",this._clientId),this._subscribeMutex=new Ax("client-subscribe",this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),fR.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(Bx," build: ").concat(zx,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),e.clientRoleOptions)try{zC(e.clientRoleOptions),n=Object.assign({},e.clientRoleOptions)}catch(e){fR.warning("[".concat(this._clientId,"] ").concat(e.toString()))}this._statsCollector=new FF(this.store),this._statsCollector.onStatsException=(e,t,n)=>{fR.warn("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),this.safeEmit(KC.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,r)=>{const i=this._users.find((t=>t.uid===e));i&&wR.peerPublishStatus(this._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:i._uintid})},this.store.useP2P="p2p"===e.mode,this._gateway=new _j(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||Ix,httpRetryConfig:e.httpRetryConfig||Ix,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:n}),this._configDistribute=new sU(this._clientId),this.store.useP2P?(this._p2pChannel=new LF(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new TB(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,n,r,i){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Yx("JOIN_GATEWAY_USE_443PORT_ONLY",o),Yx("JOIN_GATEWAY_USE_DUAL_DOMAIN",a);const s=this._gateway.signal.websocket;return s instanceof VO&&(s.use443PortOnly=o,s.tryDoubleDomain=a),async function(e,t,n){DT.get(e)||DT.set(e,[]),LT.get(e)||LT.set(e,t),MT.get(e)||MT.set(e,0);const r=DT.get(e),i=LT.get(e);if(!r||!i)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(MT.get(e)===i){const e=PT();r.push(e),await e.promise}MT.set(e,MT.get(e)+1);for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];const c=await n(...a);return MT.set(e,MT.get(e)-1),MT.get(e)===i-1&&r.length>0&&(r[0].resolve(),r.shift()),0===MT.get(e)&&(DT.set(e,[]),LT.set(e,0),MT.set(e,0)),c}("client.join",qx("JOIN_MAX_CONCURRENCY"),this.join.bind(this),e,t,n,r,i)}async join(e,t,n,r,i){const o=++this._numberOfJoinCount;this.store.joinStart(),r&&(this.store.uid=r);const a="HTTPS"===(Dx||Dx||(Dx=(window.location.protocol.split(":")[0]||"").toUpperCase(),Dx)),s=Fx()?window.isSecureContext:"Browser Not Support";if(!Fx()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";fR.warning(e)}"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),fR.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),wR.setAppId(e);try{if(!n&&null!==n)throw new SR(bC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&CC(n,"token",1,2047),CC(e,"appid",1,2047),LA(t),r&&MA(r),i&&CC(i,"optionalInfo",1,2047)}catch(i){throw wR.reportApiInvoke(vx(),{name:UC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:FC.TRACER}).onError(i),i}if(this._leaveMutex.isLocked&&(fR.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),fR.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const i=new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw wR.reportApiInvoke(vx(),{name:UC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:FC.TRACER}).onError(i),i}this._gateway.state="CONNECTING";const c=await eV({appId:e,cname:t,uid:r,stringUid:"string"==typeof r?r:void 0,token:n||e,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const l=(null==c?void 0:c.sid)||vx();fR.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(o)),this._sessionId||(this._sessionId=l,this.store.sessionId=this._sessionId);const u=wR.reportApiInvoke(l,{id:this._clientId,name:UC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:FC.TRACER}),d=NW(NW(NW({},this._rtmConfig),{},{clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:i,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:qx("AP_REQUEST_DETAIL")||void 0});if(this._useLocalAccessPoint&&(d.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof r&&(d.stringUid=r,this._uintUid?(d.uid=this._uintUid,this._uintUid=void 0):d.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(d.aesmode=this._encryptionMode,d.aespassword=await(async e=>{const t=function(){const e=window.atob("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}(),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=kC(e),i=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}(new Uint8Array(i))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(d.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&("aes-128-gcm2"===this._encryptionMode||"aes-256-gcm2"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const e=new TextEncoder,t=qx("USE_PURE_ENCRYPTION_MASTER_KEY")?e.encode(d.appId+this._encryptionSecret+this._encryptionSecret):e.encode(d.appId+d.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),i="aes-128-gcm2"===e?128:256,o=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:tR,hash:"SHA-256",salt:n},r,i+eR);return new Uint8Array(o).subarray(i/8)}(this._encryptionMode,t,cx(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),i="aes-128-gcm2"===e?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:tR,hash:"SHA-256",salt:n},r,{name:"AES-GCM",length:i},!0,["encrypt","decrypt"])}(this._encryptionMode,t,cx(this._encryptionSalt))}else s?fR.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):fR.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,fR.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:d.stringUid});const h=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&h===this._sessionId&&wR.joinChannelTimeout(this._sessionId,5)}),5e3);try{var p;let r;const i=d.cloudProxyServer;if(kr(p=["proxy3","proxy4","proxy5"]).call(p,i)){const e=qx("PROXY_SERVER_TYPE3");Array.isArray(e)?d.proxyServer=e[0]:d.proxyServer=e}if(wR.setProxyServer(d.proxyServer),fR.setProxyServer(d.proxyServer),this.store.requestAPStart(),c){if(fR.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(d.stringUid?", ".concat(d.stringUid," => ").concat(c.intUid):""," ")),d.stringUid&&!d.uid&&(d.uid=c.intUid),r={gatewayInfo:c.ap.gatewayInfo},qx("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&"auto"===d.turnServer.mode)if(0===c.ap.proxyInfo.addresses.length)fR.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const e=(await ZO(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map((e=>({turnServerURL:e.address,tcpport:e.tcpport||Hx.tcpport,udpport:e.udpport||Hx.udpport,username:e.username||Hx.username,password:e.password||Hx.password,forceturn:!1,security:!0})));d.turnServer={mode:"manual",servers:e}}iV(c,d.stringUid)}else{if(d.stringUid&&!d.uid){let e;[e,r]=await Wh.all([Jj(d.stringUid,d,this._axiosCancelSource.token,this._config.httpRetryConfig||Ix,this.store),Qj(d,this._axiosCancelSource.token,this._config.httpRetryConfig||Ix,!0,this.store)]),fR.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(d.stringUid," => ").concat(e)),d.uid=e,r.gatewayInfo.uid=e,r.gatewayInfo.res.uid=e}else r=await Qj(d,this._axiosCancelSource.token,this._config.httpRetryConfig||Ix,!0,this.store);if(!this._joinAndNotLeaveYet)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(d,this._axiosCancelSource.token),this._configDistribute.on(iO.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const o=r.gatewayInfo,a=d.uid?d.uid:o.uid;this._joinInfo=NW(NW({},d),{},{cid:o.cid,uid:a,vid:o.vid,apResponse:o.res,apGatewayAddress:o.apGatewayAddress,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs}),this.store.intUid=a;const s=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));u.onSuccess(s),this._appId=e,this._channelName=d.cname,this._uid=s,this.store.uid=s,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(qT()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()}),0);const l=d.stringUid?"string uid: ".concat(d.stringUid,",uid: ").concat(d.uid):"uid: ".concat(this._uid);return fR.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(l)),setTimeout((()=>{fR.startUpload()}),5e3),this.store.joinEnd(),f=this,kr(xR).call(xR,f)||xR.push(f),"disabled"===this._cloudProxyServerMode&&Xk().supportWebCrypto&&qx("ENABLE_PRELOAD")&&nV(this._joinInfo),s}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===bC.OPERATION_ABORTED?fR.warning("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),t):fR.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),t),t.code!==bC.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(t),t}var f}_joinGateway(){if(!this._joinInfo||!this._key)throw new SR(bC.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!qx("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){fR.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(qT()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=xR.indexOf(e);-1!==t&&xR.splice(t,1)}(this),this._statsCollector.stopUpdateStats();const e=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return fR.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave("CONNECTED"!==this.connectionState),fR.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof WP))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new SR(bC.INVALID_PARAMS,"param list is empty");const n=e;if("audience"===this._gateway.role)throw new SR(bC.INVALID_OPERATION,"audience can not publish stream");for(const i of n){if(!(i instanceof WP))throw new SR(bC.INVALID_PARAMS,"parameter is not local track");if(!i._enabled&&t)throw new SR(bC.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(i.getTrackId()))}fR.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))));const r=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&n.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof aM&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(n),fR.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))))}catch(e){throw fR.error("[".concat(this._clientId,"] publish error"),e.toString()),e}finally{r()}}async _publishDataChannel(e){SC(e.id,"id",0,65535,!0),_C(e.ordered,"ordered"),CC(e.metadata,"metadata",0,512),fR.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new SR(bC.INVALID_PARAMS,"Invalid id: ".concat(e.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||void 0===this._uid)throw new SR(bC.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&qx("FORCE_TURN")&&!qx("TURN_ENABLE_TCP")&&!qx("TURN_ENABLE_UDP"))throw new SR(bC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const t=function(e){return OB(e,!1)}(e),n=await this._p2pChannel.publishDataChannel([t]);if(n.length>0){if("number"!=typeof t._originDataChannelId)throw fR.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new SR(bC.CREATE_DATACHANNEL_ERROR);try{await Wh.all(n.map((e=>this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)))),await t._waitTillOpen()}catch(e){if(e.code!==bC.DISCONNECT_P2P)throw e}}return fR.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(t.id)),t}catch(e){throw fR.error("[".concat(this._clientId,"] publish datachannels error"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new SR(bC.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof WP))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);fR.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map((e=>"".concat(e.getTrackId()," ")))," "));const n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof LF){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(_O.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),fR.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map((e=>"".concat(e.getTrackId())))))}}catch(e){throw fR.error("[".concat(this._clientId,"] unpublish error"),e.toString()),e}finally{n&&n()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),fR.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(e.map((e=>"".concat(e.id," ")))," "));const t=await this._publishMutex.lock();try{const t=await this._p2pChannel.unpublishDataChannel(e);t&&await this._gateway.unpublishDataChannel(t),fR.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(e.map((e=>"".concat(e.id)))))}catch(e){throw fR.error("[".concat(this._clientId,"] unpublish dataChannel error"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,n){if(!(e instanceof gF)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");e=t}return"datachannel"===t?this._subscribeDataChannel(e,n):this._subscribe(e,t)}async presubscribe(e,t){if(wC(t,"mediaType",["audio","video"]),this._p2pChannel instanceof LF)throw new SR(bC.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"can't presub when not join");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=t===sO.AUDIO,r=t===sO.VIDEO,i=await this._subscribeMutex.lock();try{const{ssrcId:i,ortc:o,rtxSsrcId:a,cname:s,uint_id:c}=await this._gateway.presubscribe(e,t,!0);if(null==i)throw new SR(bC.UNEXPECTED_RESPONSE,"no ssrc id");let l=this._users.find((t=>t.uid===e));l||(l=new gF(e,c||e),l._is_pre_created=!0,this._users.push(l)),s&&(l._cname=s),l._uintid||(l._uintid=c||e),n&&(l._audioSSRC=i,l._audio_pre_subscribed=!0,o&&(l._audioOrtc=o)),r&&(l._videoSSRC=i,l._video_pre_subscribed=!0,o&&(l._videoOrtc=o),null!=a&&(l._rtxSsrcId=a)),fR.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(i)),await this._p2pChannel.subscribe(l,t,i,a,o);const u=n?l._audioTrack:l._videoTrack;if(!u)throw new SR(bC.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),r&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(t){throw fR.error("[".concat(this._clientId,"] presub user ").concat(e," error"),t),t}finally{i()}}async _subscribeDataChannel(e,t){var n;if(SC(t,"channelId",0,65535,!0),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));const r=this._users.find((t=>t===e));if(!r)throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),new SR(bC.INVALID_REMOTE_USER,"user is not published");const i=null===(n=e._dataChannels)||void 0===n?void 0:n.find((e=>e.id===t));if(!i)throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, remote datachannel is not published")),new SR(bC.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();fR.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: datachannel"));try{const n=await this._p2pChannel.subscribeDataChannel(e,[i]);if(n&&kr(n).call(n,i.id))try{var a;if("number"!=typeof i._originDataChannelId)throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, cannot get RTCDatachannel")),new SR(bC.CREATE_DATACHANNEL_ERROR);const t={id:i.id,datachannelId:i._originDataChannelId,ordered:i.ordered,maxRetransmits:i.maxRetransmits,metadata:null!==(a=i.metadata)&&void 0!==a?a:""};await this._gateway.subscribeDataChannel(e.uid,t,!0),await i._waitTillOpen()}catch(t){if((null==t?void 0:t.code)!==bC.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[i]),t;await this._p2pChannel.unsubscribeDataChannel(e,[i]),this._p2pChannel.setPendingRemoteDataChannel(e,i.id)}return fR.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: datachannel")),i}finally{o()}}async _p2pSubscribe(e,t,n){if(wC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const r=this._users.find((t=>t===e));if(!r){const t=new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new SR(bC.INVALID_REMOTE_USER,"user is not published");throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!n&&("audio"===t&&!e.hasAudio||"video"===t&&!e.hasVideo)){const n=new SR(bC.REMOTE_USER_IS_NOT_PUBLISHED);throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}const i=await this._subscribeMutex.lock();fR.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const n="audio"===t?e._audioSSRC:e._videoSSRC,r="audio"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof LF&&await this._p2pChannel.subscribe(e,t,n,r)}catch(e){throw e}fR.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{fR.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const n="audio"===t?e._audioTrack:e._videoTrack;if(!n)throw new SR(bC.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(t){throw fR.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{i()}}async _subscribe(e,t,n){if(this._p2pChannel instanceof LF)return this._p2pSubscribe(e,t);if(wC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const r=this._users.find((t=>t===e));if(!r){const t=new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new SR(bC.INVALID_REMOTE_USER,"user is not published");throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new SR(bC.REMOTE_USER_IS_NOT_PUBLISHED);throw fR.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}let i="audio"===t?e._audioSSRC:e._videoSSRC,o="audio"===t?e._audioOrtc:e._videoOrtc,a="video"===t?e._rtxSsrcId:void 0,s={stream_type:"audio"===t?sO.AUDIO:sO.VIDEO,ssrcId:i};const c=await this._subscribeMutex.lock();fR.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const r="audio"===t?e._audioSSRC:e._videoSSRC;void 0!==r&&r!==i&&(i=r,o="audio"===t?e._audioOrtc:e._videoOrtc,a="video"===t?e._rtxSsrcId:void 0,s={stream_type:"audio"===t?sO.AUDIO:sO.VIDEO,ssrcId:i}),uU.markSubscribeStart(this.store.clientId,i),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,i,a,o);try{this._p2pChannel.isPreSubScribe(i)||await this._gateway.subscribe(e.uid,s,!0)}catch(n){if((null==n?void 0:n.code)!==bC.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}fR.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{fR.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const r="audio"===t?e._audioTrack:e._videoTrack;if(!r)throw new SR(bC.UNEXPECTED_ERROR,"can not find remote track in user object");return r}catch(t){throw fR.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{c()}}async massSubscribe(e){if(xC(e,"subscribeList"),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,r=await this._subscribeMutex.lock();fR.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; ")));const i=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),o=await this._p2pChannel.globalLock();try{var a;for(let t=e.length-1;t>=0;t--){const r=e[t],{user:o,mediaType:a}=r;if(wC(a,"mediaType",["audio","video"]),!o){const e=new SR(bC.INVALID_PARAMS,"user property does not exist in subscribeList item");throw fR.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),e}const s=this._users.find((e=>e===o));if(!s){const n=new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");fR.error("[".concat(this._clientId,"] can not massSubscribe ").concat(o.uid,", this user is not in the channel")),i[t].error=n,e.splice(t,1);continue}if("audio"===a&&(!o.hasAudio||void 0===o._audioSSRC)||"video"===a&&(!o.hasVideo||void 0===o._videoSSRC)){const n=new SR(bC.REMOTE_USER_IS_NOT_PUBLISHED);fR.error("[".concat(this._clientId,"] can not subscribe ").concat(o.uid," with mediaType ").concat(a,", remote user is not published")),i[t].error=n,e.splice(t,1);continue}const c=ZA.Video|ZA.LwoVideo,l=n.get(o);if(l){if("video"===a?l&c:l&ZA.Audio){e.splice(t,1),fR.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(o.uid,", mediaType:").concat(a," twice"));continue}n.set(o,l|("video"===a?c:ZA.Audio))}else n.set(o,"video"===a?c:ZA.Audio)}for(let t=e.length-1;t>=0;t--){const r=e[t],{user:i,mediaType:o}=r,a=ZA.Video|ZA.LwoVideo;if(this._p2pChannel.hasRemoteMedia(i,o)){await this._p2pChannel.unmuteRemoteNoLock(i,o);const r=n.get(i);n.set(i,"video"===o?r^a:r^ZA.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);let r=Xr(a=Array.from(n.entries())).call(a,((e,t)=>{let[n,r]=t;if(0===r)return e;const i={stream_id:n.uid,stream_type:r};return r&ZA.Audio&&(i.audio_ssrc=n._audioSSRC),r&ZA.Video&&(i.video_ssrc=n._videoSSRC),e.push(i),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===sO.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:n===sO.VIDEO?t._rtxSsrcId:void 0}})));const n=new Map;if(r=r.filter((e=>e.video_ssrc&&!this._p2pChannel.isPreSubScribe(e.video_ssrc)||e.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e.audio_ssrc)||!e.video_ssrc&&!e.audio_ssrc)),r.length>0){const e=await this._gateway.subscribeAll(r,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:r,audio_error_code:i,error_code:o}=e;(r||i||o)&&n.set(t,{video_error_code:r,audio_error_code:i,error_code:o})}))}if(Array.from(n.entries()).length>0){const e=[];Array.from(n.entries()).forEach((t=>{let[n,r]=t;const i=this.remoteUsers.find((e=>e.uid===n));if(i){let t;r.error_code||r.video_error_code&&r.audio_error_code?t=void 0:r.video_error_code?t=sO.VIDEO:r.audio_error_code&&(t=sO.AUDIO),e.push({user:i,mediaType:t})}})),e.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of i){const t=n.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=AO(n);fR.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new SR(bC.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(i.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),i.forEach((e=>{var n;wR.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(n=e.error)||void 0===n?void 0:n.code)||null,video:e.mediaType===sO.VIDEO,audio:e.mediaType===sO.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===sO.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(e.user._videoSSRC)},!0)})),fR.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),i}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),r()}}async unsubscribe(e,t,n){if(!(e instanceof gF)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");e=t}if(t||this.store.useP2P){if("datachannel"===t)return this._unsubscribeDataChannel(e,n)}else await this._unsubscribeDataChannel(e,n);if(t&&wC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");const r=this._users.find((t=>t===e));if(!r){const t=new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");throw fR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}fR.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));const i=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof LF)await this._p2pChannel.unsubscribe(e,t);else{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),t&&"audio"!==t||(e._audio_pre_subscribed=!1),t&&"video"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&tx(this._users,e),fR.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}}catch(t){if(t.code===bC.DISCONNECT_P2P)return void fR.warning("disconnecting p2p, abort unsubscribe request.");throw fR.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}finally{i()}}async _unsubscribeDataChannel(e,t){if(t&&SC(t,"id",0,65535,!0),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");const n=this._users.find((t=>t===e));if(!n){const t=new SR(bC.INVALID_REMOTE_USER,"user is not in the channel");throw fR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}let r;if("number"==typeof t){const n=e._dataChannels.find((e=>e.id===t));n&&(r=[n])}else r=e._dataChannels;if(void 0===r){const n=new SR(bC.REMOTE_USER_IS_NOT_PUBLISHED);throw fR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid," with channelId ").concat(t,", remote datachannel is not published")),n}fR.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(r.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,r);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),fR.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(t))}catch(t){if(t.code===bC.DISCONNECT_P2P)return void fR.warning("disconnecting p2p, abort unsubscribe request.");throw fR.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}}async massUnsubscribe(e){if(xC(e,"unsubscribeList"),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");fR.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),e=[...e];const t=new Map;for(let n=e.length-1;n>=0;n--){const{user:r,mediaType:i}=e[n];if(!r){const e=new SR(bC.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw fR.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),e}wC(i,"mediaType",["video","audio",void 0]);const o=this._users.find((e=>e===r));if(!o){fR.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),e.splice(n,1);continue}const a=ZA.Video|ZA.LwoVideo;if(t.has(r)){const o=t.get(r);let s;switch(i){case"video":s=o&a;break;case"audio":s=o&ZA.Audio;break;default:s=o&(ZA.Audio|a)}if(s){fR.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(r.uid,",mediaType:").concat(i," twice.")),e.splice(n,1);continue}i?"audio"===i?t.set(r,o|ZA.Audio):"video"===i&&t.set(r,o|a):t.set(r,o|ZA.Audio|a)}else i?"audio"===i?t.set(r,ZA.Audio):"video"===i&&t.set(r,a):t.set(r,ZA.Audio|a)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),fR.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join()))}catch(e){if(e.code===bC.DISCONNECT_P2P)return void fR.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw fR.error("[".concat(this._clientId,"] massUnsubscribe error"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new EC(bC.INVALID_PARAMS);RC(e.width)||TC(e.width,"streamParameter.width"),RC(e.height)||TC(e.height,"streamParameter.height"),RC(e.framerate)||TC(e.framerate,"streamParameter.framerate"),RC(e.bitrate)||SC(e.bitrate,"streamParameter.bitrate")}(e),(!e.width&&e.height||e.width&&!e.height)&&fR.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),fR.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,uO.LocalVideoLowTrack)}async enableDualStream(){if(!Xk().supportDualStream)throw wR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new SR(bC.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new SR(bC.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw wR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,wR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),fR.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(uO.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw wR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,wR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),fR.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(function(e){wC(e,"role",["audience","host"])}(e),t&&zC(t),"rtc"===this.mode||"p2p"===this.mode)throw fR.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new SR(bC.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(t&&t.level&&"host"===e)throw new SR(bC.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===e&&this._p2pChannel.hasLocalMedia())throw new SR(bC.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(e,t),this._config.role=e,fR.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const n=t.timestamp-Date.now();return Math.abs(n)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(CC(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new SR(bC.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,wR.setProxyServer(this._proxyServer),fR.setProxyServer(this._proxyServer),fR.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new SR(bC.INVALID_OPERATION,"You have already set the proxy")}if(HC(e))return this._turnServer={servers:e,mode:"original-manual"},void fR.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),"."));e.forEach((e=>GC(e))),this._turnServer={servers:e,mode:"manual"},fR.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"you should set license before join channel");if(CC(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new SR(bC.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,fR.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if("DISCONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new SR(bC.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(void 0===e&&(e=3),e){case 1:case 2:throw new SR(bC.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new SR(bC.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,fR.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"Stop proxy server after leave channel");wR.setProxyServer(),fR.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",fR.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new SR(bC.INVALID_PARAMS,"accessPoints is required.");xC(e.accessPoints.serverList,"accessPoints.serverList"),CC(e.accessPoints.domain,"accessPoints.domain");const t=(e,t)=>{SC(e,t,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new SR(bC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");qx("CLOSE_AFB_FOR_LOCAL_AP")&&(Yx("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),Yx("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const r=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,i=e.accessPoints.domain,o=e.accessPoints.serverList.map((e=>r.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(i):e)),a=o.map((e=>"".concat(e,":").concat(n)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Yx("WEBCS_DOMAIN",a),Yx("WEBCS_DOMAIN_BACKUP_LIST",a),Yx("GATEWAY_DOMAINS",[i]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(xC(e.report.hostname,"report.hostname"),Yx("EVENT_REPORT_DOMAIN",e.report.hostname[0]),Yx("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(Yx("EVENT_REPORT_DOMAIN",o[0]),Yx("EVENT_REPORT_BACKUP_DOMAIN",o[1]||o[0]));let s=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),s=e.report.port),Yx("STATS_COLLECTOR_PORT",s),e.report?Yx("ENABLE_EVENT_REPORT",!0):Yx("ENABLE_EVENT_REPORT",!1);let c="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(xC(e.log.hostname,"log.hostname"),c=e.log.hostname[0]):c=o[0];let l=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),l=e.log.port),Yx("LOG_UPLOAD_SERVER","".concat(c,":").concat(l));let u=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(xC(e.cds.hostname,"cds.hostname"),u=e.cds.hostname):u=o;let d=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),d=e.cds.port),Yx("CDS_AP",u.map((e=>"".concat(e,":").concat(d)))),e.cds?Yx("ENABLE_CONFIG_DISTRIBUTE",!0):Yx("ENABLE_CONFIG_DISTRIBUTE",!1),fR.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(xC(e,"serverList"),CC(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new SR(bC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Yx("WEBCS_DOMAIN",e),Yx("WEBCS_DOMAIN_BACKUP_LIST",e),Yx("GATEWAY_DOMAINS",[t]),Yx("EVENT_REPORT_DOMAIN",e[0]),Yx("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Yx("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),fR.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(e){if(wC(e,"streamType",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw fR.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else fR.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(e))}async setRemoteVideoStreamType(e,t){wC(t,"streamType",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw fR.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),e}fR.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){wC(t,"fallbackType",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw fR.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),e}fR.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n,r){!function(e){wC(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),CC(t,"secret");const i=["aes-128-gcm2","aes-256-gcm2"];if(kr(i).call(i,e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new SR(bC.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new SR(bC.INVALID_PARAMS,"current encrypt mode does not need salt");if(r){if(_C(r,"encryptDataStream"),!kr(i).call(i,e))throw new SR(bC.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||fR.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=lx(n))}async renewToken(e){if(CC(e,"token",1,2047),!this._key||!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(qx("USE_NEW_TOKEN")){fR.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const t=await iU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ix);fR.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:t})}else fR.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:e});fR.debug("[".concat(this._clientId,"] renewToken success"))}catch(e){throw this._key=t,this._joinInfo.token=t,fR.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),e}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?fR.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(KC.VOLUME_INDICATOR,e)}),qx("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if("h264"!==this.codec)throw new SR(bC.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new SR(bC.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new SR(bC.LIVE_STREAMING_TASK_CONFLICT);const n=t?jA.TRANSCODE:jA.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(jA.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new SR(bC.INVALID_PARAMS,"can not find live streaming url to stop");await Wh.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async startChannelMediaRelay(e){VF(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){VF(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"can not send data stream, not joined");if(("string"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),"string"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}let r=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&kr(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)&&(r=!0,e.payload=await async function(e,t,n){var r;const i=Xr(r=Array.from(n)).call(r,((e,t)=>e+t),0),o={serverTs:0,seq:rR++,length:n.length,checkSum:i},a=new Uint8Array(Sx(i,2)),s=new ArrayBuffer(nR),c=new DataView(s);c.setUint32(0,o.serverTs),c.setUint16(4,o.seq),c.setUint16(6,o.length),c.setUint16(8,o.checkSum);const l=16-n.length%16;n=dx(n,new Uint8Array(l));const u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:e,tagLength:Zx,additionalData:a},t,n);return dx(new Uint8Array(s),new Uint8Array(u))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload)),new Blob([e.payload]).size>1024)throw new SR(bC.INVALID_PARAMS,r?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(IA.DATA_STREAM,{payload:lx(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-kB},!n)}sendMetadata(e){if(!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new SR(bC.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(IA.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:lx(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(gR),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"can not send custom report, not joined");await wR.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){wC(t.spatialLayer,"spatialLayer",[0,1,2,3]),wC(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw fR.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),e}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:n}=e;if(_C(t,"apRTM"),SC(n,"rtmFlag",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=n,fR.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(e)," in ").concat(this.connectionState," state")),("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(fR.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=NT.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&rV(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&wR.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new Ax("client-publish",this._clientId),this._subscribeMutex=new Ax("client-subscribe",this._clientId),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){var n;const r=e||vx();e?fR.debug("[".concat(this._clientId,"] new Session ").concat(r)):fR.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(r));const i=e?"":this._sessionId||"";this._sessionId=r,this.store.sessionId=r,wR.addSid(r);const o={lts:(new Date).getTime(),mode:this.mode,buildFormat:1,stringUid:(null==t?void 0:t.stringUid)||(null===(n=this._joinInfo)||void 0===n?void 0:n.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:i,clientRole:"audience"===this.role?2:1};wR.sessionInit(this._sessionId,NW({cname:t.channel,appid:t.appId},o)),this._joinInfo&&(this._joinInfo.sid=r),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=r)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new SR(bC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&qx("FORCE_TURN")&&!qx("TURN_ENABLE_TCP")&&!qx("TURN_ENABLE_UDP"))throw new SR(bC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");fR.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof LF){const t=(await n.next()).value;if(t){try{await this._gateway.sendExtensionMessage(_O.PUBLISH,t,!0)}catch(e){throw n.throw(e),e}await n.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const r=(await n.next()).value;if(r){var t;let i;try{i=await this._gateway.publish(this._uid,r,!0)}catch(e){if(e.code!==bC.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=i)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof aM&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===bC.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new SR(bC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));fR.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let r;try{r=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==bC.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=r)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===bC.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId)return new SR(bC.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const e=(t={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},AB("LiveStreaming").create(t));var t;return e.onLiveStreamError=(e,t)=>{wR.reportApiInvoke(this._sessionId,{name:UC.ON_LIVE_STREAM_ERROR,options:[e,t],tag:FC.TRACER}).onSuccess(),this.safeEmit(KC.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{wR.reportApiInvoke(this._sessionId,{name:UC.ON_LIVE_STREAM_WARNING,options:[e,t],tag:FC.TRACER}).onSuccess(),this.safeEmit(KC.LIVE_STREAMING_WARNING,e,t)},e.on(HA.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new SR(bC.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(e,t,n,r){const i=qx("UAP_AP").slice(0,qx("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await jj(i,e,t,n,r)})(e,this._joinInfo,this._axiosCancelSource.token,Ix).then(t).catch(n)})),e};return e===jA.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new SR(bC.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:n}=this.getLocalVideoStats(),r=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:n}},AB("ChannelMediaRelay").create(e));r.on("state",(e=>{e===qA.RELAY_STATE_FAILURE&&r&&r.dispose(),this.safeEmit(KC.CHANNEL_MEDIA_RELAY_STATE,e)})),r.on("event",(e=>{this.safeEmit(KC.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._channelMediaRelayClient=r,this._statsCollector.onStatsChanged=(e,t)=>{var n;"resolution"===e&&(null===(n=this._channelMediaRelayClient)||void 0===n||n.setVideoProfile(t))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:n,deleted:r}=e,i=[];if(t){const e=[];this._users.forEach((t=>{t._dataChannels.forEach((r=>{n.every((e=>e.uid!==t._uintid||e.stream_id!==r.id))&&e.push({uid:t._uintid,stream_id:r.id,ordered:r.ordered,max_retrans_times:r.maxRetransmits,metadata:r.metadata})}))})),e.length>0&&this._handleUpdateDataChannel({added:[],deleted:e})}Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:n,stream_id:r,ordered:o,max_retrans_times:a,metadata:s}=e,c=this._users.find((e=>e._uintid===n));if(c){if(fR.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(n)),kr(i).call(i,c)||i.push(c),c._uintid||(c._uintid=n),-1===c._dataChannels.findIndex((t=>t.id===e.stream_id))){const e={id:r,ordered:!!o,maxRetransmits:a,metadata:s},n=function(e){return OB(e,!0)}(e);c._dataChannels.push(n),fR.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published datachannel")),t||this.safeEmit(KC.USER_PUBLISHED,c,"datachannel",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(fR.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(c.uid," after reconnect.")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{fR.error("[".concat(this._clientId,"] resubscribe datachannel error"),e.toString())})))}else fR.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"))})),t&&(this.safeEmit(KC.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(r)&&r.length>0&&r.forEach((e=>{const{uid:t,stream_id:n}=e,r=this._users.find((e=>e._uintid===t));if(!r)return void fR.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const i=r._dataChannels.find((t=>t.id===e.stream_id));i&&(fR.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(t)),this._p2pChannel.unsubscribeDataChannel(r,[i]).then((e=>{if(r._dataChannels=r._dataChannels.filter((e=>e!==i)),e)return this._gateway.unsubscribeDataChannel(e,r.uid)})),fR.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished datachannel ,id:").concat(i.id)),this.safeEmit(KC.USER_UNPUBLISHED,r,"datachannel",i._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){fR.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid));const n=()=>{fR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished datachannel")),t._dataChannels.forEach((e=>{this.safeEmit(KC.USER_UNPUBLISHED,t,"datachannel",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),n()}}else fR.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(QA.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(QA.CONNECTION_STATE_CHANGE,((e,t,n)=>{var r;if(n===WC.FALLBACK)return;const i=()=>{this.safeEmit(KC.CONNECTION_STATE_CHANGE,e,t,n)};if(wR.reportApiInvoke(this._sessionId||(null===(r=this._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:UC.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:FC.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),fR.info("[".concat(this._clientId,"] signal connection state change: ").concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void i();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{fR.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{fR.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{fR.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{fR.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{fR.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,sO.AUDIO,!1)),e._trust_video_mute_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,sO.VIDEO,!1)),e._trust_audio_enabled_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(fR.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(fR.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}i()})),this._gateway.on(QA.REQUEST_NEW_GATEWAY_LIST,(async(e,t)=>{if(!this._joinInfo)return t(new SR(bC.UNEXPECTED_ERROR,"can not recover, no join info"));try{let t;const n=await eV(NW(NW({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));n?(t=n.ap,iV(n),this._joinInfo.preload=!0):(t=await Xj(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ix,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const r=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[n,i]=t.split(":");this._joinInfo&&this._joinInfo.proxyServer?r.push({proxy:this._joinInfo.proxyServer,host:n,port:i}):r.push({host:n,port:i})})),e(r)}catch(e){t(e)}})),this._gateway.on(QA.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.safeEmit(KC.NETWORK_QUALITY,e)})),this._gateway.on(QA.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(KC.STREAM_TYPE_CHANGED,e,t),wR.reportApiInvoke(this._sessionId,{name:UC.STREAM_TYPE_CHANGE,options:[e,t],tag:FC.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(QA.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(QA.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{let n=await this._p2pChannel.getEstablishParams();qx("ENABLE_PREALLOC_PC")&&n||(n=await this._p2pChannel.startP2PConnection(e)),t(n)}catch(e){n(e)}})),this._gateway.on(QA.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;let n;e.attributes?n=e.attributes.userAttributes.preSubSsrcs:fR.debug("no attributes in joinResponse");const r=XM(e.ortc,t,n);this._p2pChannel.connect(r)})),this._gateway.on(QA.PRE_CONNECT_PC,(async e=>{const{candidates:t,fingerprint:n}=e;if(this._joinInfo&&t.length>0&&!this._p2pChannel.isPlanB){var r;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:e,cid:i}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(i,"_").concat(e),icePwd:"".concat(i,"_").concat(e)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(r=qx("FINGERPRINT"))&&void 0!==r?r:n}]},candidates:t,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}}))}_handleGatewaySignalEvents(){this._gateway.signal.on(kA.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(kA.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(kA.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(kA.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(kA.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(kA.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)})),this._gateway.signal.on(kA.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(kA.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(kA.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,sO.AUDIO,!0))),this._gateway.signal.on(kA.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,sO.AUDIO,!1))),this._gateway.signal.on(kA.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,sO.VIDEO,!0))),this._gateway.signal.on(kA.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,sO.VIDEO,!1))),this._gateway.signal.on(kA.RECEIVE_METADATA,(e=>{const t=cx(e.metadata);this.safeEmit(KC.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(kA.ON_DATA_STREAM,(async e=>{var t;if(!e)return;let n=cx(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&kr(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)){if(e.payload.length<nR)throw new SR(bC.UNEXPECTED_RESPONSE,"payload length ".concat(e.payload.length," is less than header length ").concat(nR));const t=await async function(e,t,n){const r=n.subarray(0,nR),i=r.slice(8,nR),o=(i[0]<<8)+i[1],a=(r[6]<<8)+r[7],s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e,tagLength:Zx,additionalData:new Uint8Array(Sx(o,2))},t,n.subarray(nR));return new Uint8Array(s).subarray(0,a)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n);n=t}let r=0;if(e.ordered||e.syncWithAudio){const t=this._p2pChannel.getStats(),n=this.remoteUsers.find((t=>t.uid===e.uid)),i=null==t?void 0:t.audioRecv.find((e=>e.ssrc===(null==n?void 0:n._audioSSRC)));r=null==i?void 0:i.jitterBufferMs}null==r&&(r=0),UB(NW(NW({},e),{},{payload:n}),r,{id:this._clientId,onStreamMessage:"function"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(kA.ON_CRYPT_ERROR,(()=>{sx((()=>{fR.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(KC.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(kA.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(kA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{fR.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,WC.TOKEN_EXPIRE),this.safeEmit(KC.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(kA.ON_STREAM_FALLBACK_UPDATE,(e=>{fR.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.safeEmit(KC.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(kA.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),fR.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))})),this._gateway.signal.on(kA.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(kA.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(OA.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case IA.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,r;const i=e.some((e=>{let{stream_type:t}=e;return t===XA.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t!==XA.Audio})),a=e.some((e=>{let{stream_type:t}=e;return t===XA.Screen||t===XA.ScreenLow}));"offer"===t.state&&wR.publish(this._joinInfo.sid,{eventElapse:uU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:bC.TIMEOUT,audio:i,video:o,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:a,audioName:i?null===(n=e.find((e=>{let{stream_type:t}=e;return t===XA.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:o?null===(r=e.find((e=>{let{stream_type:t}=e;return t!==XA.Audio})))||void 0===r||null===(r=r.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0})}break}case IA.SUBSCRIBE:t&&wR.subscribe(this._joinInfo.sid,{succ:!1,ec:bC.TIMEOUT,audio:t.stream_type===sO.AUDIO,video:t.stream_type===sO.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:uU.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}})),this._gateway.signal.on(kA.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(kA.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;qx("BLOCK_LOCAL_CLIENT")&&(e.users=e.users.filter((e=>!RR(e.string_id||e.stream_id,this.channelName))));const t=[],n=[];for(const r of e.users){let e=this._users.find((e=>e._uintid===r.stream_id));e?e._trust_in_room_=!0:(e=new gF(r.string_id||r.stream_id,r.stream_id),this._users.push(e),0===this.getListeners(KC.PUBLISHED_USER_LIST).length&&(fR.debug("[".concat(this._clientId,"] user online"),r.stream_id),this.safeEmit(KC.USER_JOINED,e)));const i=ZA.Audio&r.stream_type,o=(ZA.Video|ZA.LwoVideo)&r.stream_type,a=0!=(65280&r.stream_type),s=i&&e.hasAudio,c=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=r.video_ssrc,e._rtxSsrcId=r.video_rtx),i&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=r.audio_ssrc),i&&!s&&0===this.getListeners(KC.PUBLISHED_USER_LIST).length&&(fR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),this.safeEmit(KC.USER_PUBLISHED,e,"audio")),o&&!c&&0===this.getListeners(KC.PUBLISHED_USER_LIST).length&&(fR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),this.safeEmit(KC.USER_PUBLISHED,e,"video")),(i&&!s||o&&!c||a)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),i&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(fR.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{fR.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(KC.PUBLISHED_USER_LIST).length>0?qx("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=t:(fR.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.safeEmit(KC.PUBLISHED_USER_LIST,t)):fR.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))})),this._gateway.signal.on(kA.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;this._p2pChannel instanceof TB&&this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return kr(t=Object.keys(Jx)).call(t,e)})))}))}_handleP2PEvents(){this._gateway.signal.on(kA.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(_O.PUBLISH,((e,t,n)=>{const{uid:r}=e;e.forEach((e=>{const{kind:i,ssrcs:o,mid:a,isMuted:s}=e;this._handleP2PAddAudioOrVideoStream(i,r,o[0].ssrcId,a);const c=this._users.find((e=>e.uid===r));return c&&this._p2pChannel instanceof LF?this._p2pChannel.mockSubscribe(c,i,o[0].ssrcId,a).then((()=>{t()})).catch(n):t(),this._handleMuteStream(r,i,!!s)}))})),this._gateway.signal.on(_O.CALL,(async(e,t,n)=>{if(this._p2pChannel instanceof LF)try{var r;t(await this._p2pChannel.startP2P({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},e))}catch(e){n(e)}})),this._gateway.signal.on(OA.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof LF&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(_O.UNPUBLISH,(async(e,t,n)=>{if(this._p2pChannel instanceof LF){const{unpubMsg:r,uid:i}=e,o=this._users.find((e=>e.uid===i));if(!o)return fR.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(i)),void t();try{r.forEach((async e=>{let{stream_type:t}=e;const n=t===XA.Audio?sO.AUDIO:sO.VIDEO;await this._p2pChannel.unsubscribe(o,n),this._handleMuteStream(i,n,!0)})),t()}catch(e){n(e)}}})),this._gateway.signal.on(_O.CONTROL,(async(e,t)=>{const{action:n}=e;switch(n){case SO.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,sO.VIDEO,!0);break;case SO.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,sO.AUDIO,!0);break;case SO.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",t),this._handleMuteStream(t,sO.VIDEO,!1);break;case SO.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",t),this._handleMuteStream(t,sO.AUDIO,!1)}})),this._gateway.signal.on(_O.RESTART_ICE,(async(e,t,n)=>{if(this._p2pChannel instanceof LF)try{const{direction:n,iceParameter:r}=e;n!==PA.SEND_ONLY||r?t(await this._p2pChannel.restartICE(n,r)):(this._p2pChannel.handleDisconnect(n),t())}catch(e){n(e)}})),this._gateway.signal.on(_O.CANDIDATE,(e=>{if(this._p2pChannel instanceof LF){const{candidate:t,direction:n}=e;this._p2pChannel.addRemoteCandidate(t,n)}})),this._p2pChannel.on(hO.RequestP2PRestartICE,(async(e,t,n)=>{try{const{direction:n}=e;t(await this._gateway.sendExtensionMessage(_O.RESTART_ICE,e,n===PA.SEND_ONLY))}catch(e){n(e)}})),this._p2pChannel.on(hO.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(_O.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on(hO.RequestP2PMuteLocal,(async(e,t,n)=>{try{await this._gateway.sendExtensionMessage(_O.CONTROL,e,!0),t()}catch(e){n(e)}})),this._p2pChannel.on(hO.RequestP2PUnmuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===bC.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(hO.RequestP2PMuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===bC.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(hO.StateChange,((e,t)=>{t===dO.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(hO.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===bC.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(hO.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===bC.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(hO.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(hO.RequestRePublishDataChannel,((e,t,n)=>{Wh.all(e.map((async e=>{const t=await this._p2pChannel.publishDataChannel([e]);try{t.forEach((e=>{this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)}))}catch(e){if(e.code!==bC.DISCONNECT_P2P)throw e}}))).then(t).catch(n)})),this._p2pChannel.on(hO.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===sO.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}})),this._p2pChannel.on(hO.RequestUpload,((e,t)=>{this._gateway.upload(e,t)})),this._p2pChannel.on(hO.RequestUploadStats,(e=>{this._gateway.uploadWRTCStats(e)})),this._p2pChannel.on(hO.MediaReconnectStart,(e=>{this.safeEmit(KC.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(hO.MediaReconnectEnd,(e=>{this.safeEmit(KC.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(hO.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(hO.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof LF)return;const t=await this._p2pChannel.restartICE(e),n=await t.next();if(n.done)return;const r=n.value;let i;try{i=await this._gateway.restartICE({iceParameters:r})}catch(e){return void t.throw(e)}const{iceParameters:o}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(i);await t.next({remoteIceParameters:o})})),this._p2pChannel.on(hO.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(hO.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:i,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),a=XM(i,o);await this._p2pChannel.connect(a),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(hO.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(hO.P2PLost,(()=>{this.safeEmit(KC.P2P_LOST,this.store.uid)})),this._p2pChannel.on(hO.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(hO.ConnectionTypeChange,(e=>{this.safeEmit(KC.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(hO.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(hO.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||"CONNECTED"!==this.connectionState)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const n=(t={config:e},AB("ContentInspect").create(t));this._inspect=n,this.handleVideoInspectEvents(n);const{appId:r,cname:i,sid:o,token:a,uid:s,cid:c,vid:l}=this._joinInfo;await n.init({appId:r,areaCode:"",cname:i,sid:o,token:a,uid:s,cid:c,vid:l?Number(l):0},Ix)}catch(e){throw Array.isArray(e)?e[0]:e}var t}handleVideoInspectEvents(e){e.on(mO.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(KC.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===pO.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.safeEmit(KC.CONTENT_INSPECT_ERROR,new SR(bC.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(mO.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===bC.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return fR.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.safeEmit(KC.CONTENT_INSPECT_RESULT,e,t)})),e.on(mO.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}async disableContentInspect(){if(!this._inspect)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(_C(e,"enabled"),e){if(!t)throw new SR(bC.INVALID_PARAMS,"config is required");if(VV(t),!this._joinInfo)throw new SR(bC.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(t);else{const e=(n={config:t},AB("ImageModeration").create(n));this._moderation=e,this.handleImageModerationEvents(e);const{appId:r,cname:i,sid:o,token:a,uid:s,cid:c,vid:l}=this._joinInfo;await e.init({appId:r,areaCode:"",cname:i,sid:o,token:a,uid:s,cid:c,vid:l?Number(l):0},Ix)}}catch(e){throw Array.isArray(e)?e[0]:e}}else{var n;if(!this._moderation)throw new SR(bC.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(bO.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(KC.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,n),t===yO.CONNECTED){if("CONNECTED"!==this.connectionState)throw this.setImageModeration(!1),new SR(bC.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}})),e.on(bO.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}setP2PTransport(e){if(function(e){wC(e,"transport",["default","auto","relay","sd-rtn"])}(e),"p2p"!==this.mode)throw new SR(bC.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,fR.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}getJoinChannelServiceRecords(){return fR.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){_C(e,"enabled"),Yx("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},EA(OW.prototype,"leave",[HV],Object.getOwnPropertyDescriptor(OW.prototype,"leave"),OW.prototype),EA(OW.prototype,"publish",[GV],Object.getOwnPropertyDescriptor(OW.prototype,"publish"),OW.prototype),EA(OW.prototype,"unpublish",[zV],Object.getOwnPropertyDescriptor(OW.prototype,"unpublish"),OW.prototype),EA(OW.prototype,"subscribe",[KV],Object.getOwnPropertyDescriptor(OW.prototype,"subscribe"),OW.prototype),EA(OW.prototype,"presubscribe",[YV],Object.getOwnPropertyDescriptor(OW.prototype,"presubscribe"),OW.prototype),EA(OW.prototype,"massSubscribe",[qV],Object.getOwnPropertyDescriptor(OW.prototype,"massSubscribe"),OW.prototype),EA(OW.prototype,"unsubscribe",[$V],Object.getOwnPropertyDescriptor(OW.prototype,"unsubscribe"),OW.prototype),EA(OW.prototype,"massUnsubscribe",[XV],Object.getOwnPropertyDescriptor(OW.prototype,"massUnsubscribe"),OW.prototype),EA(OW.prototype,"setLowStreamParameter",[QV],Object.getOwnPropertyDescriptor(OW.prototype,"setLowStreamParameter"),OW.prototype),EA(OW.prototype,"enableDualStream",[JV],Object.getOwnPropertyDescriptor(OW.prototype,"enableDualStream"),OW.prototype),EA(OW.prototype,"disableDualStream",[ZV],Object.getOwnPropertyDescriptor(OW.prototype,"disableDualStream"),OW.prototype),EA(OW.prototype,"setClientRole",[eW],Object.getOwnPropertyDescriptor(OW.prototype,"setClientRole"),OW.prototype),EA(OW.prototype,"setProxyServer",[tW],Object.getOwnPropertyDescriptor(OW.prototype,"setProxyServer"),OW.prototype),EA(OW.prototype,"setTurnServer",[nW],Object.getOwnPropertyDescriptor(OW.prototype,"setTurnServer"),OW.prototype),EA(OW.prototype,"setLicense",[rW],Object.getOwnPropertyDescriptor(OW.prototype,"setLicense"),OW.prototype),EA(OW.prototype,"startProxyServer",[iW],Object.getOwnPropertyDescriptor(OW.prototype,"startProxyServer"),OW.prototype),EA(OW.prototype,"stopProxyServer",[oW],Object.getOwnPropertyDescriptor(OW.prototype,"stopProxyServer"),OW.prototype),EA(OW.prototype,"setLocalAccessPointsV2",[aW],Object.getOwnPropertyDescriptor(OW.prototype,"setLocalAccessPointsV2"),OW.prototype),EA(OW.prototype,"setLocalAccessPoints",[sW],Object.getOwnPropertyDescriptor(OW.prototype,"setLocalAccessPoints"),OW.prototype),EA(OW.prototype,"setRemoteDefaultVideoStreamType",[cW],Object.getOwnPropertyDescriptor(OW.prototype,"setRemoteDefaultVideoStreamType"),OW.prototype),EA(OW.prototype,"setRemoteVideoStreamType",[lW],Object.getOwnPropertyDescriptor(OW.prototype,"setRemoteVideoStreamType"),OW.prototype),EA(OW.prototype,"setStreamFallbackOption",[uW],Object.getOwnPropertyDescriptor(OW.prototype,"setStreamFallbackOption"),OW.prototype),EA(OW.prototype,"setEncryptionConfig",[dW],Object.getOwnPropertyDescriptor(OW.prototype,"setEncryptionConfig"),OW.prototype),EA(OW.prototype,"renewToken",[hW],Object.getOwnPropertyDescriptor(OW.prototype,"renewToken"),OW.prototype),EA(OW.prototype,"enableAudioVolumeIndicator",[pW],Object.getOwnPropertyDescriptor(OW.prototype,"enableAudioVolumeIndicator"),OW.prototype),EA(OW.prototype,"startLiveStreaming",[fW],Object.getOwnPropertyDescriptor(OW.prototype,"startLiveStreaming"),OW.prototype),EA(OW.prototype,"setLiveTranscoding",[mW],Object.getOwnPropertyDescriptor(OW.prototype,"setLiveTranscoding"),OW.prototype),EA(OW.prototype,"stopLiveStreaming",[gW],Object.getOwnPropertyDescriptor(OW.prototype,"stopLiveStreaming"),OW.prototype),EA(OW.prototype,"startChannelMediaRelay",[vW],Object.getOwnPropertyDescriptor(OW.prototype,"startChannelMediaRelay"),OW.prototype),EA(OW.prototype,"updateChannelMediaRelay",[yW],Object.getOwnPropertyDescriptor(OW.prototype,"updateChannelMediaRelay"),OW.prototype),EA(OW.prototype,"stopChannelMediaRelay",[bW],Object.getOwnPropertyDescriptor(OW.prototype,"stopChannelMediaRelay"),OW.prototype),EA(OW.prototype,"sendCustomReportMessage",[EW],Object.getOwnPropertyDescriptor(OW.prototype,"sendCustomReportMessage"),OW.prototype),EA(OW.prototype,"pickSVCLayer",[_W],Object.getOwnPropertyDescriptor(OW.prototype,"pickSVCLayer"),OW.prototype),EA(OW.prototype,"setRTMConfig",[wW],Object.getOwnPropertyDescriptor(OW.prototype,"setRTMConfig"),OW.prototype),EA(OW.prototype,"enableContentInspect",[SW],Object.getOwnPropertyDescriptor(OW.prototype,"enableContentInspect"),OW.prototype),EA(OW.prototype,"disableContentInspect",[TW],Object.getOwnPropertyDescriptor(OW.prototype,"disableContentInspect"),OW.prototype),EA(OW.prototype,"setImageModeration",[CW],Object.getOwnPropertyDescriptor(OW.prototype,"setImageModeration"),OW.prototype),EA(OW.prototype,"setP2PTransport",[xW],Object.getOwnPropertyDescriptor(OW.prototype,"setP2PTransport"),OW.prototype),EA(OW.prototype,"getJoinChannelServiceRecords",[RW],Object.getOwnPropertyDescriptor(OW.prototype,"getJoinChannelServiceRecords"),OW.prototype),EA(OW.prototype,"setPublishAudioFilterEnabled",[AW],Object.getOwnPropertyDescriptor(OW.prototype,"setPublishAudioFilterEnabled"),OW.prototype),OW);class PW{constructor(e,t){jE(this,"id",0),jE(this,"element",void 0),jE(this,"peerPair",void 0),jE(this,"context",void 0),jE(this,"audioPlayerElement",void 0),jE(this,"audioTrack",void 0),PW.count+=1,this.id=PW.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new Wh((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const r=await e(this.peerPair[1],"answer");await t(this.peerPair[0],r)}catch(e){throw new SR(bC.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new SR(bC.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new SR(bC.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){fR.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var DW,LW;jE(PW,"count",0);const MW=window.AudioContext||window.webkitAudioContext,jW=new(DW=_R({report:wR}),EA((LW=class{constructor(){jE(this,"units",[]),jE(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return fR.debug("the system does not need to process local aec"),-1;this.context||(this.context=new MW);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new PW(e,this.context),this.units.push(t)),t.startEchoCancellation(),fR.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return WT().name!==UT.SAFARI}}).prototype,"processExternalMediaAEC",[DW],Object.getOwnPropertyDescriptor(LW.prototype,"processExternalMediaAEC"),LW.prototype),LW);function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const BW=window||document;function VW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!BW)return;const n=dY._cspEventHandlerPointer;if(n&&t)return void console.error(n,t);const r=e=>{if(!(e&&e.blockedURI&&(dY.onSecurityPolicyViolation||dY.getListeners(vO.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;qx("CSP_DETECTED_HOSTNAME_LIST").some((e=>kr(t).call(t,e)))&&(dY.onSecurityPolicyViolation&&"function"==typeof dY.onSecurityPolicyViolation&&dY.onSecurityPolicyViolation(e),dY.getListeners(vO.SECURITY_POLICY_VIOLATION).length>0&&dY.safeEmit(vO.SECURITY_POLICY_VIOLATION,e))};n&&BW.removeEventListener("securitypolicyviolation",n),(t||e&&"function"==typeof e||dY.getListeners(vO.SECURITY_POLICY_VIOLATION).length>0)&&BW.addEventListener("securitypolicyviolation",r),dY._cspEventHandlerPointer=r}var WW=d,HW=bw,GW=RegExp.prototype,zW=function(e){return e===GW||WW(GW,e)?HW(e):e.flags},KW=r(zW);function YW(e){let t=e.length;for(;--t>=0;)e[t]=0}const qW=256,$W=286,XW=30,QW=15,JW=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ZW=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nH=new Array(576);YW(nH);const rH=new Array(60);YW(rH);const iH=new Array(512);YW(iH);const oH=new Array(256);YW(oH);const aH=new Array(29);YW(aH);const sH=new Array(XW);function cH(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let lH,uH,dH;function hH(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}YW(sH);const pH=e=>e<256?iH[e]:iH[256+(e>>>7)],fH=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},mH=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,fH(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gH=(e,t,n)=>{mH(e,n[2*t],n[2*t+1])},vH=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},yH=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=QW;i++)a=a+n[i-1]<<1,r[i]=a;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=vH(r[t]++,t))}},bH=e=>{let t;for(t=0;t<$W;t++)e.dyn_ltree[2*t]=0;for(t=0;t<XW;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},EH=e=>{e.bi_valid>8?fH(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},_H=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},wH=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&_H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!_H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},SH=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?gH(e,i,t):(o=oH[i],gH(e,o+qW+1,t),a=JW[o],0!==a&&(i-=aH[o],mH(e,i,a)),r--,o=pH(r),gH(e,o,n),a=ZW[o],0!==a&&(r-=sH[o],mH(e,r,a)))}while(s<e.sym_next);gH(e,256,t)},TH=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)wH(e,n,a);c=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],wH(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*c]=n[2*a]+n[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=c,e.heap[1]=c++,wH(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,d,h,p,f,m=0;for(h=0;h<=QW;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)u=e.heap[l],h=n[2*n[2*u+1]+1]+1,h>c&&(h=c,m++),n[2*u+1]=h,u>r||(e.bl_count[h]++,p=0,u>=s&&(p=a[u-s]),f=n[2*u],e.opt_len+=f*(h+p),o&&(e.static_len+=f*(i[2*u+1]+p)));if(0!==m){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;0!==h;h--)for(u=e.bl_count[h];0!==u;)d=e.heap[--l],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),u--)}})(e,t),yH(n,l,e.bl_count)},CH=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))},xH=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<l)do{gH(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(gH(e,i,e.bl_tree),s--),gH(e,16,e.bl_tree),mH(e,s-3,2)):s<=10?(gH(e,17,e.bl_tree),mH(e,s-3,3)):(gH(e,18,e.bl_tree),mH(e,s-11,7));s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4)}};let RH=!1;const AH=(e,t,n,r)=>{mH(e,0+(r?1:0),3),EH(e),fH(e,n),fH(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var OH=e=>{RH||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(aH[r]=n,e=0;e<1<<JW[r];e++)oH[n++]=r;for(oH[n-1]=r,i=0,r=0;r<16;r++)for(sH[r]=i,e=0;e<1<<ZW[r];e++)iH[i++]=r;for(i>>=7;r<XW;r++)for(sH[r]=i<<7,e=0;e<1<<ZW[r]-7;e++)iH[256+i++]=r;for(t=0;t<=QW;t++)o[t]=0;for(e=0;e<=143;)nH[2*e+1]=8,e++,o[8]++;for(;e<=255;)nH[2*e+1]=9,e++,o[9]++;for(;e<=279;)nH[2*e+1]=7,e++,o[7]++;for(;e<=287;)nH[2*e+1]=8,e++,o[8]++;for(yH(nH,287,o),e=0;e<XW;e++)rH[2*e+1]=5,rH[2*e]=vH(e,5);lH=new cH(nH,JW,257,$W,QW),uH=new cH(rH,ZW,0,XW,QW),dH=new cH(new Array(0),eH,0,19,7)})(),RH=!0),e.l_desc=new hH(e.dyn_ltree,lH),e.d_desc=new hH(e.dyn_dtree,uH),e.bl_desc=new hH(e.bl_tree,dH),e.bi_buf=0,e.bi_valid=0,bH(e)},IH=(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<qW;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),TH(e,e.l_desc),TH(e,e.d_desc),a=(e=>{let t;for(CH(e,e.dyn_ltree,e.l_desc.max_code),CH(e,e.dyn_dtree,e.d_desc.max_code),TH(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*tH[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?AH(e,t,n,r):4===e.strategy||o===i?(mH(e,2+(r?1:0),3),SH(e,nH,rH)):(mH(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(mH(e,t-257,5),mH(e,n-1,5),mH(e,r-4,4),i=0;i<r;i++)mH(e,e.bl_tree[2*tH[i]+1],3);xH(e,e.dyn_ltree,t-1),xH(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),SH(e,e.dyn_ltree,e.dyn_dtree)),bH(e),r&&EH(e)},NH=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(oH[n]+qW+1)]++,e.dyn_dtree[2*pH(t)]++),e.sym_next===e.sym_end),kH=e=>{mH(e,2,3),gH(e,256,nH),(e=>{16===e.bi_valid?(fH(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},PH={_tr_init:OH,_tr_stored_block:AH,_tr_flush_block:IH,_tr_tally:NH,_tr_align:kH},DH=(e,t,n,r)=>{let i=65535&e,o=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const LH=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var MH=(e,t,n,r)=>{const i=LH,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return~e},jH={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},UH={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:FH,_tr_stored_block:BH,_tr_flush_block:VH,_tr_tally:WH,_tr_align:HH}=PH,{Z_NO_FLUSH:GH,Z_PARTIAL_FLUSH:zH,Z_FULL_FLUSH:KH,Z_FINISH:YH,Z_BLOCK:qH,Z_OK:$H,Z_STREAM_END:XH,Z_STREAM_ERROR:QH,Z_DATA_ERROR:JH,Z_BUF_ERROR:ZH,Z_DEFAULT_COMPRESSION:eG,Z_FILTERED:tG,Z_HUFFMAN_ONLY:nG,Z_RLE:rG,Z_FIXED:iG,Z_DEFAULT_STRATEGY:oG,Z_UNKNOWN:aG,Z_DEFLATED:sG}=UH,cG=286,lG=30,uG=19,dG=2*cG+1,hG=15,pG=258,fG=262,mG=42,gG=113,vG=666,yG=(e,t)=>(e.msg=jH[t],t),bG=e=>2*e-(e>4?9:0),EG=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_G=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let wG=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const SG=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},TG=(e,t)=>{VH(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,SG(e.strm)},CG=(e,t)=>{e.pending_buf[e.pending++]=t},xG=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},RG=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=DH(e.adler,t,i,n):2===e.state.wrap&&(e.adler=MH(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},AG=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-fG?e.strstart-(e.w_size-fG):0,l=e.window,u=e.w_mask,d=e.prev,h=e.strstart+pG;let p=l[o+a-1],f=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+a]===f&&l[n+a-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(r=pG-(h-o),o=h-pG,r>a){if(e.match_start=t,a=r,r>=s)break;p=l[o+a-1],f=l[o+a]}}}while((t=d[t&u])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead},OG=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-fG)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_G(e),r+=t),0===e.strm.avail_in)break;if(n=RG(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=wG(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=wG(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<fG&&0!==e.strm.avail_in)},IG=(e,t)=>{let n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==YH||t===GH||n!==r+e.strm.avail_in))break;a=t===YH&&n===r+e.strm.avail_in?1:0,BH(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,SG(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(RG(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==GH&&t!==YH&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(RG(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,o=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=o||(r||t===YH)&&t!==GH&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===YH&&0===e.strm.avail_in&&n===r?1:0,BH(e,e.block_start,n,a),e.block_start+=n,SG(e.strm)),a?3:1)},NG=(e,t)=>{let n,r;for(;;){if(e.lookahead<fG){if(OG(e),e.lookahead<fG&&t===GH)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-fG&&(e.match_length=AG(e,n)),e.match_length>=3)if(r=WH(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=wG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wG(e,e.ins_h,e.window[e.strstart+1]);else r=WH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(TG(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===YH?(TG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(TG(e,!1),0===e.strm.avail_out)?1:2},kG=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<fG){if(OG(e),e.lookahead<fG&&t===GH)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-fG&&(e.match_length=AG(e,n),e.match_length<=5&&(e.strategy===tG||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=WH(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=wG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(TG(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=WH(e,0,e.window[e.strstart-1]),r&&TG(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=WH(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===YH?(TG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(TG(e,!1),0===e.strm.avail_out)?1:2};function PG(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const DG=[new PG(0,0,0,0,IG),new PG(4,4,8,4,NG),new PG(4,5,16,8,NG),new PG(4,6,32,32,NG),new PG(4,4,16,16,kG),new PG(8,16,32,32,kG),new PG(8,16,128,128,kG),new PG(8,32,128,256,kG),new PG(32,128,258,1024,kG),new PG(32,258,258,4096,kG)];function LG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=sG,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*dG),this.dyn_dtree=new Uint16Array(2*(2*lG+1)),this.bl_tree=new Uint16Array(2*(2*uG+1)),EG(this.dyn_ltree),EG(this.dyn_dtree),EG(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hG+1),this.heap=new Uint16Array(2*cG+1),EG(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*cG+1),EG(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const MG=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==mG&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==gG&&t.status!==vG?1:0},jG=e=>{if(MG(e))return yG(e,QH);e.total_in=e.total_out=0,e.data_type=aG;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?mG:gG,e.adler=2===t.wrap?0:1,t.last_flush=-2,FH(t),$H},UG=e=>{const t=jG(e);return t===$H&&(e=>{e.window_size=2*e.w_size,EG(e.head),e.max_lazy_match=DG[e.level].max_lazy,e.good_match=DG[e.level].good_length,e.nice_match=DG[e.level].nice_length,e.max_chain_length=DG[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},FG=(e,t,n,r,i,o)=>{if(!e)return QH;let a=1;if(t===eG&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==sG||r<8||r>15||t<0||t>9||o<0||o>iG||8===r&&1!==a)return yG(e,QH);8===r&&(r=9);const s=new LG;return e.state=s,s.strm=e,s.status=mG,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,UG(e)};var BG=(e,t)=>{if(MG(e)||t>qH||t<0)return e?yG(e,QH):QH;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===vG&&t!==YH)return yG(e,0===e.avail_out?ZH:QH);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(SG(e),0===e.avail_out)return n.last_flush=-1,$H}else if(0===e.avail_in&&bG(t)<=bG(r)&&t!==YH)return yG(e,ZH);if(n.status===vG&&0!==e.avail_in)return yG(e,ZH);if(n.status===mG&&0===n.wrap&&(n.status=gG),n.status===mG){let t=sG+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=nG||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,xG(n,t),0!==n.strstart&&(xG(n,e.adler>>>16),xG(n,65535&e.adler)),e.adler=1,n.status=gG,SG(e),0!==n.pending)return n.last_flush=-1,$H}if(57===n.status)if(e.adler=0,CG(n,31),CG(n,139),CG(n,8),n.gzhead)CG(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),CG(n,255&n.gzhead.time),CG(n,n.gzhead.time>>8&255),CG(n,n.gzhead.time>>16&255),CG(n,n.gzhead.time>>24&255),CG(n,9===n.level?2:n.strategy>=nG||n.level<2?4:0),CG(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(CG(n,255&n.gzhead.extra.length),CG(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=MH(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(CG(n,0),CG(n,0),CG(n,0),CG(n,0),CG(n,0),CG(n,9===n.level?2:n.strategy>=nG||n.level<2?4:0),CG(n,3),n.status=gG,SG(e),0!==n.pending)return n.last_flush=-1,$H;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=MH(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,SG(e),0!==n.pending)return n.last_flush=-1,$H;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=MH(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=MH(e.adler,n.pending_buf,n.pending-r,r)),SG(e),0!==n.pending)return n.last_flush=-1,$H;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,CG(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=MH(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=MH(e.adler,n.pending_buf,n.pending-r,r)),SG(e),0!==n.pending)return n.last_flush=-1,$H;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,CG(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=MH(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(SG(e),0!==n.pending))return n.last_flush=-1,$H;CG(n,255&e.adler),CG(n,e.adler>>8&255),e.adler=0}if(n.status=gG,SG(e),0!==n.pending)return n.last_flush=-1,$H}if(0!==e.avail_in||0!==n.lookahead||t!==GH&&n.status!==vG){let r=0===n.level?IG(n,t):n.strategy===nG?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(OG(e),0===e.lookahead)){if(t===GH)return 1;break}if(e.match_length=0,n=WH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(TG(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===YH?(TG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(TG(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===rG?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=pG){if(OG(e),e.lookahead<=pG&&t===GH)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+pG;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=pG-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=WH(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=WH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(TG(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===YH?(TG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(TG(e,!1),0===e.strm.avail_out)?1:2})(n,t):DG[n.level].func(n,t);if(3!==r&&4!==r||(n.status=vG),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),$H;if(2===r&&(t===zH?HH(n):t!==qH&&(BH(n,0,0,!1),t===KH&&(EG(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),SG(e),0===e.avail_out))return n.last_flush=-1,$H}return t!==YH?$H:n.wrap<=0?XH:(2===n.wrap?(CG(n,255&e.adler),CG(n,e.adler>>8&255),CG(n,e.adler>>16&255),CG(n,e.adler>>24&255),CG(n,255&e.total_in),CG(n,e.total_in>>8&255),CG(n,e.total_in>>16&255),CG(n,e.total_in>>24&255)):(xG(n,e.adler>>>16),xG(n,65535&e.adler)),SG(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?$H:XH)},VG=(e,t)=>{let n=t.length;if(MG(e))return QH;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==mG||r.lookahead)return QH;if(1===i&&(e.adler=DH(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(EG(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,OG(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=wG(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,OG(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,$H},WG={deflateInit:(e,t)=>FG(e,t,sG,15,8,oG),deflateInit2:FG,deflateReset:UG,deflateResetKeep:jG,deflateSetHeader:(e,t)=>MG(e)||2!==e.state.wrap?QH:(e.state.gzhead=t,$H),deflate:BG,deflateEnd:e=>{if(MG(e))return QH;const t=e.state.status;return e.state=null,t===gG?yG(e,JH):$H},deflateSetDictionary:VG,deflateInfo:"pako deflate (from Nodeca project)"};const HG=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var GG={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)HG(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let t=e[r];n.set(t,i),i+=t.length}return n}};let zG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){zG=!1}const KG=new Uint8Array(256);for(let n=0;n<256;n++)KG[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;KG[254]=KG[254]=1;var YG={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let a=KG[t];if(a>4)o[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&zG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+KG[e[n]]>t?n:t}},qG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $G=Object.prototype.toString,{Z_NO_FLUSH:XG,Z_SYNC_FLUSH:QG,Z_FULL_FLUSH:JG,Z_FINISH:ZG,Z_OK:ez,Z_STREAM_END:tz,Z_DEFAULT_COMPRESSION:nz,Z_DEFAULT_STRATEGY:rz,Z_DEFLATED:iz}=UH;function oz(e){this.options=GG.assign({level:nz,method:iz,chunkSize:16384,windowBits:15,memLevel:8,strategy:rz},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qG,this.strm.avail_out=0;let n=WG.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ez)throw new Error(jH[n]);if(t.header&&WG.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?YG.string2buf(t.dictionary):"[object ArrayBuffer]"===$G.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=WG.deflateSetDictionary(this.strm,e),n!==ez)throw new Error(jH[n]);this._dict_set=!0}}function az(e,t){const n=new oz(t);if(n.push(e,!0),n.err)throw n.msg||jH[n.err];return n.result}oz.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ZG:XG,"string"==typeof e?n.input=YG.string2buf(e):"[object ArrayBuffer]"===$G.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===QG||o===JG)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=WG.deflate(n,o),i===tz)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=WG.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ez;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},oz.prototype.onData=function(e){this.chunks.push(e)},oz.prototype.onEnd=function(e){e===ez&&(this.result=GG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sz={Deflate:oz,deflate:az,deflateRaw:function(e,t){return(t=t||{}).raw=!0,az(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,az(e,t)},constants:UH};const cz=16209;var lz=function(e,t){let n,r,i,o,a,s,c,l,u,d,h,p,f,m,g,v,y,b,E,_,w,S,T,C;const x=e.state;n=e.next_in,T=e.input,r=n+(e.avail_in-5),i=e.next_out,C=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=x.dmax,c=x.wsize,l=x.whave,u=x.wnext,d=x.window,h=x.hold,p=x.bits,f=x.lencode,m=x.distcode,g=(1<<x.lenbits)-1,v=(1<<x.distbits)-1;e:do{p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),y=f[h&g];t:for(;;){if(b=y>>>24,h>>>=b,p-=b,b=y>>>16&255,0===b)C[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=f[(65535&y)+(h&(1<<b)-1)];continue t}if(32&b){x.mode=16191;break e}e.msg="invalid literal/length code",x.mode=cz;break e}E=65535&y,b&=15,b&&(p<b&&(h+=T[n++]<<p,p+=8),E+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),y=m[h&v];n:for(;;){if(b=y>>>24,h>>>=b,p-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=m[(65535&y)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",x.mode=cz;break e}if(_=65535&y,b&=15,p<b&&(h+=T[n++]<<p,p+=8,p<b&&(h+=T[n++]<<p,p+=8)),_+=h&(1<<b)-1,_>s){e.msg="invalid distance too far back",x.mode=cz;break e}if(h>>>=b,p-=b,b=i-o,_>b){if(b=_-b,b>l&&x.sane){e.msg="invalid distance too far back",x.mode=cz;break e}if(w=0,S=d,0===u){if(w+=c-b,b<E){E-=b;do{C[i++]=d[w++]}while(--b);w=i-_,S=C}}else if(u<b){if(w+=c+u-b,b-=u,b<E){E-=b;do{C[i++]=d[w++]}while(--b);if(w=0,u<E){b=u,E-=b;do{C[i++]=d[w++]}while(--b);w=i-_,S=C}}}else if(w+=u-b,b<E){E-=b;do{C[i++]=d[w++]}while(--b);w=i-_,S=C}for(;E>2;)C[i++]=S[w++],C[i++]=S[w++],C[i++]=S[w++],E-=3;E&&(C[i++]=S[w++],E>1&&(C[i++]=S[w++]))}else{w=i-_;do{C[i++]=C[w++],C[i++]=C[w++],C[i++]=C[w++],E-=3}while(E>2);E&&(C[i++]=C[w++],E>1&&(C[i++]=C[w++]))}break}}break}}while(n<r&&i<a);E=p>>3,n-=E,p-=E<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),x.hold=h,x.bits=p};const uz=15,dz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var mz=(e,t,n,r,i,o,a,s)=>{const c=s.bits;let l,u,d,h,p,f,m=0,g=0,v=0,y=0,b=0,E=0,_=0,w=0,S=0,T=0,C=null;const x=new Uint16Array(16),R=new Uint16Array(16);let A,O,I,N=null;for(m=0;m<=uz;m++)x[m]=0;for(g=0;g<r;g++)x[t[n+g]]++;for(b=c,y=uz;y>=1&&0===x[y];y--);if(b>y&&(b=y),0===y)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(v=1;v<y&&0===x[v];v++);for(b<v&&(b=v),w=1,m=1;m<=uz;m++)if(w<<=1,w-=x[m],w<0)return-1;if(w>0&&(0===e||1!==y))return-1;for(R[1]=0,m=1;m<uz;m++)R[m+1]=R[m]+x[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[R[t[n+g]]++]=g);if(0===e?(C=N=a,f=20):1===e?(C=dz,N=hz,f=257):(C=pz,N=fz,f=0),T=0,g=0,m=v,p=o,E=b,_=0,d=-1,S=1<<b,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){A=m-_,a[g]+1<f?(O=0,I=a[g]):a[g]>=f?(O=N[a[g]-f],I=C[a[g]-f]):(O=96,I=0),l=1<<m-_,u=1<<E,v=u;do{u-=l,i[p+(T>>_)+u]=A<<24|O<<16|I}while(0!==u);for(l=1<<m-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,g++,0==--x[m]){if(m===y)break;m=t[n+a[g]]}if(m>b&&(T&h)!==d){for(0===_&&(_=b),p+=v,E=m-_,w=1<<E;E+_<y&&(w-=x[E+_],!(w<=0));)E++,w<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;d=T&h,i[d]=b<<24|E<<16|p-o}}return 0!==T&&(i[p+T]=m-_<<24|64<<16),s.bits=b,0};const{Z_FINISH:gz,Z_BLOCK:vz,Z_TREES:yz,Z_OK:bz,Z_STREAM_END:Ez,Z_NEED_DICT:_z,Z_STREAM_ERROR:wz,Z_DATA_ERROR:Sz,Z_MEM_ERROR:Tz,Z_BUF_ERROR:Cz,Z_DEFLATED:xz}=UH,Rz=16180,Az=16190,Oz=16191,Iz=16192,Nz=16194,kz=16199,Pz=16200,Dz=16206,Lz=16209,Mz=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function jz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Uz=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Rz||t.mode>16211?1:0},Fz=e=>{if(Uz(e))return wz;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Rz,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bz},Bz=e=>{if(Uz(e))return wz;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Fz(e)},Vz=(e,t)=>{let n;if(Uz(e))return wz;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?wz:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Bz(e))},Wz=(e,t)=>{if(!e)return wz;const n=new jz;e.state=n,n.strm=e,n.window=null,n.mode=Rz;const r=Vz(e,t);return r!==bz&&(e.state=null),r};let Hz,Gz,zz=!0;const Kz=e=>{if(zz){Hz=new Int32Array(512),Gz=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mz(1,e.lens,0,288,Hz,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mz(2,e.lens,0,32,Gz,0,e.work,{bits:5}),zz=!1}e.lencode=Hz,e.lenbits=9,e.distcode=Gz,e.distbits=5},Yz=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var qz=(e,t)=>{let n,r,i,o,a,s,c,l,u,d,h,p,f,m,g,v,y,b,E,_,w,S,T=0;const C=new Uint8Array(4);let x,R;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Uz(e)||!e.output||!e.input&&0!==e.avail_in)return wz;n=e.state,n.mode===Oz&&(n.mode=Iz),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,d=s,h=c,S=bz;e:for(;;)switch(n.mode){case Rz:if(0===n.wrap){n.mode=Iz;break}for(;u<16;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&l,C[1]=l>>>8&255,n.check=MH(n.check,C,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Lz;break}if((15&l)!==xz){e.msg="unknown compression method",n.mode=Lz;break}if(l>>>=4,u-=4,w=8+(15&l),0===n.wbits&&(n.wbits=w),w>15||w>n.wbits){e.msg="invalid window size",n.mode=Lz;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:Oz,l=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(n.flags=l,(255&KW(n))!==xz){e.msg="unknown compression method",n.mode=Lz;break}if(57344&KW(n)){e.msg="unknown header flags set",n.mode=Lz;break}n.head&&(n.head.text=l>>8&1),512&KW(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=MH(n.check,C,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),512&KW(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,n.check=MH(n.check,C,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&KW(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=MH(n.check,C,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&KW(n)){for(;u<16;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&KW(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=MH(n.check,C,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&KW(n)&&(p=n.length,p>s&&(p=s),p&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),w)),512&KW(n)&&4&n.wrap&&(n.check=MH(n.check,r,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&KW(n)){if(0===s)break e;p=0;do{w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&p<s);if(512&KW(n)&&4&n.wrap&&(n.check=MH(n.check,r,p,o)),s-=p,o+=p,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&KW(n)){if(0===s)break e;p=0;do{w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&p<s);if(512&KW(n)&&4&n.wrap&&(n.check=MH(n.check,r,p,o)),s-=p,o+=p,w)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&KW(n)){for(;u<16;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Lz;break}l=0,u=0}n.head&&(n.head.hcrc=KW(n)>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Oz;break;case 16189:for(;u<32;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}e.adler=n.check=Mz(l),l=0,u=0,n.mode=Az;case Az:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,_z;e.adler=n.check=1,n.mode=Oz;case Oz:if(t===vz||t===yz)break e;case Iz:if(n.last){l>>>=7&u,u-=7&u,n.mode=Dz;break}for(;u<3;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(Kz(n),n.mode=kz,t===yz){l>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Lz}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Lz;break}if(n.length=65535&l,l=0,u=0,n.mode=Nz,t===yz)break e;case Nz:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>c&&(p=c),0===p)break e;i.set(r.subarray(o,o+p),a),s-=p,o+=p,c-=p,a+=p,n.length-=p;break}n.mode=Oz;break;case 16196:for(;u<14;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Lz;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.lens[A[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},S=mz(0,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,S){e.msg="invalid code lengths set",n.mode=Lz;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[l&(1<<n.lenbits)-1],g=T>>>24,v=T>>>16&255,y=65535&T,!(g<=u);){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(y<16)l>>>=g,u-=g,n.lens[n.have++]=y;else{if(16===y){for(R=g+2;u<R;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(l>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Lz;break}w=n.lens[n.have-1],p=3+(3&l),l>>>=2,u-=2}else if(17===y){for(R=g+3;u<R;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}l>>>=g,u-=g,w=0,p=3+(7&l),l>>>=3,u-=3}else{for(R=g+7;u<R;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}l>>>=g,u-=g,w=0,p=11+(127&l),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Lz;break}for(;p--;)n.lens[n.have++]=w}}if(n.mode===Lz)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Lz;break}if(n.lenbits=9,x={bits:n.lenbits},S=mz(1,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,S){e.msg="invalid literal/lengths set",n.mode=Lz;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},S=mz(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,S){e.msg="invalid distances set",n.mode=Lz;break}if(n.mode=kz,t===yz)break e;case kz:n.mode=Pz;case Pz:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,lz(e,h),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,n.mode===Oz&&(n.back=-1);break}for(n.back=0;T=n.lencode[l&(1<<n.lenbits)-1],g=T>>>24,v=T>>>16&255,y=65535&T,!(g<=u);){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(v&&0==(240&v)){for(b=g,E=v,_=y;T=n.lencode[_+((l&(1<<b+E)-1)>>b)],g=T>>>24,v=T>>>16&255,y=65535&T,!(b+g<=u);){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=g,u-=g,n.back+=g,n.length=y,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=Oz;break}if(64&v){e.msg="invalid literal/length code",n.mode=Lz;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(R=n.extra;u<R;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;T=n.distcode[l&(1<<n.distbits)-1],g=T>>>24,v=T>>>16&255,y=65535&T,!(g<=u);){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(0==(240&v)){for(b=g,E=v,_=y;T=n.distcode[_+((l&(1<<b+E)-1)>>b)],g=T>>>24,v=T>>>16&255,y=65535&T,!(b+g<=u);){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=g,u-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=Lz;break}n.offset=y,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(R=n.extra;u<R;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Lz;break}n.mode=16204;case 16204:if(0===c)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Lz;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,f=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{i[a++]=m[f++]}while(--p);0===n.length&&(n.mode=Pz);break;case 16205:if(0===c)break e;i[a++]=n.length,c--,n.mode=Pz;break;case Dz:if(n.wrap){for(;u<32;){if(0===s)break e;s--,l|=r[o++]<<u,u+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=KW(n)?MH(n.check,i,h,a-h):DH(n.check,i,h,a-h)),h=c,4&n.wrap&&(KW(n)?l:Mz(l))!==n.check){e.msg="incorrect data check",n.mode=Lz;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&KW(n)){for(;u<32;){if(0===s)break e;s--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Lz;break}l=0,u=0}n.mode=16208;case 16208:S=Ez;break e;case Lz:S=Sz;break e;case 16210:return Tz;default:return wz}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Lz&&(n.mode<Dz||t!==gz))&&Yz(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=KW(n)?MH(n.check,i,h,e.next_out-h):DH(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Oz?128:0)+(n.mode===kz||n.mode===Nz?256:0),(0===d&&0===h||t===gz)&&S===bz&&(S=Cz),S},$z={inflateReset:Bz,inflateReset2:Vz,inflateResetKeep:Fz,inflateInit:e=>Wz(e,15),inflateInit2:Wz,inflate:qz,inflateEnd:e=>{if(Uz(e))return wz;let t=e.state;return t.window&&(t.window=null),e.state=null,bz},inflateGetHeader:(e,t)=>{if(Uz(e))return wz;const n=e.state;return 0==(2&n.wrap)?wz:(n.head=t,t.done=!1,bz)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return Uz(e)?wz:(r=e.state,0!==r.wrap&&r.mode!==Az?wz:r.mode===Az&&(i=1,i=DH(i,t,n,0),i!==r.check)?Sz:(o=Yz(e,t,n,n),o?(r.mode=16210,Tz):(r.havedict=1,bz)))},inflateInfo:"pako inflate (from Nodeca project)"},Xz=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qz=Object.prototype.toString,{Z_NO_FLUSH:Jz,Z_FINISH:Zz,Z_OK:eK,Z_STREAM_END:tK,Z_NEED_DICT:nK,Z_STREAM_ERROR:rK,Z_DATA_ERROR:iK,Z_MEM_ERROR:oK}=UH;function aK(e){this.options=GG.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qG,this.strm.avail_out=0;let n=$z.inflateInit2(this.strm,t.windowBits);if(n!==eK)throw new Error(jH[n]);if(this.header=new Xz,$z.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=YG.string2buf(t.dictionary):"[object ArrayBuffer]"===Qz.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=$z.inflateSetDictionary(this.strm,t.dictionary),n!==eK)))throw new Error(jH[n])}function sK(e,t){const n=new aK(t);if(n.push(e),n.err)throw n.msg||jH[n.err];return n.result}aK.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Zz:Jz,"[object ArrayBuffer]"===Qz.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=$z.inflate(n,a),o===nK&&i&&(o=$z.inflateSetDictionary(n,i),o===eK?o=$z.inflate(n,a):o===iK&&(o=nK));n.avail_in>0&&o===tK&&n.state.wrap>0&&0!==e[n.next_in];)$z.inflateReset(n),o=$z.inflate(n,a);switch(o){case rK:case iK:case nK:case oK:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===tK))if("string"===this.options.to){let e=YG.utf8border(n.output,n.next_out),t=n.next_out-e,i=YG.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==eK||0!==s){if(o===tK)return o=$z.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},aK.prototype.onData=function(e){this.chunks.push(e)},aK.prototype.onEnd=function(e){e===eK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=GG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cK={Inflate:aK,inflate:sK,inflateRaw:function(e,t){return(t=t||{}).raw=!0,sK(e,t)},ungzip:sK,constants:UH};const{Deflate:lK,deflate:uK,deflateRaw:dK,gzip:hK}=sz,{Inflate:pK,inflate:fK,inflateRaw:mK,ungzip:gK}=cK;var vK=uK,yK=fK,bK=function(e){return e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE",e}(bK||{});class EK{constructor(){jE(this,"_sequence",0),jE(this,"_startTime",Date.now()),jE(this,"isUseOneByte",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const n=new Uint8Array(4);n.set([1,0,0,0]);const r={id:0,length:4,data:n.buffer},i={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[r]};t.commonPacketHeader.extension=1,t.extension=i,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;qx("SHOW_DATASTREAM2_LOG")&&fR.debug("send data header: ".concat(JSON.stringify(t.commonPacketHeader)));const n=new ArrayBuffer(t.commonPacketHeader.length),r=new Uint8Array(n),i=new DataView(n);let o=0;if(i.setUint16(o,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),o+=2,i.setUint32(o,t.commonPacketHeader.sequence,!0),o+=4,i.setUint16(o,t.commonStreamHeader,!0),o+=2,t.extension){const e=this.serializeExtension(t.extension);r.set(new Uint8Array(e),o),o+=e.byteLength}if(r.set(new Uint8Array(t.payload),o),o+=t.payload.byteLength,o!==t.commonPacketHeader.length)throw Error("serialize error!");return n}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let n=0;const r=t.getUint16(n,!0);n+=2;const i={length:16383&r,reserved:(16384&r)>>14,extension:(32768&r)>>15,sequence:t.getUint16(n+2,!0)<<16|t.getUint16(n,!0)};let o,a;if(n+=4,qx("SHOW_DATASTREAM2_LOG")&&fR.debug("receive data header: ".concat(JSON.stringify(i))),t.getUint16(n,!0),n+=2,i.extension){a=this.deserializeExtension(e.slice(n)),n+=2+a.length,o=e.slice(n);let t=!1;if(a.datas.length>0){const e=a.datas.find((e=>0===e.id));e&&(t=1==(1&new DataView(e.data).getUint32(0,!0)))}o=t?this.decompress(o):o}else o=e.slice(8);return o}serializeExtension(e){const{profile:t,length:n,datas:r}=e,i=new ArrayBuffer(n+2),o=new Uint8Array(i),a=new DataView(i);let s=0;if(a.setUint8(s++,t),a.setUint8(s++,n),r.forEach((e=>{t?(a.setUint8(s++,e.id),a.setUint8(s++,e.length),o.set(new Uint8Array(e.data),s),s+=e.data.byteLength):(a.setUint8(s++,e.id|e.length<<4),o.set(new Uint8Array(e.data),s),s+=e.data.byteLength)})),s!==n+2)throw Error("serialize extension error, is ".concat(s,"!==").concat(n+2));return i}deserializeExtension(e){const t=new DataView(e);let n=0;const r=t.getUint8(n);n++;const i=t.getUint8(n);n++;const o=r===bK.TWO_BYTE,a=[],s=new DataView(e,2);let c=0;for(;c<i;){let e=0,t=0,n=new ArrayBuffer(0);o?(e=s.getUint8(c),c++,t=s.getUint8(c),c++):(e=15&s.getUint8(c),t=s.getUint8(c)>>4,c++),t>0&&(n=s.buffer.slice(c+2,c+2+t),c+=n.byteLength),a.push({id:e,length:t,data:n})}if(c!==i)throw Error("parse error");return{profile:r,length:i,datas:a}}decompress(e){return yK(new Uint8Array(e))}compress(e){return vK(new Uint8Array(e))}}const _K={name:"DataStream",create:(e,t)=>{const n=t?new xM(e):new RM(e);return n.useDataStream(new EK),n}};class wK extends LC{constructor(e,t,n){super(),jE(this,"ws",void 0),jE(this,"requestId",1),jE(this,"heartBeatTimer",void 0),jE(this,"joinInfo",void 0),jE(this,"clientId",void 0),jE(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),jE(this,"onClose",(e=>{this.emit("close"),this.dispose()})),jE(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new WO("cross-channel-".concat(this.clientId),n),this.ws.on(DA.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(DA.CONNECTED,this.onOpen),this.ws.on(DA.ON_MESSAGE,this.onMessage),this.ws.on(DA.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new Wh(((t,n)=>{const r=window.setTimeout((()=>{n(new SR(bC.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(i=>{window.clearTimeout(r),i.state&&0!==i.state?n(new SR(bC.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(r),n(new SR(bC.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new SR(bC.WS_DISCONNECT);const t=()=>new Wh(((e,t)=>{this.ws.once(DA.CLOSED,(()=>t(new SR(bC.WS_ABORT)))),this.ws.once(DA.CONNECTED,e)}));"connected"!==this.ws.state&&await t();const n=this.sendMessage(e),r=new Wh(((e,t)=>{const r=()=>{t(new SR(bC.WS_ABORT))};this.ws.once(DA.RECONNECTING,r),this.ws.once(DA.CLOSED,r),this.once("req_".concat(n),e),mx(3e3).then((()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(DA.RECONNECTING,r),this.ws.off(DA.CLOSED,r),t(new SR(bC.TIMEOUT,"cross channel ws request timeout"))}))})),i=await r;if(!i||200!==i.code)throw new SR(bC.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(i)));return i}async connect(e){this.ws.removeAllListeners(DA.REQUEST_NEW_URLS),this.ws.on(DA.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class SK extends LC{set state(e){e!==this._state&&(e!==qA.RELAY_STATE_FAILURE&&(this.errorCode=$A.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,r,i){super(),jE(this,"joinInfo",void 0),jE(this,"sid",void 0),jE(this,"clientId",void 0),jE(this,"cancelToken",NT.CancelToken.source()),jE(this,"workerToken",void 0),jE(this,"requestId",0),jE(this,"signal",void 0),jE(this,"prevChannelMediaConfig",void 0),jE(this,"httpRetryConfig",void 0),jE(this,"_resolution",void 0),jE(this,"_state",qA.RELAY_STATE_IDLE),jE(this,"errorCode",$A.RELAY_OK),jE(this,"onStatus",(e=>{fR.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",YA.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",YA.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=$A.SRC_TOKEN_EXPIRED,this.state=qA.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=$A.DEST_TOKEN_EXPIRED,this.state=qA.RELAY_STATE_FAILURE))})),jE(this,"onReconnect",(async()=>{fR.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",YA.NETWORK_DISCONNECTED),this.state=qA.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==qA.RELAY_STATE_IDLE&&(fR.error("auto restart channel media relay failed",e.toString()),this.errorCode=$A.SERVER_CONNECTION_LOST,this.state=qA.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=vx(),this.signal=new wK(this.joinInfo,this.clientId,n),this.httpRetryConfig=r,this._resolution=i}async startChannelMediaRelay(e){if(this.state!==qA.RELAY_STATE_IDLE)throw new SR(bC.INVALID_OPERATION);this.state=qA.RELAY_STATE_CONNECTING,await this.connect(),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new SR(bC.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new SR(bC.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new SR(bC.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==qA.RELAY_STATE_RUNNING)throw new SR(bC.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==qA.RELAY_STATE_RUNNING)throw new SR(bC.INVALID_OPERATION);const t=this.genMessage(KA.SetVideoProfile);await this.signal.request(t),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),fR.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=qA.RELAY_STATE_IDLE,this.dispose()}dispose(){fR.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=NT.CancelToken.source(),this.state=qA.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await rU(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",YA.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(KA.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(KA.SetSdkProfile,e);await this.signal.request(n),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const r=this.genMessage(KA.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",YA.PACKET_JOINED_SRC_CHANNEL),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const i=this.genMessage(KA.SetSourceUserId,e);await this.signal.request(i),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const o=this.genMessage(KA.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",YA.PACKET_JOINED_DEST_CHANNEL),fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(KA.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",YA.PACKET_SENT_TO_DEST_CHANNEL),this.state=qA.RELAY_STATE_RUNNING,fR.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(KA.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",YA.PACKET_UPDATE_DEST_CHANNEL),fR.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(KA.StopPacketTransfer);await this.signal.request(e),fR.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],r=[],i=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Bx,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.22.2"===o.sdkVersion&&(o.sdkVersion="0.0.1");let a=null,s=null;switch(e){case KA.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case KA.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new SR(bC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},o;case KA.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new SR(bC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:s.uid+""},o;case KA.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new SR(bC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:i},o;case KA.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case KA.Reconnect:return o.clientRequest={command:"Reconnect"},o;case KA.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case KA.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new SR(bC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:i},o;case KA.SetVideoProfile:o.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return o}}const TK={name:"ChannelMediaRelay",create:function(e){return new SK(e.joinInfo,e.clientId,e.websocketRetryConfig||Ix,e.httpRetryConfig||Ix,e.resolution)}};function CK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CK(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class RK extends LC{constructor(e,t,n,r){super(),jE(this,"spec",void 0),jE(this,"token",void 0),jE(this,"websocket",void 0),jE(this,"pingpongTimer",void 0),jE(this,"reconnectMode","retry"),jE(this,"serviceMode",void 0),jE(this,"reqId",0),jE(this,"commandReqId",0),jE(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),jE(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):(wR.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===jA.TRANSCODE?1:2}),this.emit(WA.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=r,this.websocket=new WO("live-streaming",n),this.websocket.on(DA.CONNECTED,this.handleWebSocketOpen),this.websocket.on(DA.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(DA.REQUEST_NEW_URLS,((e,t)=>{XC(this,WA.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(DA.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,r){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const i=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new SR(bC.UNEXPECTED_ERROR);const a=xK({command:e,sdkVersion:"4.22.2"===Bx?"0.0.1":Bx,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new SR(bC.WS_DISCONNECT);const s=()=>new Wh(((e,t)=>{this.websocket.once(DA.CLOSED,(()=>t(new SR(bC.WS_ABORT)))),this.websocket.once(DA.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new Wh(((e,t)=>{const n=()=>{t(new SR(bC.WS_ABORT))};this.websocket.once(DA.RECONNECTING,n),this.websocket.once(DA.CLOSED,n),this.once("@".concat(o,"-").concat(this.spec.sid),(t=>{e(t)}))}));r&&wR.workerEvent(this.spec.sid,xK(xK({},r),{},{requestId:i,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const l=Date.now();this.websocket.sendMessage(a);let u=null;try{u=await c}catch(r){if("closed"===this.websocket.state)throw r;return await s(),await this.request(e,t,n)}return r&&wR.workerEvent(this.spec.sid,xK(xK({},r),{},{requestId:i,actionType:"response",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:200===u.code,responseTime:Date.now()-l})),200!==u.code&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.22.2"===Bx?"0.0.1":Bx;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case GA.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void fR.warning("live stream response already exists stream");case GA.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case GA.LIVE_STREAM_RESPONSE_BAD_STREAM:case GA.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new SR(bC.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case GA.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command)return;throw new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case GA.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new SR(bC.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case GA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new SR(bC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(WA.WARNING,t,e.serverResponse.url)}case GA.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new SR(bC.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(WA.WARNING,t,e.serverResponse.url)}case GA.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case GA.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new SR(bC.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case GA.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new SR(bC.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(WA.WARNING,t,e.serverResponse.url)}case GA.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case GA.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case GA.LIVE_STREAM_RESPONSE_WORKER_LOST:case GA.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command)return;throw new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case GA.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case GA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new SR(bC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(yx)}),6e3)}}function AK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AK(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class IK extends LC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ix,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ix;super(),jE(this,"onLiveStreamWarning",void 0),jE(this,"onLiveStreamError",void 0),jE(this,"spec",void 0),jE(this,"retryTimeout",1e4),jE(this,"connection",void 0),jE(this,"httpRetryConfig",void 0),jE(this,"wsRetryConfig",void 0),jE(this,"streamingTasks",new Map),jE(this,"isStartingStreamingTask",!1),jE(this,"taskMutex",new Ax("live-streaming")),jE(this,"cancelToken",NT.CancelToken.source()),jE(this,"transcodingConfig",void 0),jE(this,"uapResponse",void 0),jE(this,"lastTaskId",1),jE(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=OK(OK({},VA),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(fR.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>OK(OK(OK({},UA),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){RC(e.width)||SC(e.width,"config.width",0,1e4),RC(e.height)||SC(e.height,"config.height",0,1e4),RC(e.videoBitrate)||SC(e.videoBitrate,"config.videoBitrate",1,1e6),RC(e.videoFrameRate)||SC(e.videoFrameRate,"config.videoFrameRate"),RC(e.lowLatency)||_C(e.lowLatency,"config.lowLatency"),RC(e.audioSampleRate)||wC(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),RC(e.audioBitrate)||SC(e.audioBitrate,"config.audioBitrate",1,128),RC(e.audioChannels)||wC(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),RC(e.videoGop)||SC(e.videoGop,"config.videoGop"),RC(e.videoCodecProfile)||wC(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),RC(e.userCount)||SC(e.userCount,"config.userCount",0,17),RC(e.backgroundColor)||SC(e.backgroundColor,"config.backgroundColor",0,16777215),RC(e.userConfigExtraInfo)||CC(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!RC(e.transcodingUsers)&&(xC(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(((e,t)=>{MA(e.uid),RC(e.x)||SC(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),RC(e.y)||SC(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),RC(e.width)||SC(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),RC(e.height)||SC(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),RC(e.zOrder)||SC(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),RC(e.alpha)||SC(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),RC(e.watermark)||BA(e.watermark,"watermark"),RC(e.backgroundImage)||BA(e.backgroundImage,"backgroundImage"),e.images&&!RC(e.images)&&(xC(e.images,"config.images"),e.images.forEach(((e,t)=>{BA(e,"images[".concat(t,"]"))})))}(t);const n=[];t.images&&n.push(...t.images.map((e=>OK(OK(OK({},FA),e),{},{zOrder:255})))),t.backgroundImage&&(n.push(OK(OK(OK({},FA),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(OK(OK(OK({},FA),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>OK({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const r=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?Wh.resolve(e.uid):Jj(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await Wh.all(r)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var i;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(hI(i=this.streamingTasks).call(i)).map((e=>e.taskId)).join("#")});fR.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{fR.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{fR.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((e=>{fR.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}async startLiveStreamingTask(e,t,n){if(!this.transcodingConfig&&t===jA.TRANSCODE)throw new SR(bC.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const r={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};fR.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const i=await this.taskMutex.lock();if(!this.connection&&n)return void i();if(this.streamingTasks.get(e)&&!n)return i(),new SR(bC.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw i(),e}switch(t){case jA.TRANSCODE:r.transcodingConfig=OK({},this.transcodingConfig);case jA.RAW:}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const a=new Wh(((t,r)=>{mx(this.retryTimeout).then((()=>{if(n)return r(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),r(t)):void 0}))})),s=await Wh.race([this.connection.request("request",{clientRequest:r},!0,{url:e,command:"PublishStream",workerType:t===jA.TRANSCODE?1:2,requestByUser:!n,tid:o.toString()}),a]);this.isStartingStreamingTask=!1,fR.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:o}),i()}catch(r){if(i(),this.isStartingStreamingTask=!1,!r.data||!r.data.retry||n)throw r;return r.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,r)):await this.startLiveStreamingTask(e,t,r)}}stopLiveStreamingTask(e){return new Wh(((t,n)=>{const r=this.streamingTasks.get(e);if(!r||!this.connection)return new SR(bC.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const i=r.mode;r.abortTask=()=>{fR.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:i===jA.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{fR.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),t()})).catch(n)}))}resetAllTask(){var e;const t=Array.from(hI(e=this.streamingTasks).call(e));this.terminate();for(const n of t)this.startLiveStreamingTask(n.url,n.mode).catch((e=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,e)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=NT.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new SR(bC.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await XC(this,HA.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new RK(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(WA.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(WA.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(WA.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new SR(bC.UNEXPECTED_ERROR,"can not get new live streaming address list"));XC(this,HA.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),r=e.reason;switch(e.code){case GA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case GA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const r=new SR(bC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return fR.error(r.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,r);if(!this.isStartingStreamingTask)return;this.statusError.set(t,r)}case GA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new SR(bC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case GA.LIVE_STREAM_RESPONSE_WORKER_LOST:case GA.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var i;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(hI(i=this.streamingTasks).call(i));for(const n of t)n.abortTask?n.abortTask():(fR.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new SR(bC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{fR.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{fR.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}hasUrl(e){return this.streamingTasks.has(e)}}const NK={name:"LiveStreaming",create:function(e){return new IK(e.joinInfo,e.websocketRetryConfig||Ix,e.httpRetryConfig||Ix)}};function kK(e){let t=HK();return function(e,t){let n=e.appId;void 0!==n&&(rY(t,10),XK(t,n));let r=e.cid;void 0!==r&&(rY(t,16),rY(t,r));let i=e.cname;void 0!==i&&(rY(t,26),XK(t,i));let o=e.deviceId;void 0!==o&&(rY(t,34),XK(t,o));let a=e.elapse;void 0!==a&&(rY(t,40),iY(t,a));let s=e.fileSize;void 0!==s&&(rY(t,48),iY(t,VK(s)));let c=e.height;void 0!==c&&(rY(t,56),iY(t,VK(c)));let l=e.jpg;void 0!==l&&(rY(t,66),rY(t,l.length),function(e,t){let n=YK(e,t.length);e.bytes.set(t,n)}(t,l));let u=e.networkType;void 0!==u&&(rY(t,72),iY(t,VK(u)));let d=e.osType;void 0!==d&&(rY(t,80),iY(t,VK(d)));let h=e.requestId;void 0!==h&&(rY(t,90),XK(t,h));let p=e.sdkVersion;void 0!==p&&(rY(t,98),XK(t,p));let f=e.sequence;void 0!==f&&(rY(t,104),iY(t,VK(f)));let m=e.sid;void 0!==m&&(rY(t,114),XK(t,m));let g=e.timestamp;void 0!==g&&(rY(t,120),iY(t,g));let v=e.uid;void 0!==v&&(rY(t,128),rY(t,v));let y=e.vid;void 0!==y&&(rY(t,136),rY(t,y));let b=e.width;void 0!==b&&(rY(t,144),iY(t,VK(b)));let E=e.service;void 0!==E&&(rY(t,152),rY(t,E));let _=e.callbackData;void 0!==_&&(rY(t,162),XK(t,_));let w=e.jpgEncryption;void 0!==w&&(rY(t,168),rY(t,w));let S=e.requestType;void 0!==S&&(rY(t,176),rY(t,S));let T=e.scorePorn;void 0!==T&&(rY(t,185),tY(t,T));let C=e.scoreSexy;void 0!==C&&(rY(t,193),tY(t,C));let x=e.scoreNeutral;void 0!==x&&(rY(t,201),tY(t,x));let R=e.scene;void 0!==R&&(rY(t,208),rY(t,R));let A=e.ossFilePrefix;void 0!==A&&(rY(t,218),XK(t,A));let O=e.serviceVendor;if(void 0!==O)for(let I of O){rY(t,226);let e=HK();LK(I,e),rY(t,e.limit),QK(t,e),GK(e)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function PK(e){return function(e){let t={};e:for(;!KK(e);){let n=nY(e);switch(n>>>3){case 0:break e;case 1:t.code=nY(e);break;case 2:t.msg=$K(e,nY(e));break;case 3:{let n=MK(e);t.data=DK(e),e.limit=n;break}default:jK(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function DK(e){let t={};e:for(;!KK(e);){let n=nY(e);switch(n>>>3){case 0:break e;case 1:t.requestId=$K(e,nY(e));break;case 2:t.requestType=nY(e)>>>0;break;case 3:t.scorePorn=eY(e);break;case 4:t.scoreSexy=eY(e);break;case 5:t.scoreNeutral=eY(e);break;case 6:t.requestScene=nY(e)>>>0;break;case 7:t.scene=nY(e)>>>0;break;default:jK(e,7&n)}}return t}function LK(e,t){let n=e.service;void 0!==n&&(rY(t,8),rY(t,n));let r=e.vendor;void 0!==r&&(rY(t,16),rY(t,r));let i=e.token;void 0!==i&&(rY(t,26),XK(t,i));let o=e.callbackUrl;void 0!==o&&(rY(t,34),XK(t,o))}function MK(e){let t=nY(e),n=e.limit;return e.limit=e.offset+t,n}function jK(e,t){switch(t){case 0:for(;128&JK(e););break;case 2:zK(e,nY(e));break;case 5:zK(e,4);break;case 1:zK(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let UK=new Float32Array(1);new Uint8Array(UK.buffer);let FK=new Float64Array(1),BK=new Uint8Array(FK.buffer);function VK(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let WK=[];function HK(){const e=WK.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function GK(e){WK.push(e)}function zK(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function KK(e){return e.offset>=e.limit}function YK(e,t){let n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>i&&(e.limit=o),r}function qK(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function $K(e,t){let n=qK(e,t),r=String.fromCharCode,i=e.bytes,o="\ufffd",a="";for(let s=0;s<t;s++){let e,c,l,u,d=i[s+n];0==(128&d)?a+=r(d):192==(224&d)?s+1>=t?a+=o:(e=i[s+n+1],128!=(192&e)?a+=o:(u=(31&d)<<6|63&e,u<128?a+=o:(a+=r(u),s++))):224==(240&d)?s+2>=t?a+=o:(e=i[s+n+1],c=i[s+n+2],32896!=(49344&(e|c<<8))?a+=o:(u=(15&d)<<12|(63&e)<<6|63&c,u<2048||u>=55296&&u<=57343?a+=o:(a+=r(u),s+=2))):240==(248&d)?s+3>=t?a+=o:(e=i[s+n+1],c=i[s+n+2],l=i[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=o:(u=(7&d)<<18|(63&e)<<12|(63&c)<<6|63&l,u<65536||u>1114111?a+=o:(u-=65536,a+=r(55296+(u>>10),56320+(1023&u)),s+=3))):a+=o}return a}function XK(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),r+=e<128?1:e<2048?2:e<65536?3:4}rY(e,r);let i=YK(e,r),o=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?o[i++]=e:(e<2048?o[i++]=e>>6&31|192:(e<65536?o[i++]=e>>12&15|224:(o[i++]=e>>18&7|240,o[i++]=e>>12&63|128),o[i++]=e>>6&63|128),o[i++]=63&e|128)}}function QK(e,t){let n=YK(e,t.limit),r=e.bytes,i=t.bytes;for(let o=0,a=t.limit;o<a;o++)r[o+n]=i[o]}function JK(e){return e.bytes[qK(e,1)]}function ZK(e,t){let n=YK(e,1);e.bytes[n]=t}function eY(e){let t=qK(e,8),n=e.bytes;return BK[0]=n[t++],BK[1]=n[t++],BK[2]=n[t++],BK[3]=n[t++],BK[4]=n[t++],BK[5]=n[t++],BK[6]=n[t++],BK[7]=n[t++],FK[0]}function tY(e,t){let n=YK(e,8),r=e.bytes;FK[0]=t,r[n++]=BK[0],r[n++]=BK[1],r[n++]=BK[2],r[n++]=BK[3],r[n++]=BK[4],r[n++]=BK[5],r[n++]=BK[6],r[n++]=BK[7]}function nY(e){let t,n=0,r=0;do{t=JK(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function rY(e,t){for(t>>>=0;t>=128;)ZK(e,127&t|128),t>>>=7;ZK(e,t)}function iY(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10,a=YK(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}function oY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const aY=new Map([["moderation",1],["supervise",2]]);function sY(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}class cY extends LC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(mO.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=Xr(t=e.map((e=>aY.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),jE(this,"name","AgoraRTCVideoContentInspect"),jE(this,"_connectionState",pO.CONNECTING),jE(this,"_innerConnectionState",void 0),jE(this,"sequence",0),jE(this,"inspectStartTime",void 0),jE(this,"workerManagerConnection",void 0),jE(this,"workerConnection",void 0),jE(this,"workerMessageLengthLimit",void 0),jE(this,"inspectIntervalMinimum",void 0),jE(this,"qualityRatio",void 0),jE(this,"_connectInfo",void 0),jE(this,"_cancelTokenSource",NT.CancelToken.source()),jE(this,"_retryConfig",void 0),jE(this,"wmSequence",0),jE(this,"inspectInterval",void 0),jE(this,"inspectTimer",null),jE(this,"ossFilePrefix",void 0),jE(this,"extraInfo",void 0),jE(this,"_inspectType",void 0),jE(this,"_inspectMode",void 0),jE(this,"_quality",1),jE(this,"qualityTimer",null),jE(this,"_inspectId",void 0),jE(this,"_needWorkUrlOnly",!1),jE(this,"inspectImage",(()=>{if(this.connectionState!==pO.CONNECTED)throw new SR(bC.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===pO.CONNECTED?this.requestToInspectImage():fR.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=gx(5,"inspect-"),this.workerMessageLengthLimit=qx("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=qx("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=qx("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new WO("worker-manager-"+this._inspectId,Ix),this.on(mO.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,fR.debug("[".concat(this._inspectId,"] Inspect operation :").concat(fO[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new WO("worker-"+this._inspectId,Ix),this.handleWorkerEvents()}async init(e,t){this.emit(mO.STATE_CHANGE,fO.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new Wh(((r,i)=>{this.on(mO.CONNECTION_STATE_CHANGE,((e,t)=>{t===pO.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{i(e)}))}))}async requestAP(e,t,n){const r=qx("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),i=await function(e,t,n,r){let{appId:i,areaCode:o,cname:a,sid:s,token:c,uid:l}=t;Kj++;const u="image_moderation_api",d={service_name:u,json_body:JSON.stringify({appId:i,areaCode:o,cname:a,command:"allocateEdge",requestId:Kj,seq:Kj,sid:s,token:c,ts:Date.now(),uid:l+""})};let h,p,f=e[0];return kx((async()=>{h=Date.now();const e=await Tj(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new SR(bC.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw fR.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new SR(bC.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw fR.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new SR(bC.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw fR.error(e.toString()),e}const r=qx("VIDEO_INSPECT_WORKER_MANAGER_HOST"),i=qx("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(i||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,n)=>(wR.apworkerEvent(s,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(wR.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==bC.OPERATION_ABORTED&&t.code!==bC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(mO.STATE_CHANGE,fO.AP_CONNECTED);const{addressList:o}=i;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(mO.STATE_CHANGE,fO.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(DA.CONNECTED,(async()=>{this.emit(mO.STATE_CHANGE,fO.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.2",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(DA.CLOSED,(()=>{this._innerConnectionState<fO.GET_WORKER_MANAGER_RESPONSE&&fR.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))})),this.workerManagerConnection.on(DA.FAILED,(()=>{this._innerConnectionState<fO.GET_WORKER_MANAGER_RESPONSE&&fR.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))})),this.workerManagerConnection.on(DA.RECONNECTING,(()=>{this._innerConnectionState<fO.GET_WORKER_MANAGER_RESPONSE&&fR.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))})),this.workerManagerConnection.on(DA.ON_MESSAGE,(async e=>{this.emit(mO.STATE_CHANGE,fO.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw fR.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new SR(bC.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw fR.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new SR(bC.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=qx("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,r=t.replace(/:\d+\/?$/,":".concat(e));this.emit(mO.STATE_CHANGE,fO.CONNECT_WORKER,r),this._needWorkUrlOnly?this.emit(mO.REQUEST_NEW_WORKER_URL,r):await this.connectWorker(r)}})),this.workerManagerConnection.on(DA.WILL_RECONNECT,((e,t,n)=>{n(e)})),this.workerManagerConnection.on(DA.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(DA.CONNECTED,(async()=>{this.emit(mO.STATE_CHANGE,fO.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=pO.CONNECTED})),this.workerConnection.on(DA.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=PK(new Uint8Array(e.data));if(qx("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&fR.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(mO.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},r=Xr(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),i=Object.keys(e).find((e=>e===r));this.emit(mO.INSPECT_RESULT,i)}else this.emit(mO.INSPECT_RESULT,void 0,new SR(bC.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(mO.INSPECT_RESULT,void 0,new SR(bC.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else fR.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(mO.INSPECT_RESULT,void 0,new SR(bC.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(DA.CLOSED,(()=>{this.connectionState=pO.CLOSED})),this.workerConnection.on(DA.FAILED,(()=>{this.connectionState=pO.CLOSED})),this.workerConnection.on(DA.RECONNECTING,(()=>{this.connectionState=this.connectionState===pO.CONNECTED?pO.RECONNECTING:pO.CONNECTING})),this.workerConnection.on(DA.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this.workerConnection.on(DA.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(mO.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}async requestToInspectImage(){this.sequence++;const e=JC(this,mO.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(mO.INSPECT_RESULT,void 0,new SR(bC.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(mO.INSPECT_RESULT,void 0,new SR(bC.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),u=await AD(l,n,r),d=this.sequence+"-"+i+"-"+s+"-"+c+"-"+gx(12,""),h={appId:n,cid:i,cname:r,deviceId:"",elapse:sY(Number(c-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.2",sequence:this.sequence,sid:a,timestamp:sY(c),uid:s,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=kK(h);if(p.byteLength<this.workerMessageLengthLimit){if(qx("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oY(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,fR.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=NT.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=pO.CLOSED,this.emit(mO.STATE_CHANGE,fO.CLOSED)}}const lY={name:"ContentInspect",create:function(e){let{config:t}=e;return function(e){if(!e)throw new SR(bC.INVALID_PARAMS,"inspectConfig is necessary.");if(!e.inspectType||!Array.isArray(e.inspectType))throw new SR(bC.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!kr(t=["supervise","moderation"]).call(t,e))throw new SR(bC.INVALID_PARAMS,"".concat(e," is not a valid inspect type."))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new SR(bC.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(t),new cY(t)}};Yx("PROCESS_ID","process-".concat(gx(8,""),"-").concat(gx(4,""),"-").concat(gx(4,""),"-").concat(gx(4,""),"-").concat(gx(12,""))),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void fR.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();fR.debug("Loading global parameters from cache",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(Kx,e)){const{value:r,expires:i}=t[e];if(i&&i<=n)return;$x[e]=r,Kx[e]=r}}))}catch(t){fR.error("Error loading mutableParamsCache: ".concat(e),t.message)}}(),Array.isArray($x.AREAS)&&$x.AREAS.length>0&&Pj($x.AREAS,!0);const uY=(e,t,n)=>{fR.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),Yx(e,t,n)};RB(TK,!1),RB(NK,!1),RB(WV,!1),RB(lY,!1),RB(_K,!1);const dY=function(e){const t=new LC,n=e,r={getListeners:t.getListeners.bind(t),on:(e,n)=>(function(e,t){e===vO.SECURITY_POLICY_VIOLATION&&VW(t,!0)}(e,n),t.on.bind(t)(e,n)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return FW(FW({},n),r)}({__TRACK_LIST__:hP,VERSION:Bx,BUILD:zx,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:uY,getParameter:qx,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const n=await async function(e){let t;return Xk().supportUnifiedPlan?(e.addTransceiver("video",{direction:"recvonly"}),e.addTransceiver("audio",{direction:"recvonly"}),t=(await e.createOffer()).sdp):t=(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t}(t);if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ H265/i)&&t.video.push("H265"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new SR(bC.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=wR.reportApiInvoke(null,{name:UC.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:FC.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(e&&n&&r),t&&hC()&&ZT(75)&&(new e).close()}catch(e){return fR.error("check system requirement failed: ",e),!1}let n=!1;const r=WT();r.name===UT.CHROME&&Number(r.version)>=58&&("WebKit"!==BT.engine.name||function(){const e=WT();if(KT()){if(e.os===jT.MAC_OS)return!0;if(e.os===jT.IOS){const e=BT.os.version&&BT.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(n=!0),(r.name===UT.FIREFOX&&Number(r.version)>=56||r.name===UT.OPERA&&Number(r.version)>=45||r.name===UT.SAFARI&&Number(r.version)>=11||"WebKit"===r.name&&(QT()||lC())&&r.osVersion&&Number(r.osVersion.split(".")[0])>=11||uC()||WT().name===UT.QQ)&&(n=!0),fR.debug("checkSystemRequirements, api:",t,"browser",n);const i=t&&n;return e.onSuccess(i),i},getDevices:function(e){return lD.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return lD.getRecordingDevices(e)},getCameras:function(e){return lD.getCamerasDevices(e)},getElectronScreenSources:tD,getPlaybackDevices:function(e){return lD.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=gx(5,"client-"),r=wR.reportApiInvoke(null,{id:n,name:UC.CREATE_CLIENT,options:[t],tag:FC.TRACER});try{!function(e){wC(e.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),wC(e.mode,"config.mode",["rtc","live","p2p"]),void 0!==e.audioCodec&&wC(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&CC(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&GC(e.turnServer),void 0!==e.httpRetryConfig&&BC(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&BC(e.websocketRetryConfig)}(t)}catch(e){throw r.onError(e),e}return(nC(16,0,!0)||rC(16,0,!0))&&("vp9"===t.codec&&(t.codec="vp8",fR.debug("browser not support vp9, force use vp8")),Yx("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===t.audioCodec&&(t.audioCodec="opus"),r.onSuccess(),new kW(NW(NW({forceWaitGatewayResponse:!0},t),{},{role:kr(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}),n)},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=qx("CAMERA_CAPTURE_CONFIG"),n=gx(8,"track-cam-"),r=wR.reportApiInvoke(null,{id:n,tag:FC.TRACER,name:UC.CREATE_CAM_VIDEO_TRACK,options:[BP({},e),t]});t&&(e.encoderConfig=t);const i=TD(e);let o=null;fR.info("start create camera video track with config",JSON.stringify(e),"trackId",n);try{o=(await oD({video:i},n)).getVideoTracks()[0]||null}catch(e){throw r.onError(e),e}if(!o){const e=new EC(bC.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(e),e.throw(fR)}e.optimizationMode&&cM(n,o,e,sP(e.encoderConfig));const a=new sM(o,e,i,e.scalabiltyMode?lP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return r.onSuccess(a.getTrackId()),fR.info("create camera video success, trackId:",n),a},createCustomVideoTrack:function(e){const t=gx(8,"track-cus-"),n=wR.reportApiInvoke(null,{id:t,tag:FC.TRACER,name:UC.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),r=new aM(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?lP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,t,[mP.CUSTOM_TRACK]);return n.onSuccess(r.getTrackId()),fR.info("create custom video track success with config",e,"trackId",r.getTrackId()),r},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n="object"==typeof t?function(e){return CD(e)}(t):void 0;n&&(t="auto");const r=gx(8,"track-scr-v-"),i=wR.reportApiInvoke(null,{id:r,tag:FC.TRACER,name:UC.CREATE_SCREEN_VIDEO_TRACK,options:[BP({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const o=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&YT()&&(t.extensionId=e.extensionId);const{displaySurface:n,selfBrowserSurface:r,surfaceSwitching:i,systemAudio:o}=e;(JT(107)||eC(107)||iC(93))&&(n&&(wC(n,"displaySurface",["browser","window","monitor"]),t.displaySurface=n),r?(wC(r,"selfBrowserSurface",["exclude","include"]),t.selfBrowserSurface=r):t.selfBrowserSurface="include",i&&(wC(i,"surfaceSwitching",["exclude","include"]),t.surfaceSwitching=i)),(JT(105)||eC(105)||iC(91))&&o&&(wC(o,"systemAudio",["exclude","include"]),t.systemAudio=o),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const a=e.encoderConfig?cP(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:a?a.width:void 0,maxHeight:a?a.height:void 0},a&&(a.frameRate&&("number"==typeof a.frameRate?(t.mandatory.maxFrameRate=a.frameRate,t.mandatory.minFrameRate=a.frameRate):(t.mandatory.maxFrameRate=a.frameRate.max||a.frameRate.ideal||a.frameRate.exact||void 0,t.mandatory.minFrameRate=a.frameRate.min||a.frameRate.ideal||a.frameRate.exact||void 0),t.frameRate=a.frameRate),a.width&&(t.width=a.width),a.height&&(t.height=a.height)),t}(e);let a=null,s=null;const c=Xk();if(!c.supportShareAudio&&"enable"===t){const e=new EC(bC.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return i.onError(e),e.throw(fR)}fR.info("start create screen video track with config",e,"withAudio",t,"trackId",r);const l=c.supportShareAudio&&"disable"!==t;try{const e=await oD({screen:o,screenAudio:l?n||!0:void 0},r);a=e.getVideoTracks()[0]||null,s=e.getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!a){const e=new EC(bC.UNEXPECTED_ERROR,"can not find track in media stream");return i.onError(e),e.throw(fR)}if(!s&&"enable"===t){a&&a.stop();const e=new EC(bC.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw(fR)}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(cM(r,a,e,e.encoderConfig&&cP(e.encoderConfig)||void 0),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const u=new aM(a,e.encoderConfig?cP(e.encoderConfig):{},e.scalabiltyMode?lP(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r,[mP.SCREEN_TRACK]);if(!s)return i.onSuccess(u.getTrackId()),fR.info("create screen video track success","video:",u.getTrackId()),u;const d=new vL(s,void 0,gx(8,"track-scr-a-"),!1);return i.onSuccess([u.getTrackId(),d.getTrackId()]),fR.info("create screen video track success","video:",u.getTrackId(),"audio:",d.getTrackId()),[u,d]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=qx("CAMERA_CAPTURE_CONFIG"),r=gx(8,"track-mic-"),i=gx(8,"track-cam-"),o=wR.reportApiInvoke(null,{id:"".concat(r,"-").concat(i),tag:FC.TRACER,name:UC.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,n]});n&&(t.encoderConfig=n);const a=TD(t),s=xD(e);let c=null,l=null;fR.info("start create camera video track(".concat(i,") and microphone audio track(").concat(r,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const e=await oD({audio:s,video:a},"".concat(r,"-").concat(i));c=e.getAudioTracks()[0],l=e.getVideoTracks()[0]}catch(e){throw o.onError(e),e}if(!c||!l){const e=new EC(bC.UNEXPECTED_ERROR,"can not find tracks in media stream");return o.onError(e),e.throw(fR)}t.optimizationMode&&cM(i,l,t,sP(t.encoderConfig));const u=new yL(c,e,s,r),d=new sM(l,t,a,t.scalabiltyMode?lP(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,i);return o.onSuccess([u.getTrackId(),d.getTrackId()]),fR.info("create camera video track(".concat(i,") and microphone audio track(").concat(r,") success")),[u,d]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=gx(8,"track-mic-"),n=wR.reportApiInvoke(null,{id:t,tag:FC.TRACER,name:UC.CREATE_MIC_AUDIO_TRACK,options:[e]}),r=xD(e);let i=null;fR.info("start create microphone audio track with config",JSON.stringify(e),"trackId",t);try{i=(await oD({audio:r},t)).getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!i){const e=new EC(bC.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw(fR)}const o=new yL(i,e,r,t);return n.onSuccess(o.getTrackId()),fR.info("create microphone audio track success, trackId:",t),o},createCustomAudioTrack:function(e){const t=gx(8,"track-cus-"),n=wR.reportApiInvoke(null,{id:t,tag:FC.TRACER,name:UC.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),r=new vL(e.mediaStreamTrack,e.encoderConfig?dP(e.encoderConfig):{},t,!1);return fR.info("create custom audio track success with config",e,"trackId",r.getTrackId()),n.onSuccess(r.getTrackId()),r},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:n,encoderConfig:r}=e;let{source:i}=e;const o={source:i instanceof AudioBuffer?"AudioBuffer":i instanceof File?null!==(t=File.name)&&void 0!==t?t:"File":i,cacheOnlineFile:n,encoderConfig:r},a=gx(8,"track-buf-"),s=wR.reportApiInvoke(null,{id:a,tag:FC.TRACER,name:UC.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(qx("DISABLE_WEBAUDIO"))throw new EC(bC.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");fR.info("start create buffer source audio track with config",JSON.stringify(o),"trackId",a);const c=i;if(!(i instanceof AudioBuffer))try{i=await async function(e,t){let n=null;if("string"==typeof e){const t=wL.get(e);if(t)return fR.debug("use cached audio resource: ",e),t;try{n=(await kx((()=>NT.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new EC(bC.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new Wh(((t,n)=>{const r=new FileReader;r.onload=e=>{e.target?t(e.target.result):n(new EC(bC.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=()=>{n(new EC(bC.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(e)}));n=await t}const r=await function(e){const t=KP();return new Wh(((n,r)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{r(new EC(bC.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&wL.set(e,r),r}(i,n)}catch(e){return s.onError(e),e.throw(fR)}const l=new _L(i),u=new bL(c,l,r?dP(r):{},a);return fR.info("create buffer source audio track success, trackId:",a),s.onSuccess(u.getTrackId()),u},setAppType:function(e){if(fR.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw fR.debug("Invalid appType"),new SR(bC.INVALID_PARAMS,"invalid app type",e);Yx("APP_TYPE",Math.floor(e))},setLogLevel:function(e){fR.setLogLevel(e)},enableLogUpload:function(){qx("USE_NEW_LOG")?Yx("UPLOAD_LOG",!0):fR.enableLogUpload()},disableLogUpload:function(){qx("USE_NEW_LOG")?Yx("UPLOAD_LOG",!1):fR.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new BF},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=wR.reportApiInvoke(null,{tag:FC.TRACER,name:UC.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof vL||e instanceof SM)){const e=new SR(bC.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof vL?e.getTrackLabel():"remote_track",i=e.getVolumeLevel();let o=i,a=i;const s=Date.now();return new Wh((i=>{const c=setInterval((()=>{const l=e.getVolumeLevel();o=l>o?l:o,a=l<a?l:a;const u=o-a>1e-4,d=Date.now()-s;if(u||d>t){clearInterval(c);const t=u,a={duration:d,deviceLabel:r,maxVolumeLevel:o,result:t};fR.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),i(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=wR.reportApiInvoke(null,{tag:FC.TRACER,name:UC.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof aM||e instanceof wM)){const e=new SR(bC.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof aM?e.getTrackLabel():"remote_track",i=e.getMediaStreamTrack(!0),o=document.createElement("video");o.style.width="1px",o.style.height="1px",o.setAttribute("muted",""),o.muted=!0,o.setAttribute("playsinline",""),o.controls=!1,(qT()||KT())&&(o.style.opacity="0.01",o.style.position="fixed",o.style.left="0",o.style.top="0",document.body.appendChild(o)),o.srcObject=new MediaStream([i]),o.play();const a=document.createElement("canvas");a.width=160,a.height=120;let s=0,c=0;try{const e=Date.now();s=await function(e,t,n,r){let i,o=0,a=null;return new Wh(((s,c)=>{function l(){o>r&&i&&(i(),s(o));const t=n.getContext("2d");if(!t){const e=new SR(bC.UNEXPECTED_ERROR,"can not get canvas 2d context.");return fR.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const l=t.getImageData(0,0,n.width,n.height),u=Math.floor(l.data.length/3);if(a){for(let e=0;e<u;e+=3)if(l.data[e]!==a[e])return o+=1,void(a=l.data);a=l.data}else a=l.data}setTimeout((()=>{i&&(i(),s(o))}),t),i=$P((()=>{l()}),30)}))}(o,t,a,4),c=Date.now()-e}catch(e){throw n.onError(e),e}FB===UT.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const l=s>4,u={duration:c,changedPicNum:s,deviceLabel:r,result:l};return fR.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(u))),n.onSuccess(u),l},setArea:Pj,audioElementPlayCenter:mD,resumeAudioContext:function(){mD.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){jW.processExternalMediaAEC(e)},registerExtensions:function(e){const t=qx("PLUGIN_INFO")||[];e.forEach((e=>{"name"in e&&!kr(t).call(t,e.name)&&t.push(e.name);const n=e;n.__registered__=!0,n.logger.hookLog=fR.extLog,n.reporter.hookApiInvoke=wR.extApiInvoke,n.parameters&&Object.keys(n.parameters).forEach((e=>{n.parameters[e]=qx(e)}))})),uY("PLUGIN_INFO",t)},ChannelMediaRelayError:$A,ChannelMediaRelayEvent:YA,ChannelMediaRelayState:qA,RemoteStreamFallbackType:yP,RemoteStreamType:vP,ConnectionDisconnectedReason:WC,AudienceLatencyLevelType:VC,AREAS:eO,preload:async function(e,t,n,r){return ZB(e,t,n,r)}});return Object.defineProperties(dY,{onAudioAutoplayFailed:{get:()=>dD.onAudioAutoplayFailed,set:e=>{dD.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>dD.onAutoplayFailed,set:e=>{dD.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>dY._onSecurityPolicyViolation,set(e){dY._onSecurityPolicyViolation=e,VW(e)}},__CLIENT_LIST__:{get:()=>qx("SHOW_GLOBAL_CLIENT_LIST")?xR:[]}}),lD.on(kP.CAMERA_DEVICE_CHANGED,(e=>{fR.info("camera device changed",JSON.stringify(e)),dY.onCameraChanged&&dY.onCameraChanged(e),dY.safeEmit(vO.CAMERA_CHANGED,e)})),lD.on(kP.RECORDING_DEVICE_CHANGED,(e=>{fR.info("microphone device changed",JSON.stringify(e)),dY.onMicrophoneChanged&&dY.onMicrophoneChanged(e),dY.safeEmit(vO.MICROPHONE_CHANGED,e)})),lD.on(kP.PLAYOUT_DEVICE_CHANGED,(e=>{fR.debug("playout device changed",JSON.stringify(e)),dY.onPlaybackDeviceChanged&&dY.onPlaybackDeviceChanged(e),dY.safeEmit(vO.PLAYBACK_DEVICE_CHANGED,e)})),mD.onAutoplayFailed=()=>{fR.info("detect audio element autoplay failed"),dD.onAudioAutoplayFailed&&dD.onAudioAutoplayFailed()},zP.on("autoplay-failed",(()=>{fR.info("detect webaudio autoplay failed"),dD.onAudioAutoplayFailed&&dD.onAudioAutoplayFailed(),dY.safeEmit(vO.AUTOPLAY_FAILED)})),zP.on(Zk.STATE_CHANGE,((e,t)=>{fR.info("audio context state changed: ".concat(t," => ").concat(e)),dY.onAudioContextStateChanged&&dY.onAudioContextStateChanged(e,t),dY.safeEmit(vO.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),ex.on($C.NETWORK_STATE_CHANGE,((e,t)=>{fR.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))})),window&&(window.__ARTC__=dY),dY}()},2949:e=>{function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function n(){for(var e,n,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=t(e))&&(i&&(i+=" "),i+=n);return i}e.exports=n,e.exports.clsx=n},7904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CountUp:()=>i});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=function(){function e(e,t,n){var i=this;this.endVal=t,this.options=n,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration);var n=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=n?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(e){var t,n,r,o,a=e<0?"-":"";t=Math.abs(e).toFixed(i.options.decimalPlaces);var s=(t+="").split(".");if(n=s[0],r=s.length>1?i.options.decimal+s[1]:"",i.options.useGrouping){o="";for(var c=3,l=0,u=0,d=n.length;u<d;++u)i.options.useIndianSeparators&&4===u&&(c=2,l=1),0!==u&&l%c==0&&(o=i.options.separator+o),l++,o=n[d-u-1]+o;n=o}return i.options.numerals&&i.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]})),r=r.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]}))),a+i.options.prefix+n+r+i.options.suffix},this.easeOutExpo=function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},this.options=r(r({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return i.handleScroll(i)})),window.onscroll=function(){window.onScrollFns.forEach((function(e){return e()}))},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,n=e.el.getBoundingClientRect(),r=n.top+window.pageYOffset,i=n.top+n.height+window.pageYOffset;i<t&&i>window.scrollY&&e.paused?(e.paused=!1,setTimeout((function(){return e.start()}),e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>i||r>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var n=this.countDown?1:-1;this.endVal=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var n=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,n):"INPUT"===this.el.tagName?this.el.value=n:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=n:this.el.innerHTML=n}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}()},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",u=c+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,i,o,a,c,l,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,h):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,c=u.length):(r=u,i=a,c=l.length),o>(c=(a=Math.ceil(h/7))>c?a+1:c+1)&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((c=l.length)-(o=u.length)<0&&(o=c,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/f|0,l[o]%=f;for(n&&(l.unshift(n),++i),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=i,s?A(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function E(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=C(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=C(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return _(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return A(_(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=_(x(n,a),x(e,a),a),s=!0,A(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(s=!1,t=_(n,e,0,1).times(e),s=!0,n.minus(t)):A(new r(n),i)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return x(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(c+"NaN")}for(e=S(l),s=!1,0==(i=Math.sqrt(+l))||i==1/0?(((t=E(l.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(_(l,o,a+2)).times(.5),E(o.d).slice(0,a)===(t=E(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(A(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,A(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,c,l,u,d=this,h=d.constructor,p=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(l=p.length)<(u=m.length)&&(o=p,p=m,m=o,a=l,l=u,u=a),o=[],r=a=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)c=o[i]+m[r]*p[i-r-1]+t,o[i--]=c%f|0,t=c/f|0;o[i]=(o[i]+t)%f|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?A(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),A(n,e+S(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=I(r=A(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?I(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=I((r=A(new a(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return A(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,l,u=this,h=u.constructor,p=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return A(u,r);if(l=(t=e.e)>=(n=e.d.length-1),a=u.s,l){if((n=p<0?-p:p)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&N((o=o.times(u)).d,t),0!==(n=d(n/2));)N((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):A(o,r)}}else if(a<0)throw Error(c+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(x(u,r+12)),s=!0,(o=w(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=I(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=I(i=A(new a(i),e,t),e<=(n=S(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),A(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),n=e.constructor;return I(e,t<=n.toExpNeg||t>=n.toExpPos)};var _=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,u,d,h,p,m,g,v,y,b,E,_,w,T,C,x,R,O=r.constructor,I=r.s==i.s?1:-1,N=r.d,k=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(c+"Division by zero");for(l=r.e-i.e,x=k.length,T=N.length,g=(m=new O(I)).d=[],u=0;k[u]==(N[u]||0);)++u;if(k[u]>(N[u]||0)&&--l,(E=null==o?o=O.precision:a?o+(S(r)-S(i))+1:o)<0)return new O(0);if(E=E/7+2|0,u=0,1==x)for(d=0,k=k[0],E++;(u<T||d)&&E--;u++)_=d*f+(N[u]||0),g[u]=_/k|0,d=_%k|0;else{for((d=f/(k[0]+1)|0)>1&&(k=e(k,d),N=e(N,d),x=k.length,T=N.length),w=x,y=(v=N.slice(0,x)).length;y<x;)v[y++]=0;(R=k.slice()).unshift(0),C=k[0],k[1]>=f/2&&++C;do{d=0,(s=t(k,v,x,y))<0?(b=v[0],x!=y&&(b=b*f+(v[1]||0)),(d=b/C|0)>1?(d>=f&&(d=f-1),1==(s=t(h=e(k,d),v,p=h.length,y=v.length))&&(d--,n(h,x<p?R:k,p))):(0==d&&(s=d=1),h=k.slice()),(p=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(k,v,x,y=v.length))<1&&(d++,n(v,x<y?R:k,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=N[w]||0:(v=[N[w]],y=1)}while((w++<T||void 0!==v[0])&&E--)}return g[0]||g.shift(),m.e=l,A(m,a?o+S(m)+1:o)}}();function w(e,t){var n,r,o,a,c,l=0,d=0,p=e.constructor,f=p.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new p(i);for(null==t?(s=!1,c=f):c=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(c+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new p(i),p.precision=c;;){if(r=A(r.times(e),c),n=n.times(++l),E((a=o.plus(_(r,n,c))).d).slice(0,c)===E(o.d).slice(0,c)){for(;d--;)o=A(o.times(o),c);return p.precision=f,null==t?(s=!0,A(o,f)):o}o=a}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function T(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function C(e){for(var t="";e--;)t+="0";return t}function x(e,t){var n,r,o,a,l,u,d,h,p,f=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),T(v,h);if(h+=10,v.precision=h,r=(n=E(g)).charAt(0),a=S(m),!(Math.abs(a)<15e14))return d=T(v,h+2,y).times(a+""),m=x(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,A(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=E((m=m.times(e)).d)).charAt(0),f++;for(a=S(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1)),u=l=m=_(m.minus(i),m.plus(i),h),p=A(m.times(m),h),o=3;;){if(l=A(l.times(p),h),E((d=u.plus(_(l,new v(o),h))).d).slice(0,h)===E(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(T(v,h+2,y).times(a+""))),u=_(u,new v(f),h),v.precision=y,null==t?(s=!0,A(u,y)):u;u=d,o+=2}}function R(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,i,o,a,c,l,p,m,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,p=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=v.length))return e;for(p=o=v[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(c=p/(o=h(10,a-i-1))%10|0,l=t<0||void 0!==v[m+1]||p%o,l=n<4?(c||l)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||l||6==n&&(r>0?i>0?p/h(10,a-i):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return l?(o=S(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,o=1,m--):(v.length=m+1,o=h(10,7-r),v[m]=i>0?(p/h(10,a-i)%h(10,i)|0)*o:0),l)for(;;){if(0==m){(v[0]+=o)==f&&(v[0]=1,++e.e);break}if(v[m]+=o,v[m]!=f)break;v[m--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function O(e,t){var n,r,i,o,a,c,l,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?A(t,m):t;if(l=e.d,h=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r){for((d=a<0)?(n=l,a=-a,c=h.length):(n=h,r=u,c=l.length),a>(i=Math.max(Math.ceil(m/7),c)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=l.length)<(c=h.length))&&(c=i),i=0;i<c;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,t.s=-t.s),c=l.length,i=h.length-c;i>0;--i)l[c++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&0===l[--o];)l[o]=f-1;--l[o],l[i]+=f}l[i]-=h[i]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,s?A(t,m):t):new p(0)}function I(e,t,n){var r,i=S(e),o=E(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+C(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+C(-i-1)+o,n&&(r=n-a)>0&&(o+=C(r))):i>=a?(o+=C(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+C(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=C(r))),e.s<0?"-"+o:o}function N(e,t){if(e.length>t)return e.length=t,!0}function k(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):R(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(l+e);R(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=k,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},2450:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):i(c.href)?r(e,t,n):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(i(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&c||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,h=d.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c})?r.apply(t,i):r)||(e.exports=o)},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===E||e.$$typeof===v)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},2740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),c=n(6788);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),c=n(1268),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===c?s===s&&!r(s):n(s,c)))var c=s,l=a}return l}},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),c=n(4052),l=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=c(e),b=c(t),E=y?h:s(e),_=b?h:s(t),w=(E=E==d?p:E)==p,S=(_=_==d?p:_)==p,T=E==_;if(T&&l(e)){if(!l(t))return!1;y=!0,w=!1}if(T&&!w)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,E,n,m,g,v);if(!(1&n)){var C=w&&f.call(e,"__wrapped__"),x=S&&f.call(t,"__wrapped__");if(C||x){var R=C?e.value():e,A=x?t.value():t;return v||(v=new r),g(R,A,n,m,v)}}return!!T&&(v||(v=new r),a(e,t,n,m,g,v))}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?i(h,d,3,o,p):f))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},61:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),c=n(1310),l=n(914);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),c=n(7574),l=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,c(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return l(e,t,n)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),c=n(2074);e.exports=function(e,t,n){var l=-1,u=i,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);h=!1,u=a,f=new r}else f=t?[]:p;e:for(;++l<d;){var g=e[l],v=t?t(g):g;if(g=n||0!==g?g:0,h&&v===v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(g)}else u(f,v,n)||(f!==p&&f.push(v),p.push(g))}return p}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,c=null===t,l=t===t,u=r(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e),p=c.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var v=e[f],y=t[f];if(a)var b=l?a(y,v,f,t,e,c):a(v,y,f,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,c)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),c=n(2074),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=c),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(p(e),p(t),r,l,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var h=l[d];if(!(c?h in t:i.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var v=e[h=l[d]],y=t[h];if(o)var b=c?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var E=e.constructor,_=t.constructor;E==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),c=n(6913),l=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=l(r),g=l(i),v=l(o),y=l(a),b=l(s),E=c;(r&&E(new r(new ArrayBuffer(1)))!=f||i&&E(new i)!=u||o&&E(o.resolve())!=d||a&&E(new a)!=h||s&&E(new s)!=p)&&(E=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case y:return h;case b:return p}return t}),e.exports=E},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),c=n(914);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),r(e,this,l)}}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+l+c+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function E(){var e=i();if(b(e))return _(e);h=setTimeout(E,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function _(e){return h=void 0,v&&c?y(e):(c=l=void 0,d)}function w(){var e=i(),n=b(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(E,t),m?y(e):d}(p);if(g)return clearTimeout(h),h=setTimeout(E,t),y(p)}return void 0===h&&(h=setTimeout(E,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=p=l=h=void 0},w.flush=function(){return void 0===h?d:_(i())},w}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),c(e,o(t,3))}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5751:(e,t,n)=>{"use strict";var r=n(5043),i=n(7904);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function f(e){var t=r.useRef(e);return p((function(){t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var m=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],g={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},v=function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==d(e,2)[1]}))),n=r.useMemo((function(){return a(a({},g),t)}),[e]),o=n.ref,s=n.startOnMount,c=n.enableReinitialize,l=n.delay,h=n.onEnd,p=n.onStart,v=n.onPauseResume,y=n.onReset,b=n.onUpdate,E=u(n,m),_=r.useRef(),w=r.useRef(),S=r.useRef(!1),T=f((function(){return function(e,t){var n=t.decimal,r=t.decimals,o=t.duration,a=t.easingFn,s=t.end,c=t.formattingFn,l=t.numerals,u=t.prefix,d=t.separator,h=t.start,p=t.suffix,f=t.useEasing,m=t.useGrouping,g=t.useIndianSeparators,v=t.enableScrollSpy,y=t.scrollSpyDelay,b=t.scrollSpyOnce,E=t.plugin;return new i.CountUp(e,s,{startVal:h,duration:o,decimal:n,decimalPlaces:r,easingFn:a,formattingFn:c,numerals:l,separator:d,prefix:u,suffix:p,plugin:E,useEasing:f,useIndianSeparators:g,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})}("string"===typeof o?o:o.current,E)})),C=f((function(e){var t=_.current;if(t&&!e)return t;var n=T();return _.current=n,n})),x=f((function(){var e=function(){return C(!0).start((function(){null===h||void 0===h||h({pauseResume:R,reset:A,start:I,update:O})}))};l&&l>0?w.current=setTimeout(e,1e3*l):e(),null===p||void 0===p||p({pauseResume:R,reset:A,update:O})})),R=f((function(){C().pauseResume(),null===v||void 0===v||v({reset:A,start:I,update:O})})),A=f((function(){C().el&&(w.current&&clearTimeout(w.current),C().reset(),null===y||void 0===y||y({pauseResume:R,start:I,update:O}))})),O=f((function(e){C().update(e),null===b||void 0===b||b({pauseResume:R,reset:A,start:I})})),I=f((function(){A(),x()})),N=f((function(e){s&&(e&&A(),x())}));return r.useEffect((function(){S.current?c&&N(!0):(S.current=!0,N())}),[c,S,N,l,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),r.useEffect((function(){return function(){A()}}),[A]),{start:I,pauseResume:R,reset:A,update:O,getCountUp:C}},y=["className","redraw","containerProps","children","style"];t.Ay=function(e){var t=e.className,n=e.redraw,i=e.containerProps,o=e.children,s=e.style,c=u(e,y),d=r.useRef(null),h=r.useRef(!1),p=v(a(a({},c),{},{ref:d,startOnMount:"function"!==typeof o||0===e.delay,enableReinitialize:!1})),m=p.start,g=p.reset,b=p.update,E=p.pauseResume,_=p.getCountUp,w=f((function(){m()})),S=f((function(t){e.preserveValue||g(),b(t)})),T=f((function(){"function"!==typeof e.children||d.current instanceof Element?_():console.error('Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.')}));r.useEffect((function(){T()}),[T]),r.useEffect((function(){h.current&&S(e.end)}),[e.end,S]);var C=n&&e;return r.useEffect((function(){n&&h.current&&w()}),[w,n,C]),r.useEffect((function(){!n&&h.current&&w()}),[w,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),r.useEffect((function(){h.current=!0}),[]),"function"===typeof o?o({countUpRef:d,start:m,reset:g,update:b,pauseResume:E,getCountUp:_}):r.createElement("span",l({className:t,ref:d,style:s},i),"undefined"!==typeof e.start?_().formattingFn(e.start):"")}},1899:function(e,t,n){!function(e,t,n,r,i,o,a,s,c,l,u,d,h,p,f,m,g,v,y,b,E,_,w,S,T,C,x,R,A,O,I,N,k,P,D,L,M,j,U,F,B,V,W,H,G,z,K,Y,q,$,X,Q,J,Z,ee,te,ne,re,ie,oe,ae,se,ce,le){"use strict";function ue(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var de=ue(n),he=ue(le),pe=function(e,t){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},pe(e,t)};function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)};function ge(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ve,ye=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,i=void 0!==r&&r,o=e.className,a=e.children,s=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return de.default.createElement("div",{className:o,role:"dialog","aria-label":s,"aria-modal":"true"},a)},be=function(e){var t=e.children,r=e.onClickOutside,i=e.className,o=e.containerRef,a=e.style,s=function(e,t){var r=n.useRef(null),i=n.useRef(e);i.current=e;var o=n.useCallback((function(e){var n;r.current&&!r.current.contains(e.target)&&(t&&e.target instanceof HTMLElement&&e.target.classList.contains(t)||null===(n=i.current)||void 0===n||n.call(i,e))}),[t]);return n.useEffect((function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}}),[o]),r}(r,e.ignoreClass);return de.default.createElement("div",{className:i,style:a,ref:function(e){s.current=e,o&&(o.current=e)}},t)};function Ee(){return"undefined"!=typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(ve||(ve={}));var _e=12,we=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Se(e){if(null==e)return new Date;var t="string"==typeof e?H.parseISO(e):se.toDate(e);return Ce(t)?t:new Date}function Te(e,t,n,r,i){var o,a=null,s=He(n)||He(We()),c=!0;if(Array.isArray(t))return t.forEach((function(t){var o=W.parse(e,t,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(c=Ce(o,i)&&e===xe(o,t,n)),Ce(o,i)&&c&&(a=o)})),a;if(a=W.parse(e,t,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)c=Ce(a)&&e===xe(a,t,n);else if(!Ce(a)){var l=(null!==(o=t.match(we))&&void 0!==o?o:[]).map((function(e){var t=e[0];if("p"===t||"P"===t){var n=b.longFormatters[t];return s?n(e,s.formatLong):t}return e})).join("");e.length>0&&(a=W.parse(e,l.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ce(a)||(a=new Date(e))}return Ce(a)&&c?a:null}function Ce(e,t){return U.isValid(e)&&!N.isBefore(e,null!=t?t:new Date("1/1/1800"))}function xe(e,t,n){if("en"===n)return b.format(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?He(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&We()&&He(We())&&(r=He(We())),b.format(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Re(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&xe(e,i,r)||""}function Ae(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,o=void 0===i?0:i,a=t.second,s=void 0===a?0:a;return z.setHours(K.setMinutes($.setSeconds(e,s),o),r)}function Oe(e){return Q.startOfDay(e)}function Ie(e,t,n){var r=He(t||We());return ee.startOfWeek(e,{locale:r,weekStartsOn:n})}function Ne(e){return J.startOfMonth(e)}function ke(e){return te.startOfYear(e)}function Pe(e){return Z.startOfQuarter(e)}function De(){return Q.startOfDay(Se())}function Le(e){return m.endOfDay(e)}function Me(e,t){return e&&t?j.isSameYear(e,t):!e&&!t}function je(e,t){return e&&t?L.isSameMonth(e,t):!e&&!t}function Ue(e,t){return e&&t?M.isSameQuarter(e,t):!e&&!t}function Fe(e,t){return e&&t?D.isSameDay(e,t):!e&&!t}function Be(e,t){return e&&t?P.isEqual(e,t):!e&&!t}function Ve(e,t,n){var r,i=Q.startOfDay(t),o=m.endOfDay(n);try{r=F.isWithinInterval(e,{start:i,end:o})}catch(e){r=!1}return r}function We(){return Ee().__localeId__}function He(e){if("string"==typeof e){var t=Ee();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Ge(e,t){return xe(Y.setMonth(Se(),e),"LLLL",t)}function ze(e,t){return xe(Y.setMonth(Se(),e),"LLL",t)}function Ke(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return tt(e,{minDate:r,maxDate:i})||o&&o.some((function(t){return t instanceof Date?Fe(e,t):Fe(e,t.date)}))||a&&a.some((function(t){var n=t.start,r=t.end;return F.isWithinInterval(e,{start:n,end:r})}))||s&&!s.some((function(t){return Fe(e,t)}))||c&&!c.some((function(t){var n=t.start,r=t.end;return F.isWithinInterval(e,{start:n,end:r})}))||l&&!l(Se(e))||!1}function Ye(e,t){var n=void 0===t?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some((function(t){var n=t.start,r=t.end;return F.isWithinInterval(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?Fe(e,t):Fe(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function qe(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tt(e,{minDate:r?J.startOfMonth(r):void 0,maxDate:i?g.endOfMonth(i):void 0})||(null==o?void 0:o.some((function(t){return je(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return je(e,t)}))||s&&!s(Se(e))||!1}function $e(e,t,n,r){var i=O.getYear(e),o=C.getMonth(e),a=O.getYear(t),s=C.getMonth(t),c=O.getYear(r);return i===a&&i===c?o<=n&&n<=s:i<a&&(c===i&&o<=n||c===a&&s>=n||c<a&&c>i)}function Xe(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates;return tt(e,{minDate:r,maxDate:i})||o&&o.some((function(t){return je(t instanceof Date?t:t.date,e)}))||a&&!a.some((function(t){return je(t,e)}))||!1}function Qe(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tt(e,{minDate:r,maxDate:i})||(null==o?void 0:o.some((function(t){return Ue(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return Ue(e,t)}))||s&&!s(Se(e))||!1}function Je(e,t,n){if(!t||!n)return!1;if(!U.isValid(t)||!U.isValid(n))return!1;var r=O.getYear(t),i=O.getYear(n);return r<=e&&i>=e}function Ze(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate,c=new Date(e,0,1);return tt(c,{minDate:r?te.startOfYear(r):void 0,maxDate:i?y.endOfYear(i):void 0})||(null==o?void 0:o.some((function(e){return Me(c,e instanceof Date?e:e.date)})))||a&&!a.some((function(e){return Me(c,e)}))||s&&!s(Se(c))||!1}function et(e,t,n,r){var i=O.getYear(e),o=x.getQuarter(e),a=O.getYear(t),s=x.getQuarter(t),c=O.getYear(r);return i===a&&i===c?o<=n&&n<=s:i<a&&(c===i&&o<=n||c===a&&s>=n||c<a&&c>i)}function tt(e,t){var n,r=void 0===t?{}:t,i=r.minDate,o=r.maxDate;return null!==(n=i&&d.differenceInCalendarDays(e,i)<0||o&&d.differenceInCalendarDays(e,o)>0)&&void 0!==n&&n}function nt(e,t){return t.some((function(t){return w.getHours(t)===w.getHours(e)&&T.getMinutes(t)===T.getMinutes(e)&&R.getSeconds(t)===R.getSeconds(e)}))}function rt(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&nt(e,r)||i&&!nt(e,i)||o&&!o(e)||!1}function it(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Se();i=z.setHours(i,w.getHours(e)),i=K.setMinutes(i,T.getMinutes(e)),i=$.setSeconds(i,R.getSeconds(e));var o=Se();o=z.setHours(o,w.getHours(n)),o=K.setMinutes(o,T.getMinutes(n)),o=$.setSeconds(o,R.getSeconds(n));var a,s=Se();s=z.setHours(s,w.getHours(r)),s=K.setMinutes(s,T.getMinutes(r)),s=$.setSeconds(s,R.getSeconds(r));try{a=!F.isWithinInterval(i,{start:o,end:s})}catch(e){a=!1}return a}function ot(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=re.subMonths(e,1);return r&&h.differenceInCalendarMonths(r,o)>0||i&&i.every((function(e){return h.differenceInCalendarMonths(e,o)>0}))||!1}function at(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=a.addMonths(e,1);return r&&h.differenceInCalendarMonths(o,r)>0||i&&i.every((function(e){return h.differenceInCalendarMonths(o,e)>0}))||!1}function st(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=ae.subYears(e,1);return r&&f.differenceInCalendarYears(r,o)>0||i&&i.every((function(e){return f.differenceInCalendarYears(e,o)>0}))||!1}function ct(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=u.addYears(e,1);return r&&f.differenceInCalendarYears(o,r)>0||i&&i.every((function(e){return f.differenceInCalendarYears(o,e)>0}))||!1}function lt(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return d.differenceInCalendarDays(e,t)>=0}));return V.min(r)}return n?V.min(n):t}function ut(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return d.differenceInCalendarDays(e,t)<=0}));return B.max(r)}return n?B.max(n):t}function dt(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var a=e[i];if(k.isDate(a)){var s=xe(a,"MM.dd.yyyy");(h=r.get(s)||[]).includes(t)||(h.push(t),r.set(s,h))}else if("object"==typeof a){var c=null!==(n=Object.keys(a)[0])&&void 0!==n?n:"",l=a[c];if("string"==typeof c&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var h,p=l[u];p&&(s=xe(p,"MM.dd.yyyy"),(h=r.get(s)||[]).includes(c)||(h.push(c),r.set(s,h)))}}}return r}function ht(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,i=e.holidayName;if(k.isDate(r)){var o=xe(r,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a)||a.className!==t||(s=a.holidayNames,c=[i],s.length!==c.length||!s.every((function(e,t){return e===c[t]})))){var s,c;a.className=t;var l=a.holidayNames;a.holidayNames=l?ge(ge([],l,!0),[i],!1):[i],n.set(o,a)}}})),n}function pt(e,t,n,r,a){for(var s=a.length,l=[],u=0;u<s;u++){var d=e,h=a[u];h&&(d=i.addHours(d,w.getHours(h)),d=o.addMinutes(d,T.getMinutes(h)),d=c.addSeconds(d,R.getSeconds(h)));var p=o.addMinutes(e,(n+1)*r);I.isAfter(d,t)&&N.isBefore(d,p)&&null!=h&&l.push(h)}return l}function ft(e){return e<10?"0".concat(e):"".concat(e)}function mt(e,t){void 0===t&&(t=_e);var n=Math.ceil(O.getYear(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function gt(e){var t=e.getSeconds(),n=e.getMilliseconds();return se.toDate(e.getTime()-1e3*t-n)}function vt(e){if(!k.isDate(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function yt(e,t){if(!k.isDate(e)||!k.isDate(t))throw new Error("Invalid date received");var n=vt(e),r=vt(t);return N.isBefore(n,r)}function bt(e){return e.key===ve.Space}var Et,_t=function(e){function t(t){var r=e.call(this,t)||this;return r.inputRef=de.default.createRef(),r.onTimeChange=function(e){var t,n;r.setState({time:e});var i=r.props.date,o=i instanceof Date&&!isNaN(+i)?i:new Date;if(null==e?void 0:e.includes(":")){var a=e.split(":"),s=a[0],c=a[1];o.setHours(Number(s)),o.setMinutes(Number(c))}null===(n=(t=r.props).onChange)||void 0===n||n.call(t,o)},r.renderTimeInput=function(){var e=r.state.time,t=r.props,i=t.date,o=t.timeString,a=t.customTimeInput;return a?n.cloneElement(a,{date:i,value:e,onChange:r.onTimeChange}):de.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var e;null===(e=r.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||o)}})},r.state={time:r.props.timeString},r}return fe(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return de.default.createElement("div",{className:"react-datepicker__input-time-container"},de.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.default.createElement("div",{className:"react-datepicker-time__input-container"},de.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(n.Component),wt=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.dayEl=n.createRef(),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.handleOnKeyDown=function(e){var t,n;e.key===ve.Space&&(e.preventDefault(),e.key=ve.Enter),null===(n=(t=r.props).handleOnKeyDown)||void 0===n||n.call(t,e)},r.isSameDay=function(e){return Fe(r.props.day,e)},r.isKeyboardSelected=function(){var e;if(r.props.disabledKeyboardNavigation)return!1;var t=r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some((function(e){return r.isSameDayOrWeek(e)})):r.isSameDayOrWeek(r.props.selected),n=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!t&&r.isSameDayOrWeek(r.props.preSelection)&&!n},r.isDisabled=function(e){return void 0===e&&(e=r.props.day),Ke(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return Ye(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Fe(r.props.day,Ie(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(e){return r.props.showWeekPicker&&Fe(e,Ie(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(e){return r.isSameDay(e)||r.isSameWeek(e)},r.getHighLightedClass=function(){var e=r.props,t=e.day,n=e.highlightDates;if(!n)return!1;var i=xe(t,"MM.dd.yyyy");return n.get(i)},r.getHolidaysClass=function(){var e,t=r.props,n=t.day,i=t.holidays;if(!i)return[void 0];var o=xe(n,"MM.dd.yyyy");return i.has(o)?[null===(e=i.get(o))||void 0===e?void 0:e.className]:[void 0]},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&Ve(t,n,i)},r.isInSelectingRange=function(){var e,t=r.props,n=t.day,i=t.selectsStart,o=t.selectsEnd,a=t.selectsRange,s=t.selectsDisabledDaysInRange,c=t.startDate,l=t.endDate,u=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return!(!(i||o||a)||!u||!s&&r.isDisabled())&&(i&&l&&(N.isBefore(u,l)||Be(u,l))?Ve(n,u,l):(o&&c&&(I.isAfter(u,c)||Be(u,c))||!(!a||!c||l||!I.isAfter(u,c)&&!Be(u,c)))&&Ve(n,c,u))},r.isSelectingRangeStart=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,i=t.startDate,o=t.selectsStart,a=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return Fe(n,o?a:i)},r.isSelectingRangeEnd=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,i=t.endDate,o=t.selectsEnd,a=t.selectsRange,s=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return Fe(n,o||a?s:i)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&Fe(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&Fe(i,t)},r.isWeekend=function(){var e=_.getDay(r.props.day);return 0===e||6===e},r.isAfterMonth=function(){return void 0!==r.props.month&&(r.props.month+1)%12===C.getMonth(r.props.day)},r.isBeforeMonth=function(){return void 0!==r.props.month&&(C.getMonth(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Se())},r.isSelected=function(){var e;return r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some((function(e){return r.isSameDayOrWeek(e)})):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(e){var n,i=r.props.dayClassName?r.props.dayClassName(e):void 0;return t.clsx("react-datepicker__day",i,"react-datepicker__day--"+xe(r.props.day,"ddd",n),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var e=r.props,t=e.day,n=e.ariaLabelPrefixWhenEnabled,i=void 0===n?"Choose":n,o=e.ariaLabelPrefixWhenDisabled,a=void 0===o?"Not available":o,s=r.isDisabled()||r.isExcluded()?a:i;return"".concat(s," ").concat(xe(t,"PPPP",r.props.locale))},r.getTitle=function(){var e=r.props,t=e.day,n=e.holidays,i=void 0===n?new Map:n,o=e.excludeDates,a=xe(t,"MM.dd.yyyy"),s=[];return i.has(a)&&s.push.apply(s,i.get(a).holidayNames),r.isExcluded()&&s.push(null==o?void 0:o.filter((function(e){return e instanceof Date?Fe(e,t):Fe(null==e?void 0:e.date,t)})).map((function(e){if(!(e instanceof Date))return null==e?void 0:e.message}))),s.join(", ")},r.getTabIndex=function(){var e=r.props.selected,t=r.props.preSelection;return(!r.props.showWeekPicker||!r.props.showWeekNumber&&r.isStartOfWeek())&&(r.isKeyboardSelected()||r.isSameDay(e)&&Fe(t,e))?0:-1},r.handleFocusDay=function(){var e;r.shouldFocusDay()&&(null===(e=r.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(E.getDate(r.props.day),r.props.day):E.getDate(r.props.day)},r.render=function(){return de.default.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),""!==r.getTitle()&&de.default.createElement("span",{className:"overlay"},r.getTitle()))},r}return fe(r,e),r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},r.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(n.Component),St=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=n.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===ve.Space&&(e.preventDefault(),e.key=ve.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.props.date,t.props.selected)&&Fe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Fe(t.props.date,t.props.selected)&&Fe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null==e?void 0:e.isInputFocused)&&Fe(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return fe(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},r.prototype.render=function(){var e=this.props,n=e.weekNumber,i=e.ariaLabelPrefix,o=void 0===i?r.defaultProps.ariaLabelPrefix:i,a=e.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&Fe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{ref:this.weekNumberEl,className:t.clsx(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},r}(n.Component),Tt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDisabled=function(e){return Ke(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(e,n){t.props.onDayClick&&t.props.onDayClick(e,n)},t.handleDayMouseEnter=function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)},t.handleWeekClick=function(e,r,i){for(var o,a,s,c=new Date(e),l=0;l<7;l++){var u=new Date(e);if(u.setDate(u.getDate()+l),!t.isDisabled(u)){c=u;break}}"function"==typeof t.props.onWeekSelect&&t.props.onWeekSelect(c,r,i),t.props.showWeekPicker&&t.handleDayClick(c,i),(null!==(o=t.props.shouldCloseOnSelect)&&void 0!==o?o:n.defaultProps.shouldCloseOnSelect)&&(null===(s=(a=t.props).setOpen)||void 0===s||s.call(a,!1))},t.formatWeekNumber=function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):function(e){return S.getISOWeek(e)}(e)},t.renderDays=function(){var e=t.startOfWeek(),i=[],o=t.formatWeekNumber(e);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,e,o):void 0;i.push(de.default.createElement(St,me({key:"W"},n.defaultProps,t.props,{weekNumber:o,date:e,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map((function(i){var o=r.addDays(e,i);return de.default.createElement(wt,me({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:o.valueOf(),day:o,onClick:t.handleDayClick.bind(t,o),onMouseEnter:t.handleDayMouseEnter.bind(t,o)}))})))},t.startOfWeek=function(){return Ie(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.startOfWeek(),t.props.selected)&&Fe(t.startOfWeek(),t.props.preSelection)},t}return fe(n,e),Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{className:t.clsx(e)},this.renderDays())},n}(n.Component),Ct="two_columns",xt="three_columns",Rt="four_columns",At=((Et={})[Ct]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Et[xt]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Et[Rt]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Et);function Ot(e,t){return e?Rt:t?Ct:xt}var It=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.MONTH_REFS=ge([],Array(12),!0).map((function(){return n.createRef()})),i.QUARTER_REFS=ge([],Array(4),!0).map((function(){return n.createRef()})),i.isDisabled=function(e){return Ke(e,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,excludeDateIntervals:i.props.excludeDateIntervals,includeDateIntervals:i.props.includeDateIntervals,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(e){return Ye(e,{excludeDates:i.props.excludeDates,excludeDateIntervals:i.props.excludeDateIntervals})},i.handleDayClick=function(e,t){var n,r;null===(r=(n=i.props).onDayClick)||void 0===r||r.call(n,e,t,i.props.orderInDisplay)},i.handleDayMouseEnter=function(e){var t,n;null===(n=(t=i.props).onDayMouseEnter)||void 0===n||n.call(t,e)},i.handleMouseLeave=function(){var e,t;null===(t=(e=i.props).onMouseLeave)||void 0===t||t.call(e)},i.isRangeStartMonth=function(e){var t=i.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&je(Y.setMonth(n,e),r)},i.isRangeStartQuarter=function(e){var t=i.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Ue(q.setQuarter(n,e),r)},i.isRangeEndMonth=function(e){var t=i.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&je(Y.setMonth(n,e),o)},i.isRangeEndQuarter=function(e){var t=i.props,n=t.day,r=t.startDate,o=t.endDate;return!(!r||!o)&&Ue(q.setQuarter(n,e),o)},i.isInSelectingRangeMonth=function(e){var t,n=i.props,r=n.day,o=n.selectsStart,a=n.selectsEnd,s=n.selectsRange,c=n.startDate,l=n.endDate,u=null!==(t=i.props.selectingDate)&&void 0!==t?t:i.props.preSelection;return!(!(o||a||s)||!u)&&(o&&l?$e(u,l,e,r):(a&&c||!(!s||!c||l))&&$e(c,u,e,r))},i.isSelectingMonthRangeStart=function(e){var t;if(!i.isInSelectingRangeMonth(e))return!1;var n=i.props,r=n.day,o=n.startDate,a=n.selectsStart,s=Y.setMonth(r,e),c=null!==(t=i.props.selectingDate)&&void 0!==t?t:i.props.preSelection;return je(s,a?c:o)},i.isSelectingMonthRangeEnd=function(e){var t;if(!i.isInSelectingRangeMonth(e))return!1;var n=i.props,r=n.day,o=n.endDate,a=n.selectsEnd,s=n.selectsRange,c=Y.setMonth(r,e),l=null!==(t=i.props.selectingDate)&&void 0!==t?t:i.props.preSelection;return je(c,a||s?l:o)},i.isInSelectingRangeQuarter=function(e){var t,n=i.props,r=n.day,o=n.selectsStart,a=n.selectsEnd,s=n.selectsRange,c=n.startDate,l=n.endDate,u=null!==(t=i.props.selectingDate)&&void 0!==t?t:i.props.preSelection;return!(!(o||a||s)||!u)&&(o&&l?et(u,l,e,r):(a&&c||!(!s||!c||l))&&et(c,u,e,r))},i.isWeekInMonth=function(e){var t=i.props.day,n=r.addDays(e,6);return je(e,t)||je(n,t)},i.isCurrentMonth=function(e,t){return O.getYear(e)===O.getYear(Se())&&t===C.getMonth(Se())},i.isCurrentQuarter=function(e,t){return O.getYear(e)===O.getYear(Se())&&t===x.getQuarter(Se())},i.isSelectedMonth=function(e,t,n){return C.getMonth(n)===t&&O.getYear(e)===O.getYear(n)},i.isSelectMonthInList=function(e,t,n){return n.some((function(n){return i.isSelectedMonth(e,t,n)}))},i.isSelectedQuarter=function(e,t,n){return x.getQuarter(e)===t&&O.getYear(e)===O.getYear(n)},i.renderWeeks=function(){for(var e=[],t=i.props.fixedHeight,n=0,r=!1,o=Ie(Ne(i.props.day),i.props.locale,i.props.calendarStartDay),a=i.props.selected?function(e){return i.props.showWeekPicker?Ie(e,i.props.locale,i.props.calendarStartDay):i.props.selected}(i.props.selected):void 0,s=i.props.preSelection?function(e){return i.props.showWeekPicker?Ie(e,i.props.locale,i.props.calendarStartDay):i.props.preSelection}(i.props.preSelection):void 0;e.push(de.default.createElement(Tt,me({},i.props,{ariaLabelPrefix:i.props.weekAriaLabelPrefix,key:n,day:o,month:C.getMonth(i.props.day),onDayClick:i.handleDayClick,onDayMouseEnter:i.handleDayMouseEnter,selected:a,preSelection:s,showWeekNumber:i.props.showWeekNumbers}))),!r;){n++,o=l.addWeeks(o,1);var c=t&&n>=6,u=!t&&!i.isWeekInMonth(o);if(c||u){if(!i.props.peekNextMonth)break;r=!0}}return e},i.onMonthClick=function(e,t){var n=i.isMonthDisabledForLabelDate(t),r=n.isDisabled,o=n.labelDate;r||i.handleDayClick(Ne(o),e)},i.onMonthMouseEnter=function(e){var t=i.isMonthDisabledForLabelDate(e),n=t.isDisabled,r=t.labelDate;n||i.handleDayMouseEnter(Ne(r))},i.handleMonthNavigation=function(e,t){var n,r,o,a;null===(r=(n=i.props).setPreSelection)||void 0===r||r.call(n,t),null===(a=null===(o=i.MONTH_REFS[e])||void 0===o?void 0:o.current)||void 0===a||a.focus()},i.handleKeyboardNavigation=function(e,t,n){var r,o=i.props,s=o.selected,c=o.preSelection,l=o.setPreSelection,u=o.minDate,d=o.maxDate,h=o.showFourColumnMonthYearPicker,p=o.showTwoColumnMonthYearPicker;if(c){var f=Ot(h,p),m=i.getVerticalOffset(f),g=null===(r=At[f])||void 0===r?void 0:r.grid,v=function(e,t,n){var r,i,o=t,s=n;switch(e){case ve.ArrowRight:o=a.addMonths(t,1),s=11===n?0:n+1;break;case ve.ArrowLeft:o=re.subMonths(t,1),s=0===n?11:n-1;break;case ve.ArrowUp:o=re.subMonths(t,m),s=(null===(r=null==g?void 0:g[0])||void 0===r?void 0:r.includes(n))?n+12-m:n-m;break;case ve.ArrowDown:o=a.addMonths(t,m),s=(null===(i=null==g?void 0:g[g.length-1])||void 0===i?void 0:i.includes(n))?n-12+m:n+m}return{newCalculatedDate:o,newCalculatedMonth:s}};if(t!==ve.Enter){var y=function(e,t,n){for(var r=e,o=!1,a=0,s=v(r,t,n),c=s.newCalculatedDate,l=s.newCalculatedMonth;!o;){if(a>=40){c=t,l=n;break}var h;u&&c<u&&(r=ve.ArrowRight,c=(h=v(r,c,l)).newCalculatedDate,l=h.newCalculatedMonth),d&&c>d&&(r=ve.ArrowLeft,c=(h=v(r,c,l)).newCalculatedDate,l=h.newCalculatedMonth),Xe(c,i.props)?(c=(h=v(r,c,l)).newCalculatedDate,l=h.newCalculatedMonth):o=!0,a++}return{newCalculatedDate:c,newCalculatedMonth:l}}(t,c,n),b=y.newCalculatedDate,E=y.newCalculatedMonth;switch(t){case ve.ArrowRight:case ve.ArrowLeft:case ve.ArrowUp:case ve.ArrowDown:i.handleMonthNavigation(E,b)}}else i.isMonthDisabled(n)||(i.onMonthClick(e,n),null==l||l(s))}},i.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=At[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},i.onMonthKeyDown=function(e,t){var n=i.props,r=n.disabledKeyboardNavigation,o=n.handleOnMonthKeyDown,a=e.key;a!==ve.Tab&&e.preventDefault(),r||i.handleKeyboardNavigation(e,a,t),o&&o(e)},i.onQuarterClick=function(e,t){var n=q.setQuarter(i.props.day,t);Qe(n,i.props)||i.handleDayClick(Pe(n),e)},i.onQuarterMouseEnter=function(e){var t=q.setQuarter(i.props.day,e);Qe(t,i.props)||i.handleDayMouseEnter(Pe(t))},i.handleQuarterNavigation=function(e,t){var n,r,o,a;i.isDisabled(t)||i.isExcluded(t)||(null===(r=(n=i.props).setPreSelection)||void 0===r||r.call(n,t),null===(a=null===(o=i.QUARTER_REFS[e-1])||void 0===o?void 0:o.current)||void 0===a||a.focus())},i.onQuarterKeyDown=function(e,t){var n,r,o=e.key;if(!i.props.disabledKeyboardNavigation)switch(o){case ve.Enter:i.onQuarterClick(e,t),null===(r=(n=i.props).setPreSelection)||void 0===r||r.call(n,i.props.selected);break;case ve.ArrowRight:if(!i.props.preSelection)break;i.handleQuarterNavigation(4===t?1:t+1,s.addQuarters(i.props.preSelection,1));break;case ve.ArrowLeft:if(!i.props.preSelection)break;i.handleQuarterNavigation(1===t?4:t-1,ie.subQuarters(i.props.preSelection,1))}},i.isMonthDisabledForLabelDate=function(e){var t,n=i.props,r=n.day,o=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,l=Y.setMonth(r,e);return{isDisabled:null!==(t=(o||a||s||c)&&qe(l,i.props))&&void 0!==t&&t,labelDate:l}},i.isMonthDisabled=function(e){return i.isMonthDisabledForLabelDate(e).isDisabled},i.getMonthClassNames=function(e){var n=i.props,r=n.day,o=n.startDate,a=n.endDate,s=n.preSelection,c=n.monthClassName,l=c?c(Y.setMonth(r,e)):void 0,u=i.getSelection();return t.clsx("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":i.isMonthDisabled(e),"react-datepicker__month-text--selected":u?i.isSelectMonthInList(r,e,u):void 0,"react-datepicker__month-text--keyboard-selected":!i.props.disabledKeyboardNavigation&&s&&i.isSelectedMonth(r,e,s)&&!i.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":i.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":o&&a?$e(o,a,e,r):void 0,"react-datepicker__month-text--range-start":i.isRangeStartMonth(e),"react-datepicker__month-text--range-end":i.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":i.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":i.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":i.isCurrentMonth(r,e)})},i.getTabIndex=function(e){if(null==i.props.preSelection)return"-1";var t=C.getMonth(i.props.preSelection),n=i.isMonthDisabledForLabelDate(t).isDisabled;return e!==t||n||i.props.disabledKeyboardNavigation?"-1":"0"},i.getQuarterTabIndex=function(e){if(null==i.props.preSelection)return"-1";var t=x.getQuarter(i.props.preSelection),n=Qe(i.props.day,i.props);return e!==t||n||i.props.disabledKeyboardNavigation?"-1":"0"},i.getAriaLabel=function(e){var t=i.props,n=t.chooseDayAriaLabelPrefix,r=void 0===n?"Choose":n,o=t.disabledDayAriaLabelPrefix,a=void 0===o?"Not available":o,s=t.day,c=t.locale,l=Y.setMonth(s,e),u=i.isDisabled(l)||i.isExcluded(l)?a:r;return"".concat(u," ").concat(xe(l,"MMMM yyyy",c))},i.getQuarterClassNames=function(e){var n=i.props,r=n.day,o=n.startDate,a=n.endDate,s=n.selected,c=n.minDate,l=n.maxDate,u=n.excludeDates,d=n.includeDates,h=n.filterDate,p=n.preSelection,f=n.disabledKeyboardNavigation,m=(c||l||u||d||h)&&Qe(q.setQuarter(r,e),i.props);return t.clsx("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":s?i.isSelectedQuarter(r,e,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!f&&p&&i.isSelectedQuarter(r,e,p)&&!m,"react-datepicker__quarter-text--in-selecting-range":i.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":o&&a?et(o,a,e,r):void 0,"react-datepicker__quarter-text--range-start":i.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":i.isRangeEndQuarter(e)})},i.getMonthContent=function(e){var t=i.props,n=t.showFullMonthYearPicker,r=t.renderMonthContent,o=t.locale,a=t.day,s=ze(e,o),c=Ge(e,o);return r?r(e,s,c,a):n?c:s},i.getQuarterContent=function(e){var t,n=i.props,r=n.renderQuarterContent,o=function(e,t){return xe(q.setQuarter(Se(),e),"QQQ",t)}(e,n.locale);return null!==(t=null==r?void 0:r(e,o))&&void 0!==t?t:o},i.renderMonths=function(){var e,t=i.props,n=t.showTwoColumnMonthYearPicker,r=t.showFourColumnMonthYearPicker,o=t.day,a=t.selected,s=null===(e=At[Ot(r,n)])||void 0===e?void 0:e.grid;return null==s?void 0:s.map((function(e,t){return de.default.createElement("div",{className:"react-datepicker__month-wrapper",key:t},e.map((function(e,t){return de.default.createElement("div",{ref:i.MONTH_REFS[e],key:t,onClick:function(t){i.onMonthClick(t,e)},onKeyDown:function(t){bt(t)&&(t.preventDefault(),t.key=ve.Enter),i.onMonthKeyDown(t,e)},onMouseEnter:i.props.usePointerEvent?void 0:function(){return i.onMonthMouseEnter(e)},onPointerEnter:i.props.usePointerEvent?function(){return i.onMonthMouseEnter(e)}:void 0,tabIndex:Number(i.getTabIndex(e)),className:i.getMonthClassNames(e),"aria-disabled":i.isMonthDisabled(e),role:"option","aria-label":i.getAriaLabel(e),"aria-current":i.isCurrentMonth(o,e)?"date":void 0,"aria-selected":a?i.isSelectedMonth(o,e,a):void 0},i.getMonthContent(e))})))}))},i.renderQuarters=function(){var e=i.props,t=e.day,n=e.selected;return de.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,r){return de.default.createElement("div",{key:r,ref:i.QUARTER_REFS[r],role:"option",onClick:function(t){i.onQuarterClick(t,e)},onKeyDown:function(t){i.onQuarterKeyDown(t,e)},onMouseEnter:i.props.usePointerEvent?void 0:function(){return i.onQuarterMouseEnter(e)},onPointerEnter:i.props.usePointerEvent?function(){return i.onQuarterMouseEnter(e)}:void 0,className:i.getQuarterClassNames(e),"aria-selected":n?i.isSelectedQuarter(t,e,n):void 0,tabIndex:Number(i.getQuarterTabIndex(e)),"aria-current":i.isCurrentQuarter(t,e)?"date":void 0},i.getQuarterContent(e))})))},i.getClassNames=function(){var e=i.props,n=e.selectingDate,r=e.selectsStart,o=e.selectsEnd,a=e.showMonthYearPicker,s=e.showQuarterYearPicker,c=e.showWeekPicker;return t.clsx("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":c})},i}return fe(i,e),i.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},i.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,o=void 0===i?"Month ":i,a=o?o.trim()+" ":"";return de.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(a).concat(xe(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},i}(n.Component),Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return de.default.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?de.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return fe(t,e),t.prototype.render=function(){return de.default.createElement(be,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(n.Component),kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return de.default.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return de.default.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return de.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},de.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return de.default.createElement(Nt,me({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return fe(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return ze(e,t.props.locale)}:function(e){return Ge(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return de.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(n.Component);function Pt(e,t){for(var n=[],r=Ne(e),i=Ne(t);!I.isAfter(r,i);)n.push(Se(r)),r=a.addMonths(r,1);return n}var Dt=function(e){function n(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=A.getTime(e),r=Me(n.props.date,e)&&je(n.props.date,e);return de.default.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?de.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",xe(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Pt(n.props.minDate,n.props.maxDate)},n}return fe(n,e),n.prototype.render=function(){var e=t.clsx({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.default.createElement(be,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(n.Component),Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Ne(t.props.minDate),n=Ne(t.props.maxDate),r=[];!I.isAfter(e,n);){var i=A.getTime(e);r.push(de.default.createElement("option",{key:i,value:i},xe(e,t.props.dateFormat,t.props.locale))),e=a.addMonths(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return de.default.createElement("select",{value:A.getTime(Ne(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=xe(t.props.date,t.props.dateFormat,t.props.locale);return de.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},de.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return de.default.createElement(Dt,me({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Se(e);Me(t.props.date,n)&&je(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return fe(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(n.Component),Mt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,i;n.list&&(n.list.scrollTop=null!==(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==i?i:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&it(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&rt(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=e,gt(n.props.selected).getTime()===gt(t).getTime());var t},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&it(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&rt(e,n.props)},n.liClasses=function(e){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*w.getHours(e)+60*T.getMinutes(e)+R.getSeconds(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!=0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(e,t){var r,i;e.key===ve.Space&&(e.preventDefault(),e.key=ve.Enter),(e.key===ve.ArrowUp||e.key===ve.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===ve.ArrowDown||e.key===ve.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===ve.Enter&&n.handleClick(t),null===(i=(r=n.props).handleOnKeyDown)||void 0===i||i.call(r,e)},n.renderTimes=function(){for(var e,r=[],i=n.props.format?n.props.format:"p",a=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||Se(),c=Oe(s),l=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(s),d=u/a,h=0;h<d;h++){var p=o.addMinutes(c,h*a);if(r.push(p),l){var f=pt(c,p,h,a,l);r=r.concat(f)}}var m=r.reduce((function(e,t){return t.getTime()<=s.getTime()?t:e}),r[0]);return r.map((function(e){return de.default.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===m&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===m?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},xe(e,i,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?de.default.createElement(de.default.Fragment,null):de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},de.default.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return fe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return de.default.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),de.default.createElement("div",{className:"react-datepicker__time"},de.default.createElement("div",{className:"react-datepicker__time-box"},de.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(n.Component),jt=function(e){function r(r){var i=e.call(this,r)||this;return i.YEAR_REFS=ge([],Array(i.props.yearItemNumber),!0).map((function(){return n.createRef()})),i.isDisabled=function(e){return Ke(e,{minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,includeDates:i.props.includeDates,filterDate:i.props.filterDate})},i.isExcluded=function(e){return Ye(e,{excludeDates:i.props.excludeDates})},i.selectingDate=function(){var e;return null!==(e=i.props.selectingDate)&&void 0!==e?e:i.props.preSelection},i.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,n;null===(n=null===(t=i.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===n||n.focus()}))},i.handleYearClick=function(e,t){i.props.onDayClick&&i.props.onDayClick(e,t)},i.handleYearNavigation=function(e,t){var n,r,o,a,s=i.props,c=s.date,l=s.yearItemNumber;if(void 0!==c&&void 0!==l){var u=mt(c,l).startPeriod;i.isDisabled(t)||i.isExcluded(t)||(null===(r=(n=i.props).setPreSelection)||void 0===r||r.call(n,t),e-u<0?i.updateFocusOnPaginate(l-(u-e)):e-u>=l?i.updateFocusOnPaginate(Math.abs(l-(e-u))):null===(a=null===(o=i.YEAR_REFS[e-u])||void 0===o?void 0:o.current)||void 0===a||a.focus())}},i.isSameDay=function(e,t){return Fe(e,t)},i.isCurrentYear=function(e){return e===O.getYear(Se())},i.isRangeStart=function(e){return i.props.startDate&&i.props.endDate&&Me(X.setYear(Se(),e),i.props.startDate)},i.isRangeEnd=function(e){return i.props.startDate&&i.props.endDate&&Me(X.setYear(Se(),e),i.props.endDate)},i.isInRange=function(e){return Je(e,i.props.startDate,i.props.endDate)},i.isInSelectingRange=function(e){var t=i.props,n=t.selectsStart,r=t.selectsEnd,o=t.selectsRange,a=t.startDate,s=t.endDate;return!(!(n||r||o)||!i.selectingDate())&&(n&&s?Je(e,i.selectingDate(),s):(r&&a||!(!o||!a||s))&&Je(e,a,i.selectingDate()))},i.isSelectingRangeStart=function(e){var t;if(!i.isInSelectingRange(e))return!1;var n=i.props,r=n.startDate,o=n.selectsStart;return Me(X.setYear(Se(),e),o?null!==(t=i.selectingDate())&&void 0!==t?t:null:null!=r?r:null)},i.isSelectingRangeEnd=function(e){var t;if(!i.isInSelectingRange(e))return!1;var n=i.props,r=n.endDate,o=n.selectsEnd,a=n.selectsRange;return Me(X.setYear(Se(),e),o||a?null!==(t=i.selectingDate())&&void 0!==t?t:null:null!=r?r:null)},i.isKeyboardSelected=function(e){if(void 0!==i.props.date&&null!=i.props.selected&&null!=i.props.preSelection){var t=i.props,n=t.minDate,r=t.maxDate,o=t.excludeDates,a=t.includeDates,s=t.filterDate,c=ke(X.setYear(i.props.date,e)),l=(n||r||o||a||s)&&Ze(e,i.props);return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!Fe(c,ke(i.props.selected))&&Fe(c,ke(i.props.preSelection))&&!l}},i.onYearClick=function(e,t){var n=i.props.date;void 0!==n&&i.handleYearClick(ke(X.setYear(n,t)),e)},i.onYearKeyDown=function(e,t){var n,r,o=e.key,a=i.props,s=a.date,c=a.yearItemNumber,l=a.handleOnKeyDown;if(o!==ve.Tab&&e.preventDefault(),!i.props.disabledKeyboardNavigation)switch(o){case ve.Enter:if(null==i.props.selected)break;i.onYearClick(e,t),null===(r=(n=i.props).setPreSelection)||void 0===r||r.call(n,i.props.selected);break;case ve.ArrowRight:if(null==i.props.preSelection)break;i.handleYearNavigation(t+1,u.addYears(i.props.preSelection,1));break;case ve.ArrowLeft:if(null==i.props.preSelection)break;i.handleYearNavigation(t-1,ae.subYears(i.props.preSelection,1));break;case ve.ArrowUp:if(void 0===s||void 0===c||null==i.props.preSelection)break;var d=mt(s,c).startPeriod;if((f=t-(p=3))<d){var h=c%p;t>=d&&t<d+h?p=h:p+=h,f=t-p}i.handleYearNavigation(f,ae.subYears(i.props.preSelection,p));break;case ve.ArrowDown:if(void 0===s||void 0===c||null==i.props.preSelection)break;var p,f,m=mt(s,c).endPeriod;(f=t+(p=3))>m&&(h=c%p,t<=m&&t>m-h?p=h:p+=h,f=t+p),i.handleYearNavigation(f,u.addYears(i.props.preSelection,p))}l&&l(e)},i.getYearClassNames=function(e){var n=i.props,r=n.date,o=n.minDate,a=n.maxDate,s=n.selected,c=n.excludeDates,l=n.includeDates,u=n.filterDate,d=n.yearClassName;return t.clsx("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null==d?void 0:d(X.setYear(r,e)):void 0,{"react-datepicker__year-text--selected":s?e===O.getYear(s):void 0,"react-datepicker__year-text--disabled":(o||a||c||l||u)&&Ze(e,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(e),"react-datepicker__year-text--range-start":i.isRangeStart(e),"react-datepicker__year-text--range-end":i.isRangeEnd(e),"react-datepicker__year-text--in-range":i.isInRange(e),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(e),"react-datepicker__year-text--today":i.isCurrentYear(e)})},i.getYearTabIndex=function(e){if(i.props.disabledKeyboardNavigation||null==i.props.preSelection)return"-1";var t=O.getYear(i.props.preSelection),n=Ze(e,i.props);return e!==t||n?"-1":"0"},i.getYearContainerClassNames=function(){var e=i.props,n=e.selectingDate,r=e.selectsStart,o=e.selectsEnd,a=e.selectsRange;return t.clsx("react-datepicker__year",{"react-datepicker__year--selecting-range":n&&(r||o||a)})},i.getYearContent=function(e){return i.props.renderYearContent?i.props.renderYearContent(e):e},i}return fe(r,e),r.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,o=n.onYearMouseEnter,a=n.onYearMouseLeave;if(void 0===r)return null;for(var s=mt(r,i),c=s.startPeriod,l=s.endPeriod,u=function(n){t.push(de.default.createElement("div",{ref:d.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){bt(t)&&(t.preventDefault(),t.key=ve.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(d.getYearTabIndex(n)),className:d.getYearClassNames(n),onMouseEnter:d.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:d.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:d.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerLeave:d.props.usePointerEvent?function(e){return a(e,n)}:void 0,key:n,"aria-current":d.isCurrentYear(n)?"date":void 0},d.getYearContent(n)))},d=this,h=c;h<=l;h++)u(h);return de.default.createElement("div",{className:this.getYearContainerClassNames()},de.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},r}(n.Component);function Ut(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=O.getYear(n)<=a),r&&s&&(s=O.getYear(r)>=a),s&&i.push(a)}return i}var Ft,Bt=function(e){function r(t){var r=e.call(this,t)||this;r.renderOptions=function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return de.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:r.onChange.bind(r,t),"aria-selected":e===t?"true":void 0},e===t?de.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),n=r.props.minDate?O.getYear(r.props.minDate):null,i=r.props.maxDate?O.getYear(r.props.maxDate):null;return i&&r.state.yearsList.find((function(e){return e===i}))||t.unshift(de.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(de.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:Ut(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=n.createRef(),r}return fe(r,e),r.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},r.prototype.render=function(){var e=t.clsx({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.default.createElement(be,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(n.Component),Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?O.getYear(t.props.minDate):1900,n=t.props.maxDate?O.getYear(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(de.default.createElement("option",{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return de.default.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return de.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},de.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return de.default.createElement(Bt,me({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;null===(i=(r=t.props).onSelect)||void 0===i||i.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return fe(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(n.Component),Wt=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Ht=function(e){function i(o){var c=e.call(this,o)||this;return c.monthContainer=void 0,c.handleClickOutside=function(e){c.props.onClickOutside(e)},c.setClickOutsideRef=function(){return c.containerRef.current},c.handleDropdownFocus=function(e){var t,n,r,i;r=e.target,i=(r.className||"").split(/\s+/),Wt.some((function(e){return i.indexOf(e)>=0}))&&(null===(n=(t=c.props).onDropdownFocus)||void 0===n||n.call(t,e))},c.getDateInView=function(){var e=c.props,t=e.preSelection,n=e.selected,r=e.openToDate,i=lt(c.props),o=ut(c.props),a=Se();return r||n||t||(i&&N.isBefore(a,i)?i:o&&I.isAfter(a,o)?o:a)},c.increaseMonth=function(){c.setState((function(e){var t=e.date;return{date:a.addMonths(t,1)}}),(function(){return c.handleMonthChange(c.state.date)}))},c.decreaseMonth=function(){c.setState((function(e){var t=e.date;return{date:re.subMonths(t,1)}}),(function(){return c.handleMonthChange(c.state.date)}))},c.handleDayClick=function(e,t,n){c.props.onSelect(e,t,n),c.props.setPreSelection&&c.props.setPreSelection(e)},c.handleDayMouseEnter=function(e){c.setState({selectingDate:e}),c.props.onDayMouseEnter&&c.props.onDayMouseEnter(e)},c.handleMonthMouseLeave=function(){c.setState({selectingDate:void 0}),c.props.onMonthMouseLeave&&c.props.onMonthMouseLeave()},c.handleYearMouseEnter=function(e,t){c.setState({selectingDate:X.setYear(Se(),t)}),c.props.onYearMouseEnter&&c.props.onYearMouseEnter(e,t)},c.handleYearMouseLeave=function(e,t){c.props.onYearMouseLeave&&c.props.onYearMouseLeave(e,t)},c.handleYearChange=function(e){var t,n,r,i;null===(n=(t=c.props).onYearChange)||void 0===n||n.call(t,e),c.setState({isRenderAriaLiveMessage:!0}),c.props.adjustDateOnChange&&(c.props.onSelect(e),null===(i=(r=c.props).setOpen)||void 0===i||i.call(r,!0)),c.props.setPreSelection&&c.props.setPreSelection(e)},c.handleMonthChange=function(e){var t,n;c.handleCustomMonthChange(e),c.props.adjustDateOnChange&&(c.props.onSelect(e),null===(n=(t=c.props).setOpen)||void 0===n||n.call(t,!0)),c.props.setPreSelection&&c.props.setPreSelection(e)},c.handleCustomMonthChange=function(e){var t,n;null===(n=(t=c.props).onMonthChange)||void 0===n||n.call(t,e),c.setState({isRenderAriaLiveMessage:!0})},c.handleMonthYearChange=function(e){c.handleYearChange(e),c.handleMonthChange(e)},c.changeYear=function(e){c.setState((function(t){var n=t.date;return{date:X.setYear(n,Number(e))}}),(function(){return c.handleYearChange(c.state.date)}))},c.changeMonth=function(e){c.setState((function(t){var n=t.date;return{date:Y.setMonth(n,Number(e))}}),(function(){return c.handleMonthChange(c.state.date)}))},c.changeMonthYear=function(e){c.setState((function(t){var n=t.date;return{date:X.setYear(Y.setMonth(n,C.getMonth(e)),O.getYear(e))}}),(function(){return c.handleMonthYearChange(c.state.date)}))},c.header=function(e){void 0===e&&(e=c.state.date);var n=Ie(e,c.props.locale,c.props.calendarStartDay),i=[];return c.props.showWeekNumbers&&i.push(de.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},c.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map((function(e){var i=r.addDays(n,e),o=c.formatWeekday(i,c.props.locale),a=c.props.weekDayClassName?c.props.weekDayClassName(i):void 0;return de.default.createElement("div",{key:e,"aria-label":xe(i,"EEEE",c.props.locale),className:t.clsx("react-datepicker__day-name",a)},o)})))},c.formatWeekday=function(e,t){return c.props.formatWeekDay?function(e,t,n){return t(xe(e,"EEEE",n))}(e,c.props.formatWeekDay,t):c.props.useWeekdaysShort?function(e,t){return xe(e,"EEE",t)}(e,t):function(e,t){return xe(e,"EEEEEE",t)}(e,t)},c.decreaseYear=function(){c.setState((function(e){var t,n=e.date;return{date:ae.subYears(n,c.props.showYearPicker?null!==(t=c.props.yearItemNumber)&&void 0!==t?t:i.defaultProps.yearItemNumber:1)}}),(function(){return c.handleYearChange(c.state.date)}))},c.clearSelectingDate=function(){c.setState({selectingDate:void 0})},c.renderPreviousButton=function(){var e;if(!c.props.renderCustomHeader){var t;switch(!0){case c.props.showMonthYearPicker:t=st(c.state.date,c.props);break;case c.props.showYearPicker:t=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.yearItemNumber,o=void 0===i?_e:i,a=mt(ke(ae.subYears(e,o)),o).endPeriod,s=r&&O.getYear(r);return s&&s>a||!1}(c.state.date,c.props);break;case c.props.showQuarterYearPicker:t=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,o=te.startOfYear(e),a=ie.subQuarters(o,1);return r&&p.differenceInCalendarQuarters(r,a)>0||i&&i.every((function(e){return p.differenceInCalendarQuarters(e,a)>0}))||!1}(c.state.date,c.props);break;default:t=ot(c.state.date,c.props)}if(((null!==(e=c.props.forceShowMonthNavigation)&&void 0!==e?e:i.defaultProps.forceShowMonthNavigation)||c.props.showDisabledMonthNavigation||!t)&&!c.props.showTimeSelectOnly){var n=["react-datepicker__navigation","react-datepicker__navigation--previous"],r=c.decreaseMonth;(c.props.showMonthYearPicker||c.props.showQuarterYearPicker||c.props.showYearPicker)&&(r=c.decreaseYear),t&&c.props.showDisabledMonthNavigation&&(n.push("react-datepicker__navigation--previous--disabled"),r=void 0);var o=c.props.showMonthYearPicker||c.props.showQuarterYearPicker||c.props.showYearPicker,a=c.props,s=a.previousMonthButtonLabel,l=void 0===s?i.defaultProps.previousMonthButtonLabel:s,u=a.previousYearButtonLabel,d=void 0===u?i.defaultProps.previousYearButtonLabel:u,h=c.props,f=h.previousMonthAriaLabel,m=void 0===f?"string"==typeof l?l:"Previous Month":f,g=h.previousYearAriaLabel,v=void 0===g?"string"==typeof d?d:"Previous Year":g;return de.default.createElement("button",{type:"button",className:n.join(" "),onClick:r,onKeyDown:c.props.handleOnKeyDown,"aria-label":o?v:m},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},o?d:l))}}},c.increaseYear=function(){c.setState((function(e){var t,n=e.date;return{date:u.addYears(n,c.props.showYearPicker?null!==(t=c.props.yearItemNumber)&&void 0!==t?t:i.defaultProps.yearItemNumber:1)}}),(function(){return c.handleYearChange(c.state.date)}))},c.renderNextButton=function(){var e;if(!c.props.renderCustomHeader){var t;switch(!0){case c.props.showMonthYearPicker:t=ct(c.state.date,c.props);break;case c.props.showYearPicker:t=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.yearItemNumber,o=void 0===i?_e:i,a=mt(u.addYears(e,o),o).startPeriod,s=r&&O.getYear(r);return s&&s<a||!1}(c.state.date,c.props);break;case c.props.showQuarterYearPicker:t=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,o=y.endOfYear(e),a=s.addQuarters(o,1);return r&&p.differenceInCalendarQuarters(a,r)>0||i&&i.every((function(e){return p.differenceInCalendarQuarters(a,e)>0}))||!1}(c.state.date,c.props);break;default:t=at(c.state.date,c.props)}if(((null!==(e=c.props.forceShowMonthNavigation)&&void 0!==e?e:i.defaultProps.forceShowMonthNavigation)||c.props.showDisabledMonthNavigation||!t)&&!c.props.showTimeSelectOnly){var n=["react-datepicker__navigation","react-datepicker__navigation--next"];c.props.showTimeSelect&&n.push("react-datepicker__navigation--next--with-time"),c.props.todayButton&&n.push("react-datepicker__navigation--next--with-today-button");var r=c.increaseMonth;(c.props.showMonthYearPicker||c.props.showQuarterYearPicker||c.props.showYearPicker)&&(r=c.increaseYear),t&&c.props.showDisabledMonthNavigation&&(n.push("react-datepicker__navigation--next--disabled"),r=void 0);var o=c.props.showMonthYearPicker||c.props.showQuarterYearPicker||c.props.showYearPicker,a=c.props,l=a.nextMonthButtonLabel,d=void 0===l?i.defaultProps.nextMonthButtonLabel:l,h=a.nextYearButtonLabel,f=void 0===h?i.defaultProps.nextYearButtonLabel:h,m=c.props,g=m.nextMonthAriaLabel,v=void 0===g?"string"==typeof d?d:"Next Month":g,b=m.nextYearAriaLabel,E=void 0===b?"string"==typeof f?f:"Next Year":b;return de.default.createElement("button",{type:"button",className:n.join(" "),onClick:r,onKeyDown:c.props.handleOnKeyDown,"aria-label":o?E:v},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},o?f:d))}}},c.renderCurrentMonth=function(e){void 0===e&&(e=c.state.date);var t=["react-datepicker__current-month"];return c.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),c.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),c.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),de.default.createElement("h2",{className:t.join(" ")},xe(e,c.props.dateFormat,c.props.locale))},c.renderYearDropdown=function(e){if(void 0===e&&(e=!1),c.props.showYearDropdown&&!e)return de.default.createElement(Vt,me({},i.defaultProps,c.props,{date:c.state.date,onChange:c.changeYear,year:O.getYear(c.state.date)}))},c.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),c.props.showMonthDropdown&&!e)return de.default.createElement(kt,me({},i.defaultProps,c.props,{month:C.getMonth(c.state.date),onChange:c.changeMonth}))},c.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),c.props.showMonthYearDropdown&&!e)return de.default.createElement(Lt,me({},i.defaultProps,c.props,{date:c.state.date,onChange:c.changeMonthYear}))},c.handleTodayButtonClick=function(e){c.props.onSelect(De(),e),c.props.setPreSelection&&c.props.setPreSelection(De())},c.renderTodayButton=function(){if(c.props.todayButton&&!c.props.showTimeSelectOnly)return de.default.createElement("div",{className:"react-datepicker__today-button",onClick:c.handleTodayButtonClick},c.props.todayButton)},c.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return de.default.createElement("div",{className:"react-datepicker__header ".concat(c.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},c.renderCurrentMonth(t),de.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(c.props.dropdownMode),onFocus:c.handleDropdownFocus},c.renderMonthDropdown(0!==n),c.renderMonthYearDropdown(0!==n),c.renderYearDropdown(0!==n)),de.default.createElement("div",{className:"react-datepicker__day-names"},c.header(t)))},c.renderCustomHeader=function(e){var t,n,r=e.monthDate,i=e.i;if(c.props.showTimeSelect&&!c.state.monthContainer||c.props.showTimeSelectOnly)return null;var o=ot(c.state.date,c.props),a=at(c.state.date,c.props),s=st(c.state.date,c.props),l=ct(c.state.date,c.props),u=!c.props.showMonthYearPicker&&!c.props.showQuarterYearPicker&&!c.props.showYearPicker;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:c.props.onDropdownFocus},null===(n=(t=c.props).renderCustomHeader)||void 0===n?void 0:n.call(t,me(me({},c.state),{customHeaderCount:i,monthDate:r,changeMonth:c.changeMonth,changeYear:c.changeYear,decreaseMonth:c.decreaseMonth,increaseMonth:c.increaseMonth,decreaseYear:c.decreaseYear,increaseYear:c.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:a,prevYearButtonDisabled:s,nextYearButtonDisabled:l})),u&&de.default.createElement("div",{className:"react-datepicker__day-names"},c.header(r)))},c.renderYearHeader=function(e){var t=e.monthDate,n=c.props,r=n.showYearPicker,o=n.yearItemNumber,a=mt(t,void 0===o?i.defaultProps.yearItemNumber:o),s=a.startPeriod,l=a.endPeriod;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},r?"".concat(s," - ").concat(l):O.getYear(t))},c.renderHeader=function(e){var t=e.monthDate,n=e.i,r={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==c.props.renderCustomHeader:return c.renderCustomHeader(r);case c.props.showMonthYearPicker||c.props.showQuarterYearPicker||c.props.showYearPicker:return c.renderYearHeader(r);default:return c.renderDefaultHeader(r)}},c.renderMonths=function(){var e,t;if(!c.props.showTimeSelectOnly&&!c.props.showYearPicker){for(var n=[],r=null!==(e=c.props.monthsShown)&&void 0!==e?e:i.defaultProps.monthsShown,o=c.props.showPreviousMonths?r-1:0,s=c.props.showMonthYearPicker||c.props.showQuarterYearPicker?u.addYears(c.state.date,o):re.subMonths(c.state.date,o),l=null!==(t=c.props.monthSelectedIn)&&void 0!==t?t:o,d=0;d<r;++d){var h=d-l+o,p=c.props.showMonthYearPicker||c.props.showQuarterYearPicker?u.addYears(s,h):a.addMonths(s,h),f="month-".concat(d),m=d<r-1,g=d>0;n.push(de.default.createElement("div",{key:f,ref:function(e){c.monthContainer=null!=e?e:void 0},className:"react-datepicker__month-container"},c.renderHeader({monthDate:p,i:d}),de.default.createElement(It,me({},i.defaultProps,c.props,{ariaLabelPrefix:c.props.monthAriaLabelPrefix,day:p,onDayClick:c.handleDayClick,handleOnKeyDown:c.props.handleOnDayKeyDown,handleOnMonthKeyDown:c.props.handleOnKeyDown,onDayMouseEnter:c.handleDayMouseEnter,onMouseLeave:c.handleMonthMouseLeave,orderInDisplay:d,selectingDate:c.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:g}))))}return n}},c.renderYears=function(){if(!c.props.showTimeSelectOnly)return c.props.showYearPicker?de.default.createElement("div",{className:"react-datepicker__year--container"},c.renderHeader({monthDate:c.state.date}),de.default.createElement(jt,me({},i.defaultProps,c.props,{selectingDate:c.state.selectingDate,date:c.state.date,onDayClick:c.handleDayClick,clearSelectingDate:c.clearSelectingDate,onYearMouseEnter:c.handleYearMouseEnter,onYearMouseLeave:c.handleYearMouseLeave}))):void 0},c.renderTimeSection=function(){if(c.props.showTimeSelect&&(c.state.monthContainer||c.props.showTimeSelectOnly))return de.default.createElement(Mt,me({},i.defaultProps,c.props,{onChange:c.props.onTimeChange,format:c.props.timeFormat,intervals:c.props.timeIntervals,monthRef:c.state.monthContainer}))},c.renderInputTimeSection=function(){var e=c.props.selected?new Date(c.props.selected):void 0,t=e&&Ce(e)&&Boolean(c.props.selected)?"".concat(ft(e.getHours()),":").concat(ft(e.getMinutes())):"";if(c.props.showTimeInput)return de.default.createElement(_t,me({},i.defaultProps,c.props,{date:e,timeString:t,onChange:c.props.onTimeChange}))},c.renderAriaLiveRegion=function(){var e,t,n=mt(c.state.date,null!==(e=c.props.yearItemNumber)&&void 0!==e?e:i.defaultProps.yearItemNumber),r=n.startPeriod,o=n.endPeriod;return t=c.props.showYearPicker?"".concat(r," - ").concat(o):c.props.showMonthYearPicker||c.props.showQuarterYearPicker?O.getYear(c.state.date):"".concat(Ge(C.getMonth(c.state.date),c.props.locale)," ").concat(O.getYear(c.state.date)),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c.state.isRenderAriaLiveMessage&&t)},c.renderChildren=function(){if(c.props.children)return de.default.createElement("div",{className:"react-datepicker__children-container"},c.props.children)},c.containerRef=n.createRef(),c.state={date:c.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},c}return fe(i,e),Object.defineProperty(i,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:_e}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},i.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Fe(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Fe(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!je(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},i.prototype.render=function(){var e=this.props.container||ye;return de.default.createElement(be,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},de.default.createElement(e,{className:t.clsx("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},i}(n.Component),Gt=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,i=e.onClick,o="react-datepicker__calendar-icon";return"string"==typeof t?de.default.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i}):de.default.isValidElement(t)?de.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(r),onClick:function(e){"function"==typeof t.props.onClick&&t.props.onClick(e),"function"==typeof i&&i(e)}}):de.default.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},de.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zt=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return fe(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return he.default.createPortal(this.props.children,this.el)},t}(n.Component),Kt=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},Yt=function(e){function t(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=r.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Kt)},r.handleFocusStart=function(){var e=r.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},r.handleFocusEnd=function(){var e=r.getTabChildren();e&&e.length>1&&e[0].focus()},r.tabLoopRef=n.createRef(),r}return fe(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?de.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,de.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(n.Component),qt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return fe(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var e=this.props,i=e.className,o=e.wrapperClassName,a=e.hidePopper,s=void 0===a?r.defaultProps.hidePopper:a,c=e.popperComponent,l=e.targetComponent,u=e.enableTabLoop,d=e.popperOnKeyDown,h=e.portalId,p=e.portalHost,f=e.popperProps,m=e.showArrow,g=void 0;if(!s){var v=t.clsx("react-datepicker-popper",i);g=de.default.createElement(Yt,{enableTabLoop:u},de.default.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:v,"data-placement":f.placement,onKeyDown:d},c,m&&de.default.createElement(ce.FloatingArrow,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=n.createElement(this.props.popperContainer,{},g)),h&&!s&&(g=de.default.createElement(zt,{portalId:h,portalHost:p},g));var y=t.clsx("react-datepicker-wrapper",o);return de.default.createElement(de.default.Fragment,null,de.default.createElement("div",{ref:f.refs.setReference,className:y},l),g)},r}(n.Component),$t=(Ft=qt,function(e){var t,r="boolean"!=typeof e.hidePopper||e.hidePopper,i=n.useRef(null),o=ce.useFloating(me({open:!r,whileElementsMounted:ce.autoUpdate,placement:e.popperPlacement,middleware:ge([ce.flip({padding:15}),ce.offset(10),ce.arrow({element:i})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),a=me(me({},e),{hidePopper:r,popperProps:me(me({},o),{arrowRef:i})});return de.default.createElement(Ft,me({},a))}),Xt="react-datepicker-ignore-onclickoutside",Qt="Date input not valid.",Jt=function(e){function i(o){var s=e.call(this,o)||this;return s.calendar=null,s.input=null,s.getPreSelection=function(){return s.props.openToDate?s.props.openToDate:s.props.selectsEnd&&s.props.startDate?s.props.startDate:s.props.selectsStart&&s.props.endDate?s.props.endDate:Se()},s.modifyHolidays=function(){var e;return null===(e=s.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return Ce(n)?ge(ge([],e,!0),[me(me({},t),{date:n})],!1):e}),[])},s.calcInitialState=function(){var e,t=s.getPreSelection(),n=lt(s.props),r=ut(s.props),i=n&&N.isBefore(t,Oe(n))?n:r&&I.isAfter(t,Le(r))?r:t;return{open:s.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=s.props.selectsRange?s.props.startDate:s.props.selected)&&void 0!==e?e:i,highlightDates:dt(s.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},s.resetHiddenStatus=function(){s.setState(me(me({},s.state),{wasHidden:!1}))},s.setHiddenStatus=function(){s.setState(me(me({},s.state),{wasHidden:!0}))},s.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&s.setHiddenStatus()},s.clearPreventFocusTimeout=function(){s.preventFocusTimeout&&clearTimeout(s.preventFocusTimeout)},s.setFocus=function(){s.input&&s.input.focus&&s.input.focus({preventScroll:!0})},s.setBlur=function(){s.input&&s.input.blur&&s.input.blur(),s.cancelFocusInput()},s.setOpen=function(e,t){void 0===t&&(t=!1),s.setState({open:e,preSelection:e&&s.state.open?s.state.preSelection:s.calcInitialState().preSelection,lastPreSelectChange:en},(function(){e||s.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&s.setBlur(),s.setState({inputValue:null})}))}))},s.inputOk=function(){return k.isDate(s.state.preSelection)},s.isCalendarOpen=function(){return void 0===s.props.open?s.state.open&&!s.props.disabled&&!s.props.readOnly:s.props.open},s.handleFocus=function(e){var t,n,r=s.state.wasHidden,i=!r||s.state.open;r&&s.resetHiddenStatus(),!s.state.preventFocus&&i&&(null===(n=(t=s.props).onFocus)||void 0===n||n.call(t,e),s.props.preventOpenOnFocus||s.props.readOnly||s.setOpen(!0)),s.setState({focused:!0})},s.sendFocusBackToInput=function(){s.preventFocusTimeout&&s.clearPreventFocusTimeout(),s.setState({preventFocus:!0},(function(){s.preventFocusTimeout=setTimeout((function(){s.setFocus(),s.setState({preventFocus:!1})}))}))},s.cancelFocusInput=function(){clearTimeout(s.inputFocusTimeout),s.inputFocusTimeout=void 0},s.deferFocusInput=function(){s.cancelFocusInput(),s.inputFocusTimeout=setTimeout((function(){return s.setFocus()}),1)},s.handleDropdownFocus=function(){s.cancelFocusInput()},s.handleBlur=function(e){var t,n;(!s.state.open||s.props.withPortal||s.props.showTimeInput)&&(null===(n=(t=s.props).onBlur)||void 0===n||n.call(t,e)),s.setState({focused:!1})},s.handleCalendarClickOutside=function(e){var t,n;s.props.inline||s.setOpen(!1),null===(n=(t=s.props).onClickOutside)||void 0===n||n.call(t,e),s.props.withPortal&&e.preventDefault()},s.handleChange=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0];if(!s.props.onChangeRaw||(s.props.onChangeRaw.apply(s,n),o&&"function"==typeof o.isDefaultPrevented&&!o.isDefaultPrevented())){s.setState({inputValue:(null==o?void 0:o.target)instanceof HTMLInputElement?o.target.value:null,lastPreSelectChange:Zt});var a=s.props,c=a.dateFormat,l=void 0===c?i.defaultProps.dateFormat:c,u=a.strictParsing,d=void 0===u?i.defaultProps.strictParsing:u,h=a.selectsRange,p=a.startDate,f=a.endDate,m=(null==o?void 0:o.target)instanceof HTMLInputElement?o.target.value:"";if(h){var g=m.split("-",2).map((function(e){return e.trim()})),v=g[0],y=g[1],b=Te(null!=v?v:"",l,s.props.locale,d),E=Te(null!=y?y:"",l,s.props.locale,d),_=(null==p?void 0:p.getTime())!==(null==b?void 0:b.getTime()),S=(null==f?void 0:f.getTime())!==(null==E?void 0:E.getTime());if(!_&&!S)return;if(b&&Ke(b,s.props))return;if(E&&Ke(E,s.props))return;null===(t=(e=s.props).onChange)||void 0===t||t.call(e,[b,E],o)}else{var C=Te(m,l,s.props.locale,d,s.props.minDate);s.props.showTimeSelectOnly&&s.props.selected&&C&&!Fe(C,s.props.selected)&&(C=G.set(s.props.selected,{hours:w.getHours(C),minutes:T.getMinutes(C),seconds:R.getSeconds(C)})),!C&&m||s.setSelected(C,o,!0)}}},s.handleSelect=function(e,t,n){if(s.props.shouldCloseOnSelect&&!s.props.showTimeSelect&&s.sendFocusBackToInput(),s.props.onChangeRaw&&s.props.onChangeRaw(t),s.setSelected(e,t,!1,n),s.props.showDateSelect&&s.setState({isRenderAriaLiveMessage:!0}),!s.props.shouldCloseOnSelect||s.props.showTimeSelect)s.setPreSelection(e);else if(!s.props.inline){s.props.selectsRange||s.setOpen(!1);var r=s.props,i=r.startDate,o=r.endDate;!i||o||!s.props.swapRange&&yt(e,i)||s.setOpen(!1)}},s.setSelected=function(e,t,n,r){var i,o,a=e;if(s.props.showYearPicker){if(null!==a&&Ze(O.getYear(a),s.props))return}else if(s.props.showMonthYearPicker){if(null!==a&&qe(a,s.props))return}else if(null!==a&&Ke(a,s.props))return;var c=s.props,l=c.onChange,u=c.selectsRange,d=c.startDate,h=c.endDate,p=c.selectsMultiple,f=c.selectedDates,m=c.minTime,g=c.swapRange;if(!Be(s.props.selected,a)||s.props.allowSameDay||u||p)if(null!==a&&(!s.props.selected||n&&(s.props.showTimeSelect||s.props.showTimeSelectOnly||s.props.showTimeInput)||(a=Ae(a,{hour:w.getHours(s.props.selected),minute:T.getMinutes(s.props.selected),second:R.getSeconds(s.props.selected)})),n||!s.props.showTimeSelect&&!s.props.showTimeSelectOnly||m&&(a=Ae(a,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),s.props.inline||s.setState({preSelection:a}),s.props.focusSelectedMonth||s.setState({monthSelectedIn:r})),u){var v=d&&h;d||h?d&&!h&&(null===a?null==l||l([null,null],t):yt(a,d)?g?null==l||l([a,d],t):null==l||l([a,null],t):null==l||l([d,a],t)):null==l||l([a,null],t),v&&(null==l||l([a,null],t))}else if(p){if(null!==a)if(null==f?void 0:f.length)if(f.some((function(e){return Fe(e,a)}))){var y=f.filter((function(e){return!Fe(e,a)}));null==l||l(y,t)}else null==l||l(ge(ge([],f,!0),[a],!1),t);else null==l||l([a],t)}else null==l||l(a,t);n||(null===(o=(i=s.props).onSelect)||void 0===o||o.call(i,a,t),s.setState({inputValue:null}))},s.setPreSelection=function(e){var t=k.isDate(s.props.minDate),n=k.isDate(s.props.maxDate),r=!0;if(e){var i=Oe(e);if(t&&n)r=Ve(e,s.props.minDate,s.props.maxDate);else if(t){var o=Oe(s.props.minDate);r=I.isAfter(e,o)||Be(i,o)}else if(n){var a=Le(s.props.maxDate);r=N.isBefore(e,a)||Be(i,a)}}r&&s.setState({preSelection:e})},s.toggleCalendar=function(){s.setOpen(!s.state.open)},s.handleTimeChange=function(e){var t,n;if(!s.props.selectsRange&&!s.props.selectsMultiple){var r=s.props.selected?s.props.selected:s.getPreSelection(),i=s.props.selected?e:Ae(r,{hour:w.getHours(e),minute:T.getMinutes(e)});s.setState({preSelection:i}),null===(n=(t=s.props).onChange)||void 0===n||n.call(t,i),s.props.shouldCloseOnSelect&&!s.props.showTimeInput&&(s.sendFocusBackToInput(),s.setOpen(!1)),s.props.showTimeInput&&s.setOpen(!0),(s.props.showTimeSelectOnly||s.props.showTimeSelect)&&s.setState({isRenderAriaLiveMessage:!0}),s.setState({inputValue:null})}},s.onInputClick=function(){var e,t;s.props.disabled||s.props.readOnly||s.setOpen(!0),null===(t=(e=s.props).onInputClick)||void 0===t||t.call(e)},s.onInputKeyDown=function(e){var t,n,r,i,o,a;null===(n=(t=s.props).onKeyDown)||void 0===n||n.call(t,e);var c=e.key;if(s.state.open||s.props.inline||s.props.preventOpenOnFocus){if(s.state.open){if(c===ve.ArrowDown||c===ve.ArrowUp){e.preventDefault();var l=s.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":s.props.showWeekPicker&&s.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':s.props.showFullMonthYearPicker||s.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(i=s.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&s.calendar.containerRef.current.querySelector(l);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=Se(s.state.preSelection);c===ve.Enter?(e.preventDefault(),s.inputOk()&&s.state.lastPreSelectChange===en?(s.handleSelect(d,e),!s.props.shouldCloseOnSelect&&s.setPreSelection(d)):s.setOpen(!1)):c===ve.Escape?(e.preventDefault(),s.sendFocusBackToInput(),s.setOpen(!1)):c===ve.Tab&&s.setOpen(!1),s.inputOk()||null===(a=(o=s.props).onInputError)||void 0===a||a.call(o,{code:1,msg:Qt})}}else c!==ve.ArrowDown&&c!==ve.ArrowUp&&c!==ve.Enter||null===(r=s.onInputClick)||void 0===r||r.call(s)},s.onPortalKeyDown=function(e){e.key===ve.Escape&&(e.preventDefault(),s.setState({preventFocus:!0},(function(){s.setOpen(!1),setTimeout((function(){s.setFocus(),s.setState({preventFocus:!1})}))})))},s.onDayKeyDown=function(e){var t,n,i,o,c,d,h=s.props,p=h.minDate,f=h.maxDate,m=h.disabledKeyboardNavigation,g=h.showWeekPicker,y=h.shouldCloseOnSelect,b=h.locale,E=h.calendarStartDay,_=h.adjustDateOnChange,w=h.inline;if(null===(n=(t=s.props).onKeyDown)||void 0===n||n.call(t,e),!m){var S=e.key,T=e.shiftKey,x=Se(s.state.preSelection),R=function(e,t){var n=t;switch(e){case ve.ArrowRight:n=g?l.addWeeks(t,1):r.addDays(t,1);break;case ve.ArrowLeft:n=g?oe.subWeeks(t,1):ne.subDays(t,1);break;case ve.ArrowUp:n=oe.subWeeks(t,1);break;case ve.ArrowDown:n=l.addWeeks(t,1);break;case ve.PageUp:n=T?ae.subYears(t,1):re.subMonths(t,1);break;case ve.PageDown:n=T?u.addYears(t,1):a.addMonths(t,1);break;case ve.Home:n=Ie(t,b,E);break;case ve.End:n=function(e){return v.endOfWeek(e)}(t)}return n};if(S===ve.Enter)return e.preventDefault(),s.handleSelect(x,e),void(!y&&s.setPreSelection(x));if(S===ve.Escape)return e.preventDefault(),s.setOpen(!1),void(s.inputOk()||null===(o=(i=s.props).onInputError)||void 0===o||o.call(i,{code:1,msg:Qt}));var A=null;switch(S){case ve.ArrowLeft:case ve.ArrowRight:case ve.ArrowUp:case ve.ArrowDown:case ve.PageUp:case ve.PageDown:case ve.Home:case ve.End:A=function(e,t){for(var n=e,r=!1,i=0,o=R(e,t);!r;){if(i>=40){o=t;break}p&&o<p&&(n=ve.ArrowRight,o=Ke(p,s.props)?R(n,o):p),f&&o>f&&(n=ve.ArrowLeft,o=Ke(f,s.props)?R(n,o):f),Ke(o,s.props)?(n!==ve.PageUp&&n!==ve.Home||(n=ve.ArrowRight),n!==ve.PageDown&&n!==ve.End||(n=ve.ArrowLeft),o=R(n,o)):r=!0,i++}return o}(S,x)}if(A){if(e.preventDefault(),s.setState({lastPreSelectChange:en}),_&&s.setSelected(A),s.setPreSelection(A),w){var I=C.getMonth(x),N=C.getMonth(A),k=O.getYear(x),P=O.getYear(A);I!==N||k!==P?s.setState({shouldFocusDayInline:!0}):s.setState({shouldFocusDayInline:!1})}}else null===(d=(c=s.props).onInputError)||void 0===d||d.call(c,{code:1,msg:Qt})}},s.onPopperKeyDown=function(e){e.key===ve.Escape&&(e.preventDefault(),s.sendFocusBackToInput())},s.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),s.sendFocusBackToInput();var t=s.props,n=t.selectsRange,r=t.onChange;n?null==r||r([null,null],e):null==r||r(null,e),s.setState({inputValue:null})},s.clear=function(){s.onClearClick()},s.onScroll=function(e){"boolean"==typeof s.props.closeOnScroll&&s.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||s.setOpen(!1):"function"==typeof s.props.closeOnScroll&&s.props.closeOnScroll(e)&&s.setOpen(!1)},s.renderCalendar=function(){var e,t;return s.props.inline||s.isCalendarOpen()?de.default.createElement(Ht,me({showMonthYearDropdown:void 0,ref:function(e){s.calendar=e}},s.props,s.state,{setOpen:s.setOpen,dateFormat:null!==(e=s.props.dateFormatCalendar)&&void 0!==e?e:i.defaultProps.dateFormatCalendar,onSelect:s.handleSelect,onClickOutside:s.handleCalendarClickOutside,holidays:ht(s.modifyHolidays()),outsideClickIgnoreClass:Xt,onDropdownFocus:s.handleDropdownFocus,onTimeChange:s.handleTimeChange,className:s.props.calendarClassName,container:s.props.calendarContainer,handleOnKeyDown:s.props.onKeyDown,handleOnDayKeyDown:s.onDayKeyDown,setPreSelection:s.setPreSelection,dropdownMode:null!==(t=s.props.dropdownMode)&&void 0!==t?t:i.defaultProps.dropdownMode}),s.props.children):null},s.renderAriaLiveRegion=function(){var e,t=s.props,n=t.dateFormat,r=void 0===n?i.defaultProps.dateFormat:n,o=t.locale,a=s.props.showTimeInput||s.props.showTimeSelect?"PPPPp":"PPPP";return e=s.props.selectsRange?"Selected start date: ".concat(Re(s.props.startDate,{dateFormat:a,locale:o}),". ").concat(s.props.endDate?"End date: "+Re(s.props.endDate,{dateFormat:a,locale:o}):""):s.props.showTimeSelectOnly?"Selected time: ".concat(Re(s.props.selected,{dateFormat:r,locale:o})):s.props.showYearPicker?"Selected year: ".concat(Re(s.props.selected,{dateFormat:"yyyy",locale:o})):s.props.showMonthYearPicker?"Selected month: ".concat(Re(s.props.selected,{dateFormat:"MMMM yyyy",locale:o})):s.props.showQuarterYearPicker?"Selected quarter: ".concat(Re(s.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(Re(s.props.selected,{dateFormat:a,locale:o})),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},s.renderDateInput=function(){var e,r,o,a=t.clsx(s.props.className,((e={})[Xt]=s.state.open,e)),c=s.props.customInput||de.default.createElement("input",{type:"text"}),l=s.props.customInputRef||"ref",u=s.props,d=u.dateFormat,h=void 0===d?i.defaultProps.dateFormat:d,p=u.locale,f="string"==typeof s.props.value?s.props.value:"string"==typeof s.state.inputValue?s.state.inputValue:s.props.selectsRange?function(e,t,n){if(!e)return"";var r=Re(e,n),i=t?Re(t,n):"";return"".concat(r," - ").concat(i)}(s.props.startDate,s.props.endDate,{dateFormat:h,locale:p}):s.props.selectsMultiple?function(e,t){if(!(null==e?void 0:e.length))return"";var n=e[0]?Re(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Re(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}(null!==(o=s.props.selectedDates)&&void 0!==o?o:[],{dateFormat:h,locale:p}):Re(s.props.selected,{dateFormat:h,locale:p});return n.cloneElement(c,((r={})[l]=function(e){s.input=e},r.value=f,r.onBlur=s.handleBlur,r.onChange=s.handleChange,r.onClick=s.onInputClick,r.onFocus=s.handleFocus,r.onKeyDown=s.onInputKeyDown,r.id=s.props.id,r.name=s.props.name,r.form=s.props.form,r.autoFocus=s.props.autoFocus,r.placeholder=s.props.placeholderText,r.disabled=s.props.disabled,r.autoComplete=s.props.autoComplete,r.className=t.clsx(c.props.className,a),r.title=s.props.title,r.readOnly=s.props.readOnly,r.required=s.props.required,r.tabIndex=s.props.tabIndex,r["aria-describedby"]=s.props.ariaDescribedBy,r["aria-invalid"]=s.props.ariaInvalid,r["aria-labelledby"]=s.props.ariaLabelledBy,r["aria-required"]=s.props.ariaRequired,r))},s.renderClearButton=function(){var e=s.props,n=e.isClearable,r=e.disabled,i=e.selected,o=e.startDate,a=e.endDate,c=e.clearButtonTitle,l=e.clearButtonClassName,u=void 0===l?"":l,d=e.ariaLabelClose,h=void 0===d?"Close":d,p=e.selectedDates;return n&&(null!=i||null!=o||null!=a||(null==p?void 0:p.length))?de.default.createElement("button",{type:"button",className:t.clsx("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":r}),disabled:r,"aria-label":h,onClick:s.onClearClick,title:c,tabIndex:-1}):null},s.state=s.calcInitialState(),s.preventFocusTimeout=void 0,s}return fe(i,e),Object.defineProperty(i,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:_e,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.componentDidUpdate=function(e,t){var n,r,i,o,a,s;e.inline&&(a=e.selected,s=this.props.selected,a&&s?C.getMonth(a)!==C.getMonth(s)||O.getYear(a)!==O.getYear(s):a!==s)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dt(this.props.highlightDates)}),t.focused||Be(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(o=(i=this.props).onCalendarClose)||void 0===o||o.call(i)))},i.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.renderInputContainer=function(){var e=this.props,n=e.showIcon,r=e.icon,i=e.calendarIconClassname,o=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,s=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),de.default.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&de.default.createElement(Gt,me({icon:r,className:t.clsx(o,!o&&i,s&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},i.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?de.default.createElement(Yt,{enableTabLoop:this.props.enableTabLoop},de.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=de.default.createElement(zt,me({portalId:this.props.portalId},this.props),t)),de.default.createElement("div",null,this.renderInputContainer(),t)}return de.default.createElement($t,me({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},i}(n.Component),Zt="input",en="navigate";e.CalendarContainer=ye,e.default=Jt,e.getDefaultLocale=We,e.registerLocale=function(e,t){var n=Ee();n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){Ee().__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2949),n(5043),n(6592),n(8172),n(3794),n(4940),n(726),n(2670),n(5670),n(6417),n(4395),n(9963),n(7785),n(2868),n(4288),n(9688),n(300),n(3877),n(6945),n(1556),n(7636),n(2797),n(1387),n(9375),n(8564),n(4602),n(5639),n(3229),n(305),n(1102),n(4261),n(638),n(184),n(8752),n(3371),n(5510),n(8965),n(3478),n(9192),n(4926),n(4144),n(7599),n(4502),n(2180),n(9017),n(4531),n(8416),n(5726),n(35),n(5597),n(5755),n(1831),n(2801),n(613),n(9928),n(3321),n(2097),n(8175),n(5993),n(8858),n(5083),n(5552),n(7950))},3023:(e,t)=>{"use strict";t.addLeadingZeros=function(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}},1610:(e,t,n)=>{"use strict";Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return r.enUS}});var r=n(4785)},7784:(e,t)=>{"use strict";t.getDefaultOptions=function(){return n},t.setDefaultOptions=function(e){n=e};let n={}},5718:(e,t,n)=>{"use strict";t.formatters=void 0;var r=n(9372),i=n(1387),o=n(4958),a=n(1416),s=n(3833),c=n(3023),l=n(6562);const u="midnight",d="noon",h="morning",p="afternoon",f="evening",m="night";t.formatters={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return l.lightFormatters.y(e,t)},Y:function(e,t,n,r){const i=(0,s.getWeekYear)(e,r),o=i>0?i:1-i;if("YY"===t){const e=o%100;return(0,c.addLeadingZeros)(e,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,c.addLeadingZeros)(o,t.length)},R:function(e,t){const n=(0,o.getISOWeekYear)(e);return(0,c.addLeadingZeros)(n,t.length)},u:function(e,t){const n=e.getFullYear();return(0,c.addLeadingZeros)(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return l.lightFormatters.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=(0,a.getWeek)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.addLeadingZeros)(i,t.length)},I:function(e,t,n){const r=(0,i.getISOWeek)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.addLeadingZeros)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):l.lightFormatters.d(e,t)},D:function(e,t,n){const i=(0,r.getDayOfYear)(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):(0,c.addLeadingZeros)(i,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,c.addLeadingZeros)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,c.addLeadingZeros)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.addLeadingZeros)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?d:0===r?u:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?f:r>=12?p:r>=4?h:m,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return l.lightFormatters.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):l.lightFormatters.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.addLeadingZeros)(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.addLeadingZeros)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):l.lightFormatters.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):l.lightFormatters.s(e,t)},S:function(e,t){return l.lightFormatters.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return v(r);case"XXXX":case"XX":return y(r);default:return y(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return v(r);case"xxxx":case"xx":return y(r);default:return y(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(r,":");default:return"GMT"+y(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(r,":");default:return"GMT"+y(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return(0,c.addLeadingZeros)(r,t.length)},T:function(e,t,n){const r=e.getTime();return(0,c.addLeadingZeros)(r,t.length)}};function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+(0,c.addLeadingZeros)(o,2)}function v(e,t){if(e%60===0){return(e>0?"-":"+")+(0,c.addLeadingZeros)(Math.abs(e)/60,2)}return y(e,t)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+(0,c.addLeadingZeros)(Math.trunc(r/60),2)+t+(0,c.addLeadingZeros)(r%60,2)}},6562:(e,t,n)=>{"use strict";t.lightFormatters=void 0;var r=n(3023);t.lightFormatters={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return(0,r.addLeadingZeros)("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):(0,r.addLeadingZeros)(n+1,2)},d:(e,t)=>(0,r.addLeadingZeros)(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>(0,r.addLeadingZeros)(e.getHours()%12||12,t.length),H:(e,t)=>(0,r.addLeadingZeros)(e.getHours(),t.length),m:(e,t)=>(0,r.addLeadingZeros)(e.getMinutes(),t.length),s:(e,t)=>(0,r.addLeadingZeros)(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return(0,r.addLeadingZeros)(o,t.length)}}},5696:(e,t)=>{"use strict";t.longFormatters=void 0;const n=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};t.longFormatters={p:r,P:(e,t)=>{const i=e.match(/(P+)(p+)?/)||[],o=i[1],a=i[2];if(!a)return n(e,t);let s;switch(o){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",n(o,t)).replace("{{time}}",r(a,t))}}},5648:(e,t,n)=>{"use strict";t.getTimezoneOffsetInMilliseconds=function(e){const t=(0,r.toDate)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n};var r=n(5083)},8157:(e,t)=>{"use strict";t.isProtectedDayOfYearToken=function(e){return n.test(e)},t.isProtectedWeekYearToken=function(e){return r.test(e)},t.warnOrThrowProtectedError=function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),i.includes(e))throw new RangeError(r)};const n=/^D+$/,r=/^Y+$/,i=["D","DD","YY","YYYY"]},6592:(e,t,n)=>{"use strict";t.addDays=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;return n.setDate(n.getDate()+t),n};var r=n(5083),i=n(2781)},8172:(e,t,n)=>{"use strict";t.addHours=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInHour)};var r=n(3105),i=n(6865)},3105:(e,t,n)=>{"use strict";t.addMilliseconds=function(e,t){const n=+(0,r.toDate)(e);return(0,i.constructFrom)(e,n+t)};var r=n(5083),i=n(2781)},3794:(e,t,n)=>{"use strict";t.addMinutes=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInMinute)};var r=n(3105),i=n(6865)},4940:(e,t,n)=>{"use strict";t.addMonths=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;const o=n.getDate(),a=(0,i.constructFrom)(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const s=a.getDate();return o>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)};var r=n(5083),i=n(2781)},726:(e,t,n)=>{"use strict";t.addQuarters=function(e,t){const n=3*t;return(0,r.addMonths)(e,n)};var r=n(4940)},2670:(e,t,n)=>{"use strict";t.addSeconds=function(e,t){return(0,r.addMilliseconds)(e,1e3*t)};var r=n(3105)},5670:(e,t,n)=>{"use strict";t.addWeeks=function(e,t){const n=7*t;return(0,r.addDays)(e,n)};var r=n(6592)},6417:(e,t,n)=>{"use strict";t.addYears=function(e,t){return(0,r.addMonths)(e,12*t)};var r=n(4940)},6865:(e,t)=>{"use strict";t.secondsInYear=t.secondsInWeek=t.secondsInQuarter=t.secondsInMonth=t.secondsInMinute=t.secondsInHour=t.secondsInDay=t.quartersInYear=t.monthsInYear=t.monthsInQuarter=t.minutesInYear=t.minutesInMonth=t.minutesInHour=t.minutesInDay=t.minTime=t.millisecondsInWeek=t.millisecondsInSecond=t.millisecondsInMinute=t.millisecondsInHour=t.millisecondsInDay=t.maxTime=t.daysInYear=t.daysInWeek=void 0;t.daysInWeek=7;const n=t.daysInYear=365.2425,r=t.maxTime=24*Math.pow(10,8)*60*60*1e3,i=(t.minTime=-r,t.millisecondsInWeek=6048e5,t.millisecondsInDay=864e5,t.millisecondsInMinute=6e4,t.millisecondsInHour=36e5,t.millisecondsInSecond=1e3,t.minutesInYear=525600,t.minutesInMonth=43200,t.minutesInDay=1440,t.minutesInHour=60,t.monthsInQuarter=3,t.monthsInYear=12,t.quartersInYear=4,t.secondsInHour=3600),o=(t.secondsInMinute=60,t.secondsInDay=24*i),a=(t.secondsInWeek=7*o,t.secondsInYear=o*n),s=t.secondsInMonth=a/12;t.secondsInQuarter=3*s},2781:(e,t)=>{"use strict";t.constructFrom=function(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}},4395:(e,t,n)=>{"use strict";t.differenceInCalendarDays=function(e,t){const n=(0,i.startOfDay)(e),a=(0,i.startOfDay)(t),s=+n-(0,o.getTimezoneOffsetInMilliseconds)(n),c=+a-(0,o.getTimezoneOffsetInMilliseconds)(a);return Math.round((s-c)/r.millisecondsInDay)};var r=n(6865),i=n(5755),o=n(5648)},9963:(e,t,n)=>{"use strict";t.differenceInCalendarMonths=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t),o=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return 12*o+a};var r=n(5083)},7785:(e,t,n)=>{"use strict";t.differenceInCalendarQuarters=function(e,t){const n=(0,i.toDate)(e),o=(0,i.toDate)(t),a=n.getFullYear()-o.getFullYear(),s=(0,r.getQuarter)(n)-(0,r.getQuarter)(o);return 4*a+s};var r=n(4602),i=n(5083)},2868:(e,t,n)=>{"use strict";t.differenceInCalendarYears=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()-i.getFullYear()};var r=n(5083)},4288:(e,t,n)=>{"use strict";t.endOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(23,59,59,999),t};var r=n(5083)},9688:(e,t,n)=>{"use strict";t.endOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var r=n(5083)},300:(e,t,n)=>{"use strict";t.endOfWeek=function(e,t){const n=(0,i.getDefaultOptions)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=(0,r.toDate)(e),s=a.getDay(),c=6+(s<o?-7:0)-(s-o);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a};var r=n(5083),i=n(7784)},3877:(e,t,n)=>{"use strict";t.endOfYear=function(e){const t=(0,r.toDate)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t};var r=n(5083)},6945:(e,t,n)=>{"use strict";t.format=t.formatDate=function(e,t,n){const h=(0,i.getDefaultOptions)(),p=n?.locale??h.locale??r.defaultLocale,g=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??h.firstWeekContainsDate??h.locale?.options?.firstWeekContainsDate??1,v=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??h.weekStartsOn??h.locale?.options?.weekStartsOn??0,y=(0,l.toDate)(e);if(!(0,c.isValid)(y))throw new RangeError("Invalid time value");let b=t.match(d).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,a.longFormatters[t])(e,p.formatLong)}return e})).join("").match(u).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:m(e)};if(o.formatters[t])return{isToken:!0,value:e};if(t.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));p.localize.preprocessor&&(b=p.localize.preprocessor(y,b));const E={firstWeekContainsDate:g,weekStartsOn:v,locale:p};return b.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&(0,s.isProtectedWeekYearToken)(i)||!n?.useAdditionalDayOfYearTokens&&(0,s.isProtectedDayOfYearToken)(i))&&(0,s.warnOrThrowProtectedError)(i,t,String(e));return(0,o.formatters[i[0]])(y,i,p.localize,E)})).join("")},Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return o.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return a.longFormatters}});var r=n(1610),i=n(7784),o=n(5718),a=n(5696),s=n(8157),c=n(3478),l=n(5083);const u=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h=/^'([^]*?)'?$/,p=/''/g,f=/[a-zA-Z]/;function m(e){const t=e.match(h);return t?t[1].replace(p,"'"):e}},1556:(e,t,n)=>{"use strict";t.getDate=function(e){const t=(0,r.toDate)(e);return t.getDate()};var r=n(5083)},7636:(e,t,n)=>{"use strict";t.getDay=function(e){const t=(0,r.toDate)(e);return t.getDay()};var r=n(5083)},9372:(e,t,n)=>{"use strict";t.getDayOfYear=function(e){const t=(0,o.toDate)(e),n=(0,r.differenceInCalendarDays)(t,(0,i.startOfYear)(t));return n+1};var r=n(4395),i=n(9928),o=n(5083)},9468:(e,t,n)=>{"use strict";t.getDaysInMonth=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),o=t.getMonth(),a=(0,i.constructFrom)(e,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()};var r=n(5083),i=n(2781)},2869:(e,t,n)=>{"use strict";t.getDefaultOptions=function(){return Object.assign({},(0,r.getDefaultOptions)())};var r=n(7784)},2797:(e,t,n)=>{"use strict";t.getHours=function(e){const t=(0,r.toDate)(e);return t.getHours()};var r=n(5083)},2234:(e,t,n)=>{"use strict";t.getISODay=function(e){let t=(0,r.toDate)(e).getDay();0===t&&(t=7);return t};var r=n(5083)},1387:(e,t,n)=>{"use strict";t.getISOWeek=function(e){const t=(0,a.toDate)(e),n=+(0,i.startOfISOWeek)(t)-+(0,o.startOfISOWeekYear)(t);return Math.round(n/r.millisecondsInWeek)+1};var r=n(6865),i=n(9388),o=n(517),a=n(5083)},4958:(e,t,n)=>{"use strict";t.getISOWeekYear=function(e){const t=(0,o.toDate)(e),n=t.getFullYear(),a=(0,r.constructFrom)(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=(0,i.startOfISOWeek)(a),c=(0,r.constructFrom)(e,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const l=(0,i.startOfISOWeek)(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1};var r=n(2781),i=n(9388),o=n(5083)},9375:(e,t,n)=>{"use strict";t.getMinutes=function(e){const t=(0,r.toDate)(e);return t.getMinutes()};var r=n(5083)},8564:(e,t,n)=>{"use strict";t.getMonth=function(e){const t=(0,r.toDate)(e);return t.getMonth()};var r=n(5083)},4602:(e,t,n)=>{"use strict";t.getQuarter=function(e){const t=(0,r.toDate)(e);return Math.trunc(t.getMonth()/3)+1};var r=n(5083)},5639:(e,t,n)=>{"use strict";t.getSeconds=function(e){const t=(0,r.toDate)(e);return t.getSeconds()};var r=n(5083)},3229:(e,t,n)=>{"use strict";t.getTime=function(e){const t=(0,r.toDate)(e);return t.getTime()};var r=n(5083)},1416:(e,t,n)=>{"use strict";t.getWeek=function(e,t){const n=(0,a.toDate)(e),s=+(0,i.startOfWeek)(n,t)-+(0,o.startOfWeekYear)(n,t);return Math.round(s/r.millisecondsInWeek)+1};var r=n(6865),i=n(613),o=n(8996),a=n(5083)},3833:(e,t,n)=>{"use strict";t.getWeekYear=function(e,t){const n=(0,o.toDate)(e),s=n.getFullYear(),c=(0,a.getDefaultOptions)(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,u=(0,r.constructFrom)(e,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const d=(0,i.startOfWeek)(u,t),h=(0,r.constructFrom)(e,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const p=(0,i.startOfWeek)(h,t);return n.getTime()>=d.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1};var r=n(2781),i=n(613),o=n(5083),a=n(7784)},305:(e,t,n)=>{"use strict";t.getYear=function(e){return(0,r.toDate)(e).getFullYear()};var r=n(5083)},1102:(e,t,n)=>{"use strict";t.isAfter=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getTime()>i.getTime()};var r=n(5083)},4261:(e,t,n)=>{"use strict";t.isBefore=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return+n<+i};var r=n(5083)},638:(e,t)=>{"use strict";t.isDate=function(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},184:(e,t,n)=>{"use strict";t.isEqual=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return+n===+i};var r=n(5083)},8752:(e,t,n)=>{"use strict";t.isSameDay=function(e,t){const n=(0,r.startOfDay)(e),i=(0,r.startOfDay)(t);return+n===+i};var r=n(5755)},3371:(e,t,n)=>{"use strict";t.isSameMonth=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()};var r=n(5083)},5510:(e,t,n)=>{"use strict";t.isSameQuarter=function(e,t){const n=(0,r.startOfQuarter)(e),i=(0,r.startOfQuarter)(t);return+n===+i};var r=n(2801)},8965:(e,t,n)=>{"use strict";t.isSameYear=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()};var r=n(5083)},3478:(e,t,n)=>{"use strict";t.isValid=function(e){if(!(0,r.isDate)(e)&&"number"!==typeof e)return!1;const t=(0,i.toDate)(e);return!isNaN(Number(t))};var r=n(638),i=n(5083)},9192:(e,t,n)=>{"use strict";t.isWithinInterval=function(e,t){const n=+(0,r.toDate)(e),[i,o]=[+(0,r.toDate)(t.start),+(0,r.toDate)(t.end)].sort(((e,t)=>e-t));return n>=i&&n<=o};var r=n(5083)},6481:(e,t)=>{"use strict";t.buildFormatLongFn=function(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}},2759:(e,t)=>{"use strict";t.buildLocalizeFn=function(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}},4119:(e,t)=>{"use strict";t.buildMatchFn=function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(a.length)}}}},597:(e,t)=>{"use strict";t.buildMatchPatternFn=function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}},4785:(e,t,n)=>{"use strict";t.enUS=void 0;var r=n(3815),i=n(3282),o=n(4084),a=n(2092),s=n(5054);t.enUS={code:"en-US",formatDistance:r.formatDistance,formatLong:i.formatLong,formatRelative:o.formatRelative,localize:a.localize,match:s.match,options:{weekStartsOn:0,firstWeekContainsDate:1}}},3815:(e,t)=>{"use strict";t.formatDistance=void 0;const n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.formatDistance=(e,t,r)=>{let i;const o=n[e];return i="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i}},3282:(e,t,n)=>{"use strict";t.formatLong=void 0;var r=n(6481);t.formatLong={date:(0,r.buildFormatLongFn)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.buildFormatLongFn)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.buildFormatLongFn)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}},4084:(e,t)=>{"use strict";t.formatRelative=void 0;const n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};t.formatRelative=(e,t,r,i)=>n[e]},2092:(e,t,n)=>{"use strict";t.localize=void 0;var r=n(2759);t.localize={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.buildLocalizeFn)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,r.buildLocalizeFn)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.buildLocalizeFn)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},5054:(e,t,n)=>{"use strict";t.match=void 0;var r=n(4119),i=n(597);t.match={ordinalNumber:(0,i.buildMatchPatternFn)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},4926:(e,t,n)=>{"use strict";t.max=function(e){let t;return e.forEach((function(e){const n=(0,r.toDate)(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)})),t||new Date(NaN)};var r=n(5083)},4144:(e,t,n)=>{"use strict";t.min=function(e){let t;return e.forEach((e=>{const n=(0,r.toDate)(e);(!t||t>n||isNaN(+n))&&(t=n)})),t||new Date(NaN)};var r=n(5083)},7599:(e,t,n)=>{"use strict";Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return s.longFormatters}}),t.parse=function(e,t,n,v){const y=(0,i.getDefaultOptions)(),b=v?.locale??y.locale??o.defaultLocale,E=v?.firstWeekContainsDate??v?.locale?.options?.firstWeekContainsDate??y.firstWeekContainsDate??y.locale?.options?.firstWeekContainsDate??1,_=v?.weekStartsOn??v?.locale?.options?.weekStartsOn??y.weekStartsOn??y.locale?.options?.weekStartsOn??0;if(""===t)return""===e?(0,a.toDate)(n):(0,r.constructFrom)(n,NaN);const w={firstWeekContainsDate:E,weekStartsOn:_,locale:b},S=[new u.DateToSystemTimezoneSetter],T=t.match(h).map((e=>{const t=e[0];if(t in s.longFormatters){return(0,s.longFormatters[t])(e,b.formatLong)}return e})).join("").match(d),C=[];for(let i of T){!v?.useAdditionalWeekYearTokens&&(0,c.isProtectedWeekYearToken)(i)&&(0,c.warnOrThrowProtectedError)(i,t,e),!v?.useAdditionalDayOfYearTokens&&(0,c.isProtectedDayOfYearToken)(i)&&(0,c.warnOrThrowProtectedError)(i,t,e);const o=i[0],a=l.parsers[o];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=C.find((e=>t.includes(e.token)||e.token===o));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${i}\` at the same time`)}else if("*"===a.incompatibleTokens&&C.length>0)throw new RangeError(`The format string mustn't contain \`${i}\` and any other token at the same time`);C.push({token:o,fullToken:i});const s=a.run(e,i,b.match,w);if(!s)return(0,r.constructFrom)(n,NaN);S.push(s.setter),e=s.rest}else{if(o.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");if("''"===i?i="'":"'"===o&&(i=i.match(p)[1].replace(f,"'")),0!==e.indexOf(i))return(0,r.constructFrom)(n,NaN);e=e.slice(i.length)}}if(e.length>0&&m.test(e))return(0,r.constructFrom)(n,NaN);const x=S.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>S.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let R=(0,a.toDate)(n);if(isNaN(R.getTime()))return(0,r.constructFrom)(n,NaN);const A={};for(const i of x){if(!i.validate(R,w))return(0,r.constructFrom)(n,NaN);const e=i.set(R,A,w);Array.isArray(e)?(R=e[0],Object.assign(A,e[1])):R=e}return(0,r.constructFrom)(n,R)},Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return l.parsers}});var r=n(2781),i=n(2869),o=n(1610),a=n(5083),s=n(5696),c=n(8157),l=n(8089),u=n(6666);const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p=/^'([^]*?)'?$/,f=/''/g,m=/\S/,g=/[a-zA-Z]/},4502:(e,t,n)=>{"use strict";t.parseISO=function(e,t){const n=t?.additionalDigits??2,h=function(e){const t={},n=e.split(i.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],i.timeZoneDelimiter.test(t.date)&&(t.date=e.split(i.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=i.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let p;if(h.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(h.date,n);p=function(e,t){if(null===t)return new Date(NaN);const n=e.match(o);if(!n)return new Date(NaN);const r=!!n[4],i=c(n[1]),a=c(n[2])-1,s=c(n[3]),l=c(n[4]),h=c(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,h)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,l,h):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(u[t]||(d(e)?29:28))}(t,a,s)&&function(e,t){return t>=1&&t<=(d(e)?366:365)}(t,i)?(e.setUTCFullYear(t,a,Math.max(i,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);const f=p.getTime();let m,g=0;if(h.time&&(g=function(e){const t=e.match(a);if(!t)return NaN;const n=l(t[1]),i=l(t[2]),o=l(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,o))return NaN;return n*r.millisecondsInHour+i*r.millisecondsInMinute+1e3*o}(h.time),isNaN(g)))return new Date(NaN);if(!h.timezone){const e=new Date(f+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}if(m=function(e){if("Z"===e)return 0;const t=e.match(s);if(!t)return 0;const n="+"===t[1]?-1:1,i=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(i*r.millisecondsInHour+o*r.millisecondsInMinute)}(h.timezone),isNaN(m))return new Date(NaN);return new Date(f+g+m)};var r=n(6865);const i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function l(e){return e&&parseFloat(e.replace(",","."))||0}const u=[31,null,31,30,31,30,31,31,30,31,30,31];function d(e){return e%400===0||e%4===0&&e%100!==0}},8218:(e,t,n)=>{"use strict";t.Parser=void 0;var r=n(6666);t.Parser=class{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new r.ValueSetter(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}},6666:(e,t,n)=>{"use strict";t.ValueSetter=t.Setter=t.DateToSystemTimezoneSetter=void 0;var r=n(971),i=n(2781);class o{subPriority=0;validate(e,t){return!0}}t.Setter=o;t.ValueSetter=class extends o{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}};t.DateToSystemTimezoneSetter=class extends o{priority=10;subPriority=-1;set(e,t){return t.timestampIsSet?e:(0,i.constructFrom)(e,(0,r.transpose)(e,Date))}}},7340:(e,t)=>{"use strict";t.timezonePatterns=t.numericPatterns=void 0;t.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},t.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/}},8089:(e,t,n)=>{"use strict";t.parsers=void 0;var r=n(1371),i=n(6506),o=n(2379),a=n(5109),s=n(3407),c=n(5641),l=n(1924),u=n(1287),d=n(3534),h=n(162),p=n(139),f=n(8503),m=n(7423),g=n(2471),v=n(6316),y=n(4995),b=n(1790),E=n(630),_=n(4586),w=n(9890),S=n(6598),T=n(5905),C=n(3420),x=n(1507),R=n(8283),A=n(4819),O=n(8136),I=n(6363),N=n(435),k=n(1410),P=n(5135);t.parsers={G:new r.EraParser,y:new i.YearParser,Y:new o.LocalWeekYearParser,R:new a.ISOWeekYearParser,u:new s.ExtendedYearParser,Q:new c.QuarterParser,q:new l.StandAloneQuarterParser,M:new u.MonthParser,L:new d.StandAloneMonthParser,w:new h.LocalWeekParser,I:new p.ISOWeekParser,d:new f.DateParser,D:new m.DayOfYearParser,E:new g.DayParser,e:new v.LocalDayParser,c:new y.StandAloneLocalDayParser,i:new b.ISODayParser,a:new E.AMPMParser,b:new _.AMPMMidnightParser,B:new w.DayPeriodParser,h:new S.Hour1to12Parser,H:new T.Hour0to23Parser,K:new C.Hour0To11Parser,k:new x.Hour1To24Parser,m:new R.MinuteParser,s:new A.SecondParser,S:new O.FractionOfSecondParser,X:new I.ISOTimezoneWithZParser,x:new N.ISOTimezoneParser,t:new k.TimestampSecondsParser,T:new P.TimestampMillisecondsParser}},4586:(e,t,n)=>{"use strict";t.AMPMMidnightParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}t.AMPMMidnightParser=o},630:(e,t,n)=>{"use strict";t.AMPMParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}t.AMPMParser=o},8503:(e,t,n)=>{"use strict";t.DateParser=void 0;var r=n(7340),i=n(8218),o=n(9072);const a=[31,28,31,30,31,30,31,31,30,31,30,31],s=[31,29,31,30,31,30,31,31,30,31,30,31];class c extends i.Parser{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return(0,o.parseNumericPattern)(r.numericPatterns.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear(),r=(0,o.isLeapYearIndex)(n),i=e.getMonth();return r?t>=1&&t<=s[i]:t>=1&&t<=a[i]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}t.DateParser=c},7423:(e,t,n)=>{"use strict";t.DayOfYearParser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return(0,o.parseNumericPattern)(r.numericPatterns.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear();return(0,o.isLeapYearIndex)(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}t.DayOfYearParser=a},2471:(e,t,n)=>{"use strict";t.DayParser=void 0;var r=n(8152),i=n(8218);class o extends i.Parser{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}t.DayParser=o},9890:(e,t,n)=>{"use strict";t.DayPeriodParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}t.DayPeriodParser=o},1371:(e,t,n)=>{"use strict";t.EraParser=void 0;var r=n(8218);class i extends r.Parser{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}t.EraParser=i},3407:(e,t,n)=>{"use strict";t.ExtendedYearParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=130;parse(e,t){return"u"===t?(0,i.parseNDigitsSigned)(4,e):(0,i.parseNDigitsSigned)(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}t.ExtendedYearParser=o},8136:(e,t,n)=>{"use strict";t.FractionOfSecondParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=30;parse(e,t){return(0,i.mapValue)((0,i.parseNDigits)(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}t.FractionOfSecondParser=o},3420:(e,t,n)=>{"use strict";t.Hour0To11Parser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=70;parse(e,t,n){switch(t){case"K":return(0,o.parseNumericPattern)(r.numericPatterns.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}t.Hour0To11Parser=a},5905:(e,t,n)=>{"use strict";t.Hour0to23Parser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=70;parse(e,t,n){switch(t){case"H":return(0,o.parseNumericPattern)(r.numericPatterns.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}t.Hour0to23Parser=a},1507:(e,t,n)=>{"use strict";t.Hour1To24Parser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=70;parse(e,t,n){switch(t){case"k":return(0,o.parseNumericPattern)(r.numericPatterns.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}t.Hour1To24Parser=a},6598:(e,t,n)=>{"use strict";t.Hour1to12Parser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=70;parse(e,t,n){switch(t){case"h":return(0,o.parseNumericPattern)(r.numericPatterns.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}t.Hour1to12Parser=a},1790:(e,t,n)=>{"use strict";t.ISODayParser=void 0;var r=n(9553),i=n(8218),o=n(9072);class a extends i.Parser{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return(0,o.parseNDigits)(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return(0,o.mapValue)(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return(0,o.mapValue)(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return(0,o.mapValue)(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return(0,o.mapValue)(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=(0,r.setISODay)(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}t.ISODayParser=a},435:(e,t,n)=>{"use strict";t.ISOTimezoneParser=void 0;var r=n(2781),i=n(5648),o=n(7340),a=n(8218),s=n(9072);class c extends a.Parser{priority=10;parse(e,t){switch(t){case"x":return(0,s.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,e);case"xx":return(0,s.parseTimezonePattern)(o.timezonePatterns.basic,e);case"xxxx":return(0,s.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return(0,s.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,e);default:return(0,s.parseTimezonePattern)(o.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,r.constructFrom)(e,e.getTime()-(0,i.getTimezoneOffsetInMilliseconds)(e)-n)}incompatibleTokens=["t","T","X"]}t.ISOTimezoneParser=c},6363:(e,t,n)=>{"use strict";t.ISOTimezoneWithZParser=void 0;var r=n(2781),i=n(5648),o=n(7340),a=n(8218),s=n(9072);class c extends a.Parser{priority=10;parse(e,t){switch(t){case"X":return(0,s.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,e);case"XX":return(0,s.parseTimezonePattern)(o.timezonePatterns.basic,e);case"XXXX":return(0,s.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return(0,s.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,e);default:return(0,s.parseTimezonePattern)(o.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,r.constructFrom)(e,e.getTime()-(0,i.getTimezoneOffsetInMilliseconds)(e)-n)}incompatibleTokens=["t","T","x"]}t.ISOTimezoneWithZParser=c},139:(e,t,n)=>{"use strict";t.ISOWeekParser=void 0;var r=n(1335),i=n(9388),o=n(7340),a=n(8218),s=n(9072);class c extends a.Parser{priority=100;parse(e,t,n){switch(t){case"I":return(0,s.parseNumericPattern)(o.numericPatterns.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return(0,s.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return(0,i.startOfISOWeek)((0,r.setISOWeek)(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}t.ISOWeekParser=c},5109:(e,t,n)=>{"use strict";t.ISOWeekYearParser=void 0;var r=n(9388),i=n(2781),o=n(8218),a=n(9072);class s extends o.Parser{priority=130;parse(e,t){return"R"===t?(0,a.parseNDigitsSigned)(4,e):(0,a.parseNDigitsSigned)(t.length,e)}set(e,t,n){const o=(0,i.constructFrom)(e,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),(0,r.startOfISOWeek)(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}t.ISOWeekYearParser=s},6316:(e,t,n)=>{"use strict";t.LocalDayParser=void 0;var r=n(8152),i=n(8218),o=n(9072);class a extends i.Parser{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),i);case"eo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}t.LocalDayParser=a},162:(e,t,n)=>{"use strict";t.LocalWeekParser=void 0;var r=n(8676),i=n(613),o=n(7340),a=n(8218),s=n(9072);class c extends a.Parser{priority=100;parse(e,t,n){switch(t){case"w":return(0,s.parseNumericPattern)(o.numericPatterns.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return(0,s.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,o){return(0,i.startOfWeek)((0,r.setWeek)(e,n,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}t.LocalWeekParser=c},2379:(e,t,n)=>{"use strict";t.LocalWeekYearParser=void 0;var r=n(3833),i=n(613),o=n(8218),a=n(9072);class s extends o.Parser{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return(0,a.mapValue)((0,a.parseNDigits)(4,e),r);case"Yo":return(0,a.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,a.mapValue)((0,a.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,o){const s=(0,r.getWeekYear)(e,o);if(n.isTwoDigitYear){const t=(0,a.normalizeTwoDigitYear)(n.year,s);return e.setFullYear(t,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),(0,i.startOfWeek)(e,o)}const c="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),(0,i.startOfWeek)(e,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}t.LocalWeekYearParser=s},8283:(e,t,n)=>{"use strict";t.MinuteParser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=60;parse(e,t,n){switch(t){case"m":return(0,o.parseNumericPattern)(r.numericPatterns.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}t.MinuteParser=a},1287:(e,t,n)=>{"use strict";t.MonthParser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=e=>e-1;switch(t){case"M":return(0,o.mapValue)((0,o.parseNumericPattern)(r.numericPatterns.month,e),i);case"MM":return(0,o.mapValue)((0,o.parseNDigits)(2,e),i);case"Mo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}t.MonthParser=a},5641:(e,t,n)=>{"use strict";t.QuarterParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return(0,i.parseNDigits)(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}t.QuarterParser=o},4819:(e,t,n)=>{"use strict";t.SecondParser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=50;parse(e,t,n){switch(t){case"s":return(0,o.parseNumericPattern)(r.numericPatterns.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}t.SecondParser=a},4995:(e,t,n)=>{"use strict";t.StandAloneLocalDayParser=void 0;var r=n(8152),i=n(8218),o=n(9072);class a extends i.Parser{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),i);case"co":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}t.StandAloneLocalDayParser=a},3534:(e,t,n)=>{"use strict";t.StandAloneMonthParser=void 0;var r=n(7340),i=n(8218),o=n(9072);class a extends i.Parser{priority=110;parse(e,t,n){const i=e=>e-1;switch(t){case"L":return(0,o.mapValue)((0,o.parseNumericPattern)(r.numericPatterns.month,e),i);case"LL":return(0,o.mapValue)((0,o.parseNDigits)(2,e),i);case"Lo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}t.StandAloneMonthParser=a},1924:(e,t,n)=>{"use strict";t.StandAloneQuarterParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return(0,i.parseNDigits)(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}t.StandAloneQuarterParser=o},5135:(e,t,n)=>{"use strict";t.TimestampMillisecondsParser=void 0;var r=n(2781),i=n(8218),o=n(9072);class a extends i.Parser{priority=20;parse(e){return(0,o.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,r.constructFrom)(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}t.TimestampMillisecondsParser=a},1410:(e,t,n)=>{"use strict";t.TimestampSecondsParser=void 0;var r=n(2781),i=n(8218),o=n(9072);class a extends i.Parser{priority=40;parse(e){return(0,o.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,r.constructFrom)(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"}t.TimestampSecondsParser=a},6506:(e,t,n)=>{"use strict";t.YearParser=void 0;var r=n(8218),i=n(9072);class o extends r.Parser{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return(0,i.mapValue)((0,i.parseNDigits)(4,e),r);case"yo":return(0,i.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,i.mapValue)((0,i.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=(0,i.normalizeTwoDigitYear)(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}t.YearParser=o},9072:(e,t,n)=>{"use strict";t.dayPeriodEnumToHours=function(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}},t.isLeapYearIndex=function(e){return e%400===0||e%4===0&&e%100!==0},t.mapValue=function(e,t){if(!e)return e;return{value:t(e.value),rest:e.rest}},t.normalizeTwoDigitYear=function(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i},t.parseAnyDigitsSigned=function(e){return o(i.numericPatterns.anyDigitsSigned,e)},t.parseNDigits=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigit,t);case 2:return o(i.numericPatterns.twoDigits,t);case 3:return o(i.numericPatterns.threeDigits,t);case 4:return o(i.numericPatterns.fourDigits,t);default:return o(new RegExp("^\\d{1,"+e+"}"),t)}},t.parseNDigitsSigned=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigitSigned,t);case 2:return o(i.numericPatterns.twoDigitsSigned,t);case 3:return o(i.numericPatterns.threeDigitsSigned,t);case 4:return o(i.numericPatterns.fourDigitsSigned,t);default:return o(new RegExp("^-?\\d{1,"+e+"}"),t)}},t.parseNumericPattern=o,t.parseTimezonePattern=function(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const i="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:i*(o*r.millisecondsInHour+a*r.millisecondsInMinute+s*r.millisecondsInSecond),rest:t.slice(n[0].length)}};var r=n(6865),i=n(7340);function o(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}},2180:(e,t,n)=>{"use strict";t.set=function(e,t){let n=(0,o.toDate)(e);if(isNaN(+n))return(0,r.constructFrom)(e,NaN);null!=t.year&&n.setFullYear(t.year);null!=t.month&&(n=(0,i.setMonth)(n,t.month));null!=t.date&&n.setDate(t.date);null!=t.hours&&n.setHours(t.hours);null!=t.minutes&&n.setMinutes(t.minutes);null!=t.seconds&&n.setSeconds(t.seconds);null!=t.milliseconds&&n.setMilliseconds(t.milliseconds);return n};var r=n(2781),i=n(8416),o=n(5083)},8152:(e,t,n)=>{"use strict";t.setDay=function(e,t,n){const a=(0,o.getDefaultOptions)(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=(0,i.toDate)(e),l=c.getDay(),u=(t%7+7)%7,d=7-s,h=t<0||t>6?t-(l+d)%7:(u+d)%7-(l+d)%7;return(0,r.addDays)(c,h)};var r=n(6592),i=n(5083),o=n(7784)},9017:(e,t,n)=>{"use strict";t.setHours=function(e,t){const n=(0,r.toDate)(e);return n.setHours(t),n};var r=n(5083)},9553:(e,t,n)=>{"use strict";t.setISODay=function(e,t){const n=(0,o.toDate)(e),a=(0,i.getISODay)(n),s=t-a;return(0,r.addDays)(n,s)};var r=n(6592),i=n(2234),o=n(5083)},1335:(e,t,n)=>{"use strict";t.setISOWeek=function(e,t){const n=(0,i.toDate)(e),o=(0,r.getISOWeek)(n)-t;return n.setDate(n.getDate()-7*o),n};var r=n(1387),i=n(5083)},4531:(e,t,n)=>{"use strict";t.setMinutes=function(e,t){const n=(0,r.toDate)(e);return n.setMinutes(t),n};var r=n(5083)},8416:(e,t,n)=>{"use strict";t.setMonth=function(e,t){const n=(0,o.toDate)(e),a=n.getFullYear(),s=n.getDate(),c=(0,r.constructFrom)(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const l=(0,i.getDaysInMonth)(c);return n.setMonth(t,Math.min(s,l)),n};var r=n(2781),i=n(9468),o=n(5083)},5726:(e,t,n)=>{"use strict";t.setQuarter=function(e,t){const n=(0,i.toDate)(e),o=Math.trunc(n.getMonth()/3)+1,a=t-o;return(0,r.setMonth)(n,n.getMonth()+3*a)};var r=n(8416),i=n(5083)},35:(e,t,n)=>{"use strict";t.setSeconds=function(e,t){const n=(0,r.toDate)(e);return n.setSeconds(t),n};var r=n(5083)},8676:(e,t,n)=>{"use strict";t.setWeek=function(e,t,n){const o=(0,i.toDate)(e),a=(0,r.getWeek)(o,n)-t;return o.setDate(o.getDate()-7*a),o};var r=n(1416),i=n(5083)},5597:(e,t,n)=>{"use strict";t.setYear=function(e,t){const n=(0,i.toDate)(e);if(isNaN(+n))return(0,r.constructFrom)(e,NaN);return n.setFullYear(t),n};var r=n(2781),i=n(5083)},5755:(e,t,n)=>{"use strict";t.startOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(0,0,0,0),t};var r=n(5083)},9388:(e,t,n)=>{"use strict";t.startOfISOWeek=function(e){return(0,r.startOfWeek)(e,{weekStartsOn:1})};var r=n(613)},517:(e,t,n)=>{"use strict";t.startOfISOWeekYear=function(e){const t=(0,r.getISOWeekYear)(e),n=(0,o.constructFrom)(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),(0,i.startOfISOWeek)(n)};var r=n(4958),i=n(9388),o=n(2781)},1831:(e,t,n)=>{"use strict";t.startOfMonth=function(e){const t=(0,r.toDate)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var r=n(5083)},2801:(e,t,n)=>{"use strict";t.startOfQuarter=function(e){const t=(0,r.toDate)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t};var r=n(5083)},613:(e,t,n)=>{"use strict";t.startOfWeek=function(e,t){const n=(0,i.getDefaultOptions)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=(0,r.toDate)(e),s=a.getDay(),c=(s<o?7:0)+s-o;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a};var r=n(5083),i=n(7784)},8996:(e,t,n)=>{"use strict";t.startOfWeekYear=function(e,t){const n=(0,a.getDefaultOptions)(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=(0,i.getWeekYear)(e,t),l=(0,r.constructFrom)(e,0);l.setFullYear(c,0,s),l.setHours(0,0,0,0);return(0,o.startOfWeek)(l,t)};var r=n(2781),i=n(3833),o=n(613),a=n(7784)},9928:(e,t,n)=>{"use strict";t.startOfYear=function(e){const t=(0,r.toDate)(e),n=(0,i.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n};var r=n(5083),i=n(2781)},3321:(e,t,n)=>{"use strict";t.subDays=function(e,t){return(0,r.addDays)(e,-t)};var r=n(6592)},2097:(e,t,n)=>{"use strict";t.subMonths=function(e,t){return(0,r.addMonths)(e,-t)};var r=n(4940)},8175:(e,t,n)=>{"use strict";t.subQuarters=function(e,t){return(0,r.addQuarters)(e,-t)};var r=n(726)},5993:(e,t,n)=>{"use strict";t.subWeeks=function(e,t){return(0,r.addWeeks)(e,-t)};var r=n(5670)},8858:(e,t,n)=>{"use strict";t.subYears=function(e,t){return(0,r.addYears)(e,-t)};var r=n(6417)},5083:(e,t)=>{"use strict";t.toDate=function(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}},971:(e,t,n)=>{"use strict";t.transpose=function(e,t){const n=t instanceof Date?(0,r.constructFrom)(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n};var r=n(2781)},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Te=null;function Ce(e){if(e=bi(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function xe(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Re(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Oe(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==Se||null!==Te)&&(Oe(),Re())}}function ke(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Le(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,o,a,s,c){Me=!1,je=null,Le.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(We(e)!==e)throw Error(o(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,St,Tt,Ct,xt=!1,Rt=[],At=null,Ot=null,It=null,Nt=new Map,kt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){xt=!1,null!==At&&Ut(At)&&(At=null),null!==Ot&&Ut(Ot)&&(Ot=null),null!==It&&Ut(It)&&(It=null),Nt.forEach(Ft),kt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Vt(t,e)}if(0<Rt.length){Vt(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==Ot&&Vt(Ot,e),null!==It&&Vt(It,e),Nt.forEach(t),kt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Ht=E.ReactCurrentBatchConfig,Gt=!0;function zt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Yt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return It=Mt(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,Mt(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Gr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function $t(e,t,n,r){if(qt=null,null!==(e=yi(e=_e(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=j({},ln,{view:0,detail:0}),hn=on(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(j({},pn,{dataTransfer:0})),gn=on(j({},dn,{relatedTarget:0})),vn=on(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),En=on(j({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var xn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=on(xn),An=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=on(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=on(Nn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function zn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function qn(e){Ur(e,0)}function $n(e){if(Y(Ei(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Yn)){var t=[];zn(t,Yn,e,_e(e)),Ne(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Tr={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var xr=Cr("animationend"),Rr=Cr("animationiteration"),Ar=Cr("animationstart"),Or=Cr("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Ir.set(e,t),c(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Dr=Nr[Pr];kr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}kr(xr,"onAnimationEnd"),kr(Rr,"onAnimationIteration"),kr(Ar,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=c}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=zt;break;case 4:i=Kt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=_e(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=On;break;case xr:case Rr:case Ar:c=vn;break;case Or:c=In;break;case"scroll":c=hn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=ke(f,h))&&u.push(zr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[fi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:Ei(c),p=null==l?s:Ei(l),(s=new u(m,f+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",l,n,i)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Yr(p))f++;for(p=0,m=h;m;m=Yr(m))p++;for(;0<f-p;)u=Yr(u),f--;for(;0<p-f;)h=Yr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==c&&qr(a,s,c,u,!1),null!==l&&null!==d&&qr(a,d,l,u,!0)}if("select"===(c=(s=r?Ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Xn;else if(Gn(s))if(Qn)g=ar;else{g=ir;var v=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?zn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Ei(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Er(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Wn=!0)),0<(v=Kr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ke(e,n))&&r.unshift(zr(e,o,i)),null!=(o=ke(e,t))&&r.push(zr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=ke(n,o))&&a.unshift(zr(n,c,s)):i||null!=(c=ke(n,o))&&a.push(zr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[pi]||null}var wi=[],Si=-1;function Ti(e){return{current:e}}function Ci(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function xi(e,t){Si++,wi[Si]=e.current,e.current=t}var Ri={},Ai=Ti(Ri),Oi=Ti(!1),Ii=Ri;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Oi),Ci(Ai)}function Di(e,t,n){if(Ai.current!==Ri)throw Error(o(168));xi(Ai,t),xi(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,Ii=Ai.current,xi(Ai,e),xi(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ci(Oi),Ci(Ai),xi(Ai,e)):Ci(Oi),xi(Oi,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Wi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ye(Ze,Wi),i}finally{bt=t,Bi=!1}}return null}var Hi=[],Gi=0,zi=null,Ki=0,Yi=[],qi=0,$i=null,Xi=1,Qi="";function Ji(e,t){Hi[Gi++]=Ki,Hi[Gi++]=zi,zi=e,Ki=t}function Zi(e,t,n){Yi[qi++]=Xi,Yi[qi++]=Qi,Yi[qi++]=$i,$i=e;var r=Xi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Xi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===zi;)zi=Hi[--Gi],Hi[Gi]=null,Ki=Hi[--Gi],Hi[Gi]=null;for(;e===$i;)$i=Yi[--qi],Yi[qi]=null,Qi=Yi[--qi],Yi[qi]=null,Xi=Yi[--qi],Yi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=li(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=E.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function Eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===k&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case k:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?u(e,t,n,r):null;case k:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(o=a(d,o,m),null===u?l=d:u.sibling=d,u=d);return io&&Ji(i,m),l}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),l}function g(i,s,c,l){var u=L(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=f(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===k&&bo(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Ll(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Dl(a.type,a.key,a.props,null,r.mode,c)).ref=vo(r,o,a),c.return=r,r=c)}return s(r);case w:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ul(a,r.mode,c)).return=r,r=o}return s(r);case k:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return m(r,o,a,c);if(L(a))return g(r,o,a,c);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jl(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var _o=Eo(!0),wo=Eo(!1),So=Ti(null),To=null,Co=null,xo=null;function Ro(){xo=Co=To=null}function Ao(e){var t=So.current;Ci(So),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){To=e,xo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===To)throw Error(o(308));Co=e,To.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var ko=null;function Po(e){null===ko?ko=[e]:ko.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(a=0,u=l=c=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=j({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo={},Ko=Ti(zo),Yo=Ti(zo),qo=Ti(zo);function $o(e){if(e===zo)throw Error(o(174));return e}function Xo(e,t){switch(xi(qo,t),xi(Yo,e),xi(Ko,zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ko),xi(Ko,t)}function Qo(){Ci(Ko),Ci(Yo),Ci(qo)}function Jo(e){$o(qo.current);var t=$o(Ko.current),n=ce(t,e.type);t!==n&&(xi(Yo,e),xi(Ko,n))}function Zo(e){Yo.current===e&&(Ci(Ko),Ci(Yo))}var ea=Ti(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=E.ReactCurrentDispatcher,oa=E.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,la=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,la=ca=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==ca&&null!==ca.next,aa=0,la=ca=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function Ea(e,t){return"function"===typeof t?t(e):t}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,sa.lanes|=d,Mc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Mc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ta(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ma(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Na(9,xa.bind(null,n,r,i,t),void 0,null),null===Oc)throw Error(o(349));0!==(30&aa)||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Oa(e)}function Ra(e,t,n){return n((function(){Aa(t)&&Oa(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oa(e){var t=Lo(e,1);null!==t&&nl(t,e,1,-1)}function Ia(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ka(){return ba().memoizedState}function Pa(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Na(t,n,o,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,o,r)}function La(e,t){return Pa(8390656,8,e,t)}function Ma(e,t){return Da(2048,8,e,t)}function ja(e,t){return Da(4,2,e,t)}function Ua(e,t){return Da(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Fa.bind(null,t,e),n)}function Va(){}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Mc|=n,e.baseState=!0),t)}function za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ya(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))Xa(t,n);else if(null!==(n=Do(e,t,n,r))){nl(n,e,r,el()),Qa(n,t,r)}}function qa(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Po(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Do(e,t,i,r))&&(nl(n,e,r,i=el()),Qa(n,t,r))}}function $a(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:No,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:No,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ia,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=za.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Oc)throw Error(o(349));0!==(30&aa)||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,xa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Oc.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:No,useCallback:Wa,useContext:No,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:Ua,useMemo:Ha,useReducer:_a,useRef:ka,useState:function(){return _a(Ea)},useDebugValue:Va,useDeferredValue:function(e){return Ga(ba(),ca.memoizedState,e)},useTransition:function(){return[_a(Ea)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:No,useCallback:Wa,useContext:No,useEffect:Ma,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:Ua,useMemo:Ha,useReducer:wa,useRef:ka,useState:function(){return wa(Ea)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===ca?t.memoizedState=e:Ga(t,ca.memoizedState,e)},useTransition:function(){return[wa(Ea)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nl(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function as(e,t,n){var r=!1,i=Ri,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=ki(t)?Ii:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ri),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=ki(t)?Ii:Ai.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,zc=r),ds(0,t)},n}function fs(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=E.ReactCurrentOwner,bs=!1;function Es(e,t,n,r){t.child=null===e?wo(t,null,n,r):_o(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||kl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Pl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return xs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pc,kc),kc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Pc,kc),kc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Pc,kc),kc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Pc,kc),kc|=r;return Es(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=ki(n)?Ii:Ai.current;return o=Ni(t,o),Io(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Rs(e,t,n,r,i){if(ki(n)){var o=!0;Mi(t)}else o=!1;if(Io(t,i),null===t.stateNode)Hs(e,t),as(t,n,r),cs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=No(l):l=Ni(t,l=ki(n)?Ii:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,a,r,l),Mo=!1;var h=t.memoizedState;a.state=h,Ho(t,r,a,i),c=t.memoizedState,s!==r||h!==c||Oi.current||Mo?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=Mo||os(t,n,s,r,h,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Uo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=No(c):c=Ni(t,c=ki(n)?Ii:Ai.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,a,r,c),Mo=!1,h=t.memoizedState,a.state=h,Ho(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Oi.current||Mo?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(l=Mo||os(t,n,l,r,h,f,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Gs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):Es(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function Is(e,t,n,r,i){return fo(),mo(i),t.flags|=256,Es(e,t,n,r),t.child}var Ns,ks,Ps,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ea,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ml(c,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(a=Ll(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Fs(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),bs||c){if(null!==(r=Oc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nl(r,e,i,-1))}return ml(),Fs(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Rl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[qi++]=Xi,Yi[qi++]=Qi,Yi[qi++]=$i,Xi=e.id,Qi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=Ll(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ms(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return ki(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,Qo(),Ci(Oi),Ci(Ai),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),ks(e,t),Ks(t),null;case 5:Zo(t);var i=$o(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=$o(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[pi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(qo.current),$o(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dc&&(Dc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Qo(),ks(e,t),null===e&&Wr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ao(t.type._context),Ks(t),null;case 19:if(Ci(ea),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)zs(a,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,zs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Wc&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Ks(t),null}else 2*Qe()-a.renderingStartTime>Wc&&1073741824!==n&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,xi(ea,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&kc)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return ki(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Ci(Oi),Ci(Ai),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ci(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ea),null;case 4:return Qo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ks=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Ko.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=uc,i=dc;uc=null,hc(e,t,n),dc=i,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Wt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}hc(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hc(e,t,n),Xs=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));pc(a,s,i),uc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Tl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:mc(t,e),vc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(mc(t,e),vc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&Q(i,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Tl(e,e.return,g)}}break;case 6:if(mc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tl(e,e.return,g)}}break;case 3:if(mc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:mc(t,e),vc(e);break;case 13:mc(t,e),vc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Qe())),4&r&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,mc(t,e),Xs=u):mc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Zs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){_c(h);continue}}null!==f?(f.return=p,Js=f):_c(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){Tl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),vc(e),4&r&&fc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Js=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Xs;s=$s;var l=Xs;if($s=a,(Xs=c)&&!l)for(Js=i;null!==Js;)c=(a=Js).child,22===a.tag&&null!==a.memoizedState?wc(i):null!==c?(c.return=a,Js=c):wc(i);for(;null!==o;)Js=o,bc(o,t,n),o=o.sibling;Js=i,$s=s,Xs=l}Ec(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):Ec(e)}}function Ec(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ic(t)}catch(p){Tl(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _c(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wc(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Tl(t,o,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){Tl(t,a,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sc,Tc=Math.ceil,Cc=E.ReactCurrentDispatcher,xc=E.ReactCurrentOwner,Rc=E.ReactCurrentBatchConfig,Ac=0,Oc=null,Ic=null,Nc=0,kc=0,Pc=Ti(0),Dc=0,Lc=null,Mc=0,jc=0,Uc=0,Fc=null,Bc=null,Vc=0,Wc=1/0,Hc=null,Gc=!1,zc=null,Kc=null,Yc=!1,qc=null,$c=0,Xc=0,Qc=null,Jc=-1,Zc=0;function el(){return 0!==(6&Ac)?Qe():-1!==Jc?Jc:Jc=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Nc?Nc&-Nc:null!==go.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xc)throw Xc=0,Qc=null,Error(o(185));vt(e,n,r),0!==(2&Ac)&&e===Oc||(e===Oc&&(0===(2&Ac)&&(jc|=n),4===Dc&&sl(e,Nc)),rl(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(Wc=Qe()+500,Fi&&Wi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Oc?Nc:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cl.bind(null,e)):Vi(cl.bind(null,e)),ai((function(){0===(6&Ac)&&Wi()})),n=null;else{switch(Et(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ol(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Jc=-1,Zc=0,0!==(6&Ac))throw Error(o(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ht(e,e===Oc?Nc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Ac;Ac|=2;var a=fl();for(Oc===e&&Nc===t||(Hc=null,Wc=Qe()+500,hl(e,t));;)try{yl();break}catch(c){pl(e,c)}Ro(),Cc.current=a,Ac=i,null!==Ic?t=0:(Oc=null,Nc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ol(e,i))),1===t)throw n=Lc,hl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=ft(e))&&(r=a,t=ol(e,a))),1===t))throw n=Lc,hl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_l(e,Bc,Hc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vc+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Bc,Hc),t);break}_l(e,Bc,Hc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Bc,Hc),r);break}_l(e,Bc,Hc);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Fc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Bc,Bc=n,null!==t&&al(t)),e}function al(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function sl(e,t){for(t&=~Uc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ac))throw Error(o(327));wl();var t=ht(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Lc,hl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Bc,Hc),rl(e,Qe()),null}function ll(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(Wc=Qe()+500,Fi&&Wi())}}function ul(e){null!==qc&&0===qc.tag&&0===(6&Ac)&&wl();var t=Ac;Ac|=1;var n=Rc.transition,r=bt;try{if(Rc.transition=null,bt=1,e)return e()}finally{bt=r,Rc.transition=n,0===(6&(Ac=t))&&Wi()}}function dl(){kc=Pc.current,Ci(Pc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ic)for(n=Ic.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Qo(),Ci(Oi),Ci(Ai),ra();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:Ci(ea);break;case 10:Ao(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Oc=e,Ic=e=Pl(e.current,null),Nc=kc=t,Dc=0,Lc=null,Uc=jc=Mc=0,Bc=Fc=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function pl(e,t){for(;;){var n=Ic;try{if(Ro(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,la=ca=sa=null,da=!1,ha=0,xc.current=null,null===n||null===n.return){Dc=1,Lc=t,Ic=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Nc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,c,0,t),1&f.mode&&ms(a,u,t),l=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ms(a,u,t),ml();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,c,0,t),mo(ls(l,c));break e}}a=l=ls(l,c),4!==Dc&&(Dc=2),null===Fc?Fc=[a]:Fc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,ps(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,fs(a,c,t));break e}}a=a.return}while(null!==a)}El(n)}catch(E){t=E,Ic===n&&null!==n&&(Ic=n=n.return);continue}break}}function fl(){var e=Cc.current;return Cc.current=Ja,null===e?Ja:e}function ml(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Oc||0===(268435455&Mc)&&0===(268435455&jc)||sl(Oc,Nc)}function gl(e,t){var n=Ac;Ac|=2;var r=fl();for(Oc===e&&Nc===t||(Hc=null,hl(e,t));;)try{vl();break}catch(i){pl(e,i)}if(Ro(),Ac=n,Cc.current=r,null!==Ic)throw Error(o(261));return Oc=null,Nc=0,Dc}function vl(){for(;null!==Ic;)bl(Ic)}function yl(){for(;null!==Ic&&!$e();)bl(Ic)}function bl(e){var t=Sc(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?El(e):Ic=t,xc.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,kc)))return void(Ic=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Ic=n);if(null===e)return Dc=6,void(Ic=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ic=t);Ic=t=e}while(null!==t);0===Dc&&(Dc=5)}function _l(e,t,n){var r=bt,i=Rc.transition;try{Rc.transition=null,bt=1,function(e,t,n,r){do{wl()}while(null!==qc);if(0!==(6&Ac))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Oc&&(Ic=Oc=null,Nc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yc||(Yc=!0,Ol(tt,(function(){return wl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rc.transition,Rc.transition=null;var s=bt;bt=1;var c=Ac;Ac|=4,xc.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(c=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(c=s),p===a&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(o(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tc,tc=!1}(e,n),gc(n,e),fr(ti),Gt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Xe(),Ac=c,bt=s,Rc.transition=a}else e.current=n;if(Yc&&(Yc=!1,qc=e,$c=i),a=e.pendingLanes,0===a&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=zc,zc=null,e;0!==(1&$c)&&0!==e.tag&&wl(),a=e.pendingLanes,0!==(1&a)?e===Qc?Xc++:(Xc=0,Qc=e):Xc=0,Wi()}(e,t,n,r)}finally{Rc.transition=i,bt=r}return null}function wl(){if(null!==qc){var e=Et($c),t=Rc.transition,n=bt;try{if(Rc.transition=null,bt=16>e?16:e,null===qc)var r=!1;else{if(e=qc,qc=null,$c=0,0!==(6&Ac))throw Error(o(331));var i=Ac;for(Ac|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(oc(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var E=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==E)E.return=s,Js=E;else e:for(s=b;null!==Js;){if(0!==(2048&(c=Js).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(w){Tl(c,c.return,w)}if(c===s){Js=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Js=_;break e}Js=c.return}}if(Ac=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Rc.transition=t}}return!1}function Sl(e,t,n){e=Bo(e,t=ps(0,t=ls(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Bo(t,e=fs(t,e=ls(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Oc===e&&(Nc&n)===n&&(4===Dc||3===Dc&&(130023424&Nc)===Nc&&500>Qe()-Vc?hl(e,0):Uc|=n),rl(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Lo(e,t))&&(vt(e,t,n),rl(e,n))}function Rl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xl(e,n)}function Ol(e,t){return Ye(e,t)}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Il(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)kl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ll(n.children,i,a,t);case T:s=8,i|=8;break;case C:return(e=Nl(12,n,t,2|i)).elementType=C,e.lanes=a,e;case O:return(e=Nl(13,n,t,i)).elementType=O,e.lanes=a,e;case I:return(e=Nl(19,n,t,i)).elementType=I,e.lanes=a,e;case P:return Ml(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case R:s=9;break e;case A:s=11;break e;case N:s=14;break e;case k:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ll(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,c){return e=new Fl(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Vl(e){if(!e)return Ri;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ki(n))return Li(e,n,t)}return t}function Wl(e,t,n,r,i,o,a,s,c){return(e=Bl(n,r,!0,e,0,o,0,s,c)).context=Vl(null),n=e.current,(o=Fo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nl(e,i,a,o),Vo(e,i,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){zl(e,t),(e=e.alternate)&&zl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),fo();break;case 5:Jo(t);break;case 1:ki(t.type)&&Mi(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);xi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Io(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,cs(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return kl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Uo(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Gs(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return js(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Oo(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=No(i)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,ki(r)?(e=!0,Mi(t)):e=!1,Io(t,n),as(t,r,i),cs(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gl(a);s.call(e)}}Hl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gl(a);o.call(e)}}var a=Wl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=a,e[fi]=a.current,Wr(8===e.nodeType?e.parentNode:e),ul(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(c);s.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=c,e[fi]=c.current,Wr(8===e.nodeType?e.parentNode:e),ul((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return Gl(a)}$l.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},$l.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Hl(null,e,null,null)})),t[fi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Ac)&&(Wc=Qe()+500,Wi()))}break;case 13:ul((function(){var t=Lo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},wt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Lo(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},Tt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));Y(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,Oe=ul;var eu={usingClientEntryPoint:!1,Events:[bi,Ei,_i,xe,Re,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(o(299));var n=!1,r="",i=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case m:case f:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},2086:(e,t,n)=>{"use strict";n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var E=b.prototype=new y;E.constructor=b,m(E,v.prototype),E.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+A(c,0):o,_(a)?(i="",null!=e&&(i=e.replace(R,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+A(s=e[l],l);c+=O(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=O(s=s.value,t,i,u=o+A(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function I(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},P={transition:null},D={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return k.current.useCallback(e,t)},t.useContext=function(e){return k.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return k.current.useDeferredValue(e)},t.useEffect=function(e,t){return k.current.useEffect(e,t)},t.useId=function(){return k.current.useId()},t.useImperativeHandle=function(e,t,n){return k.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.current.useMemo(e,t)},t.useReducer=function(e,t,n){return k.current.useReducer(e,t,n)},t.useRef=function(e){return k.current.useRef(e)},t.useState=function(e){return k.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6378:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isFragment=function(e){return _(e)===o}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,E(e),!m)if(null!==r(l))m=!0,P(w);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(x),x=-1),f=!0;var o=p;try{for(E(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!O());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),E(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),c=!1}return c}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,C=null,x=-1,R=5,A=-1;function O(){return!(t.unstable_now()-A<R)}function I(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(T=!1,C=null)}}else T=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,k=N.port2;N.port1.onmessage=I,S=function(){k.postMessage(null)}}else S=function(){v(I,0)};function P(e){C=e,T||(T=!0,S())}function D(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(g?(y(x),x=-1):g=!0,D(_,o-a))):(e.sortIndex=s,n(l,e),m||f||(m=!0,P(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},6440:e=>{"use strict";var t=function(){};e.exports=t},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>ow,scaleDiverging:()=>MR,scaleDivergingLog:()=>jR,scaleDivergingPow:()=>FR,scaleDivergingSqrt:()=>BR,scaleDivergingSymlog:()=>UR,scaleIdentity:()=>IT,scaleImplicit:()=>rw,scaleLinear:()=>OT,scaleLog:()=>FT,scaleOrdinal:()=>iw,scalePoint:()=>sw,scalePow:()=>qT,scaleQuantile:()=>aC,scaleQuantize:()=>sC,scaleRadial:()=>QT,scaleSequential:()=>OR,scaleSequentialLog:()=>IR,scaleSequentialPow:()=>kR,scaleSequentialQuantile:()=>DR,scaleSequentialSqrt:()=>PR,scaleSequentialSymlog:()=>NR,scaleSqrt:()=>$T,scaleSymlog:()=>HT,scaleThreshold:()=>cC,scaleTime:()=>CR,scaleUtc:()=>xR,tickFormat:()=>RT});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>ZM,hasStandardBrowserEnv:()=>tj,hasStandardBrowserWebWorkerEnv:()=>nj,navigator:()=>ej,origin:()=>rj});var r,i=n(5043),o=n.t(i,2),a=n(4391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){f=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:f,location:E.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),""));let E={get action(){return f},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(c,y),m=e,()=>{o.removeEventListener(c,y),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let i=h(E.location,e,t);n&&n(i,e),g=v()+1;let s=d(i,g),c=E.createHref(i);try{u.pushState(s,"",c)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(c)}a&&m&&m({action:f,location:E.location,delta:1})},replace:function(e,t){f=r.Replace;let i=h(E.location,e,t);n&&n(i,e),g=v();let o=d(i,g),s=E.createHref(i);u.replaceState(o,"",s),a&&m&&m({action:f,location:E.location,delta:0})},go:e=>u.go(e)};return E}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=k(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=N(i);a=O(o[s],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=j([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:A(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=E(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,w=3,S=2,T=1,C=10,x=-2,R=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=x),t&&(r+=S),n.filter((e=>!R(e))).reduce(((e,t)=>e+(_.test(t)?w:""===t?T:C)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],c=s===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),d=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:j([o,u.pathname]),pathnameBase:U(j([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=j([o,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=s({},e),l(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let o,a=""===e||""===i.pathname,c=a?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:B(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const z=i.createContext(null);const K=i.createContext(null);const Y=i.createContext(null);const q=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function J(){return null!=i.useContext(q)}function Z(){return J()||l(!1),i.useContext(q).location}function ee(e){i.useContext(Y).static||i.useLayoutEffect(e)}function te(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(de.UseNavigateStable),n=i.useRef(!1);ee((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t]);return r}():function(){J()||l(!1);let e=i.useContext(z),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=Z(),s=JSON.stringify(L(o,n.v7_relativeSplatPath)),c=i.useRef(!1);ee((()=>{c.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void r.go(n);let o=M(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:j([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return u}()}function ne(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:o}=i.useContext(X),{pathname:a}=Z(),s=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function ie(e,t,n,o){J()||l(!1);let{navigator:a}=i.useContext(Y),{matches:s}=i.useContext(X),c=s[s.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=Z();if(t){var m;let e="string"===typeof t?f(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||l(!1),h=e}else h=p;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let E=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:j([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,o);return t&&E?i.createElement(q.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},E):E}function oe(){let e=function(){var e;let t=i.useContext(Q),n=pe(de.UseRouteError),r=fe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ae=i.createElement(oe,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(z);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,l=!1,h=null,p=null;var f;n&&(a=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||ae,u&&(d<0&&0===o?(f="route-fallback",!1||me[f]||(me[f]=!0),l=!0,p=null):d===o&&(l=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:l?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(z);return t||l(!1),t}function pe(e){let t=i.useContext(K);return t||l(!1),t}function fe(e){let t=function(){let e=i.useContext(X);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const me={};o.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:o}=e;J()||l(!1);let{future:a,static:s}=i.useContext(Y),{matches:c}=i.useContext(X),{pathname:u}=Z(),d=te(),h=M(t,L(c,a.v7_relativeSplatPath),u,"path"===o),p=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(p),{replace:n,state:r,relative:o})),[d,p,o,n,r]),null}function ve(e){l(!1)}function ye(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:c=!1,future:u}=e;J()&&l(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:s,static:c,future:G({v7_relativeSplatPath:!1},u)})),[d,u,s,c]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=k(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}}),[d,p,m,g,v,y,a]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(q.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return ie(Ee(t),n)}new Promise((()=>{}));i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,o));e.type!==ve&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,o)),n.push(a)})),n}var _e={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},we=i.createContext&&i.createContext(_e),Se=["attr","size","title"];function Te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){return e&&e.map(((e,t)=>i.createElement(e.tag,Re({key:t},e.attr),Oe(e.child))))}function Ie(e){return t=>i.createElement(Ne,Ce({attr:Re({},e.attr)},t),Oe(e.child))}function Ne(e){var t=t=>{var n,{attr:r,size:o,title:a}=e,s=Te(e,Se),c=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Ce({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Re(Re({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==we?i.createElement(we.Consumer,null,(e=>t(e))):t(_e)}function ke(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function Pe(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function De(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Le(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function Me(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function je(e){return Ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Ue(e){return Ie({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function Fe(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Be(e){return Ie({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Ve(e){return Ie({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function We(e){return Ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function He(e){return Ie({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"},child:[]}]})(e)}function Ge(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ze(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ke(e){return Ie({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function Ye(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function qe(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function $e(e){return Ie({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Xe(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Qe(e){return Ie({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function Je(e){return Ie({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function Ze(e){return Ie({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function et(e){return Ie({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function tt(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function nt(e){return Ie({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function rt(e){return Ie({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}var it=n(8139),ot=n.n(it);const at=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},st=i.createContext(null);function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(null,arguments)}function lt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n(2740);function ut(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function dt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ht(e,t){return Object.keys(t).reduce((function(n,r){var o,a=n,s=a[ut(r)],c=a[r],l=lt(a,[ut(r),r].map(dt)),u=t[r],d=function(e,t,n){var r=(0,i.useRef)(void 0!==e),o=(0,i.useState)(t),a=o[0],s=o[1],c=void 0!==e,l=r.current;return r.current=c,!c&&l&&a!==t&&s(t),[c?e:a,(0,i.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(c,s,e[u]),h=d[0],p=d[1];return ct({},l,((o={})[r]=h,o[u]=p,o))}),e)}function pt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ft(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function mt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}pt.__suppressDeprecationWarning=!0,ft.__suppressDeprecationWarning=!0,mt.__suppressDeprecationWarning=!0;var gt=n(579);const vt=["xxl","xl","lg","md","sm","xs"],yt="xs",bt=i.createContext({prefixes:{},breakpoints:vt,minBreakpoint:yt}),{Consumer:Et,Provider:_t}=bt;function wt(e,t){const{prefixes:n}=(0,i.useContext)(bt);return e||n[t]||t}function St(){const{breakpoints:e}=(0,i.useContext)(bt);return e}function Tt(){const{minBreakpoint:e}=(0,i.useContext)(bt);return e}function Ct(){const{dir:e}=(0,i.useContext)(bt);return"rtl"===e}const xt=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...o}=e;n=wt(n,"navbar-brand");const a=i||(o.href?"a":"span");return(0,gt.jsx)(a,{...o,ref:t,className:ot()(r,n)})}));xt.displayName="NavbarBrand";const Rt=xt;function At(e){return e&&e.ownerDocument||document}function Ot(e,t){return function(e){var t=At(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var It=/([A-Z])/g;var Nt=/^ms-/;function kt(e){return function(e){return e.replace(It,"-$1").toLowerCase()}(e).replace(Nt,"-ms-")}var Pt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Dt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(kt(t))||Ot(e).getPropertyValue(kt(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Pt.test(e))}(i)?n+=kt(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(kt(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}function Mt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Lt(e,t)}var jt=n(7950),Ut=n.t(jt,2);const Ft=!1,Bt=i.createContext(null);var Vt="unmounted",Wt="exited",Ht="entering",Gt="entered",zt="exiting",Kt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Wt,r.appearStatus=Ht):i=Gt:i=t.unmountOnExit||t.mountOnEnter?Vt:Wt,r.state={status:i},r.nextCallback=null,r}Mt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Vt?{status:Wt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ht&&n!==Gt&&(t=Ht):n!==Ht&&n!==Gt||(t=zt)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ht){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:jt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wt&&this.setState({status:Vt})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[jt.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||Ft?this.safeSetState({status:Gt},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Ht},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:Gt},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:jt.findDOMNode(this);t&&!Ft?(this.props.onExit(r),this.safeSetState({status:zt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Wt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Wt},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:jt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Vt)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,lt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Bt.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Yt(){}Kt.contextType=Bt,Kt.propTypes={},Kt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yt,onEntering:Yt,onEntered:Yt,onExit:Yt,onExiting:Yt,onExited:Yt},Kt.UNMOUNTED=Vt,Kt.EXITED=Wt,Kt.ENTERING=Ht,Kt.ENTERED=Gt,Kt.EXITING=zt;const qt=Kt,$t=!("undefined"===typeof window||!window.document||!window.document.createElement);var Xt=!1,Qt=!1;try{var Jt={get passive(){return Xt=!0},get once(){return Qt=Xt=!0}};$t&&(window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,!0))}catch(F1){}const Zt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Qt){var i=r.once,o=r.capture,a=n;!Qt&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,Xt?r:o)}e.addEventListener(t,n,r)};const en=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const tn=function(e,t,n,r){return Zt(e,t,n,r),function(){en(e,t,n,r)}};function nn(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=tn(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function rn(e,t,n,r){null==n&&(n=function(e){var t=Dt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=nn(e,n,r),o=tn(e,"transitionend",t);return function(){i(),o()}}function on(e,t){const n=Dt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function an(e,t){const n=on(e,"transitionDuration"),r=on(e,"transitionDelay"),i=rn(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const sn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function cn(e){e.offsetHeight}const ln=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const un=function(e,t){return(0,i.useMemo)((()=>function(e,t){const n=ln(e),r=ln(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};const dn=i.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:o,onExit:a,onExiting:s,onExited:c,addEndListener:l,children:u,childRef:d,...h}=e;const p=(0,i.useRef)(null),f=un(p,d),m=e=>{var t;f((t=e)&&"setState"in t?jt.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&p.current&&e(p.current,t)},v=(0,i.useCallback)(g(n),[n]),y=(0,i.useCallback)(g(r),[r]),b=(0,i.useCallback)(g(o),[o]),E=(0,i.useCallback)(g(a),[a]),_=(0,i.useCallback)(g(s),[s]),w=(0,i.useCallback)(g(c),[c]),S=(0,i.useCallback)(g(l),[l]);return(0,gt.jsx)(qt,{ref:t,...h,onEnter:v,onEntered:b,onEntering:y,onExit:E,onExited:w,onExiting:_,addEndListener:S,nodeRef:p,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):i.cloneElement(u,{ref:m})})})),hn=dn,pn={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function fn(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=pn[e];return n+parseInt(Dt(t,r[0]),10)+parseInt(Dt(t,r[1]),10)}const mn={[Wt]:"collapse",[zt]:"collapsing",[Ht]:"collapsing",[Gt]:"collapse show"},gn=i.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:o,onExit:a,onExiting:s,className:c,children:l,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:p=!1,unmountOnExit:f=!1,appear:m=!1,getDimensionValue:g=fn,...v}=e;const y="function"===typeof u?u():u,b=(0,i.useMemo)((()=>sn((e=>{e.style[y]="0"}),n)),[y,n]),E=(0,i.useMemo)((()=>sn((e=>{const t=`scroll${y[0].toUpperCase()}${y.slice(1)}`;e.style[y]=`${e[t]}px`}),r)),[y,r]),_=(0,i.useMemo)((()=>sn((e=>{e.style[y]=null}),o)),[y,o]),w=(0,i.useMemo)((()=>sn((e=>{e.style[y]=`${g(y,e)}px`,cn(e)}),a)),[a,g,y]),S=(0,i.useMemo)((()=>sn((e=>{e.style[y]=null}),s)),[y,s]);return(0,gt.jsx)(hn,{ref:t,addEndListener:an,...v,"aria-expanded":v.role?d:null,onEnter:b,onEntering:E,onEntered:_,onExit:w,onExiting:S,childRef:l.ref,in:d,timeout:h,mountOnEnter:p,unmountOnExit:f,appear:m,children:(e,t)=>i.cloneElement(l,{...t,className:ot()(c,l.props.className,mn[e],"width"===y&&"collapse-horizontal")})})})),vn=i.createContext(null);vn.displayName="NavbarContext";const yn=vn,bn=i.forwardRef(((e,t)=>{let{children:n,bsPrefix:r,...o}=e;r=wt(r,"navbar-collapse");const a=(0,i.useContext)(yn);return(0,gt.jsx)(gn,{in:!(!a||!a.expanded),...o,children:(0,gt.jsx)("div",{ref:t,className:r,children:n})})}));bn.displayName="NavbarCollapse";const En=bn;const _n=function(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e}),[e]),t};function wn(e){const t=_n(e);return(0,i.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Sn=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,label:a="Toggle navigation",as:s="button",onClick:c,...l}=e;n=wt(n,"navbar-toggler");const{onToggle:u,expanded:d}=(0,i.useContext)(yn)||{},h=wn((e=>{c&&c(e),u&&u()}));return"button"===s&&(l.type="button"),(0,gt.jsx)(s,{...l,ref:t,onClick:h,"aria-label":a,className:ot()(r,n,!d&&"collapsed"),children:o||(0,gt.jsx)("span",{className:`${n}-icon`})})}));Sn.displayName="NavbarToggle";const Tn=Sn,Cn="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,xn="undefined"!==typeof document||Cn?i.useLayoutEffect:i.useEffect,Rn=new WeakMap,An=(e,t)=>{if(!e||!t)return;const n=Rn.get(t)||new Map;Rn.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function On(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const n=An(e,t),[r,o]=(0,i.useState)((()=>!!n&&n.matches));return xn((()=>{let n=An(e,t);if(!n)return o(!1);let r=Rn.get(t);const i=()=>{o(n.matches)};return n.refCount++,n.addListener(i),i(),()=>{n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),r}const In=function(e){const t=Object.keys(e);function n(e,t){return e===t?t:e?`${e} and ${t}`:t}function r(n){const r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n);let i=e[r];return i="number"===typeof i?i-.2+"px":`calc(${i} - 0.2px)`,`(max-width: ${i})`}return function(t,o,a){let s;"object"===typeof t?(s=t,a=o,o=!0):(o=o||!0,s={[t]:o});let c=(0,i.useMemo)((()=>Object.entries(s).reduce(((t,i)=>{let[o,a]=i;return"up"!==a&&!0!==a||(t=n(t,function(t){let n=e[t];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(o))),"down"!==a&&!0!==a||(t=n(t,r(o))),t}),"")),[JSON.stringify(s)]);return On(c,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Nn=In;function kn(e){void 0===e&&(e=At());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(F1){return e.body}}function Pn(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Dn(){const e=(0,i.useRef)(!0),t=(0,i.useRef)((()=>e.current));return(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function Ln(e){const t=function(e){const t=(0,i.useRef)(e);return t.current=e,t}(e);(0,i.useEffect)((()=>()=>t.current()),[])}function Mn(e){const t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t.current=e})),t.current}function jn(e){return`data-rr-ui-${e}`}const Un=jn("modal-open");const Fn=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Dt(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Un,""),Dt(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Un),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Bn=(0,i.createContext)($t?window:void 0);Bn.Provider;function Vn(){return(0,i.useContext)(Bn)}const Wn=(e,t)=>$t?null==e?(t||At()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Hn=function(e){let{children:t,in:n,onExited:r,mountOnEnter:o,unmountOnExit:a}=e;const s=(0,i.useRef)(null),c=(0,i.useRef)(n),l=wn(r);(0,i.useEffect)((()=>{n?c.current=!0:l(s.current)}),[n,l]);const u=un(s,t.ref),d=(0,i.cloneElement)(t,{ref:u});return n?d:a||!c.current&&o?null:d};const Gn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function zn(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:o,onExiting:a,onExited:s,addEndListener:c,children:l}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Gn);const{major:d}=function(){const e=i.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}(),h=d>=19?l.props.ref:l.ref,p=(0,i.useRef)(null),f=un(p,"function"===typeof l?null:h),m=e=>t=>{e&&p.current&&e(p.current,t)},g=(0,i.useCallback)(m(t),[t]),v=(0,i.useCallback)(m(n),[n]),y=(0,i.useCallback)(m(r),[r]),b=(0,i.useCallback)(m(o),[o]),E=(0,i.useCallback)(m(a),[a]),_=(0,i.useCallback)(m(s),[s]),w=(0,i.useCallback)(m(c),[c]);return Object.assign({},u,{nodeRef:p},t&&{onEnter:g},n&&{onEntering:v},r&&{onEntered:y},o&&{onExit:b},a&&{onExiting:E},s&&{onExited:_},c&&{addEndListener:w},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:f})):(0,i.cloneElement)(l,{ref:f})})}const Kn=["component"];const Yn=i.forwardRef(((e,t)=>{let{component:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Kn);const i=zn(r);return(0,gt.jsx)(n,Object.assign({ref:t},i))})),qn=Yn;function $n(e){let{children:t,in:n,onExited:r,onEntered:o,transition:a}=e;const[s,c]=(0,i.useState)(!n);n&&s&&c(!1);const l=function(e){let{in:t,onTransition:n}=e;const r=(0,i.useRef)(null),o=(0,i.useRef)(!0),a=wn(n);return xn((()=>{if(!r.current)return;let e=!1;return a({in:t,element:r.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[t,a]),xn((()=>(o.current=!1,()=>{o.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(c(!0),null==r||r(e.element)))}),(t=>{throw e.in||c(!0),t}))}}),u=un(l,t.ref);return s&&!n?null:(0,i.cloneElement)(t,{ref:u})}function Xn(e,t,n){return e?(0,gt.jsx)(qn,Object.assign({},n,{component:e})):t?(0,gt.jsx)($n,Object.assign({},n,{transition:t})):(0,gt.jsx)(Hn,Object.assign({},n))}const Qn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Jn;function Zn(e){const t=Vn(),n=e||function(e){return Jn||(Jn=new Fn({ownerDocument:null==e?void 0:e.document})),Jn}(t),r=(0,i.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,i.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,i.useCallback)((e=>{r.current.backdrop=e}),[])})}const er=(0,i.forwardRef)(((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:a,children:s,backdrop:c=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:h,runTransition:p,backdropTransition:f,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:E,renderBackdrop:_=e=>(0,gt.jsx)("div",Object.assign({},e)),manager:w,container:S,onShow:T,onHide:C=()=>{},onExit:x,onExited:R,onExiting:A,onEnter:O,onEntering:I,onEntered:N}=e,k=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Qn);const P=Vn(),D=function(e,t){const n=Vn(),[r,o]=(0,i.useState)((()=>Wn(e,null==n?void 0:n.document)));if(!r){const t=Wn(e);t&&o(t)}return(0,i.useEffect)((()=>{t&&r&&t(r)}),[t,r]),(0,i.useEffect)((()=>{const t=Wn(e);t!==r&&o(t)}),[e,r]),r}(S),L=Zn(w),M=Dn(),j=Mn(n),[U,F]=(0,i.useState)(!n),B=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(()=>L),[L]),$t&&!j&&n&&(B.current=kn(null==P?void 0:P.document)),n&&U&&F(!1);const V=wn((()=>{if(L.add(),Y.current=tn(document,"keydown",z),K.current=tn(document,"focus",(()=>setTimeout(H)),!0),T&&T(),g){var e,t;const n=kn(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==P?void 0:P.document);L.dialog&&n&&!Pn(L.dialog,n)&&(B.current=n,L.dialog.focus())}})),W=wn((()=>{var e;(L.remove(),null==Y.current||Y.current(),null==K.current||K.current(),y)&&(null==(e=B.current)||null==e.focus||e.focus(b),B.current=null)}));(0,i.useEffect)((()=>{n&&D&&V()}),[n,D,V]),(0,i.useEffect)((()=>{U&&W()}),[U,W]),Ln((()=>{W()}));const H=wn((()=>{if(!v||!M()||!L.isTopModal())return;const e=kn(null==P?void 0:P.document);L.dialog&&e&&!Pn(L.dialog,e)&&L.dialog.focus()})),G=wn((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&C())})),z=wn((e=>{l&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==d||d(e),e.defaultPrevented||C())})),K=(0,i.useRef)(),Y=(0,i.useRef)();if(!D)return null;const q=Object.assign({role:r,ref:L.setDialogRef,"aria-modal":"dialog"===r||void 0},k,{style:a,className:o,tabIndex:-1});let $=E?E(q):(0,gt.jsx)("div",Object.assign({},q,{children:i.cloneElement(s,{role:"document"})}));$=Xn(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:x,onExiting:A,onExited:function(){F(!0),null==R||R(...arguments)},onEnter:O,onEntering:I,onEntered:N,children:$});let X=null;return c&&(X=_({ref:L.setBackdropRef,onClick:G}),X=Xn(f,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,gt.jsx)(gt.Fragment,{children:jt.createPortal((0,gt.jsxs)(gt.Fragment,{children:[X,$]}),D)})}));er.displayName="Modal";const tr=Object.assign(er,{Manager:Fn}),nr={[Ht]:"show",[Gt]:"show"},rr=i.forwardRef(((e,t)=>{let{className:n,children:r,transitionClasses:o={},onEnter:a,...s}=e;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=(0,i.useCallback)(((e,t)=>{cn(e),null==a||a(e,t)}),[a]);return(0,gt.jsx)(hn,{ref:t,addEndListener:an,...c,onEnter:l,childRef:r.ref,children:(e,t)=>i.cloneElement(r,{...t,className:ot()("fade",n,r.props.className,nr[e],o[e])})})}));rr.displayName="Fade";const ir=rr,or=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"offcanvas-body"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));or.displayName="OffcanvasBody";const ar=or,sr={[Ht]:"show",[Gt]:"show"},cr=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,in:a=!1,mountOnEnter:s=!1,unmountOnExit:c=!1,appear:l=!1,...u}=e;return n=wt(n,"offcanvas"),(0,gt.jsx)(hn,{ref:t,addEndListener:an,in:a,mountOnEnter:s,unmountOnExit:c,appear:l,...u,childRef:o.ref,children:(e,t)=>i.cloneElement(o,{...t,className:ot()(r,o.props.className,(e===Ht||e===zt)&&`${n}-toggling`,sr[e])})})}));cr.displayName="OffcanvasToggling";const lr=cr,ur=i.createContext({onHide(){}});var dr=n(5173),hr=n.n(dr);const pr={"aria-label":hr().string,onClick:hr().func,variant:hr().oneOf(["white"])},fr=i.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,gt.jsx)("button",{ref:t,type:"button",className:ot()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...o})}));fr.displayName="CloseButton",fr.propTypes=pr;const mr=fr,gr=i.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:r,closeButton:o=!1,onHide:a,children:s,...c}=e;const l=(0,i.useContext)(ur),u=wn((()=>{null==l||l.onHide(),null==a||a()}));return(0,gt.jsxs)("div",{ref:t,...c,children:[s,o&&(0,gt.jsx)(mr,{"aria-label":n,variant:r,onClick:u})]})})),vr=gr,yr=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...a}=e;return n=wt(n,"offcanvas-header"),(0,gt.jsx)(vr,{ref:t,...a,className:ot()(r,n),closeLabel:i,closeButton:o})}));yr.displayName="OffcanvasHeader";const br=yr,Er=e=>i.forwardRef(((t,n)=>(0,gt.jsx)("div",{...t,ref:n,className:ot()(t.className,e)}))),_r=Er("h5"),wr=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=_r,...o}=e;return r=wt(r,"offcanvas-title"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));wr.displayName="OffcanvasTitle";const Sr=wr;var Tr=Function.prototype.bind.call(Function.prototype.call,[].slice);function Cr(e,t){return Tr(e.querySelectorAll(t))}function xr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Rr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ar=".sticky-top",Or=".navbar-toggler";class Ir extends Fn{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Dt(t,{[e]:`${parseFloat(Dt(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Dt(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Cr(t,Rr).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Cr(t,Ar).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),Cr(t,Or).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=xr(n.className,r):n.setAttribute("class",xr(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Cr(t,Rr).forEach((e=>this.restore(i,e))),Cr(t,Ar).forEach((e=>this.restore(o,e))),Cr(t,Or).forEach((e=>this.restore(o,e)))}}let Nr;function kr(e){return Nr||(Nr=new Ir(e)),Nr}const Pr=Ir;function Dr(e){return(0,gt.jsx)(lr,{...e})}function Lr(e){return(0,gt.jsx)(ir,{...e})}const Mr=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,"aria-labelledby":a,placement:s="start",responsive:c,show:l=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:p,onShow:f,onHide:m,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:E,onEntered:_,onExit:w,onExiting:S,onEnter:T,onEntering:C,onExited:x,backdropClassName:R,manager:A,renderStaticNode:O=!1,...I}=e;const N=(0,i.useRef)();n=wt(n,"offcanvas");const{onToggle:k}=(0,i.useContext)(yn)||{},[P,D]=(0,i.useState)(!1),L=Nn(c||"xs","up");(0,i.useEffect)((()=>{D(c?l&&!L:l)}),[l,c,L]);const M=wn((()=>{null==k||k(),null==m||m()})),j=(0,i.useMemo)((()=>({onHide:M})),[M]);const U=(0,i.useCallback)((e=>(0,gt.jsx)("div",{...e,className:ot()(`${n}-backdrop`,R)})),[R,n]),F=e=>(0,gt.jsx)("div",{...e,...I,className:ot()(r,c?`${n}-${c}`:n,`${n}-${s}`),"aria-labelledby":a,children:o});return(0,gt.jsxs)(gt.Fragment,{children:[!P&&(c||O)&&F({}),(0,gt.jsx)(ur.Provider,{value:j,children:(0,gt.jsx)(tr,{show:P,ref:t,backdrop:u,container:g,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:E,onEscapeKeyDown:p,onShow:f,onHide:M,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T(e,...n)},onEntering:C,onEntered:_,onExit:w,onExiting:S,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x(...n)},manager:A||(h?(N.current||(N.current=new Pr({handleContainerOverflow:!1})),N.current):kr()),transition:Dr,backdropTransition:Lr,renderBackdrop:U,renderDialog:F})})]})}));Mr.displayName="Offcanvas";const jr=Object.assign(Mr,{Body:ar,Header:br,Title:Sr}),Ur=i.forwardRef(((e,t)=>{const n=(0,i.useContext)(yn);return(0,gt.jsx)(jr,{ref:t,show:!(null==n||!n.expanded),...e,renderStaticNode:!0})}));Ur.displayName="NavbarOffcanvas";const Fr=Ur,Br=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=wt(r,"navbar-text"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));Br.displayName="NavbarText";const Vr=Br,Wr=i.forwardRef(((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:o="light",bg:a,fixed:s,sticky:c,className:l,as:u="nav",expanded:d,onToggle:h,onSelect:p,collapseOnSelect:f=!1,...m}=ht(e,{expanded:"onToggle"}),g=wt(n,"navbar"),v=(0,i.useCallback)((function(){null==p||p(...arguments),f&&d&&(null==h||h(!1))}),[p,f,d,h]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let y=`${g}-expand`;"string"===typeof r&&(y=`${y}-${r}`);const b=(0,i.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:r})),[g,d,r,h]);return(0,gt.jsx)(yn.Provider,{value:b,children:(0,gt.jsx)(st.Provider,{value:v,children:(0,gt.jsx)(u,{ref:t,...m,className:ot()(l,g,r&&y,o&&`${g}-${o}`,a&&`bg-${a}`,c&&`sticky-${c}`,s&&`fixed-${s}`)})})})}));Wr.displayName="Navbar";const Hr=Object.assign(Wr,{Brand:Rt,Collapse:En,Offcanvas:Fr,Text:Vr,Toggle:Tn}),Gr=i.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:o,...a}=e;const s=wt(n,"container"),c="string"===typeof r?`-${r}`:"-fluid";return(0,gt.jsx)(i,{ref:t,...a,className:ot()(o,r?`${s}${c}`:s)})}));Gr.displayName="Container";const zr=Gr;function Kr(e,t,n){const r=(0,i.useRef)(void 0!==e),[o,a]=(0,i.useState)(t),s=void 0!==e,c=r.current;return r.current=s,!s&&c&&o!==t&&a(t),[s?e:o,(0,i.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,...o]=t;let s=null==n?void 0:n(i,...o);return a(i),s}),[n])]}const Yr=i.createContext(null);function qr(){return(0,i.useState)(null)}var $r=Object.prototype.hasOwnProperty;function Xr(e,t,n){for(n of e.keys())if(Qr(n,t))return n}function Qr(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Qr(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Xr(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Xr(t,i)))return!1;if(!Qr(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if($r.call(e,n)&&++r&&!$r.call(t,n))return!1;if(!(n in t)||!Qr(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Jr=function(e){const t=Dn();return[e[0],(0,i.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function Zr(e){return e.split("-")[0]}function ei(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ti(e){return e instanceof ei(e).Element||e instanceof Element}function ni(e){return e instanceof ei(e).HTMLElement||e instanceof HTMLElement}function ri(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ei(e).ShadowRoot||e instanceof ShadowRoot)}var ii=Math.max,oi=Math.min,ai=Math.round;function si(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ci(){return!/^((?!chrome|android).)*safari/i.test(si())}function li(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ni(e)&&(i=e.offsetWidth>0&&ai(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ai(r.height)/e.offsetHeight||1);var a=(ti(e)?ei(e):window).visualViewport,s=!ci()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function ui(e){var t=li(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function di(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ri(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hi(e){return e?(e.nodeName||"").toLowerCase():null}function pi(e){return ei(e).getComputedStyle(e)}function fi(e){return["table","td","th"].indexOf(hi(e))>=0}function mi(e){return((ti(e)?e.ownerDocument:e.document)||window.document).documentElement}function gi(e){return"html"===hi(e)?e:e.assignedSlot||e.parentNode||(ri(e)?e.host:null)||mi(e)}function vi(e){return ni(e)&&"fixed"!==pi(e).position?e.offsetParent:null}function yi(e){for(var t=ei(e),n=vi(e);n&&fi(n)&&"static"===pi(n).position;)n=vi(n);return n&&("html"===hi(n)||"body"===hi(n)&&"static"===pi(n).position)?t:n||function(e){var t=/firefox/i.test(si());if(/Trident/i.test(si())&&ni(e)&&"fixed"===pi(e).position)return null;var n=gi(e);for(ri(n)&&(n=n.host);ni(n)&&["html","body"].indexOf(hi(n))<0;){var r=pi(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function bi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ei(e,t,n){return ii(e,oi(t,n))}function _i(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function wi(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Si="top",Ti="bottom",Ci="right",xi="left",Ri="auto",Ai=[Si,Ti,Ci,xi],Oi="start",Ii="end",Ni="viewport",ki="popper",Pi=Ai.reduce((function(e,t){return e.concat([t+"-"+Oi,t+"-"+Ii])}),[]),Di=[].concat(Ai,[Ri]).reduce((function(e,t){return e.concat([t,t+"-"+Oi,t+"-"+Ii])}),[]),Li=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Mi={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Zr(n.placement),c=bi(s),l=[xi,Ci].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return _i("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:wi(e,Ai))}(i.padding,n),d=ui(o),h="y"===c?Si:xi,p="y"===c?Ti:Ci,f=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=yi(o),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],E=v-d[l]-u[p],_=v/2-d[l]/2+y,w=Ei(b,_,E),S=c;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&di(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ji(e){return e.split("-")[1]}var Ui={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=xi,E=Si,_=window;if(l){var w=yi(n),S="clientHeight",T="clientWidth";if(w===ei(n)&&"static"!==pi(w=mi(n)).position&&"absolute"===s&&(S="scrollHeight",T="scrollWidth"),i===Si||(i===xi||i===Ci)&&o===Ii)E=Ti,m-=(d&&w===_&&_.visualViewport?_.visualViewport.height:w[S])-r.height,m*=c?1:-1;if(i===xi||(i===Si||i===Ti)&&o===Ii)b=Ci,p-=(d&&w===_&&_.visualViewport?_.visualViewport.width:w[T])-r.width,p*=c?1:-1}var C,x=Object.assign({position:s},l&&Ui),R=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:ai(n*i)/i||0,y:ai(r*i)/i||0}}({x:p,y:m},ei(n)):{x:p,y:m};return p=R.x,m=R.y,c?Object.assign({},x,((C={})[E]=y?"0":"",C[b]=v?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},x,((t={})[E]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Bi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:Zr(t.placement),variation:ji(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Fi(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fi(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Vi={passive:!0};const Wi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=ei(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,Vi)})),s&&c.addEventListener("resize",n.update,Vi),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Vi)})),s&&c.removeEventListener("resize",n.update,Vi)}},data:{}};var Hi={left:"right",right:"left",bottom:"top",top:"bottom"};function Gi(e){return e.replace(/left|right|bottom|top/g,(function(e){return Hi[e]}))}var zi={start:"end",end:"start"};function Ki(e){return e.replace(/start|end/g,(function(e){return zi[e]}))}function Yi(e){var t=ei(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qi(e){return li(mi(e)).left+Yi(e).scrollLeft}function $i(e){var t=pi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xi(e){return["html","body","#document"].indexOf(hi(e))>=0?e.ownerDocument.body:ni(e)&&$i(e)?e:Xi(gi(e))}function Qi(e,t){var n;void 0===t&&(t=[]);var r=Xi(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=ei(r),a=i?[o].concat(o.visualViewport||[],$i(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Qi(gi(a)))}function Ji(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zi(e,t,n){return t===Ni?Ji(function(e,t){var n=ei(e),r=mi(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=ci();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+qi(e),y:c}}(e,n)):ti(t)?function(e,t){var n=li(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ji(function(e){var t,n=mi(e),r=Yi(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ii(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ii(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+qi(e),c=-r.scrollTop;return"rtl"===pi(i||n).direction&&(s+=ii(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(mi(e)))}function eo(e,t,n,r){var i="clippingParents"===t?function(e){var t=Qi(gi(e)),n=["absolute","fixed"].indexOf(pi(e).position)>=0&&ni(e)?yi(e):e;return ti(n)?t.filter((function(e){return ti(e)&&di(e,n)&&"body"!==hi(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Zi(e,n,r);return t.top=ii(i.top,t.top),t.right=oi(i.right,t.right),t.bottom=oi(i.bottom,t.bottom),t.left=ii(i.left,t.left),t}),Zi(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function to(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Zr(i):null,a=i?ji(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case Si:t={x:s,y:n.y-r.height};break;case Ti:t={x:s,y:n.y+n.height};break;case Ci:t={x:n.x+n.width,y:c};break;case xi:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?bi(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case Oi:t[l]=t[l]-(n[u]/2-r[u]/2);break;case Ii:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function no(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,c=void 0===s?"clippingParents":s,l=n.rootBoundary,u=void 0===l?Ni:l,d=n.elementContext,h=void 0===d?ki:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=_i("number"!==typeof g?g:wi(g,Ai)),y=h===ki?"reference":ki,b=e.rects.popper,E=e.elements[f?y:h],_=eo(ti(E)?E:E.contextElement||mi(e.elements.popper),c,u,a),w=li(e.elements.reference),S=to({reference:w,element:b,strategy:"absolute",placement:i}),T=Ji(Object.assign({},b,S)),C=h===ki?T:w,x={top:_.top-C.top+v.top,bottom:C.bottom-_.bottom+v.bottom,left:_.left-C.left+v.left,right:C.right-_.right+v.right},R=e.modifiersData.offset;if(h===ki&&R){var A=R[i];Object.keys(x).forEach((function(e){var t=[Ci,Ti].indexOf(e)>=0?1:-1,n=[Si,Ti].indexOf(e)>=0?"y":"x";x[e]+=A[n]*t}))}return x}const ro={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Zr(g),y=c||(v===g||!f?[Gi(g)]:function(e){if(Zr(e)===Ri)return[];var t=Gi(e);return[Ki(e),t,Ki(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Zr(n)===Ri?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Di:c,u=ji(r),d=u?s?Pi:Pi.filter((function(e){return ji(e)===u})):Ai,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=no(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Zr(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),E=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,T=b[0],C=0;C<b.length;C++){var x=b[C],R=Zr(x),A=ji(x)===Oi,O=[Si,Ti].indexOf(R)>=0,I=O?"width":"height",N=no(t,{placement:x,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),k=O?A?Ci:xi:A?Ti:Si;E[I]>_[I]&&(k=Gi(k));var P=Gi(k),D=[];if(o&&D.push(N[R]<=0),s&&D.push(N[k]<=0,N[P]<=0),D.every((function(e){return e}))){T=x,S=!1;break}w.set(x,D)}if(S)for(var L=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},M=f?3:1;M>0;M--){if("break"===L(M))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function io(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oo(e){return[Si,Ci,Ti,xi].some((function(t){return e[t]>=0}))}const ao={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Di.reduce((function(e,n){return e[n]=function(e,t,n){var r=Zr(e),i=[xi,Si].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[xi,Ci].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}};const so={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=no(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),v=Zr(t.placement),y=ji(t.placement),b=!y,E=bi(v),_="x"===E?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,x="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(o){var O,I="y"===E?Si:xi,N="y"===E?Ti:Ci,k="y"===E?"height":"width",P=w[E],D=P+g[I],L=P-g[N],M=p?-T[k]/2:0,j=y===Oi?S[k]:T[k],U=y===Oi?-T[k]:-S[k],F=t.elements.arrow,B=p&&F?ui(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=V[I],H=V[N],G=Ei(0,S[k],B[k]),z=b?S[k]/2-M-G-W-x.mainAxis:j-G-W-x.mainAxis,K=b?-S[k]/2+M+G+H+x.mainAxis:U+G+H+x.mainAxis,Y=t.elements.arrow&&yi(t.elements.arrow),q=Y?"y"===E?Y.clientTop||0:Y.clientLeft||0:0,$=null!=(O=null==R?void 0:R[E])?O:0,X=P+K-$,Q=Ei(p?oi(D,P+z-$-q):D,P,p?ii(L,X):L);w[E]=Q,A[E]=Q-P}if(s){var J,Z="x"===E?Si:xi,ee="x"===E?Ti:Ci,te=w[_],ne="y"===_?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[Si,xi].indexOf(v),ae=null!=(J=null==R?void 0:R[_])?J:0,se=oe?re:te-S[ne]-T[ne]-ae+x.altAxis,ce=oe?te+S[ne]+T[ne]-ae-x.altAxis:ie,le=p&&oe?function(e,t,n){var r=Ei(e,t,n);return r>n?n:r}(se,te,ce):Ei(p?se:re,te,p?ce:ie);w[_]=le,A[_]=le-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};function co(e,t,n){void 0===n&&(n=!1);var r=ni(t),i=ni(t)&&function(e){var t=e.getBoundingClientRect(),n=ai(t.width)/e.offsetWidth||1,r=ai(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=mi(t),a=li(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==hi(t)||$i(o))&&(s=function(e){return e!==ei(e)&&ni(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Yi(e);var t}(t)),ni(t)?((c=li(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=qi(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function lo(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function uo(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ho={placement:"bottom",modifiers:[],strategy:"absolute"};function po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function fo(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ho:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ho,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:ti(e)?Qi(e):e.contextElement?Qi(e.contextElement):[],popper:Qi(t)};var u=function(e){var t=lo(e);return Li.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:c,options:r}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(po(t,n)){i.rects={reference:co(t,yi(n),"fixed"===i.options.strategy),popper:ui(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,u=void 0===l?{}:l,d=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:c})||i)}else i.reset=!1,r=-1}}},update:uo((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!po(e,t))return c;function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}const mo=fo({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=no(t,{elementContext:"reference"}),s=no(t,{altBoundary:!0}),c=io(a,r),l=io(s,i,o),u=oo(c),d=oo(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=to({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Bi,Wi,ao,ro,so,Mi]}),go=["enabled","placement","strategy","modifiers"];const vo={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},yo={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,o=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},bo=[];const Eo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:r=!0,placement:o="bottom",strategy:a="absolute",modifiers:s=bo}=n,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(n,go);const l=(0,i.useRef)(s),u=(0,i.useRef)(),d=(0,i.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,i.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[p,f]=Jr((0,i.useState)({placement:o,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,i.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),f({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}})),[d,h,f]),g=(0,i.useMemo)((()=>(Qr(l.current,s)||(l.current=s),l.current)),[s]);return(0,i.useEffect)((()=>{u.current&&r&&u.current.setOptions({placement:o,strategy:a,modifiers:[...g,m,vo]})}),[a,o,m,r,g]),(0,i.useEffect)((()=>{if(r&&null!=e&&null!=t)return u.current=mo(e,t,Object.assign({},c,{placement:o,strategy:a,modifiers:[...g,yo,m]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,f((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,e,t]),p};var _o=n(6440),wo=n.n(_o);const So=()=>{};const To=e=>e&&("current"in e?e.current:e),Co={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const xo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So,{disabled:n,clickTrigger:r="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,i.useRef)(!1),a=(0,i.useRef)(!1),s=(0,i.useCallback)((t=>{const n=To(e);var r;wo()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!Pn(n,t.target)||a.current,a.current=!1}),[e]),c=wn((t=>{const n=To(e);n&&Pn(n,t.target)&&(a.current=!0)})),l=wn((e=>{o.current||t(e)}));(0,i.useEffect)((()=>{var t,i;if(n||null==e)return;const o=At(To(e)),a=o.defaultView||window;let u=null!=(t=a.event)?t:null==(i=a.parent)?void 0:i.event,d=null;Co[r]&&(d=tn(o,Co[r],c,!0));const h=tn(o,r,s,!0),p=tn(o,r,(e=>{e!==u?l(e):u=void 0}));let f=[];return"ontouchstart"in o.documentElement&&(f=[].slice.call(o.body.children).map((e=>tn(e,"mousemove",So)))),()=>{null==d||d(),h(),p(),f.forEach((e=>e()))}}),[e,n,r,s,c,l])};function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function Ao(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:o,fixed:a,containerPadding:s,arrowElement:c,popperConfig:l={}}=e;var u,d,h,p,f;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(l.modifiers);return Object.assign({},l,{placement:r,enabled:t,strategy:a?"fixed":l.strategy,modifiers:Ro(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:s?Object.assign({padding:s},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:o},null==(p=m.offset)?void 0:p.options)},arrow:Object.assign({},m.arrow,{enabled:!!c,options:Object.assign({},null==(f=m.arrow)?void 0:f.options,{element:c})}),flip:Object.assign({enabled:!!i},m.flip)}))})}const Oo=["children","usePopper"];const Io=()=>{};function No(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,i.useContext)(Yr),[n,r]=qr(),o=(0,i.useRef)(!1),{flip:a,offset:s,rootCloseEvent:c,fixed:l=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:p=!!t}=e,f=null==(null==t?void 0:t.show)?!!e.show:t.show;f&&!o.current&&(o.current=!0);const{placement:m,setMenu:g,menuElement:v,toggleElement:y}=t||{},b=Eo(y,v,Ao({placement:u||m||"bottom-start",enabled:p,enableEvents:null==h?f:h,offset:s,flip:a,fixed:l,arrowElement:n,popperConfig:d})),E=Object.assign({ref:g||Io,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),_={show:f,placement:m,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:p?b:null,arrowProps:p?Object.assign({ref:r},b.attributes.arrow,{style:b.styles.arrow}):{}};return xo(v,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:c,disabled:!f}),[E,_]}function ko(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Oo);const[i,o]=No(Object.assign({},r,{usePopper:n}));return(0,gt.jsx)(gt.Fragment,{children:t(i,o)})}ko.displayName="DropdownMenu";const Po=ko,Do={prefix:String(Math.round(1e10*Math.random())),current:0},Lo=i.createContext(Do),Mo=i.createContext(!1);let jo=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Uo=new WeakMap;function Fo(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.useContext)(Lo),n=(0,i.useRef)(null);if(null===n.current&&!e){var r,o;let e=null===(o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(r=o.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=Uo.get(e);null==n?Uo.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,Uo.delete(e))}n.current=++t.current}return n.current}const Bo="function"===typeof i.useId?function(e){let t=i.useId(),[n]=(0,i.useState)("function"===typeof i.useSyncExternalStore?i.useSyncExternalStore(Ho,Vo,Wo):(0,i.useContext)(Mo));return e||`${n?"react-aria":`react-aria${Do.prefix}`}-${t}`}:function(e){let t=(0,i.useContext)(Lo);t!==Do||jo||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Fo(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`};function Vo(){return!1}function Wo(){return!0}function Ho(e){return()=>{}}const Go=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},zo=()=>{};function Ko(){const e=Bo(),{show:t=!1,toggle:n=zo,setToggle:r,menuElement:o}=(0,i.useContext)(Yr)||{},a=(0,i.useCallback)((e=>{n(!t,e)}),[t,n]),s={id:e,ref:r||zo,onClick:a,"aria-expanded":!!t};return o&&Go(o)&&(s["aria-haspopup"]=!0),[s,{show:t,toggle:n}]}function Yo(e){let{children:t}=e;const[n,r]=Ko();return(0,gt.jsx)(gt.Fragment,{children:t(n,r)})}Yo.displayName="DropdownToggle";const qo=Yo,$o=i.createContext(null);$o.displayName="NavContext";const Xo=$o,Qo=["as","disabled"];function Jo(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:a,onClick:s,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Zo=i.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Qo);const[o,{tagName:a}]=Jo(Object.assign({tagName:n,disabled:r},i));return(0,gt.jsx)(a,Object.assign({},i,o,{ref:t}))}));Zo.displayName="Button";const ea=Zo,ta=["eventKey","disabled","onClick","active","as"];function na(e){let{key:t,href:n,active:r,disabled:o,onClick:a}=e;const s=(0,i.useContext)(st),c=(0,i.useContext)(Xo),{activeKey:l}=c||{},u=at(t,n),d=null==r&&null!=t?at(l)===u:r;return[{onClick:wn((e=>{o||(null==a||a(e),s&&!e.isPropagationStopped()&&s(u,e))})),"aria-disabled":o||void 0,"aria-selected":d,[jn("dropdown-item")]:""},{isActive:d}]}const ra=i.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:a=ea}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ta);const[c]=na({key:n,href:s.href,disabled:r,onClick:i,active:o});return(0,gt.jsx)(a,Object.assign({},s,{ref:t},c))}));ra.displayName="DropdownItem";const ia=ra;function oa(){const e=function(){const[,e]=(0,i.useReducer)((e=>!e),!1);return e}(),t=(0,i.useRef)(null),n=(0,i.useCallback)((n=>{t.current=n,e()}),[e]);return[t,n]}function aa(e){let{defaultShow:t,show:n,onSelect:r,onToggle:o,itemSelector:a=`* [${jn("dropdown-item")}]`,focusFirstItemOnShow:s,placement:c="bottom-start",children:l}=e;const u=Vn(),[d,h]=Kr(n,t,o),[p,f]=oa(),m=p.current,[g,v]=oa(),y=g.current,b=Mn(d),E=(0,i.useRef)(null),_=(0,i.useRef)(!1),w=(0,i.useContext)(st),S=(0,i.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),T=wn(((e,t)=>{null==r||r(e,t),S(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)})),C=(0,i.useMemo)((()=>({toggle:S,placement:c,show:d,menuElement:m,toggleElement:y,setMenu:f,setToggle:v})),[S,c,d,m,y,f,v]);m&&b&&!d&&(_.current=m.contains(m.ownerDocument.activeElement));const x=wn((()=>{y&&y.focus&&y.focus()})),R=wn((()=>{const e=E.current;let t=s;if(null==t&&(t=!(!p.current||!Go(p.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Cr(p.current,a)[0];n&&n.focus&&n.focus()}));(0,i.useEffect)((()=>{d?R():_.current&&(_.current=!1,x())}),[d,_,x,R]),(0,i.useEffect)((()=>{E.current=null}));const A=(e,t)=>{if(!p.current)return null;const n=Cr(p.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=wn(n);(0,i.useEffect)((()=>{const n="function"===typeof e?e():e;return n.addEventListener(t,o,r),()=>n.removeEventListener(t,o,r)}),[e])}((0,i.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,o=null==(t=p.current)?void 0:t.contains(i),a=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&o||"Escape"===r&&"search"===i.type))return;if(!o&&!a)return;if("Tab"===r&&(!p.current||!d))return;E.current=e.type;const s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=A(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=A(i,1);e&&e.focus&&e.focus()}else h(!0,s);return;case"Tab":Zt(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=p.current)&&t.contains(e.target)||h(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,s)}})),(0,gt.jsx)(st.Provider,{value:T,children:(0,gt.jsx)(Yr.Provider,{value:C,children:l})})}aa.displayName="Dropdown",aa.Menu=Po,aa.Toggle=qo,aa.Item=ia;const sa=aa,ca=i.createContext({});ca.displayName="DropdownContext";const la=ca,ua=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:o="separator",...a}=e;return r=wt(r,"dropdown-divider"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),role:o,...a})}));ua.displayName="DropdownDivider";const da=ua,ha=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:o="heading",...a}=e;return r=wt(r,"dropdown-header"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),role:o,...a})}));ha.displayName="DropdownHeader";const pa=ha;new WeakMap;const fa=["onKeyDown"];const ma=i.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,fa);const[i]=Jo(Object.assign({tagName:"a"},r)),o=wn((e=>{i.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,gt.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,gt.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var a}));ma.displayName="Anchor";const ga=ma,va=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:o=!1,onClick:a,active:s,as:c=ga,...l}=e;const u=wt(n,"dropdown-item"),[d,h]=na({key:i,href:l.href,disabled:o,onClick:a,active:s});return(0,gt.jsx)(c,{...l,...d,ref:t,className:ot()(r,u,h.isActive&&"active",o&&"disabled")})}));va.displayName="DropdownItem";const ya=va,ba=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=wt(r,"dropdown-item-text"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));ba.displayName="DropdownItemText";const Ea=ba,_a=i.createContext(null);_a.displayName="InputGroupContext";const wa=_a;function Sa(e,t){return e}function Ta(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const Ca=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,align:o,rootCloseEvent:a,flip:s=!0,show:c,renderOnMount:l,as:u="div",popperConfig:d,variant:h,...p}=e,f=!1;const m=(0,i.useContext)(yn),g=wt(n,"dropdown-menu"),{align:v,drop:y,isRTL:b}=(0,i.useContext)(la);o=o||v;const E=(0,i.useContext)(wa),_=[];if(o)if("object"===typeof o){const e=Object.keys(o);if(e.length){const t=e[0],n=o[t];f="start"===n,_.push(`${g}-${t}-${n}`)}}else"end"===o&&(f=!0);const w=Ta(f,y,b),[S,{hasShown:T,popper:C,show:x,toggle:R}]=No({flip:s,rootCloseEvent:a,show:c,usePopper:!m&&0===_.length,offset:[0,2],popperConfig:d,placement:w});if(S.ref=un(Sa(t),S.ref),xn((()=>{x&&(null==C||C.update())}),[x]),!T&&!l&&!E)return null;"string"!==typeof u&&(S.show=x,S.close=()=>null==R?void 0:R(!1),S.align=o);let A=p.style;return null!=C&&C.placement&&(A={...p.style,...S.style},p["x-placement"]=C.placement),(0,gt.jsx)(u,{...p,...S,style:A,...(_.length||m)&&{"data-bs-popper":"static"},className:ot()(r,g,x&&"show",f&&`${g}-end`,h&&`${g}-${h}`,..._)})}));Ca.displayName="DropdownMenu";const xa=Ca,Ra=i.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:o,active:a=!1,disabled:s=!1,className:c,...l}=e;const u=wt(r,"btn"),[d,{tagName:h}]=Jo({tagName:n,disabled:s,...l}),p=h;return(0,gt.jsx)(p,{...d,...l,ref:t,disabled:s,className:ot()(c,u,a&&"active",i&&`${u}-${i}`,o&&`${u}-${o}`,l.href&&s&&"disabled")})}));Ra.displayName="Button";const Aa=Ra,Oa=i.forwardRef(((e,t)=>{let{bsPrefix:n,split:r,className:o,childBsPrefix:a,as:s=Aa,...c}=e;const l=wt(n,"dropdown-toggle"),u=(0,i.useContext)(Yr);void 0!==a&&(c.bsPrefix=a);const[d]=Ko();return d.ref=un(d.ref,Sa(t)),(0,gt.jsx)(s,{className:ot()(o,l,r&&`${l}-split`,(null==u?void 0:u.show)&&"show"),...d,...c})}));Oa.displayName="DropdownToggle";const Ia=Oa,Na=i.forwardRef(((e,t)=>{const{bsPrefix:n,drop:r="down",show:o,className:a,align:s="start",onSelect:c,onToggle:l,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:p=!0,...f}=ht(e,{show:"onToggle"}),m=(0,i.useContext)(wa),g=wt(n,"dropdown"),v=Ct(),y=wn(((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===p?"click"===r:"inside"===p?"rootClose"!==r:"outside"!==p||"select"!==r)&&(null==l||l(e,t)))})),b=Ta("end"===s,r,v),E=(0,i.useMemo)((()=>({align:s,drop:r,isRTL:v})),[s,r,v]),_={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,gt.jsx)(la.Provider,{value:E,children:(0,gt.jsx)(sa,{placement:b,show:o,onSelect:c,onToggle:y,focusFirstItemOnShow:u,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:m?f.children:(0,gt.jsx)(d,{...f,ref:t,className:ot()(a,o&&"show",_[r])})})})}));Na.displayName="Dropdown";const ka=Object.assign(Na,{Toggle:Ia,Menu:xa,Item:ya,ItemText:Ea,Divider:da,Header:pa});const Pa=function(e){let{toggleSidebar:t}=e;const[n,r]=(0,i.useState)(!1),o=te(),a=Z();return(0,i.useEffect)((()=>{const e=localStorage.getItem("userId");r(!!e)}),[]),(0,gt.jsx)(Hr,{expand:"lg",className:"header-navbar",children:(0,gt.jsxs)(zr,{fluid:!0,className:"d-flex align-items-center",children:[(0,gt.jsx)("button",{className:"sidebar-toggle-btn",onClick:t,children:(0,gt.jsx)(Pe,{})}),(0,gt.jsx)(Hr.Brand,{onClick:()=>(e=>{a.pathname!==e&&o(e)})("/"),className:"brand-container",children:(0,gt.jsx)("span",{className:"soulmate-text",children:"Soulmate"})}),(0,gt.jsx)("div",{className:"ml-auto d-flex align-items-center",children:n?(0,gt.jsxs)(ka,{children:[(0,gt.jsx)(ka.Toggle,{variant:"link",id:"dropdown-user",className:"p-0 user-dropdown",children:(0,gt.jsx)(Je,{className:"user-icon"})}),(0,gt.jsx)(ka.Menu,{align:"end",children:(0,gt.jsxs)(ka.Item,{onClick:()=>{localStorage.removeItem("userId"),r(!1),o("/login")},children:[(0,gt.jsx)($e,{})," Logout"]})})]}):(0,gt.jsxs)(Aa,{variant:"outline-primary",onClick:()=>o("/login"),children:[(0,gt.jsx)(qe,{})," Login"]})})]})})};function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}function La(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ma=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(F1){}new Map;const ja=o.startTransition;Ut.flushSync,o.useId;function Ua(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,e)}({window:o,v5Compat:!0}));let s=a.current,[c,l]=i.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=i.useCallback((e=>{u&&ja?ja((()=>l(e))):l(e)}),[l,u]);return i.useLayoutEffect((()=>s.listen(d)),[s,d]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:r})}const Fa="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ba=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:h,unstable_viewTransition:f}=e,m=La(e,Ma),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof d&&Ba.test(d)&&(n=d,Fa))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=k(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(F1){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||l(!1);let{basename:r,navigator:o}=i.useContext(Y),{hash:a,pathname:s,search:c}=re(e,{relative:n}),u=s;return"/"!==r&&(u="/"===s?r:j([r,s])),o.createHref({pathname:u,search:c,hash:a})}(d,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c}=void 0===t?{}:t,l=te(),u=Z(),d=re(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(d);l(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c})}}),[u,l,d,r,o,n,e,a,s,c])}(d,{replace:s,state:c,target:u,preventScrollReset:h,relative:o,unstable_viewTransition:f});return i.createElement("a",Da({},m,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Wa,Ha;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wa||(Wa={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ha||(Ha={}));const Ga=function(e){let{isOpen:t,toggleSidebar:n}=e;const r=Z(),i=localStorage.getItem("Bestie_accesstoken"),o=localStorage.getItem("Bestie_role");return i?(0,gt.jsxs)("div",{className:"sidebar "+(t?"open":"closed"),children:[(0,gt.jsx)("div",{className:"sidebar-header",children:(0,gt.jsx)("h2",{className:"logo",children:"superuser"===o?"Admin Panel":"Manager Panel"})}),(0,gt.jsx)("ul",{className:"nav",children:"superuser"===o?(0,gt.jsx)(gt.Fragment,{children:[{path:"/",icon:(0,gt.jsx)(We,{}),label:"Home"},{path:"/admin-profile",icon:(0,gt.jsx)(nt,{}),label:"Profile"},{path:"/executive",icon:(0,gt.jsx)(et,{}),label:"Executives"},{path:"/userslist",icon:(0,gt.jsx)(nt,{}),label:"Users"},{path:"/review",icon:(0,gt.jsx)(Be,{}),label:"Review"},{path:"/reports",icon:(0,gt.jsx)(Be,{}),label:"Reports"},{path:"/managers",icon:(0,gt.jsx)(nt,{}),label:"Manager"},{path:"/blocked-users",icon:(0,gt.jsx)(nt,{}),label:"Blocked Users"},{path:"/banned-users",icon:(0,gt.jsx)(nt,{}),label:"Banned Users"},{path:"/coinconversion",icon:(0,gt.jsx)(Le,{}),label:"Coin-Conversion"},{path:"/account",icon:(0,gt.jsx)(rt,{}),label:"Accounts"},{path:"/activities",icon:(0,gt.jsx)(De,{}),label:"Activity"},{path:"/category",icon:(0,gt.jsx)(nt,{}),label:"Category"},{path:"/pricing",icon:(0,gt.jsx)(Ke,{}),label:"Pricing"}].map((e=>(0,gt.jsx)("li",{className:r.pathname===e.path?"active":"",children:(0,gt.jsxs)(Va,{to:e.path,children:[e.icon,(0,gt.jsx)("span",{children:e.label})]})},e.path)))}):"manager_executive"===o||"hr_executive"===o?(0,gt.jsx)(gt.Fragment,{children:[{path:"/managerdashboard",icon:(0,gt.jsx)(nt,{}),label:"Home"},{path:"/manage-executive",icon:(0,gt.jsx)(et,{}),label:"Manage Executives"},{path:"/manage-user",icon:(0,gt.jsx)(nt,{}),label:"Manage Users"},{path:"/manager-profile",icon:(0,gt.jsx)(nt,{}),label:"Profile"}].map((e=>(0,gt.jsx)("li",{className:r.pathname===e.path?"active":"",children:(0,gt.jsxs)(Va,{to:e.path,children:[e.icon,(0,gt.jsx)("span",{children:e.label})]})},e.path)))}):null})]}):null},za=i.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:o,as:a="div",className:s,...c}=e;n=wt(n,"spinner");const l=`${n}-${i}`;return(0,gt.jsx)(a,{ref:t,...c,className:ot()(s,l,o&&`${l}-${o}`,r&&`text-${r}`)})}));za.displayName="Spinner";const Ka=za;const Ya=i.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:a}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=wt(n,"col");const o=St(),a=Tt(),s=[],c=[];return o.forEach((e=>{const t=i[e];let r,o,l;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:o,order:l}=t):r=t;const u=e!==a?`-${e}`:"";r&&s.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=l&&c.push(`order${u}-${l}`),null!=o&&c.push(`offset${u}-${o}`)})),[{...i,className:ot()(r,...s,...c)},{as:t,bsPrefix:n,spans:s}]}(e);return(0,gt.jsx)(i,{...r,ref:t,className:ot()(n,!a.length&&o)})}));Ya.displayName="Col";const qa=Ya,$a=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"card-body"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));$a.displayName="CardBody";const Xa=$a,Qa=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"card-footer"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));Qa.displayName="CardFooter";const Ja=Qa,Za=i.createContext(null);Za.displayName="CardHeaderContext";const es=Za,ts=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div",...a}=e;const s=wt(n,"card-header"),c=(0,i.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,gt.jsx)(es.Provider,{value:c,children:(0,gt.jsx)(o,{ref:t,...a,className:ot()(r,s)})})}));ts.displayName="CardHeader";const ns=ts,rs=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:o="img",...a}=e;const s=wt(n,"card-img");return(0,gt.jsx)(o,{ref:t,className:ot()(i?`${s}-${i}`:s,r),...a})}));rs.displayName="CardImg";const is=rs,os=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"card-img-overlay"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));os.displayName="CardImgOverlay";const as=os,ss=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...o}=e;return r=wt(r,"card-link"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));ss.displayName="CardLink";const cs=ss,ls=Er("h6"),us=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ls,...o}=e;return r=wt(r,"card-subtitle"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));us.displayName="CardSubtitle";const ds=us,hs=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...o}=e;return r=wt(r,"card-text"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));hs.displayName="CardText";const ps=hs,fs=Er("h5"),ms=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=fs,...o}=e;return r=wt(r,"card-title"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));ms.displayName="CardTitle";const gs=ms,vs=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:o,border:a,body:s=!1,children:c,as:l="div",...u}=e;const d=wt(n,"card");return(0,gt.jsx)(l,{ref:t,...u,className:ot()(r,d,i&&`bg-${i}`,o&&`text-${o}`,a&&`border-${a}`),children:s?(0,gt.jsx)(Xa,{children:c}):c})}));vs.displayName="Card";const ys=Object.assign(vs,{Img:is,Title:gs,Subtitle:ds,Body:Xa,Link:cs,Text:ps,Header:ns,Footer:Ja,ImgOverlay:as}),bs=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...o}=e;const a=wt(n,"row"),s=St(),c=Tt(),l=`${a}-cols`,u=[];return s.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?`-${e}`:"";null!=n&&u.push(`${l}${r}-${n}`)})),(0,gt.jsx)(i,{ref:t,...o,className:ot()(r,a,...u)})}));bs.displayName="Row";const Es=bs;var _s={version:"0.18.5"},ws=1200,Ss=1252,Ts=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Cs={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},xs=function(e){-1!=Ts.indexOf(e)&&(Ss=Cs[0]=e)};var Rs=function(e){ws=e,xs(e)};function As(){Rs(1200),xs(1252)}function Os(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Is,Ns=function(e){return String.fromCharCode(e)},ks=function(e){return String.fromCharCode(e)};var Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ds(e){for(var t="",n=0,r=0,i=0,o=0,a=0,s=0,c=0,l=0;l<e.length;)o=(n=e.charCodeAt(l++))>>2,a=(3&n)<<4|(r=e.charCodeAt(l++))>>4,s=(15&r)<<2|(i=e.charCodeAt(l++))>>6,c=63&i,isNaN(r)?s=c=64:isNaN(i)&&(c=64),t+=Ps.charAt(o)+Ps.charAt(a)+Ps.charAt(s)+Ps.charAt(c);return t}function Ls(e){var t="",n=0,r=0,i=0,o=0,a=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)n=Ps.indexOf(e.charAt(c++))<<2|(o=Ps.indexOf(e.charAt(c++)))>>4,t+=String.fromCharCode(n),r=(15&o)<<4|(a=Ps.indexOf(e.charAt(c++)))>>2,64!==a&&(t+=String.fromCharCode(r)),i=(3&a)<<6|(s=Ps.indexOf(e.charAt(c++))),64!==s&&(t+=String.fromCharCode(i));return t}var Ms=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),js=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(F1){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Us(e){return Ms?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function Fs(e){return Ms?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Bs=function(e){return Ms?js(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function Vs(e){if("undefined"===typeof ArrayBuffer)return Bs(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function Ws(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var Hs=Ms?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:js(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var Gs=/\u0000/g,zs=/[\u0001-\u0006]/g;function Ks(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Ys(e,t){var n=""+e;return n.length>=t?n:ol("0",t-n.length)+n}function qs(e,t){var n=""+e;return n.length>=t?n:ol(" ",t-n.length)+n}function $s(e,t){var n=""+e;return n.length>=t?n:n+ol(" ",t-n.length)}var Xs=Math.pow(2,32);function Qs(e,t){return e>Xs||e<-Xs?function(e,t){var n=""+Math.round(e);return n.length>=t?n:ol("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:ol("0",t-n.length)+n}(Math.round(e),t)}function Js(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Zs=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ec=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var tc={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},nc={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rc={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ic(e,t,n){for(var r=e<0?-1:1,i=e*r,o=0,a=1,s=0,c=1,l=0,u=0,d=Math.floor(i);l<t&&(s=(d=Math.floor(i))*a+o,u=d*l+c,!(i-d<5e-8));)i=1/(i-d),o=a,a=s,c=l,l=u;if(u>t&&(l>t?(u=c,s=o):(u=l,s=a)),!n)return[0,r*s,u];var h=Math.floor(r*s/u);return[h,r*s-h*u,u]}function oc(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),o=0,a=[],s={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++r,++s.D)),60===r)a=n?[1317,10,29]:[1900,2,29],o=3;else if(0===r)a=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],o=c.getDay(),r<60&&(o=(o+6)%7),n&&(o=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(c,a))}return s.y=a[0],s.m=a[1],s.d=a[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=o,s}var ac=new Date(1899,11,31,0,0,0),sc=ac.getTime(),cc=new Date(1900,2,1,0,0,0);function lc(e,t){var n=e.getTime();return t?n-=1262304e5:e>=cc&&(n+=864e5),(n-(sc+6e4*(e.getTimezoneOffset()-ac.getTimezoneOffset())))/864e5}function uc(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dc(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=uc(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=uc(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),uc(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function hc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):dc(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Pc(14,lc(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function pc(e,t,n,r){var i,o="",a=0,s=0,c=n.y,l=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:i=c%100,l=2;break;default:i=c%1e4,l=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,l=t.length;break;case 3:return ec[n.m-1][1];case 5:return ec[n.m-1][0];default:return ec[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,l=t.length;break;case 3:return Zs[n.q][0];default:return Zs[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,(a=Math.round(s*(n.S+n.u)))>=60*s&&(a=0),"s"===t?0===a?"0":""+a/s:(o=Ys(a,2+r),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):Ys(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}l=3===t.length?1:2;break;case 101:i=c,l=1}return l>0?Ys(i,l):""}function fc(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var mc=/%/g;function gc(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+gc(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),-1===(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+o):n+="E+"+(a-o);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var vc=/# (\?+)( ?)\/( ?)(\d+)/;var yc=/^#*0*\.([0#]+)/,bc=/\).*[0#]/,Ec=/\(###\) ###\\?-####/;function _c(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function wc(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Sc(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Tc(e,t,n){if(40===e.charCodeAt(0)&&!t.match(bc)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Tc("n",r,n):"("+Tc("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Rc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(mc,""),i=t.length-r.length;return Rc(e,r,n*Math.pow(10,2*i))+ol("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return gc(t,n);if(36===t.charCodeAt(0))return"$"+Tc(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,a,s,c=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+Qs(c,t.length);if(t.match(/^[#?]+$/))return"0"===(i=Qs(n,0))&&(i=""),i.length>t.length?i:_c(t.substr(0,t.length-i.length))+i;if(o=t.match(vc))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),o=Math.floor(i/r),a=i-o*r,s=r;return n+(0===o?"":""+o)+" "+(0===a?ol(" ",e[1].length+1+e[4].length):qs(a,e[1].length)+e[2]+"/"+e[3]+Ys(s,e[4].length))}(o,c,l);if(t.match(/^#+0+$/))return l+Qs(c,t.length-t.indexOf("0"));if(o=t.match(yc))return i=wc(n,o[1].length).replace(/^([^\.]+)$/,"$1."+_c(o[1])).replace(/\.$/,"."+_c(o[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+ol("0",_c(o[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return l+wc(c,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return l+fc(Qs(c,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Tc(e,t,-n):fc(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,o[1].length)))+"."+Ys(Sc(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Tc(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ks(Tc(e,t.replace(/[\\-]/g,""),n)),a=0,Ks(Ks(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(Ec))return"("+(i=Tc(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=ic(c,Math.pow(10,a)-1,!1),i=""+l," "==(u=Rc("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=$s(s[2],a)).length<o[4].length&&(u=_c(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),l+((s=ic(c,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?qs(s[1],a)+o[2]+"/"+o[3]+$s(s[2],a):ol(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=Qs(n,0),t.length<=i.length?i:_c(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return _c(t.substr(0,d)+i+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=Sc(n,o[1].length),n<0?"-"+Tc(e,t,-n):fc(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Ys(0,3-e.length):"")+e}))+"."+Ys(a,o[1].length);switch(t){case"###,##0.00":return Tc(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=fc(Qs(c,0));return"0"!==p?l+p:"";case"###,###.00":return Tc(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Tc(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Cc(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Cc(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),!(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+o):n+="E+"+(a-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function xc(e,t,n){if(40===e.charCodeAt(0)&&!t.match(bc)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xc("n",r,n):"("+xc("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Rc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(mc,""),i=t.length-r.length;return Rc(e,r,n*Math.pow(10,2*i))+ol("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return Cc(t,n);if(36===t.charCodeAt(0))return"$"+xc(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,a,s,c=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+Ys(c,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:_c(t.substr(0,t.length-i.length))+i;if(o=t.match(vc))return function(e,t,n){return n+(0===t?"":""+t)+ol(" ",e[1].length+2+e[4].length)}(o,c,l);if(t.match(/^#+0+$/))return l+Ys(c,t.length-t.indexOf("0"));if(o=t.match(yc))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+_c(o[1])).replace(/\.$/,"."+_c(o[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+ol("0",_c(o[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return l+fc(""+c);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xc(e,t,-n):fc(""+n)+"."+ol("0",o[1].length);if(o=t.match(/^#,#*,#0/))return xc(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ks(xc(e,t.replace(/[\\-]/g,""),n)),a=0,Ks(Ks(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(Ec))return"("+(i=xc(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=ic(c,Math.pow(10,a)-1,!1),i=""+l," "==(u=Rc("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=$s(s[2],a)).length<o[4].length&&(u=_c(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),l+((s=ic(c,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?qs(s[1],a)+o[2]+"/"+o[3]+$s(s[2],a):ol(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:_c(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return _c(t.substr(0,d)+i+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+xc(e,t,-n):fc(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Ys(0,3-e.length):"")+e}))+"."+Ys(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=fc(""+c);return"0"!==p?l+p:"";default:if(t.match(/\.[0#?]*$/))return xc(e,t.slice(0,t.lastIndexOf(".")),n)+_c(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rc(e,t,n){return(0|n)===n?xc(e,t,n):Tc(e,t,n)}var Ac=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Oc(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Js(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(Ac))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Ic=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Nc(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function kc(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var o=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,o];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var a=n[0].match(Ic),s=n[1].match(Ic);return Nc(t,a)?[r,n[0]]:Nc(t,s)?[r,n[1]]:[r,n[null!=a&&null!=s?2:1]]}return[r,o]}function Pc(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:tc)[e])&&(r=n.table&&n.table[nc[e]]||tc[nc[e]]),null==r&&(r=rc[e]||"General")}if(Js(r,0))return hc(t,n);t instanceof Date&&(t=lc(t,n.date1904));var i=kc(r,t);if(Js(i[1]))return hc(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,o,a,s=[],c="",l=0,u="",d="t",h="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!Js(e,l))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(c="";34!==(a=e.charCodeAt(++l))&&l<e.length;)c+=String.fromCharCode(a);s[s.length]={t:"t",v:c},++l;break;case"\\":var p=e.charAt(++l),f="("===p||")"===p?p:"t";s[s.length]={t:f,v:p},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:t},++l;break;case"B":case"b":if("1"===e.charAt(l+1)||"2"===e.charAt(l+1)){if(null==i&&null==(i=oc(t,n,"2"===e.charAt(l+1))))return"";s[s.length]={t:"X",v:e.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=oc(t,n)))return"";for(c=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)c+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),s[s.length]={t:u,v:c},d=u;break;case"A":case"a":case"\u4e0a":var m={t:u,v:u};if(null==i&&(i=oc(t,n)),"A/P"===e.substr(l,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",h="h",l+=3):"AM/PM"===e.substr(l,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",l+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(l,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",l+=5,h="h"):(m.t="t",++l),null==i&&"T"===m.t)return"";s[s.length]=m,d=u;break;case"[":for(c=u;"]"!==e.charAt(l++)&&l<e.length;)c+=e.charAt(l);if("]"!==c.slice(-1))throw'unterminated "[" block: |'+c+"|";if(c.match(Ac)){if(null==i&&null==(i=oc(t,n)))return"";s[s.length]={t:"Z",v:c.toLowerCase()},d=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",Oc(e)||(s[s.length]={t:"t",v:c}));break;case".":if(null!=i){for(c=u;++l<e.length&&"0"===(u=e.charAt(l));)c+=u;s[s.length]={t:"s",v:c};break}case"0":case"#":for(c=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)c+=u;s[s.length]={t:"n",v:c};break;case"?":for(c=u;e.charAt(++l)===u;)c+=u;s[s.length]={t:u,v:c},d=u;break;case"*":++l," "!=e.charAt(l)&&"*"!=e.charAt(l)||++l;break;case"(":case")":s[s.length]={t:1===r?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)c+=e.charAt(l);s[s.length]={t:"D",v:c};break;case" ":s[s.length]={t:u,v:u},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++l}var g,v=0,y=0;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=h,d="h",v<1&&(v=1);break;case"s":(g=s[l].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":"s"===d&&(s[l].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[l].v.match(/[Hh]/)&&(v=1),v<2&&s[l].v.match(/[Mm]/)&&(v=2),v<3&&s[l].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var b,E="";for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=pc(s[l].t.charCodeAt(0),s[l].v,i,y),s[l].t="t";break;case"n":case"?":for(b=l+1;null!=s[b]&&("?"===(u=s[b].t)||"D"===u||(" "===u||"t"===u)&&null!=s[b+1]&&("?"===s[b+1].t||"t"===s[b+1].t&&"/"===s[b+1].v)||"("===s[l].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[b].v||" "===s[b].v&&null!=s[b+1]&&"?"==s[b+1].t));)s[l].v+=s[b].v,s[b]={v:"",t:";"},++b;E+=s[l].v,l=b-1;break;case"G":s[l].t="t",s[l].v=hc(t,n)}var _,w,S="";if(E.length>0){40==E.charCodeAt(0)?(_=t<0&&45===E.charCodeAt(0)?-t:t,w=Rc("n",E,_)):(w=Rc("n",E,_=t<0&&r>1?-t:t),_<0&&s[0]&&"t"==s[0].t&&(w=w.substr(1),s[0].v="-"+s[0].v)),b=w.length-1;var T=s.length;for(l=0;l<s.length;++l)if(null!=s[l]&&"t"!=s[l].t&&s[l].v.indexOf(".")>-1){T=l;break}var C=s.length;if(T===s.length&&-1===w.indexOf("E")){for(l=s.length-1;l>=0;--l)null!=s[l]&&-1!=="n?".indexOf(s[l].t)&&(b>=s[l].v.length-1?(b-=s[l].v.length,s[l].v=w.substr(b+1,s[l].v.length)):b<0?s[l].v="":(s[l].v=w.substr(0,b+1),b=-1),s[l].t="t",C=l);b>=0&&C<s.length&&(s[C].v=w.substr(0,b+1)+s[C].v)}else if(T!==s.length&&-1===w.indexOf("E")){for(b=w.indexOf(".")-1,l=T;l>=0;--l)if(null!=s[l]&&-1!=="n?".indexOf(s[l].t)){for(o=s[l].v.indexOf(".")>-1&&l===T?s[l].v.indexOf(".")-1:s[l].v.length-1,S=s[l].v.substr(o+1);o>=0;--o)b>=0&&("0"===s[l].v.charAt(o)||"#"===s[l].v.charAt(o))&&(S=w.charAt(b--)+S);s[l].v=S,s[l].t="t",C=l}for(b>=0&&C<s.length&&(s[C].v=w.substr(0,b+1)+s[C].v),b=w.indexOf(".")+1,l=T;l<s.length;++l)if(null!=s[l]&&(-1!=="n?(".indexOf(s[l].t)||l===T)){for(o=s[l].v.indexOf(".")>-1&&l===T?s[l].v.indexOf(".")+1:0,S=s[l].v.substr(0,o);o<s[l].v.length;++o)b<w.length&&(S+=w.charAt(b++));s[l].v=S,s[l].t="t",C=l}}}for(l=0;l<s.length;++l)null!=s[l]&&"n?".indexOf(s[l].t)>-1&&(_=r>1&&t<0&&l>0&&"-"===s[l-1].v?-t:t,s[l].v=Rc(s[l].t,s[l].v,_),s[l].t="t");var x="";for(l=0;l!==s.length;++l)null!=s[l]&&(x+=s[l].v);return x}(i[1],t,n,i[0])}function Dc(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=tc[n]){if(tc[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return tc[t]=e,t}function Lc(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Dc(e[t],t)}function Mc(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',tc=e}var jc=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Uc=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var o=[];for(r=1;16!=r;++r)o[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return o}(t),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=~n,i=0,o=e.length;i<o;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=~n,b=e.length-15,E=0;E<b;)y=v[e[E++]^255&y]^g[e[E++]^y>>8&255]^m[e[E++]^y>>16&255]^f[e[E++]^y>>>24]^p[e[E++]]^h[e[E++]]^d[e[E++]]^u[e[E++]]^l[e[E++]]^c[e[E++]]^s[e[E++]]^a[e[E++]]^o[e[E++]]^i[e[E++]]^r[e[E++]]^t[e[E++]];for(b+=15;E<b;)y=y>>>8^t[255&(y^e[E++])];return~y},e.str=function(e,n){for(var r=~n,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^a)]:a<2048?r=(r=r>>>8^t[255&(r^(192|a>>6&31))])>>>8^t[255&(r^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|a>>8&7))])>>>8^t[255&(r^(128|a>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&a)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|a>>12&15))])>>>8^t[255&(r^(128|a>>6&63))])>>>8^t[255&(r^(128|63&a))];return~r},e}(),Fc=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function o(e){Du(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),o=e.l+i,a={};if(21589===r)1&(n=e.read_shift(1))&&(a.mtime=e.read_shift(4)),i>5&&(2&n&&(a.atime=e.read_shift(4)),4&n&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));e.l=o,t[r]=a}return t}function a(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(Ms&&Buffer.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),i=0,o="";for(i=0;i<r.length;++i)if(o=r[i],/^Content-Location:/i.test(o)&&(o=o.slice(o.indexOf("file")),n||(n=o.slice(0,o.lastIndexOf("/")+1)),o.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),o.slice(0,n.length)!=n););var a=(r[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var s="--"+(a[1]||""),c=[],l=[],u={FileIndex:c,FullPaths:l};h(u);var d,p=0;for(i=0;i<r.length;++i){var f=r[i];f!==s&&f!==s+"--"||(p++&&le(u,r.slice(d,i),n),d=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,o,a,s,p=512,f=[],m=e.slice(0,512);Du(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:p=512;break;case 4:p=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==p&&Du(m=e.slice(0,p),28);var b=e.slice(0,p);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var E=m.read_shift(4,"i");if(3===n&&0!==E)throw new Error("# Directory Sectors: Expected 0 saw "+E);m.l+=4,o=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),a=m.read_shift(4,"i"),r=m.read_shift(4,"i"),s=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var _=-1,S=0;S<109&&!((_=m.read_shift(4,"i"))<0);++S)f[S]=_;var T=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,p);l(s,i,T,p,f);var C=function(e,t,n,r){var i=e.length,o=[],a=[],s=[],c=[],l=r-1,u=0,d=0,h=0,p=0;for(u=0;u<i;++u)if(s=[],(h=u+t)>=i&&(h-=i),!a[h]){c=[];var f=[];for(d=h;d>=0;){f[d]=!0,a[d]=!0,s[s.length]=d,c.push(e[d]);var m=n[Math.floor(4*d/r)];if(r<4+(p=4*d&l))throw new Error("FAT boundary crossed: "+d+" 4 "+r);if(!e[m])break;if(f[d=xu(e[m],p)])break}o[h]={nodes:s,data:tu([c])}}return o}(T,o,f,p);C[o].name="!Directory",r>0&&a!==v&&(C[a].name="!MiniFAT"),C[f[0]].name="!FAT",C.fat_addrs=f,C.ssz=p;var x=[],R=[],A=[];!function(e,t,n,r,i,o,a,s){for(var l,h=0,p=r.length?2:0,f=t[e].data,m=0,g=0;m<f.length;m+=128){var y=f.slice(m,m+128);Du(y,64),g=y.read_shift(2),l=ru(y,0,g-p),r.push(l);var b={name:l,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=d(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(h=b.start,i>0&&h!==v&&(t[h].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:h!==v&&b.start!==v&&t[h]&&(b.content=c(b,t[h].data,(t[s]||{}).data))),b.content&&Du(b.content,0),o[l]=b,a.push(b)}}(o,C,T,x,r,{},R,a),function(e,t,n){for(var r=0,i=0,o=0,a=0,s=0,c=n.length,l=[],u=[];r<c;++r)l[r]=u[r]=r,t[r]=n[r];for(;s<u.length;++s)i=e[r=u[s]].L,o=e[r].R,a=e[r].C,l[r]===r&&(-1!==i&&l[i]!==i&&(l[r]=l[i]),-1!==o&&l[o]!==o&&(l[r]=l[o])),-1!==a&&(l[a]=r),-1!==i&&r!=l[r]&&(l[i]=l[r],u.lastIndexOf(i)<s&&u.push(i)),-1!==o&&r!=l[r]&&(l[o]=l[r],u.lastIndexOf(o)<s&&u.push(o));for(r=1;r<c;++r)l[r]===r&&(-1!==o&&l[o]!==o?l[r]=l[o]:-1!==i&&l[i]!==i&&(l[r]=l[i]));for(r=1;r<c;++r)if(0!==e[r].type){if((s=r)!=l[s])do{s=l[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==l[s]&&s!=l[s]);l[r]=-1}for(t[0]+="/",r=1;r<c;++r)2!==e[r].type&&(t[r]+="/")}(R,A,x),x.shift();var O={FileIndex:R,FullPaths:A};return t&&t.raw&&(O.raw={header:b,sectors:T}),O}function c(e,t,n){for(var r=e.start,i=e.size,o=[],a=r;n&&i>0&&a>=0;)o.push(t.slice(a*g,a*g+g)),i-=g,a=xu(n,4*a);return 0===o.length?Mu(0):Hs(o).slice(0,e.size)}function l(e,t,n,r,i){var o=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=n[e],s=(r>>>2)-1;if(!a)return;for(var c=0;c<s&&(o=xu(a,4*c))!==v;++c)i.push(o);l(xu(a,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var o=[],a=[];i||(i=[]);var s=r-1,c=0,l=0;for(c=t;c>=0;){i[c]=!0,o[o.length]=c,a.push(e[c]);var u=n[Math.floor(4*c/r)];if(r<4+(l=4*c&s))throw new Error("FAT boundary crossed: "+c+" 4 "+r);if(!e[u])break;c=xu(e[u],l)}return{nodes:o,data:tu([a])}}function d(e,t){return new Date(1e3*(Cu(e,t+4)/1e7*Math.pow(2,32)+Cu(e,t)/1e7-11644473600))}function h(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(Fc.find(e,"/"+t))return;var n=Mu(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),p(e)}(e)}function p(e,t){h(e);for(var i=!1,o=!1,a=e.FullPaths.length-1;a>=0;--a){var s=e.FileIndex[a];switch(s.type){case 0:o?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(s.R*s.L*s.C)&&(i=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(i=!0);break;default:i=!0}}if(i||t){var c=new Date(1987,1,19),l=0,u=Object.create?Object.create(null):{},d=[];for(a=0;a<e.FullPaths.length;++a)u[e.FullPaths[a]]=!0,0!==e.FileIndex[a].type&&d.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<d.length;++a){var p=n(d[a][0]);(o=u[p])||(d.push([p,{name:r(p).replace("/",""),type:1,clsid:E,ct:c,mt:c,content:null}]),u[p]=!0)}for(d.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,o=0,a=Math.min(n.length,r.length);i<a;++i){if(o=n[i].length-r[i].length)return o;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],a=0;a<d.length;++a)e.FullPaths[a]=d[a][0],e.FileIndex[a]=d[a][1];for(a=0;a<d.length;++a){var f=e.FileIndex[a],m=e.FullPaths[a];if(f.name=r(m).replace("/",""),f.L=f.R=f.C=-(f.color=1),f.size=f.content?f.content.length:0,f.start=0,f.clsid=f.clsid||E,0===a)f.C=d.length>1?1:-1,f.size=0,f.type=5;else if("/"==m.slice(-1)){for(l=a+1;l<d.length&&n(e.FullPaths[l])!=m;++l);for(f.C=l>=d.length?-1:l,l=a+1;l<d.length&&n(e.FullPaths[l])!=n(m);++l);f.R=l>=d.length?-1:l,f.type=1}else n(e.FullPaths[a+1]||"")==n(m)&&(f.R=a+1),f.type=2}}}function f(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],o=e.FullPaths[0],a=o,s=e.FileIndex[0],c=1;c<e.FullPaths.length;++c)if(a=e.FullPaths[c].slice(o.length),(s=e.FileIndex[c]).size&&s.content&&"\x01Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var l=s.content,u=Ms&&Buffer.isBuffer(l)?l.toString("binary"):w(l),d=0,h=Math.min(1024,u.length),p=0,f=0;f<=h;++f)(p=u.charCodeAt(f))>=32&&p<128&&++d;var m=d>=4*h/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+a),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+ae(s,a)),i.push(""),i.push(m?ce(u):se(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(p(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],o=[],a=Mu(1),s=n.compression?8:0,c=0;0;var l=0,u=0,d=0,h=0,p=e.FullPaths[0],f=p,m=e.FileIndex[0],g=[],v=0;for(l=1;l<e.FullPaths.length;++l)if(f=e.FullPaths[l].slice(p.length),(m=e.FileIndex[l]).size&&m.content&&"\x01Sh33tJ5"!=f){var y=d,b=Mu(f.length);for(u=0;u<f.length;++u)b.write_shift(1,127&f.charCodeAt(u));b=b.slice(0,b.l),g[h]=Uc.buf(m.content,0);var E=m.content;8==s&&(E=S(E)),(a=Mu(30)).write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,c),a.write_shift(2,s),m.mt?i(a,m.mt):a.write_shift(4,0),a.write_shift(-4,8&c?0:g[h]),a.write_shift(4,8&c?0:E.length),a.write_shift(4,8&c?0:m.content.length),a.write_shift(2,b.length),a.write_shift(2,0),d+=a.length,r.push(a),d+=b.length,r.push(b),d+=E.length,r.push(E),8&c&&((a=Mu(12)).write_shift(-4,g[h]),a.write_shift(4,E.length),a.write_shift(4,m.content.length),d+=a.l,r.push(a)),(a=Mu(46)).write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,c),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(-4,g[h]),a.write_shift(4,E.length),a.write_shift(4,m.content.length),a.write_shift(2,b.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,y),v+=a.l,o.push(a),v+=b.length,o.push(b),++h}return a=Mu(22),a.write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,h),a.write_shift(2,h),a.write_shift(4,v),a.write_shift(4,d),a.write_shift(2,0),Hs([Hs(r),Hs(o),a])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var o=i.content.length;o>0&&(o<4096?t+=o+63>>6:n+=o+511>>9)}}for(var a=e.FullPaths.length+3>>2,s=t+127>>7,c=(t+7>>3)+n+a+s,l=c+127>>7,u=l<=109?0:Math.ceil((l-109)/127);c+l+u+127>>7>l;)u=++l<=109?0:Math.ceil((l-109)/127);var d=[1,u,l,s,a,n,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),o=Mu(r[7]<<9),a=0,s=0;for(a=0;a<8;++a)o.write_shift(1,b[a]);for(a=0;a<8;++a)o.write_shift(2,0);for(o.write_shift(2,62),o.write_shift(2,3),o.write_shift(2,65534),o.write_shift(2,9),o.write_shift(2,6),a=0;a<3;++a)o.write_shift(2,0);for(o.write_shift(4,0),o.write_shift(4,r[2]),o.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),o.write_shift(4,0),o.write_shift(4,4096),o.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),o.write_shift(4,r[3]),o.write_shift(-4,r[1]?r[0]-1:v),o.write_shift(4,r[1]),a=0;a<109;++a)o.write_shift(-4,a<r[2]?r[1]+a:-1);if(r[1])for(s=0;s<r[1];++s){for(;a<236+127*s;++a)o.write_shift(-4,a<r[2]?r[1]+a:-1);o.write_shift(-4,s===r[1]-1?v:s+1)}var c=function(e){for(s+=e;a<s-1;++a)o.write_shift(-4,a+1);e&&(++a,o.write_shift(-4,v))};for(s=a=0,s+=r[1];a<s;++a)o.write_shift(-4,_.DIFSECT);for(s+=r[2];a<s;++a)o.write_shift(-4,_.FATSECT);c(r[3]),c(r[4]);for(var l=0,u=0,d=e.FileIndex[0];l<e.FileIndex.length;++l)(d=e.FileIndex[l]).content&&((u=d.content.length)<4096||(d.start=s,c(u+511>>9)));for(c(r[6]+7>>3);511&o.l;)o.write_shift(-4,_.ENDOFCHAIN);for(s=a=0,l=0;l<e.FileIndex.length;++l)(d=e.FileIndex[l]).content&&(!(u=d.content.length)||u>=4096||(d.start=s,c(u+63>>6)));for(;511&o.l;)o.write_shift(-4,_.ENDOFCHAIN);for(a=0;a<r[4]<<2;++a){var h=e.FullPaths[a];if(h&&0!==h.length){d=e.FileIndex[a],0===a&&(d.start=d.size?d.start-1:v);var f=0===a&&n.root||d.name;if(u=2*(f.length+1),o.write_shift(64,f,"utf16le"),o.write_shift(2,u),o.write_shift(1,d.type),o.write_shift(1,d.color),o.write_shift(-4,d.L),o.write_shift(-4,d.R),o.write_shift(-4,d.C),d.clsid)o.write_shift(16,d.clsid,"hex");else for(l=0;l<4;++l)o.write_shift(4,0);o.write_shift(4,d.state||0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,d.start),o.write_shift(4,d.size),o.write_shift(4,0)}else{for(l=0;l<17;++l)o.write_shift(4,0);for(l=0;l<3;++l)o.write_shift(4,-1);for(l=0;l<12;++l)o.write_shift(4,0)}}for(a=1;a<e.FileIndex.length;++a)if((d=e.FileIndex[a]).size>=4096)if(o.l=d.start+1<<9,Ms&&Buffer.isBuffer(d.content))d.content.copy(o,o.l,0,d.size),o.l+=d.size+511&-512;else{for(l=0;l<d.size;++l)o.write_shift(1,d.content[l]);for(;511&l;++l)o.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if((d=e.FileIndex[a]).size>0&&d.size<4096)if(Ms&&Buffer.isBuffer(d.content))d.content.copy(o,o.l,0,d.size),o.l+=d.size+63&-64;else{for(l=0;l<d.size;++l)o.write_shift(1,d.content[l]);for(;63&l;++l)o.write_shift(1,0)}if(Ms)o.l=o.length;else for(;o.l<o.length;)o.write_shift(1,0);return o}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],E="00000000000000000000000000000000",_={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:E,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return m?m.deflateRawSync(e):q(e)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function R(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var A="undefined"!==typeof Uint8Array,O=A?new Uint8Array(256):[],I=0;I<256;++I)O[I]=R(I);function N(e,t){var n=O[255&e];return t<=8?n>>>8-t:(n=n<<8|O[e>>8&255],t<=16?n>>>16-t:(n=n<<8|O[e>>16&255])>>>24-t)}function k(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function L(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function M(e,t,n){var r=7&t,i=t>>>3,o=(1<<n)-1,a=e[i]>>>r;return n<8-r?a&o:(a|=e[i+1]<<8-r,n<16-r?a&o:(a|=e[i+2]<<16-r,n<24-r?a&o:(a|=e[i+3]<<24-r)&o))}function j(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function U(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function F(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function V(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(Ms){var o=Fs(r);if(e.copy)e.copy(o);else for(;i<e.length;++i)o[i]=e[i];return o}if(A){var a=new Uint8Array(r);if(a.set)a.set(e);else for(;i<n;++i)a[i]=e[i];return a}return e.length=r,e}function W(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function H(e,t,n){var r=1,i=0,o=0,a=0,s=0,c=e.length,l=A?new Uint16Array(32):W(32);for(o=0;o<32;++o)l[o]=0;for(o=c;o<n;++o)e[o]=0;c=e.length;var u=A?new Uint16Array(c):W(c);for(o=0;o<c;++o)l[i=e[o]]++,r<i&&(r=i),u[o]=0;for(l[0]=0,o=1;o<=r;++o)l[o+16]=s=s+l[o-1]<<1;for(o=0;o<c;++o)0!=(s=e[o])&&(u[o]=l[s+16]++);var d=0;for(o=0;o<c;++o)if(0!=(d=e[o]))for(s=N(u[o],r)>>r-d,a=(1<<r+4-d)-1;a>=0;--a)t[s|a<<d]=15&d|o<<4;return r}var G=A?new Uint16Array(512):W(512),z=A?new Uint16Array(32):W(32);if(!A){for(var K=0;K<512;++K)G[K]=0;for(K=0;K<32;++K)z[K]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,z,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);H(n,G,288)}();var Y=function(){for(var e=A?new Uint8Array(32768):[],t=0,n=0;t<x.length-1;++t)for(;n<x[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=A?new Uint8Array(259):[];for(t=0,n=0;t<C.length-1;++t)for(;n<C[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,o=0,a=A?new Uint16Array(32768):[];o<t.length;){var s=Math.min(65535,t.length-o);if(s<10){for(7&(i=j(n,i,+!(o+s!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=t[o++];i=8*n.l}else{i=j(n,i,+!(o+s!=t.length)+2);for(var c=0;s-- >0;){var l=t[o],u=-1,d=0;if((u=a[c=32767&(c<<5^l)])&&((u|=-32768&o)>o&&(u-=32768),u<o))for(;t[u+d]==t[o+d]&&d<250;)++d;if(d>2){(l=r[d])<=22?i=F(n,i,O[l+1]>>1)-1:(F(n,i,3),F(n,i+=5,O[l-23]>>5),i+=3);var h=l<8?0:l-4>>2;h>0&&(B(n,i,d-C[l]),i+=h),l=e[o-u],i=F(n,i,O[l]>>3),i-=3;var p=l<4?0:l-2>>1;p>0&&(B(n,i,o-u-x[l]),i+=p);for(var f=0;f<d;++f)a[c]=32767&o,c=32767&(c<<5^t[o]),++o;s-=d-1}else l<=143?l+=48:i=U(n,i,1),i=F(n,i,O[l]),a[c]=32767&o,++o}i=F(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function q(e){var t=Mu(50+Math.floor(1.1*e.length)),n=Y(e,t);return t.slice(0,n)}var $=A?new Uint16Array(32768):W(32768),X=A?new Uint16Array(32768):W(32768),Q=A?new Uint16Array(128):W(128),J=1,Z=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var o=0,a=A?new Uint8Array(19):W(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=1,l=A?new Uint8Array(8):W(8),u=A?new Uint8Array(8):W(8),d=a.length,h=0;h<i;++h)a[T[h]]=o=P(e,t),c<o&&(c=o),l[o]++,t+=3;var p=0;for(l[0]=0,h=1;h<=c;++h)u[h]=p=p+l[h-1]<<1;for(h=0;h<d;++h)0!=(p=a[h])&&(s[h]=u[p]++);var f=0;for(h=0;h<d;++h)if(0!=(f=a[h])){p=O[s[h]]>>8-f;for(var m=(1<<7-f)-1;m>=0;--m)Q[p|m<<f]=7&f|h<<3}var g=[];for(c=1;g.length<n+r;)switch(t+=7&(p=Q[L(e,t)]),p>>>=3){case 16:for(o=3+k(e,t),t+=2,p=g[g.length-1];o-- >0;)g.push(p);break;case 17:for(o=3+P(e,t),t+=3;o-- >0;)g.push(0);break;case 18:for(o=11+L(e,t),t+=7;o-- >0;)g.push(0);break;default:g.push(p),c<p&&(c=p)}var v=g.slice(0,n),y=g.slice(n);for(h=n;h<286;++h)v[h]=0;for(h=r;h<30;++h)y[h]=0;return J=H(v,$,286),Z=H(y,X,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[Us(t),2];for(var n=0,r=0,i=Fs(t||1<<18),o=0,a=i.length>>>0,s=0,c=0;0==(1&r);)if(r=P(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,c=5):(n=ee(e,n),s=J,c=Z);;){!t&&a<o+32767&&(a=(i=V(i,o+32767)).length);var l=M(e,n,s),u=r>>>1==1?G[l]:$[l];if(n+=15&u,0===((u>>>=4)>>>8&255))i[o++]=u;else{if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=o+C[u];d>0&&(h+=M(e,n,d),n+=d),l=M(e,n,c),n+=15&(u=r>>>1==1?z[l]:X[l]);var p=(u>>>=4)<4?0:u-2>>1,f=x[u];for(p>0&&(f+=M(e,n,p),n+=p),!t&&a<h&&(a=(i=V(i,h+100)).length);o<h;)i[o]=i[o-f],++o}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,m>0)for(!t&&a<o+m&&(a=(i=V(i,o+m)).length);m-- >0;)i[o++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,o),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;Du(n,0);var r={FileIndex:[],FullPaths:[]};h(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var a=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,i=0;i<a;++i){n.l+=20;var c=n.read_shift(4),l=n.read_shift(4),u=n.read_shift(2),d=n.read_shift(2),p=n.read_shift(2);n.l+=8;var f=n.read_shift(4),m=o(n.slice(n.l+u,n.l+u+d));n.l+=u+d+p;var g=n.l;n.l=f+4,ie(n,c,l,r,m),n.l=g}return r}function ie(e,t,n,r,i){e.l+=2;var a=e.read_shift(2),s=e.read_shift(2),c=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,o=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(o-1),r.setDate(i);var a=31&t,s=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(a<<1),r}(e);if(8257&a)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var l=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),p="",f=0;f<d;++f)p+=String.fromCharCode(e[e.l++]);if(h){var g=o(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(c=g[21589].mt),((i||{})[21589]||{}).mt&&(c=i[21589].mt)}e.l+=h;var v=e.slice(e.l,e.l+l);switch(s){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&a&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),l=e.read_shift(4),u=e.read_shift(4)),l!=t&&ne(y,"Bad compressed size: "+t+" != "+l),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,p,v,{unsafe:!0,mt:c})}var oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&oe[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&oe[r[1]]?oe[r[1]]:"application/octet-stream"}function se(e){for(var t=Ds(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function ce(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var o=r[i];if(0!=o.length)for(var a=0;a<o.length;){var s=76,c=o.slice(a,a+s);"="==c.charAt(s-1)?s--:"="==c.charAt(s-2)?s-=2:"="==c.charAt(s-3)&&(s-=3),c=o.slice(a,a+s),(a+=s)<o.length&&(c+="="),n.push(c)}else n.push("")}return n.join("\r\n")}function le(e,t,n){for(var r,i="",o="",a="",s=0;s<10;++s){var c=t[s];if(!c||c.match(/^\s*$/))break;var l=c.match(/^(.*?):\s*([^\s].*)$/);if(l)switch(l[1].toLowerCase()){case"content-location":i=l[2].trim();break;case"content-type":a=l[2].trim();break;case"content-transfer-encoding":o=l[2].trim()}}switch(++s,o.toLowerCase()){case"base64":r=Bs(Ls(t.slice(s).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return Bs(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+o)}var u=ue(e,i.slice(n.length),r,{unsafe:!0});a&&(u.ctype=a)}function ue(e,t,n,i){var o=i&&i.unsafe;o||h(e);var a=!o&&Fc.find(e,t);if(!a){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),a={name:r(t),type:2},e.FileIndex.push(a),e.FullPaths.push(s),o||Fc.utils.cfb_gc(e)}return a.content=n,a.size=n?n.length:0,i&&(i.CLSID&&(a.clsid=i.CLSID),i.mt&&(a.mt=i.mt),i.ct&&(a.ct=i.ct)),a}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var o=t.toUpperCase(),a=!0===i?n.indexOf(o):r.indexOf(o);if(-1!==a)return e.FileIndex[a];var s=!o.match(zs);for(o=o.replace(Gs,""),s&&(o=o.replace(zs,"!")),a=0;a<n.length;++a){if((s?n[a].replace(zs,"!"):n[a]).replace(Gs,"")==o)return e.FileIndex[a];if((s?r[a].replace(zs,"!"):r[a]).replace(Gs,"")==o)return e.FileIndex[a]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||Ms&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return a(),s(e.readFileSync(t),n)}(t,n);case"base64":return s(Bs(Ls(t)),n);case"binary":return s(Bs(t),n)}return s(t,n)},t.parse=s,t.write=function(t,n){var r=f(t,n);switch(n&&n.type||"buffer"){case"file":return a(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:w(r);case"base64":return Ds("string"==typeof r?r:w(r));case"buffer":if(Ms)return Buffer.isBuffer(r)?r:js(r);case"array":return"string"==typeof r?Bs(r):r}return r},t.writeFile=function(t,n,r){a();var i=f(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ue,cfb_del:function(e,t){h(e);var n=Fc.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){h(e);var i=Fc.find(e,t);if(i)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==i)return e.FileIndex[o].name=r(n),e.FullPaths[o]=n,!0;return!1},cfb_gc:function(e){p(e,!0)},ReadShift:Au,CheckField:Pu,prep_blob:Du,bconcat:Hs,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(F1){console.error("cannot use native zlib: "+(F1.message||F1))}},_deflateRaw:q,_inflateRaw:te,consts:_},t}();let Bc;function Vc(e){return"string"===typeof e?Vs(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Wc(e,t,n){if("undefined"!==typeof Bc&&Bc.writeFileSync)return n?Bc.writeFileSync(e,t,n):Bc.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Vs(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?xl(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var i=new Blob([Vc(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(o)}),6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=e,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(o)}),6e4),o}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Ws(t)),s.write(t),s.close(),t}catch(F1){if(!F1.message||!F1.message.match(/onstruct/))throw F1}throw new Error("cannot save file "+e)}function Hc(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Gc(e,t){for(var n=[],r=Hc(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function zc(e){for(var t=[],n=Hc(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Kc(e){for(var t=[],n=Hc(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var Yc=new Date(1899,11,30,0,0,0);function qc(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(Yc.getTime()+6e4*(e.getTimezoneOffset()-Yc.getTimezoneOffset())))/864e5}var $c=new Date,Xc=Yc.getTime()+6e4*($c.getTimezoneOffset()-Yc.getTimezoneOffset()),Qc=$c.getTimezoneOffset();function Jc(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Xc),t.getTimezoneOffset()!==Qc&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Qc)),t}var Zc=new Date("2017-02-19T19:06:09.000Z"),el=isNaN(Zc.getFullYear())?new Date("2/19/17"):Zc,tl=2017==el.getFullYear();function nl(e,t){var n=new Date(e);if(tl)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==el.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function rl(e,t){if(Ms&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return xl(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return xl(Os(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return xl(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return xl(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(F1){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function il(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=il(e[n]));return t}function ol(e,t){for(var n="";n.length<t;)n+=e;return n}function al(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var sl=["january","february","march","april","may","june","july","august","september","october","november","december"];function cl(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==sl.indexOf(a))return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||o>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function ll(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=Ms?js(n):function(e){for(var t=[],n=0,r=e.length+250,i=Us(e.length+255),o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var s=1023&e.charCodeAt(++o);i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|s>>6&15|(3&a)<<4,i[n++]=128|63&s}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|63&a;n>r&&(t.push(i.slice(0,n)),n=0,i=Us(65535),r=65530)}return t.push(i.slice(0,n)),Hs(t)}(n),Fc.utils.cfb_add(e,t,r);Fc.utils.cfb_add(e,t,n)}else e.file(t,n)}function ul(){return Fc.utils.cfb_new()}var dl='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var hl={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pl=zc(hl),fl=/[&<>'"]/g,ml=/[\u0000-\u0008\u000b-\u001f]/g;function gl(e){return(e+"").replace(fl,(function(e){return pl[e]})).replace(ml,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function vl(e){return gl(e).replace(/ /g,"_x0020_")}var yl=/[\u0000-\u001f]/g;function bl(e){return(e+"").replace(fl,(function(e){return pl[e]})).replace(/\n/g,"<br/>").replace(yl,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function El(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _l(e){for(var t="",n=0,r=0,i=0,o=0,a=0,s=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(a=(31&r)<<6,a|=63&i,t+=String.fromCharCode(a)):(o=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o):(s=((7&r)<<18|(63&i)<<12|(63&o)<<6|63&(a=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function wl(e){var t,n,r,i=Us(2*e.length),o=1,a=0,s=0;for(n=0;n<e.length;n+=o)o=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),o=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),o=3):(o=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(i[a++]=255&s,i[a++]=s>>>8,s=0),i[a++]=t%256,i[a++]=t>>>8;return i.slice(0,a).toString("ucs2")}function Sl(e){return js(e,"binary").toString("utf8")}var Tl="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Cl=Ms&&(Sl(Tl)==_l(Tl)&&Sl||wl(Tl)==_l(Tl)&&wl)||_l,xl=Ms?function(e){return js(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},Rl=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var Al=/(^\s|\s$|\n)/;function Ol(e,t){return"<"+e+(t.match(Al)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Il(e){return Hc(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function Nl(e,t,n){return"<"+e+(null!=n?Il(n):"")+(null!=t?(t.match(Al)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function kl(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(F1){if(t)throw F1}return""}var Pl="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Dl="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Ll="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Ml="http://schemas.openxmlformats.org/package/2006/content-types",jl="http://schemas.openxmlformats.org/package/2006/relationships",Ul="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Fl="http://purl.org/dc/elements/1.1/",Bl="http://purl.org/dc/terms/",Vl="http://purl.org/dc/dcmitype/",Wl="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Hl="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Gl="http://www.w3.org/2001/XMLSchema-instance",zl="http://www.w3.org/2001/XMLSchema",Kl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Yl="urn:schemas-microsoft-com:office:office",ql="urn:schemas-microsoft-com:office:excel",$l="urn:schemas-microsoft-com:office:spreadsheet",Xl="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",Ql="http://macVmlSchemaUri",Jl="urn:schemas-microsoft-com:vml",Zl="http://www.w3.org/TR/REC-html40";var eu=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},tu=Ms?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:js(e)}))):eu(e)}:eu,nu=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Su(e,i)));return r.join("").replace(Gs,"")},ru=Ms?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Gs,""):nu(e,t,n)}:nu,iu=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},ou=Ms?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):iu(e,t,n)}:iu,au=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(wu(e,i)));return r.join("")},su=Ms?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):au(e,t,n)}:au,cu=function(e,t){var n=Cu(e,t);return n>0?su(e,t+4,t+4+n-1):""},lu=cu,uu=function(e,t){var n=Cu(e,t);return n>0?su(e,t+4,t+4+n-1):""},du=uu,hu=function(e,t){var n=2*Cu(e,t);return n>0?su(e,t+4,t+4+n-1):""},pu=hu,fu=function(e,t){var n=Cu(e,t);return n>0?ru(e,t+4,t+4+n):""},mu=fu,gu=function(e,t){var n=Cu(e,t);return n>0?su(e,t+4,t+4+n):""},vu=gu,yu=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],o=5;o>=0;--o)i=256*i+e[t+o];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},bu=yu,Eu=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function _u(){ru=function(e,t,n){return Is.utils.decode(1200,e.slice(t,n)).replace(Gs,"")},su=function(e,t,n){return Is.utils.decode(65001,e.slice(t,n))},lu=function(e,t){var n=Cu(e,t);return n>0?Is.utils.decode(Ss,e.slice(t+4,t+4+n-1)):""},du=function(e,t){var n=Cu(e,t);return n>0?Is.utils.decode(ws,e.slice(t+4,t+4+n-1)):""},pu=function(e,t){var n=2*Cu(e,t);return n>0?Is.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},mu=function(e,t){var n=Cu(e,t);return n>0?Is.utils.decode(1200,e.slice(t+4,t+4+n)):""},vu=function(e,t){var n=Cu(e,t);return n>0?Is.utils.decode(65001,e.slice(t+4,t+4+n)):""}}Ms&&(lu=function(e,t){if(!Buffer.isBuffer(e))return cu(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},du=function(e,t){if(!Buffer.isBuffer(e))return uu(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},pu=function(e,t){if(!Buffer.isBuffer(e))return hu(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},mu=function(e,t){if(!Buffer.isBuffer(e))return fu(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},vu=function(e,t){if(!Buffer.isBuffer(e))return gu(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},bu=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):yu(e,t)},Eu=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Is&&_u();var wu=function(e,t){return e[t]},Su=function(e,t){return 256*e[t+1]+e[t]},Tu=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Cu=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ru=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Au(e,t){var n,r,i,o,a,s,c="",l=[];switch(t){case"dbcs":if(s=this.l,Ms&&Buffer.isBuffer(this))c=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)c+=String.fromCharCode(Su(this,s)),s+=2;e*=2;break;case"utf8":c=su(this,this.l,this.l+e);break;case"utf16le":e*=2,c=ru(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Is)return Au.call(this,e,"dbcs");c=Is.utils.decode(ws,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":c=lu(this,this.l),e=4+Cu(this,this.l);break;case"lpstr-cp":c=du(this,this.l),e=4+Cu(this,this.l);break;case"lpwstr":c=pu(this,this.l),e=4+2*Cu(this,this.l);break;case"lpp4":e=4+Cu(this,this.l),c=mu(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Cu(this,this.l),c=vu(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,c="";0!==(i=wu(this,this.l+e++));)l.push(Ns(i));c=l.join("");break;case"_wstr":for(e=0,c="";0!==(i=Su(this,this.l+e));)l.push(Ns(i)),e+=2;e+=2,c=l.join("");break;case"dbcs-cont":for(c="",s=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=wu(this,s),this.l=s+1,o=Au.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),l.join("")+o;l.push(Ns(Su(this,s))),s+=2}c=l.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Is){c=Is.utils.decode(ws,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(c="",s=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=wu(this,s),this.l=s+1,o=Au.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),l.join("")+o;l.push(Ns(wu(this,s))),s+=1}c=l.join("");break;default:switch(e){case 1:return n=wu(this,this.l),this.l++,n;case 2:return n=("i"===t?Tu:Su)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?xu:Ru)(this,this.l),this.l+=4,n):(r=Cu(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?bu(this,this.l):bu([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:c=ou(this,this.l,e)}}return this.l+=e,c}var Ou=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Iu=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Nu=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function ku(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)Nu(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof Is&&874==Ss)for(i=0;i!=t.length;++i){var o=Is.utils.encode(Ss,t.charAt(i));this[this.l+i]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Ou(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,a=r?-t:t;isFinite(a)?0==a?i=o=0:(i=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var s=0;s<=5;++s,o/=256)e[n+s]=255&o;e[n+6]=(15&i)<<4|15&o,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Iu(this,t,this.l)}}return this.l+=r,this}function Pu(e,t){var n=ou(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Du(e,t){e.l=t,e.read_shift=Au,e.chk=Pu,e.write_shift=ku}function Lu(e,t){e.l+=t}function Mu(e){var t=Us(e);return Du(t,0),t}function ju(){var e=[],t=Ms?256:2048,n=function(e){var t=Mu(e);return Du(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},o=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:o,push:function(e){i(),null==(r=e).l&&(r.l=r.length),o(t)},end:function(){return i(),Hs(e)},_bufs:e}}function Uu(e,t,n,r){var i,o=+t;if(!isNaN(o)){r||(r=Zf[o].p||(n||[]).length||0),i=1+(o>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var a=e.next(i);o<=127?a.write_shift(1,o):(a.write_shift(1,128+(127&o)),a.write_shift(1,o>>7));for(var s=0;4!=s;++s){if(!(r>=128)){a.write_shift(1,r);break}a.write_shift(1,128+(127&r)),r>>=7}r>0&&Eu(n)&&e.push(n)}}function Fu(e,t,n){var r=il(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Bu(e,t,n){var r=il(e);return r.s=Fu(r.s,t.s,n),r.e=Fu(r.e,t.s,n),r}function Vu(e,t){if(e.cRel&&e.c<0)for(e=il(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=il(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=qu(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function Wu(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Vu(e.s,t.biff)+":"+Vu(e.e,t.biff):(e.s.rRel?"":"$")+Gu(e.s.r)+":"+(e.e.rRel?"":"$")+Gu(e.e.r):(e.s.cRel?"":"$")+Ku(e.s.c)+":"+(e.e.cRel?"":"$")+Ku(e.e.c)}function Hu(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Gu(e){return""+(e+1)}function zu(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Ku(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Yu(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function qu(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function $u(e){var t=e.indexOf(":");return-1==t?{s:Yu(e),e:Yu(e)}:{s:Yu(e.slice(0,t)),e:Yu(e.slice(t+1))}}function Xu(e,t){return"undefined"===typeof t||"number"===typeof t?Xu(e.s,e.e):("string"!==typeof e&&(e=qu(e)),"string"!==typeof t&&(t=qu(t)),e==t?e:e+":"+t)}function Qu(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,o=e.length;for(n=0;r<o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===o||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function Ju(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Pc(e.z,n?qc(t):t)}catch(F1){}try{return e.w=Pc((e.XF||{}).numFmtId||(n?14:0),n?qc(t):t)}catch(F1){return""+t}}function Zu(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Dd[e.v]||e.v:Ju(e,void 0==t?e.v:t))}function ed(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function td(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;var o=e||(i?[]:{}),a=0,s=0;if(o&&null!=r.origin){if("number"==typeof r.origin)a=r.origin;else{var c="string"==typeof r.origin?Yu(r.origin):r.origin;a=c.r,s=c.c}o["!ref"]||(o["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=Qu(o["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),-1==a&&(l.e.r=a=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var p={v:t[d][h]},f=a+d,m=s+h;if(l.s.r>f&&(l.s.r=f),l.s.c>m&&(l.s.c=m),l.e.r<f&&(l.e.r=f),l.e.c<m&&(l.e.c=m),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else{if(!r.sheetStubs)continue;p.t="z"}else"number"===typeof p.v?p.t="n":"boolean"===typeof p.v?p.t="b":p.v instanceof Date?(p.z=r.dateNF||tc[14],r.cellDates?(p.t="d",p.w=Pc(p.z,qc(p.v))):(p.t="n",p.v=qc(p.v),p.w=Pc(p.z,p.v))):p.t="s";else p=t[d][h];if(i)o[f]||(o[f]=[]),o[f][m]&&o[f][m].z&&(p.z=o[f][m].z),o[f][m]=p;else{var g=qu({c:m,r:f});o[g]&&o[g].z&&(p.z=o[g].z),o[g]=p}}}return l.s.c<1e7&&(o["!ref"]=Xu(l)),o}function nd(e,t){return td(null,e,t)}function rd(e,t){return t||(t=Mu(4)),t.write_shift(4,e),t}function id(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function od(e,t){var n=!1;return null==t&&(n=!0,t=Mu(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function ad(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sd(e,t){var n=e.l,r=e.read_shift(1),i=id(e),o=[],a={t:i,h:i};if(0!==(1&r)){for(var s=e.read_shift(4),c=0;c!=s;++c)o.push(ad(e));a.r=o}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}var cd=sd;function ld(e,t){var n=!1;return null==t&&(n=!0,t=Mu(23+4*e.t.length)),t.write_shift(1,1),od(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Mu(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function ud(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function dd(e,t){return null==t&&(t=Mu(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function pd(e,t){return null==t&&(t=Mu(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var fd=id,md=od;function gd(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function vd(e,t){var n=!1;return null==t&&(n=!0,t=Mu(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var yd=id,bd=gd,Ed=vd;function _d(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?bu([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):xu(t,0)>>2;return n?i/100:i}function wd(e,t){null==t&&(t=Mu(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function Sd(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Td=Sd,Cd=function(e,t){return t||(t=Mu(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function xd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Rd(e,t){return(t||Mu(8)).write_shift(8,e,"f")}function Ad(e,t){if(t||(t=Mu(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var Od=80,Id={1:{n:"CodePage",t:2},2:{n:"Category",t:Od},3:{n:"PresentationFormat",t:Od},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Od},15:{n:"Company",t:Od},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Od},27:{n:"ContentStatus",t:Od},28:{n:"Language",t:Od},29:{n:"Version",t:Od},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Nd={1:{n:"CodePage",t:2},2:{n:"Title",t:Od},3:{n:"Subject",t:Od},4:{n:"Author",t:Od},5:{n:"Keywords",t:Od},6:{n:"Comments",t:Od},7:{n:"Template",t:Od},8:{n:"LastAuthor",t:Od},9:{n:"RevNumber",t:Od},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Od},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function kd(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var Pd=il(kd([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Dd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ld={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Md={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jd(e,t){var n,r=function(e){for(var t=[],n=Hc(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(Ld),i=[];i[i.length]=dl,i[i.length]=Nl("Types",null,{xmlns:Ml,"xmlns:xsd":zl,"xmlns:xsi":Gl}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return Nl("Default",null,{Extension:e[0],ContentType:e[1]})})));var o=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=Nl("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:Md[r][t.bookType]||Md[r].xlsx}))},a=function(n){(e[n]||[]).forEach((function(e){i[i.length]=Nl("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Md[n][t.bookType]||Md[n].xlsx})}))},s=function(t){(e[t]||[]).forEach((function(e){i[i.length]=Nl("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return o("workbooks"),a("sheets"),a("charts"),s("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),a("metadata"),s("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Ud={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Fd(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bd(e){var t=[dl,Nl("Relationships",null,{xmlns:jl})];return Hc(e["!id"]).forEach((function(n){t[t.length]=Nl("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Vd(e,t,n,r,i,o){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,o?i.TargetMode=o:[Ud.HLINK,Ud.XPATH,Ud.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function Wd(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Hd(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_s.version+"</meta:generator></office:meta></office:document-meta>"}var Gd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function zd(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=gl(t),r[r.length]=n?Nl(e,t,n):Ol(e,t))}function Kd(e,t){var n=t||{},r=[dl,Nl("cp:coreProperties",null,{"xmlns:cp":Pl,"xmlns:dc":Fl,"xmlns:dcterms":Bl,"xmlns:dcmitype":Vl,"xmlns:xsi":Gl})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&zd("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:kl(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&zd("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:kl(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=Gd.length;++o){var a=Gd[o],s=n.Props&&null!=n.Props[a[1]]?n.Props[a[1]]:e?e[a[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&zd(a[0],s,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Yd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qd=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $d(e){var t=[],n=Nl;return e||(e={}),e.Application="SheetJS",t[t.length]=dl,t[t.length]=Nl("Properties",null,{xmlns:Ll,"xmlns:vt":Hl}),Yd.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=gl(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+gl(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Xd(e){var t=[dl,Nl("Properties",null,{xmlns:Dl,"xmlns:vt":Hl})];if(!e)return t.join("");var n=1;return Hc(e).forEach((function(r){++n,t[t.length]=Nl("property",function(e,t){switch(typeof e){case"string":var n=Nl("vt:lpwstr",gl(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Nl((0|e)==e?"vt:i4":"vt:r8",gl(String(e)));case"boolean":return Nl("vt:bool",e?"true":"false")}if(e instanceof Date)return Nl("vt:filetime",kl(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:gl(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Qd={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Jd(e,t){var n=Mu(4),r=Mu(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Mu(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var o=Mu(8);return o.write_shift(4,n),o.write_shift(4,r),o}(t);break;case 31:case 80:for((r=Mu(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Hs([n,r])}var Zd=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function eh(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function th(e,t,n){var r=Mu(8),i=[],o=[],a=8,s=0,c=Mu(8),l=Mu(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),o.push(c),i.push(l),a+=8+c.length,!t){(l=Mu(8)).write_shift(4,0),i.unshift(l);var u=[Mu(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for((c=Mu(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Hs(u),o.unshift(c),a+=8+c.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(Zd.indexOf(e[s][0])>-1||qd.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],p=0;if(t){var f=n[p=+t[e[s][0]]];if("version"==f.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=Jd(f.t,h)}else{var g=eh(h);-1==g&&(g=31,h=String(h)),c=Jd(g,h)}o.push(c),(l=Mu(8)).write_shift(4,t?p:2+s),i.push(l),a+=8+c.length}var v=8*(o.length+1);for(s=0;s<o.length;++s)i[s].write_shift(4,v),v+=o[s].length;return r.write_shift(4,a),r.write_shift(4,o.length),Hs([r].concat(i).concat(o))}function nh(e,t,n,r,i,o){var a=Mu(i?68:48),s=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Fc.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var c=th(e,n,r);if(s.push(c),i){var l=th(i,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+c.length),s.push(l)}return Hs(s)}function rh(e,t){return 1===e.read_shift(t)}function ih(e,t){return t||(t=Mu(2)),t.write_shift(2,+!!e),t}function oh(e){return e.read_shift(2,"u")}function ah(e,t){return t||(t=Mu(2)),t.write_shift(2,e),t}function sh(e,t,n){return n||(n=Mu(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function ch(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",o=ws;(n&&n.biff>=8&&(ws=1200),n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?e.read_shift(r,i):"";return ws=o,a}function lh(e){var t=e.t||"",n=Mu(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Mu(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),Hs([n,r])}function uh(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function dh(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):uh(e,r,n)}function hh(e,t,n){if(n.biff>5)return dh(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ph(e,t,n){return n||(n=Mu(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function fh(e,t){t||(t=Mu(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function mh(e){var t=Mu(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)t.write_shift(4,a[n]);if(28==o)fh(r=r.slice(1),t);else if(2&o){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));var s=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&o&&fh(i>-1?r.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));for(var c=0;"../"==r.slice(3*c,3*c+3)||"..\\"==r.slice(3*c,3*c+3);)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),n=0;n<r.length-3*c;++n)t.write_shift(1,255&r.charCodeAt(n+3*c));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function gh(e,t,n,r){return r||(r=Mu(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function vh(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function yh(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function bh(e,t){return t||(t=Mu(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Eh(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var o=Mu(i);return o.write_shift(2,r),o.write_shift(2,t),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function _h(e,t){var n=!t||t.biff>=8?2:1,r=Mu(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function wh(e,t,n,r){var i=n&&5==n.biff;r||(r=Mu(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function Sh(e,t,n,r){var i=n&&5==n.biff;r||(r=Mu(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Th(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=ch(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,o=e.read_shift(n.biff>8?4:2);0!==o--;)r.push(vh(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function Ch(e){var t=Mu(24),n=Yu(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return Hs([t,mh(e[1])])}function xh(e){var t=e[1].Tooltip,n=Mu(10+2*(t.length+1));n.write_shift(2,2048);var r=Yu(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function Rh(e,t,n){if(!n.cellStyles)return Lu(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(r),c=e.read_shift(2);2==r&&(e.l+=2);var l={s:i,e:o,w:a,ixfe:s,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}var Ah=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=zc({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=nd(function(t,n){var r=[],i=Us(1);switch(n.type){case"base64":i=Bs(Ls(t));break;case"binary":i=Bs(t);break;case"buffer":case"array":i=t}Du(i,0);var o=i.read_shift(1),a=!!(136&o),s=!1,c=!1;switch(o){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,a=!0;break;case 140:c=!0;break;default:throw new Error("DBF Unsupported Version: "+o.toString(16))}var l=0,u=521;2==o&&(l=i.read_shift(2)),i.l+=3,2!=o&&(l=i.read_shift(4)),l>1048576&&(l=1e6),2!=o&&(u=i.read_shift(2));var d=i.read_shift(2),h=n.codepage||1252;2!=o&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(h=e[i[i.l]]),i.l+=1,i.l+=2),c&&(i.l+=36);for(var p=[],f={},m=Math.min(i.length,2==o?521:u-10-(s?264:0)),g=c?32:11;i.l<m&&13!=i[i.l];)switch((f={}).name=Is.utils.decode(h,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,f.type=String.fromCharCode(i.read_shift(1)),2==o||c||(f.offset=i.read_shift(4)),f.len=i.read_shift(1),2==o&&(f.offset=i.read_shift(2)),f.dec=i.read_shift(1),f.name.length&&p.push(f),2!=o&&(i.l+=c?13:14),f.type){case"B":s&&8==f.len||!n.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=p.length;++y)r[0][y]=p[y].name;for(;l-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=p.length;++y){var b=i.slice(i.l,i.l+p[y].len);i.l+=p[y].len,Du(b,0);var E=Is.utils.decode(h,b);switch(p[y].type){case"C":E.trim().length&&(r[v][y]=E.replace(/\s+$/,""));break;case"D":8===E.length?r[v][y]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):r[v][y]=E;break;case"F":r[v][y]=parseFloat(E.trim());break;case"+":case"I":r[v][y]=c?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+o.toString(16));r[v][y]="##MEMO##"+(c?parseInt(E.trim(),10):b.read_shift(4));break;case"N":(E=E.replace(/\u0000/g,"").trim())&&"."!=E&&(r[v][y]=+E||0);break;case"@":r[v][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-b.read_shift(-8,"f");break;case"B":if(s&&8==p[y].len){r[v][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=p[y].len;break;case"0":if("_NullFlags"===p[y].name)break;default:throw new Error("DBF Unsupported data type "+p[y].type)}}else i.l+=d;if(2!=o&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=p,r}(t,r),r);return i["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return ed(n(e,t),t)}catch(F1){if(t&&t.WTF)throw F1}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&Rs(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var o=ju(),a=Qm(e,{header:1,raw:!0,cellDates:!0}),s=a[0],c=a.slice(1),l=e["!cols"]||[],u=0,d=0,h=0,p=1;for(u=0;u<s.length;++u)if(((l[u]||{}).DBF||{}).name)s[u]=l[u].DBF.name,++h;else if(null!=s[u]){if(++h,"number"===typeof s[u]&&(s[u]=s[u].toString(10)),"string"!==typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(d=0;d<1024;++d)if(-1==s.indexOf(s[u]+"_"+d)){s[u]+="_"+d;break}}var f=Qu(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=f.e.c-f.s.c;++u){var y="",b="",E=0,_=[];for(d=0;d<c.length;++d)null!=c[d][u]&&_.push(c[d][u]);if(0!=_.length&&null!=s[u]){for(d=0;d<_.length;++d){switch(typeof _[d]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=_[d]instanceof Date?"D":"C"}E=Math.max(E,String(_[d]).length),y=y&&y!=b?"C":b}E>250&&(E=250),"C"==(b=((l[u]||{}).DBF||{}).type)&&l[u].DBF.len>E&&(E=l[u].DBF.len),"B"==y&&"N"==b&&(y="N",v[u]=l[u].DBF.dec,E=l[u].DBF.len),g[u]="C"==y||"N"==b?E:r[y]||0,p+=g[u],m[u]=y}else m[u]="?"}var w=o.next(32);for(w.write_shift(4,318902576),w.write_shift(4,c.length),w.write_shift(2,296+32*h),w.write_shift(2,p),u=0;u<4;++u)w.write_shift(4,0);for(w.write_shift(4,(+t[Ss]||3)<<8),u=0,d=0;u<s.length;++u)if(null!=s[u]){var S=o.next(32),T=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,T,"sbcs"),S.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),S.write_shift(4,d),S.write_shift(1,g[u]||r[m[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),d+=g[u]||r[m[u]]||0}var C=o.next(264);for(C.write_shift(4,13),u=0;u<65;++u)C.write_shift(4,0);for(u=0;u<c.length;++u){var x=o.next(p);for(x.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(m[d]){case"L":x.write_shift(1,null==c[u][d]?63:c[u][d]?84:70);break;case"B":x.write_shift(8,c[u][d]||0,"f");break;case"N":var R="0";for("number"==typeof c[u][d]&&(R=c[u][d].toFixed(v[d]||0)),h=0;h<g[d]-R.length;++h)x.write_shift(1,32);x.write_shift(1,R,"sbcs");break;case"D":c[u][d]?(x.write_shift(4,("0000"+c[u][d].getFullYear()).slice(-4),"sbcs"),x.write_shift(2,("00"+(c[u][d].getMonth()+1)).slice(-2),"sbcs"),x.write_shift(2,("00"+c[u][d].getDate()).slice(-2),"sbcs")):x.write_shift(8,"00000000","sbcs");break;case"C":var A=String(null!=c[u][d]?c[u][d]:"").slice(0,g[d]);for(x.write_shift(1,A,"sbcs"),h=0;h<g[d]-A.length;++h)x.write_shift(1,32)}}return o.next(1).write_shift(1,26),o.end()}}}(),Oh=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Hc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?ks(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:ks(r)};function i(e,i){var o,a=e.split(/[\n\r]+/),s=-1,c=-1,l=0,u=0,d=[],h=[],p=null,f={},m=[],g=[],v=[],y=0;for(+i.codepage>=0&&Rs(+i.codepage);l!==a.length;++l){y=0;var b,E=a[l].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),_=E.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),w=_[0];if(E.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==_[1].charAt(0)&&h.push(E.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,T=!1,C=!1,x=!1,R=-1,A=-1;for(u=1;u<_.length;++u)switch(_[u].charAt(0)){case"A":case"G":break;case"X":c=parseInt(_[u].slice(1))-1,T=!0;break;case"Y":for(s=parseInt(_[u].slice(1))-1,T||(c=0),o=d.length;o<=s;++o)d[o]=[];break;case"K":'"'===(b=_[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(al(b))?isNaN(cl(b).getDate())||(b=nl(b)):(b=al(b),null!==p&&Oc(p)&&(b=Jc(b))),"undefined"!==typeof Is&&"string"==typeof b&&"string"!=(i||{}).type&&(i||{}).codepage&&(b=Is.utils.decode(i.codepage,b)),S=!0;break;case"E":x=!0;var O=Ep(_[u].slice(1),{r:s,c:c});d[s][c]=[d[s][c],O];break;case"S":C=!0,d[s][c]=[d[s][c],"S5S"];break;case"R":R=parseInt(_[u].slice(1))-1;break;case"C":A=parseInt(_[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+E)}if(S&&(d[s][c]&&2==d[s][c].length?d[s][c][0]=b:d[s][c]=b,p=null),C){if(x)throw new Error("SYLK shared formula cannot have own formula");var I=R>-1&&d[R][A];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");d[s][c][1]=Sp(I[1],{r:s-R,c:c-A})}break;case"F":var N=0;for(u=1;u<_.length;++u)switch(_[u].charAt(0)){case"X":c=parseInt(_[u].slice(1))-1,++N;break;case"Y":for(s=parseInt(_[u].slice(1))-1,o=d.length;o<=s;++o)d[o]=[];break;case"M":y=parseInt(_[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":p=h[parseInt(_[u].slice(1))];break;case"W":for(v=_[u].slice(1).split(" "),o=parseInt(v[0],10);o<=parseInt(v[1],10);++o)y=parseInt(v[2],10),g[o-1]=0===y?{hidden:!0}:{wch:y},Kh(g[o-1]);break;case"C":g[c=parseInt(_[u].slice(1))-1]||(g[c]={});break;case"R":m[s=parseInt(_[u].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=$h(y)):0===y&&(m[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+E)}N<1&&(p=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+E)}}return m.length>0&&(f["!rows"]=m),g.length>0&&(f["!cols"]=g),i&&i.sheetRows&&(d=d.slice(0,i.sheetRows)),[d,f]}function o(e,t){var n=function(e,t){switch(t.type){case"base64":return i(Ls(e),t);case"binary":return i(e,t);case"buffer":return i(Ms&&Buffer.isBuffer(e)?e.toString("binary"):Ws(e),t);case"array":return i(rl(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],o=n[1],a=nd(r,t);return Hc(o).forEach((function(e){a[e]=o[e]})),a}function a(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+wp(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return ed(o(e,t),t)},to_sheet:o,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],o=[],s=Qu(e["!ref"]),c=Array.isArray(e),l="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=Hh(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=Gh(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*qh(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(i,e["!rows"]),i.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var d=s.s.c;d<=s.e.c;++d){var h=qu({r:u,c:d});(n=c?(e[u]||[])[d]:e[h])&&(null!=n.v||n.f&&!n.F)&&o.push(a(n,0,u,d))}return i.join(l)+l+o.join(l)+l+"E"+l}}}(),Ih=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,o=0,a=[];o!==n.length;++o)if("BOT"!==n[o].trim()){if(!(r<0)){for(var s=n[o].trim().split(","),c=s[0],l=s[1],u=n[++o]||"";1&(u.match(/["]/g)||[]).length&&o<n.length-1;)u+="\n"+n[++o];switch(u=u.trim(),+c){case-1:if("BOT"===u){a[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?a[r][i]=!0:"FALSE"===u?a[r][i]=!1:isNaN(al(l))?isNaN(cl(l).getDate())?a[r][i]=l:a[r][i]=nl(l):a[r][i]=al(l),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),a[r][i++]=""!==u?u:null}if("EOD"===u)break}}else a[++r]=[],i=0;return t&&t.sheetRows&&(a=a.slice(0,t.sheetRows)),a}function t(t,n){return nd(function(t,n){switch(n.type){case"base64":return e(Ls(t),n);case"binary":return e(t,n);case"buffer":return e(Ms&&Buffer.isBuffer(t)?t.toString("binary"):Ws(t),n);case"array":return e(rl(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],o=Qu(n["!ref"]),a=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,o.e.r-o.s.r+1,""),e(i,"TUPLES",0,o.e.c-o.s.c+1,""),e(i,"DATA",0,0,"");for(var s=o.s.r;s<=o.e.r;++s){t(i,-1,0,"BOT");for(var c=o.s.c;c<=o.e.c;++c){var l=qu({r:s,c:c});if(r=a?(n[s]||[])[c]:n[l])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=Pc(r.z||tc[14],qc(nl(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,n){return ed(t(e,n),n)},to_sheet:t,from_sheet:n}}(),Nh=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return nd(function(t,n){for(var r=t.split("\n"),i=-1,o=-1,a=0,s=[];a!==r.length;++a){var c=r[a].trim().split(":");if("cell"===c[0]){var l=Yu(c[1]);if(s.length<=l.r)for(i=s.length;i<=l.r;++i)s[i]||(s[i]=[]);switch(i=l.r,o=l.c,c[2]){case"t":s[i][o]=e(c[3]);break;case"v":s[i][o]=+c[3];break;case"vtf":var u=c[c.length-1];case"vtc":"nl"===c[3]?s[i][o]=!!+c[4]:s[i][o]=+c[4],"vtf"==c[2]&&(s[i][o]=[s[i][o],u])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function s(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],o="",a=$u(e["!ref"]),s=Array.isArray(e),c=a.s.r;c<=a.e.r;++c)for(var l=a.s.c;l<=a.e.c;++l)if(o=qu({r:c,c:l}),(n=s?(e[c]||[])[l]:e[o])&&null!=n.v&&"z"!==n.t){switch(i=["cell",o,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=qc(nl(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||Pc(n.z||tc[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(a.e.c-a.s.c+1)+":r:"+(a.e.r-a.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return ed(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,i,o,i,s(e),a].join("\n")}}}(),kh=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(al(e))?isNaN(cl(e).getDate())?t[n][r]=e:t[n][r]=nl(e):t[n][r]=al(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,o=0,a=0;o<e.length;++o)34==(a=e.charCodeAt(o))?i=!i:!i&&a in t&&(r[a]=(r[a]||0)+1);for(o in a=[],r)Object.prototype.hasOwnProperty.call(r,o)&&a.push([r[o],o]);if(!a.length)for(o in r=n)Object.prototype.hasOwnProperty.call(r,o)&&a.push([r[o],o]);return a.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[a.pop()[1]]||44}function i(e,t){var n=t||{},i="";var o=n.dense?[]:{},a={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var s=0,c=0,l=0,u=0,d=0,h=i.charCodeAt(0),p=!1,f=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?function(e){var t="number"==typeof e?tc[e]:e;return t=t.replace(jc,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,d),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(r.t="s",r.v=t):(r.t="n",r.f=t.slice(1));else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(l=al(t)))if(!isNaN(cl(t).getDate())||g&&t.match(g)){r.z=n.dateNF||tc[14];var i=0;g&&t.match(g)&&(t=function(e,t,n){var r=-1,i=-1,o=-1,a=-1,s=-1,c=-1;(t.match(jc)||[]).forEach((function(e,t){var l=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=l;break;case"d":o=l;break;case"h":a=l;break;case"s":c=l;break;case"m":a>=0?s=l:i=l}})),c>=0&&-1==s&&i>=0&&(s=i,i=-1);var l=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==l.length&&(l="0"+l),8==l.length&&(l="20"+l);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return-1==a&&-1==s&&-1==c?l:-1==r&&-1==i&&-1==o?u:l+"T"+u}(0,n.dateNF,t.match(g)||[]),i=1),n.cellDates?(r.t="d",r.v=nl(t,i)):(r.t="n",r.v=qc(nl(t,i))),!1!==n.cellText&&(r.w=Pc(r.z,r.v instanceof Date?qc(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=l;if("z"==r.t||(n.dense?(o[s]||(o[s]=[]),o[s][c]=r):o[qu({c:c,r:s})]=r),u=d+1,m=e.charCodeAt(u),a.e.c<c&&(a.e.c=c),a.e.r<s&&(a.e.r=s),f==h)++c;else if(c=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(f=e.charCodeAt(d)){case 34:34===m&&(p=!p);break;case h:case 10:case 13:if(!p&&v())break e}return d-u>0&&v(),o["!ref"]=Xu(a),o}function o(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):nd(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var o=t.split(/[\r\n]/),a=o.length-1;a>=0&&0===o[a].length;)--a;for(var s=10,c=0,l=0;l<=a;++l)-1==(c=o[l].indexOf(" "))?c=o[l].length:c++,s=Math.max(s,c);for(l=0;l<=a;++l){i[l]=[];var u=0;for(e(o[l].slice(0,s).trim(),i,l,u,r),u=1;u<=(o[l].length-s)/10+1;++u)e(o[l].slice(s+10*(u-1),s+10*u).trim(),i,l,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function a(e,t){var n="",r="string"==t.type?[0,0,0,0]:Wm(e,t);switch(t.type){case"base64":n=Ls(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Is?Is.utils.decode(t.codepage,e):Ms&&Buffer.isBuffer(e)?e.toString("binary"):Ws(e);break;case"array":n=rl(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Cl(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=Cl(n):"binary"==t.type&&"undefined"!==typeof Is&&t.codepage&&(n=Is.utils.decode(t.codepage,Is.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Nh.to_sheet("string"==t.type?n:Cl(n),t):o(n,t)}return{to_workbook:function(e,t){return ed(a(e,t),t)},to_sheet:a,from_sheet:function(e){for(var t,n=[],r=Qu(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var a=[],s=r.s.c;s<=r.e.c;++s){var c=qu({r:o,c:s});if((t=i?(e[o]||[])[s]:e[c])&&null!=t.v){for(var l=(t.w||(Zu(t),t.w)||"").slice(0,10);l.length<10;)l+=" ";a.push(l+(0===s?" ":""))}else a.push("          ")}n.push(a.join(""))}return n.join("\n")}}}();var Ph=function(){function e(e,t,n){if(e){Du(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),o=r[i]||r[65535],a=e.read_shift(2),s=e.l+a,c=o.f&&o.f(e,a,n);if(e.l=s,t(c,o,i))return}}}function t(t,n){if(!t)return t;var r=n||{};var i=r.dense?[]:{},o="Sheet1",a="",s=0,c={},l=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(a=e);break;case 222:a=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||tc[14],r.cellDates&&(e[1].t="d",e[1].v=Jc(e[1].v))),r.qpro&&e[3]>s&&(i["!ref"]=Xu(d),c[o]=i,l.push(o),i=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o=a||"Sheet"+(s+1),a="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[qu(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[qu(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:o=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i["!ref"]=Xu(d),c[o]=i,l.push(o),i=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o="Sheet"+(s+1)),h>0&&e[0].r>=h)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[qu(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(o=e[1])}}),r)}if(i["!ref"]=Xu(d),c[a||o]=i,l.push(a||o),!u.length)return{SheetNames:l,Sheets:c};for(var p={},f=[],m=0;m<u.length;++m)c[l[m]]?(f.push(u[m]||l[m]),p[u[m]]=c[u[m]]||c[l[m]]):(f.push(u[m]),p[u[m]]={"!ref":"A1"});return{SheetNames:f,Sheets:p}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].t="s",20768==r.vers){e.l++;var a=e.read_shift(1);return o[1].v=e.read_shift(a,"utf8"),o}return r.qpro&&e.l++,o[1].v=e.read_shift(i-e.l,"cstr"),o}function i(e,t,n){var r=Mu(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var o=n.charCodeAt(i);r.write_shift(1,o>=128?95:o)}return r.write_shift(1,0),r}function o(e,t,n){var r=Mu(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function a(e,t,n){var r=Mu(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function s(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?Ku(t):Gu(t))}var c={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},l=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,n,r){var i=Mu(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var o=0;o<r.length;++o){var a=r.charCodeAt(o);i.write_shift(1,a>=128?95:a)}return i.write_shift(1,0),i}function h(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(2);if(65535==o)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var a=32768&o;return o=(32767&o)-16446,n[1].v=(1-2*a)*(i*Math.pow(2,o+32)+r*Math.pow(2,o)),n}function p(e,t,n,r){var i=Mu(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var o,a=0,s=0,c=0;return r<0&&(a=1,r=-r),s=0|Math.log2(r),0==(2147483648&(c=(r/=Math.pow(2,s-31))>>>0))&&(++s,c=(r/=2)>>>0),r-=c,c|=2147483648,c>>>=0,o=(r*=Math.pow(2,32))>>>0,i.write_shift(4,o),i.write_shift(4,c),s+=16383+(a?32768:0),i.write_shift(2,s),i}function f(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=Mu(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:oh},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var a=e.read_shift(2);!function(e,t){Du(e,0);var n=[],r=0,i="",o="",a="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:n.push(e.read_shift(8,"f"));break;case 1:o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(o+i);break;case 2:var h=s(t[0].c,e.read_shift(2),!0),p=s(t[0].r,e.read_shift(2),!1);o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(h+p+":"+o+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var f="";d=e[e.l++];)f+=String.fromCharCode(d);n.push('"'+f.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),a=n.pop(),n.push(["AND","OR"][d-20]+"("+a+","+u+")");break;default:if(d<32&&l[d])u=n.pop(),a=n.pop(),n.push(a+l[d]+u);else{if(!c[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(r=c[d][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(c[d][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+a),o),e.l+=a}return o}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=h(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:f},40:{n:"FORMULA28",f:function(e,t){var n=f(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&Rs(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=ju(),s=Qu(e["!ref"]),c=Array.isArray(e),l=[];em(r,0,function(e){var t=Mu(2);return t.write_shift(2,e),t}(1030)),em(r,6,function(e){var t=Mu(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(s));for(var u=Math.min(s.e.r,8191),d=s.s.r;d<=u;++d)for(var h=Gu(d),p=s.s.c;p<=s.e.c;++p){d===s.s.r&&(l[p]=Ku(p));var f=l[p]+h,m=c?(e[d]||[])[p]:e[f];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?em(r,13,o(d,p,m.v)):em(r,14,a(d,p,m.v));else em(r,15,i(d,p,Zu(m).slice(0,239)))}return em(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&Rs(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=ju();em(r,0,function(e){var t=Mu(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,o=0;o<e.SheetNames.length;++o){var a=e.SheetNames[o],s=e.Sheets[a];if(s&&s["!ref"]){++i;var c=$u(s["!ref"]);n<c.e.r&&(n=c.e.r),r<c.e.c&&(r=c.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,o=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&em(r,27,g(e.SheetNames[i],o++));var a=0;for(i=0;i<e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];if(s&&s["!ref"]){for(var c=Qu(s["!ref"]),l=Array.isArray(s),u=[],h=Math.min(c.e.r,8191),f=c.s.r;f<=h;++f)for(var m=Gu(f),v=c.s.c;v<=c.e.c;++v){f===c.s.r&&(u[v]=Ku(v));var y=u[v]+m,b=l?(s[f]||[])[v]:s[y];if(b&&"z"!=b.t)if("n"==b.t)em(r,23,p(f,v,a,b.v));else em(r,22,d(f,v,a,Zu(b).slice(0,239)))}++a}}return em(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(Bs(Ls(e)),n);case"binary":return t(Bs(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Dh=/^\s|\s$|[\t\n\r]/;function Lh(e,t){if(!t.bookSST)return"";var n=[dl];n[n.length]=Nl("sst",null,{xmlns:Kl[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(Dh)&&(o+=' xml:space="preserve"'),o+=">"+gl(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Mh=function(e,t){var n=!1;return null==t&&(n=!0,t=Mu(15+4*e.t.length)),t.write_shift(1,0),od(e.t,t),n?t.slice(0,t.l):t};function jh(e){var t=ju();Uu(t,159,function(e,t){return t||(t=Mu(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Uu(t,19,Mh(e[n]));return Uu(t,160),t.end()}function Uh(e){if("undefined"!==typeof Is)return Is.utils.encode(Ss,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Fh(e){var t,n,r=0,i=Uh(e),o=i.length+1;for((t=Us(o))[0]=i.length,n=1;n!=o;++n)t[n]=i[n-1];for(n=o-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var Bh=function(){function e(e,n){switch(n.type){case"base64":return t(Ls(e),n);case"binary":return t(e,n);case"buffer":return t(Ms&&Buffer.isBuffer(e)?e.toString("binary"):Ws(e),n);case"array":return t(rl(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,o=/\\\w+\b/g,a=0,s=-1;r=o.exec(e);){if("\\cell"===r[0]){var c=e.slice(a,o.lastIndex-r[0].length);if(" "==c[0]&&(c=c.slice(1)),++s,c.length){var l={v:c,t:"s"};Array.isArray(n)?n[t][s]=l:n[qu({r:t,c:s})]=l}}a=o.lastIndex}s>i.e.c&&(i.e.c=s)})),n["!ref"]=Xu(i),n}return{to_workbook:function(t,n){return ed(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=Qu(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){n.push("\\trowd\\trautofit1");for(var a=r.s.c;a<=r.e.c;++a)n.push("\\cellx"+(a+1));for(n.push("\\pard\\intbl"),a=r.s.c;a<=r.e.c;++a){var s=qu({r:o,c:a});(t=i?(e[o]||[])[a]:e[s])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(Zu(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function Vh(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var Wh=6;function Hh(e){return Math.floor((e+Math.round(128/Wh)/256)*Wh)}function Gh(e){return Math.floor((e-5)/Wh*100+.5)/100}function zh(e){return Math.round((e*Wh+5)/Wh*256)/256}function Kh(e){e.width?(e.wpx=Hh(e.width),e.wch=Gh(e.wpx),e.MDW=Wh):e.wpx?(e.wch=Gh(e.wpx),e.width=zh(e.wch),e.MDW=Wh):"number"==typeof e.wch&&(e.width=zh(e.wch),e.wpx=Hh(e.width),e.MDW=Wh),e.customWidth&&delete e.customWidth}var Yh=96;function qh(e){return 96*e/Yh}function $h(e){return e*Yh/96}function Xh(e,t){var n,r=[dl,Nl("styleSheet",null,{xmlns:Kl[0],"xmlns:vt":Hl})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Nl("numFmt",null,{numFmtId:r,formatCode:gl(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Nl("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=Nl("cellXfs",null),e.forEach((function(e){t[t.length]=Nl("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Nl("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Qh(e,t,n){n||(n=Mu(6+4*t.length)),n.write_shift(2,e),od(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function Jh(e,t){t||(t=Mu(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Mu(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ad(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),od(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Zh,ep=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],tp=Lu;function np(e,t){t||(t=Mu(84)),Zh||(Zh=zc(ep));var n=Zh[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Ad({auto:1},t),Ad({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rp(e,t,n){n||(n=Mu(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function ip(e,t){return t||(t=Mu(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var op=Lu;function ap(e){var t;Uu(e,613,rd(1)),Uu(e,46,(t||(t=Mu(51)),t.write_shift(1,0),ip(0,t),ip(0,t),ip(0,t),ip(0,t),ip(0,t),t.length>t.l?t.slice(0,t.l):t)),Uu(e,614)}function sp(e){Uu(e,619,rd(1)),Uu(e,48,function(e,t){return t||(t=Mu(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),vd(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),Uu(e,620)}function cp(e){Uu(e,508,function(e,t,n){var r=Mu(2052);return r.write_shift(4,e),vd(t,r),vd(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Uu(e,509)}function lp(e,t){var n=ju();return Uu(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(Uu(e,615,rd(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Uu(e,44,Qh(r,t[r]))})),Uu(e,616))}}(n,e.SSF),function(e){Uu(e,611,rd(1)),Uu(e,43,Jh({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Uu(e,612)}(n),function(e){Uu(e,603,rd(2)),Uu(e,45,np({patternType:"none"})),Uu(e,45,np({patternType:"gray125"})),Uu(e,604)}(n),ap(n),function(e){Uu(e,626,rd(1)),Uu(e,47,rp({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Uu(e,627)}(n),function(e,t){Uu(e,617,rd(t.length)),t.forEach((function(t){Uu(e,47,rp(t,0))})),Uu(e,618)}(n,t.cellXfs),sp(n),function(e){Uu(e,505,rd(0)),Uu(e,506)}(n),cp(n),Uu(n,279),n.end()}function up(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[dl];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function dp(){var e=ju();return Uu(e,332),Uu(e,334,rd(1)),Uu(e,335,function(e){var t=Mu(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),od(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Uu(e,336),Uu(e,339,function(e,t){var n=Mu(8+2*t.length);return n.write_shift(4,e),od(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Uu(e,52),Uu(e,35,rd(514)),Uu(e,4096,rd(0)),Uu(e,4097,ah(1)),Uu(e,36),Uu(e,53),Uu(e,340),Uu(e,337,function(e,t){var n=Mu(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),Uu(e,51,function(e){var t=Mu(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Uu(e,338),Uu(e,333),e.end()}function hp(){var e=[dl];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var pp=1024;function fp(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Nl("xml",null,{"xmlns:v":Jl,"xmlns:o":Yl,"xmlns:x":ql,"xmlns:mv":Ql}).replace(/\/>/,">"),Nl("o:shapelayout",Nl("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Nl("v:shapetype",[Nl("v:stroke",null,{joinstyle:"miter"}),Nl("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];pp<1e3*e;)pp+=1e3;return t.forEach((function(e){var t=Yu(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?Nl("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=Nl("v:fill",r,n);++pp,i=i.concat(["<v:shape"+Il({id:"_x0000_s"+pp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,Nl("v:shadow",null,{on:"t",obscured:"t"}),Nl("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ol("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Ol("x:AutoFill","False"),Ol("x:Row",String(t.r)),Ol("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function mp(e){var t=[dl,Nl("comments",null,{xmlns:Kl[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=gl(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(gl(e.a))),i.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(Ol("t",gl(i[0]||"")));else{for(var o="Comment:\n    "+i[0]+"\n",a=1;a<i.length;++a)o+="Reply:\n    "+i[a]+"\n";t.push(Ol("t",gl(o)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function gp(e,t,n){var r=[dl,Nl("ThreadedComments",null,{xmlns:Ul}).replace(/[\/]>/,">")];return e.forEach((function(e){var i="";(e[1]||[]).forEach((function(o,a){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==a?i=s.id:s.parentId=i,o.ID=s.id,o.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Nl("threadedComment",Ol("text",o.t||""),s))}else delete o.ID}))})),r.push("</ThreadedComments>"),r.join("")}var vp=id;function yp(e){var t=ju(),n=[];return Uu(t,628),Uu(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Uu(t,632,function(e){return od(e.slice(0,54))}(e.a)))}))})),Uu(t,631),Uu(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var i={s:Yu(e[0]),e:Yu(e[0])};Uu(t,635,function(e,t){return null==t&&(t=Mu(36)),t.write_shift(4,e[1].iauthor),Cd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,r])),r.t&&r.t.length>0&&Uu(t,637,ld(r)),Uu(t,636),delete r.iauthor}))})),Uu(t,634),Uu(t,629),t.end()}var bp=["xlsb","xlsm","xlam","biff8","xla"];var Ep=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var o=!1,a=!1;0==r.length?a=!0:"["==r.charAt(0)&&(a=!0,r=r.slice(1,-1)),0==i.length?o=!0:"["==i.charAt(0)&&(o=!0,i=i.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,c=i.length>0?0|parseInt(i,10):0;return o?c+=t.c:--c,a?s+=t.r:--s,n+(o?"":"$")+Ku(c)+(a?"":"$")+Gu(s)}return function(r,i){return t=i,r.replace(e,n)}}(),_p=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wp=function(){return function(e,t){return e.replace(_p,(function(e,n,r,i,o,a){var s=zu(i)-(r?0:t.c),c=Hu(a)-(o?0:t.r);return n+"R"+(0==c?"":o?c+1:"["+c+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")}))}}();function Sp(e,t){return e.replace(_p,(function(e,n,r,i,o,a){return n+("$"==r?r+i:Ku(zu(i)+t.c))+("$"==o?o+a:Gu(Hu(a)+t.r))}))}function Tp(e){e.l+=1}function Cp(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function xp(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Rp(e);12==n.biff&&(r=4)}var i=e.read_shift(r),o=e.read_shift(r),a=Cp(e,2),s=Cp(e,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:s[0],cRel:s[1],rRel:s[2]}}}function Rp(e){var t=Cp(e,2),n=Cp(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Ap(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=Cp(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=Cp(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function Op(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function Ip(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function Np(e){return[e.read_shift(1),e.read_shift(1)]}function kp(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=rh(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Dd[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=xd(e);break;case 2:n[1]=hh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Pp(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],o=0;o!=r;++o)i.push((12==n.biff?Td:yh)(e,8));return i}function Dp(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var o=0,a=[];o!=r&&(a[o]=[]);++o)for(var s=0;s!=i;++s)a[o][s]=kp(e,n.biff);return a}function Lp(e,t,n){return e.l+=2,[Op(e)]}function Mp(e){return e.l+=6,[]}function jp(e){return e.l+=2,[oh(e),1&e.read_shift(2)]}var Up=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var Fp={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Lu},3:{n:"PtgAdd",f:Tp},4:{n:"PtgSub",f:Tp},5:{n:"PtgMul",f:Tp},6:{n:"PtgDiv",f:Tp},7:{n:"PtgPower",f:Tp},8:{n:"PtgConcat",f:Tp},9:{n:"PtgLt",f:Tp},10:{n:"PtgLe",f:Tp},11:{n:"PtgEq",f:Tp},12:{n:"PtgGe",f:Tp},13:{n:"PtgGt",f:Tp},14:{n:"PtgNe",f:Tp},15:{n:"PtgIsect",f:Tp},16:{n:"PtgUnion",f:Tp},17:{n:"PtgRange",f:Tp},18:{n:"PtgUplus",f:Tp},19:{n:"PtgUminus",f:Tp},20:{n:"PtgPercent",f:Tp},21:{n:"PtgParen",f:Tp},22:{n:"PtgMissArg",f:Tp},23:{n:"PtgStr",f:function(e,t,n){return e.l++,ch(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,Dd[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,xd(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[of[i],rf[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),o=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===o[0]?rf:nf)[o[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,o]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,Ap(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,xp(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Lu},40:{n:"PtgMemNoMem",f:Lu},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),o=e.read_shift(2),a=(16384&o)>>14,s=(32768&o)>>15;if(o&=16383,1==s)for(;i>524287;)i-=1048576;if(1==a)for(;o>8191;)o-=16384;return{r:i,c:o,cRel:a,rRel:s}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return Rp(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),o=Cp(e,2),a=Cp(e,2);return{s:{r:r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,Ap(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12,6;break;case 12:12}return[r,i,xp(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6}return e.l+=o,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12}return e.l+=o,[r,i]}},255:{}},Bp={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Vp={1:{n:"PtgElfLel",f:jp},2:{n:"PtgElfRw",f:Lp},3:{n:"PtgElfCol",f:Lp},6:{n:"PtgElfRwV",f:Lp},7:{n:"PtgElfColV",f:Lp},10:{n:"PtgElfRadical",f:Lp},11:{n:"PtgElfRadicalS",f:Mp},13:{n:"PtgElfColS",f:Mp},15:{n:"PtgElfColSV",f:Mp},16:{n:"PtgElfRadicalLel",f:jp},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),o=e.read_shift(2);return{ixti:t,coltype:3&n,rt:Up[n>>2&31],idx:r,c:i,C:o}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Wp={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],o=0;o<=r;++o)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Ip},33:{n:"PtgAttrBaxcel",f:Ip},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),Np(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),Np(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Hp(e,t,n,r){if(r.biff<8)return Lu(e,t);for(var i=e.l+t,o=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=Dp(e,0,r),o.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Pp(e,n[a][1],r),o.push(n[a][2]);break;case"PtgExp":r&&12==r.biff&&(n[a][1][1]=e.read_shift(4),o.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return 0!==(t=i-e.l)&&o.push(Lu(e,t)),o}function Gp(e,t,n){for(var r,i,o=e.l+t,a=[];o!=e.l;)t=o-e.l,i=e[e.l],r=Fp[i]||Fp[Bp[i]],24!==i&&25!==i||(r=(24===i?Vp:Wp)[e[e.l+1]]),r&&r.f?a.push([r.n,r.f(e,t,n)]):Lu(e,t);return a}function zp(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],o=0;o<r.length;++o){var a=r[o];if(a)if(2===a[0])i.push('"'+a[1].replace(/"/g,'""')+'"');else i.push(a[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var Kp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yp(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function qp(e,t,n){var r=Yp(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function $p(e,t,n,r,i){var o,a,s,c,l=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,p=0,f="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=d.pop(),a=d.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=ol(" ",e[0][m][1][1]);break;case 1:g=ol("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}a+=g,m=-1}d.push(a+Kp[b[0]]+o);break;case"PtgIsect":o=d.pop(),a=d.pop(),d.push(a+" "+o);break;case"PtgUnion":o=d.pop(),a=d.pop(),d.push(a+","+o);break;case"PtgRange":o=d.pop(),a=d.pop(),d.push(a+":"+o);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=Fu(b[1][1],u,i),d.push(Vu(s,l));break;case"PtgRefN":s=n?Fu(b[1][1],n,i):b[1][1],d.push(Vu(s,l));break;case"PtgRef3d":h=b[1][1],s=Fu(b[1][2],u,i);f=qp(r,h,i);d.push(f+"!"+Vu(s,l));break;case"PtgFunc":case"PtgFuncVar":var E=b[1][0],_=b[1][1];E||(E=0);var w=0==(E&=127)?[]:d.slice(-E);d.length-=E,"User"===_&&(_=w.shift()),d.push(_+"("+w.join(",")+")");break;case"PtgBool":d.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(b[1]);break;case"PtgNum":d.push(String(b[1]));break;case"PtgStr":d.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":c=Bu(b[1][1],n?{s:n}:u,i),d.push(Wu(c,i));break;case"PtgArea":c=Bu(b[1][1],u,i),d.push(Wu(c,i));break;case"PtgArea3d":h=b[1][1],c=b[1][2],f=qp(r,h,i),d.push(f+"!"+Wu(c,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":p=b[1][2];var S=(r.names||[])[p-1]||(r[0]||[])[p],T=S?S.Name:"SH33TJSNAME"+String(p);T&&"_xlfn."==T.slice(0,6)&&!i.xlfn&&(T=T.slice(6)),d.push(T);break;case"PtgNameX":var C,x=b[1][1];if(p=b[1][2],!(i.biff<=5)){var R="";if(14849==((r[x]||[])[0]||[])[0]||(1025==((r[x]||[])[0]||[])[0]?r[x][p]&&r[x][p].itab>0&&(R=r.SheetNames[r[x][p].itab-1]+"!"):R=r.SheetNames[p-1]+"!"),r[x]&&r[x][p])R+=r[x][p].Name;else if(r[0]&&r[0][p])R+=r[0][p].Name;else{var A=(Yp(r,x,i)||"").split(";;");A[p-1]?R=A[p-1]:R+="SH33TJSERRX"}d.push(R);break}x<0&&(x=-x),r[x]&&(C=r[x][p]),C||(C={Name:"SH33TJSERRY"}),d.push(C.Name);break;case"PtgParen":var O="(",I=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:O=ol(" ",e[0][m][1][1])+O;break;case 3:O=ol("\r",e[0][m][1][1])+O;break;case 4:I=ol(" ",e[0][m][1][1])+I;break;case 5:I=ol("\r",e[0][m][1][1])+I;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}d.push(O+d.pop()+I);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":s={c:b[1][1],r:b[1][0]};var N={c:n.c,r:n.r};if(r.sharedf[qu(s)]){var k=r.sharedf[qu(s)];d.push($p(k,u,N,r,i))}else{var P=!1;for(o=0;o!=r.arrayf.length;++o)if(a=r.arrayf[o],!(s.c<a[0].s.c||s.c>a[0].e.c)&&!(s.r<a[0].s.r||s.r>a[0].e.r)){d.push($p(a[1],u,N,r,i)),P=!0;break}P||d.push(b[1])}break;case"PtgArray":d.push("{"+zp(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((b=e[0][m])[1][0]){case 4:D=!1;case 0:g=ol(" ",b[1][1]);break;case 5:D=!1;case 1:g=ol("\r",b[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}d.push((D?g:"")+d.pop()+(D?"":g)),m=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function Xp(e,t,n,r,i){var o=gh(t,n,i),a=function(e){if(null==e){var t=Mu(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Rd("number"==typeof e?e:0)}(e.v),s=Mu(6);s.write_shift(2,33),s.write_shift(4,0);for(var c=Mu(e.bf.length),l=0;l<e.bf.length;++l)c[l]=e.bf[l];return Hs([o,a,s,c])}function Qp(e,t,n){var r=e.read_shift(4),i=Gp(e,r,n),o=e.read_shift(4);return[i,o>0?Hp(e,o,i,n):null]}var Jp=Qp,Zp=Qp,ef=Qp,tf=Qp,nf={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rf={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},of={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function af(e){return("of:="+e.replace(_p,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function sf(e){return e.replace(/\./,"!")}var cf="undefined"!==typeof Map;function lf(e,t,n){var r=0,i=e.length;if(n){if(cf?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var o=cf?n.get(t):n[t];r<o.length;++r)if(e[o[r]].t===t)return e.Count++,o[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(cf?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function uf(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Wh=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=Gh(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=zh(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function df(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function hf(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,o=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){Dc(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=o;++i)if(e[i].numFmtId===r)return i;return e[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function pf(e,t,n){if(e&&e["!ref"]){var r=Qu(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var ff=["objects","scenarios","selectLockedCells","selectUnlockedCells"],mf=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gf(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var i="",o=e.t,a=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Dd[e.v];break;case"d":r&&r.cellDates?i=nl(e.v,-1).toISOString():((e=il(e)).t="n",i=""+(e.v=qc(nl(e.v)))),"undefined"===typeof e.z&&(e.z=tc[14]);break;default:i=e.v}var s=Ol("v",gl(i)),c={r:t},l=hf(r.cellXfs,e,r);switch(0!==l&&(c.s=l),e.t){case"n":case"z":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Ol("v",""+lf(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str"}if(e.t!=o&&(e.t=o,e.v=a),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=Nl("f",gl(e.f),u)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(c.cm=1),Nl("c",s,c)}function vf(e,t,n,r){var i,o=[dl,Nl("worksheet",null,{xmlns:Kl[0],"xmlns:r":Wl})],a=n.SheetNames[e],s="",c=n.Sheets[a];null==c&&(c={});var l=c["!ref"]||"A1",u=Qu(l);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=Xu(u)}r||(r={}),c["!comments"]=[];var d=[];!function(e,t,n,r,i){var o=!1,a={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var c=t.SheetNames[n];try{t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch(F1){}o=!0,a.codeName=xl(gl(c))}if(e&&e["!outline"]){var l={summaryBelow:1,summaryRight:1};e["!outline"].above&&(l.summaryBelow=0),e["!outline"].left&&(l.summaryRight=0),s=(s||"")+Nl("outlinePr",null,l)}(o||s)&&(i[i.length]=Nl("sheetPr",s,a))}(c,n,e,t,o),o[o.length]=Nl("dimension",null,{ref:l}),o[o.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Nl("sheetViews",Nl("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(o[o.length]=Nl("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=c["!cols"]&&c["!cols"].length>0&&(o[o.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Nl("col",null,uf(i,n)));return r[r.length]="</cols>",r.join("")}(0,c["!cols"])),o[i=o.length]="<sheetData/>",c["!links"]=[],null!=c["!ref"]&&(s=function(e,t){var n,r,i=[],o=[],a=Qu(e["!ref"]),s="",c="",l=[],u=0,d=0,h=e["!rows"],p=Array.isArray(e),f={r:c},m=-1;for(d=a.s.c;d<=a.e.c;++d)l[d]=Ku(d);for(u=a.s.r;u<=a.e.r;++u){for(o=[],c=Gu(u),d=a.s.c;d<=a.e.c;++d){n=l[d]+c;var g=p?(e[u]||[])[d]:e[n];void 0!==g&&null!=(s=gf(g,n,e,t))&&o.push(s)}(o.length>0||h&&h[u])&&(f={r:c},h&&h[u]&&((r=h[u]).hidden&&(f.hidden=1),m=-1,r.hpx?m=qh(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(f.ht=m,f.customHeight=1),r.level&&(f.outlineLevel=r.level)),i[i.length]=Nl("row",o.join(""),f))}if(h)for(;u<h.length;++u)h&&h[u]&&(f={r:u+1},(r=h[u]).hidden&&(f.hidden=1),m=-1,r.hpx?m=qh(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(f.ht=m,f.customHeight=1),r.level&&(f.outlineLevel=r.level),i[i.length]=Nl("row","",f));return i.join("")}(c,t,0,0),s.length>0&&(o[o.length]=s)),o.length>i+1&&(o[o.length]="</sheetData>",o[i]=o[i].replace("/>",">")),c["!protect"]&&(o[o.length]=function(e){var t={sheet:1};return ff.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),mf.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=Fh(e.password).toString(16).toUpperCase()),Nl("sheetProtection",null,t)}(c["!protect"])),null!=c["!autofilter"]&&(o[o.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:Xu(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=$u(i);a.s.r==a.e.r&&(a.e.r=$u(t["!ref"]).e.r,i=Xu(a));for(var s=0;s<o.length;++s){var c=o[s];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return s==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Nl("autoFilter",null,{ref:i})}(c["!autofilter"],c,n,e)),null!=c["!merges"]&&c["!merges"].length>0&&(o[o.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Xu(e[n])+'"/>';return t+"</mergeCells>"}(c["!merges"]));var h,p=-1,f=-1;return c["!links"].length>0&&(o[o.length]="<hyperlinks>",c["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=Vd(r,-1,gl(e[1].Target).replace(/#.*$/,""),Ud.HLINK),h["r:id"]="rId"+f),(p=e[1].Target.indexOf("#"))>-1&&(h.location=gl(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=gl(e[1].Tooltip)),o[o.length]=Nl("hyperlink",null,h))})),o[o.length]="</hyperlinks>"),delete c["!links"],null!=c["!margins"]&&(o[o.length]=function(e){return df(e),Nl("pageMargins",null,e)}(c["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(o[o.length]=Ol("ignoredErrors",Nl("ignoredError",null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(f=Vd(r,-1,"../drawings/drawing"+(e+1)+".xml",Ud.DRAW),o[o.length]=Nl("drawing",null,{"r:id":"rId"+f}),c["!drawing"]=d),c["!comments"].length>0&&(f=Vd(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ud.VML),o[o.length]=Nl("legacyDrawing",null,{"r:id":"rId"+f}),c["!legacy"]=f),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function yf(e,t,n,r){var i=function(e,t,n){var r=Mu(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var o=320;i.hpx?o=20*qh(i.hpx):i.hpt&&(o=20*i.hpt),r.write_shift(2,o),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var s=0,c=r.l;r.l+=4;for(var l={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,p=u<<10;p<u+1<<10;++p)l.c=p,(Array.isArray(n)?(n[l.r]||[])[l.c]:n[qu(l)])&&(d<0&&(d=p),h=p);d<0||(++s,r.write_shift(4,d),r.write_shift(4,h))}var f=r.l;return r.l=c,r.write_shift(4,s),r.l=f,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Uu(e,0,i)}var bf=Td,Ef=Cd;function _f(e){return[hd(e),xd(e),"n"]}var wf=Td,Sf=Cd;var Tf=["left","right","top","bottom","header","footer"];function Cf(e,t,n,r,i,o,a){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=il(t)).z=t.z||tc[14],t.v=qc(nl(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var c={r:n,c:r};switch(c.s=hf(i.cellXfs,t,i),t.l&&o["!links"].push([qu(c),t.l]),t.c&&o["!comments"].push([qu(c),t.c]),t.t){case"s":case"str":return i.bookSST?(s=lf(i.Strings,t.v,i.revStrings),c.t="s",c.v=s,a?Uu(e,18,function(e,t,n){return null==n&&(n=Mu(8)),pd(t,n),n.write_shift(4,t.v),n}(0,c)):Uu(e,7,function(e,t,n){return null==n&&(n=Mu(12)),dd(t,n),n.write_shift(4,t.v),n}(0,c))):(c.t="str",a?Uu(e,17,function(e,t,n){return null==n&&(n=Mu(8+4*e.v.length)),pd(t,n),od(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,c)):Uu(e,6,function(e,t,n){return null==n&&(n=Mu(12+4*e.v.length)),dd(t,n),od(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,c))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?Uu(e,13,function(e,t,n){return null==n&&(n=Mu(8)),pd(t,n),wd(e.v,n),n}(t,c)):Uu(e,2,function(e,t,n){return null==n&&(n=Mu(12)),dd(t,n),wd(e.v,n),n}(t,c)):a?Uu(e,16,function(e,t,n){return null==n&&(n=Mu(12)),pd(t,n),Rd(e.v,n),n}(t,c)):Uu(e,5,function(e,t,n){return null==n&&(n=Mu(16)),dd(t,n),Rd(e.v,n),n}(t,c)),!0;case"b":return c.t="b",a?Uu(e,15,function(e,t,n){return null==n&&(n=Mu(5)),pd(t,n),n.write_shift(1,e.v?1:0),n}(t,c)):Uu(e,4,function(e,t,n){return null==n&&(n=Mu(9)),dd(t,n),n.write_shift(1,e.v?1:0),n}(t,c)),!0;case"e":return c.t="e",a?Uu(e,14,function(e,t,n){return null==n&&(n=Mu(8)),pd(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,c)):Uu(e,3,function(e,t,n){return null==n&&(n=Mu(9)),dd(t,n),n.write_shift(1,e.v),n}(t,c)),!0}return a?Uu(e,12,function(e,t,n){return null==n&&(n=Mu(4)),pd(t,n)}(0,c)):Uu(e,1,function(e,t,n){return null==n&&(n=Mu(8)),dd(t,n)}(0,c)),!0}function xf(e,t){var n,r;t&&t["!merges"]&&(Uu(e,177,(n=t["!merges"].length,null==r&&(r=Mu(4)),r.write_shift(4,n),r)),t["!merges"].forEach((function(t){Uu(e,176,Sf(t))})),Uu(e,178))}function Rf(e,t){t&&t["!cols"]&&(Uu(e,390),t["!cols"].forEach((function(t,n){t&&Uu(e,60,function(e,t,n){null==n&&(n=Mu(18));var r=uf(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))})),Uu(e,391))}function Af(e,t){t&&t["!ref"]&&(Uu(e,648),Uu(e,649,function(e){var t=Mu(24);return t.write_shift(4,4),t.write_shift(4,1),Cd(e,t),t}(Qu(t["!ref"]))),Uu(e,650))}function Of(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=Vd(n,-1,t[1].Target.replace(/#.*$/,""),Ud.HLINK);Uu(e,494,function(e,t){var n=Mu(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Cd({s:Yu(e[0]),e:Yu(e[0])},n),Ed("rId"+t,n);var r=e[1].Target.indexOf("#");return od((-1==r?"":e[1].Target.slice(r+1))||"",n),od(e[1].Tooltip||"",n),od("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}function If(e,t,n){Uu(e,133),Uu(e,137,function(e,t,n){null==n&&(n=Mu(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Uu(e,138),Uu(e,134)}function Nf(e,t){var n,r;t["!protect"]&&Uu(e,535,(n=t["!protect"],null==r&&(r=Mu(66)),r.write_shift(2,n.password?Fh(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)})),r))}function kf(e,t,n,r){var i=ju(),o=n.SheetNames[e],a=n.Sheets[o]||{},s=o;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(F1){}var c,l,u=Qu(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Uu(i,129),(n.vbaraw||a["!outline"])&&Uu(i,147,function(e,t,n){null==n&&(n=Mu(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Ad({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),md(e,n),n.slice(0,n.l)}(s,a["!outline"])),Uu(i,148,Ef(u)),If(i,0,n.Workbook),Rf(i,a),function(e,t,n,r){var i,o=Qu(t["!ref"]||"A1"),a="",s=[];Uu(e,145);var c=Array.isArray(t),l=o.e.r;t["!rows"]&&(l=Math.max(o.e.r,t["!rows"].length-1));for(var u=o.s.r;u<=l;++u){a=Gu(u),yf(e,t,o,u);var d=!1;if(u<=o.e.r)for(var h=o.s.c;h<=o.e.c;++h){u===o.s.r&&(s[h]=Ku(h)),i=s[h]+a;var p=c?(t[u]||[])[h]:t[i];d=!!p&&Cf(e,p,u,h,r,t,d)}}Uu(e,146)}(i,a,0,t),Nf(i,a),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],o="string"===typeof i.ref?i.ref:Xu(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=$u(o);s.s.r==s.e.r&&(s.e.r=$u(t["!ref"]).e.r,o=Xu(s));for(var c=0;c<a.length;++c){var l=a[c];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+o;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),Uu(e,161,Cd(Qu(o))),Uu(e,162)}}(i,a,n,e),xf(i,a),Of(i,a,r),a["!margins"]&&Uu(i,476,(c=a["!margins"],null==l&&(l=Mu(48)),df(c),Tf.forEach((function(e){Rd(c[e],l)})),l)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||Af(i,a),function(e,t,n,r){if(t["!comments"].length>0){var i=Vd(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ud.VML);Uu(e,551,Ed("rId"+i)),t["!legacy"]=i}}(i,a,e,r),Uu(i,130),i.end()}var Pf=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var Df="][*?/\\".split("");function Lf(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Df.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function Mf(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach((function(r,i){Lf(r);for(var o=0;o<i;++o)if(r==e[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=t&&t[i]&&t[i].CodeName||r;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}}))}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)pf(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function jf(e){var t=[dl];t[t.length]=Nl("workbook",null,{xmlns:Kl[0],"xmlns:r":Wl});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Pf.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Nl("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&i[o]&&i[o].Hidden;++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var a={name:gl(e.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=Nl("sheet",null,a)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=Nl("definedName",gl(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Uf(e,t){return t||(t=Mu(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Ed(e.strRelID,t),od(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Ff(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,i=t.Workbook.Sheets,o=0,a=-1,s=-1;o<i.length;++o)!i[o]||!i[o].Hidden&&-1==a?a=o:1==i[o].Hidden&&-1==s&&(s=o);if(!(s>a))Uu(e,135),Uu(e,158,(n=a,r||(r=Mu(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Uu(e,136)}}function Bf(e,t){var n=ju();return Uu(n,131),Uu(n,128,function(e,t){t||(t=Mu(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return od("SheetJS",t),od(_s.version,t),od(_s.version,t),od("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Uu(n,153,function(e,t){t||(t=Mu(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),md(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),Ff(n,e),function(e,t){Uu(e,143);for(var n=0;n!=t.SheetNames.length;++n)Uu(e,156,Uf({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));Uu(e,144)}(n,e),Uu(n,132),n.end()}function Vf(e,t,n,r,i){return(".bin"===t.slice(-4)?kf:vf)(e,n,r,i)}function Wf(e,t,n){return(".bin"===t.slice(-4)?yp:mp)(e,n)}function Hf(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return Hc(Qd).map((function(e){for(var t=0;t<Gd.length;++t)if(Gd[t][1]==e)return Gd[t];for(t=0;t<Yd.length;++t)if(Yd[t][1]==e)return Yd[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Ol(Qd[r[1]]||r[1],i))}})),Nl("DocumentProperties",n.join(""),{xmlns:Yl})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Hc(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<Gd.length;++r)if(t==Gd[r][1])return;for(r=0;r<Yd.length;++r)if(t==Yd[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var o=e[t],a="string";"number"==typeof o?(a="float",o=String(o)):!0===o||!1===o?(a="boolean",o=o?"1":"0"):o=String(o),i.push(Nl(vl(t),o,{"dt:dt":a}))}})),t&&Hc(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],o="string";"number"==typeof r?(o="float",r=String(r)):!0===r||!1===r?(o="boolean",r=r?"1":"0"):r instanceof Date?(o="dateTime.tz",r=r.toISOString()):r=String(r),i.push(Nl(vl(n),r,{"dt:dt":o}))}})),"<"+r+' xmlns="'+Yl+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function Gf(e){return Nl("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+wp(e.Ref,{r:0,c:0})})}function zf(e,t,n,r,i,o,a){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+gl(wp(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var c=Yu(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=gl(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=gl(e.l.Tooltip))),n["!merges"])for(var l=n["!merges"],u=0;u!=l.length;++u)l[u].s.c==a.c&&l[u].s.r==a.r&&(l[u].e.c>l[u].s.c&&(s["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(s["ss:MergeDown"]=l[u].e.r-l[u].s.r));var d="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Dd[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||tc[14]);break;case"s":d="String",h=((e.v||"")+"").replace(fl,(function(e){return pl[e]})).replace(yl,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var p=hf(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+p),s["ss:Index"]=a.c+1;var f=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+d+'">'+f+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=Nl("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Nl("Comment",t,{"ss:Author":e.a})})).join("")),Nl("Cell",m,s)}function Kf(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=$h(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Yf(e,t,n){var r=[],i=n.SheetNames[e],o=n.Sheets[i],a=o?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],a=0;a<i.length;++a){var s=i[a];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||o.push(Gf(s)))}return o.join("")}(o,0,e,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=o?function(e,t){if(!e["!ref"])return"";var n=Qu(e["!ref"]),r=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach((function(e,t){Kh(e);var n=!!e.width,r=uf(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=Hh(r.width)),e.hidden&&(i["ss:Hidden"]="1"),o.push(Nl("Column",null,i))}));for(var a=Array.isArray(e),s=n.s.r;s<=n.e.r;++s){for(var c=[Kf(s,(e["!rows"]||[])[s])],l=n.s.c;l<=n.e.c;++l){var u=!1;for(i=0;i!=r.length;++i)if(!(r[i].s.c>l)&&!(r[i].s.r>s)&&!(r[i].e.c<l)&&!(r[i].e.r<s)){r[i].s.c==l&&r[i].s.r==s||(u=!0);break}if(!u){var d={r:s,c:l},h=qu(d),p=a?(e[s]||[])[l]:e[h];c.push(zf(p,h,e,t,0,0,d))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}(o,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Nl("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Nl("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Nl("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Nl("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&(!r.Workbook.Sheets[o]||r.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Ol("ProtectContents","True")),e["!protect"].objects&&i.push(Ol("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Ol("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(Ol("EnableSelection","UnlockedCells")):i.push(Ol("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":Nl("WorksheetOptions",i.join(""),{xmlns:ql})}(o,0,e,n)),r.join("")}function qf(e,t){t||(t={}),e.SSF||(e.SSF=il(tc)),e.SSF&&(Mc(),Lc(e.SSF),t.revssf=Kc(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],hf(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Hf(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Nl("Worksheet",Yf(r,t,e),{"ss:Name":gl(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(Nl("NumberFormat",null,{"ss:Format":gl(tc[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(Nl("Style",r.join(""),i))})),Nl("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(Gf(i)))}return Nl("Names",n.join(""))}(e),dl+Nl("Workbook",n.join(""),{xmlns:$l,"xmlns:o":Yl,"xmlns:x":ql,"xmlns:ss":$l,"xmlns:dt":Xl,"xmlns:html":Zl})}var $f="e0859ff2f94f6810ab9108002b27b3d9",Xf="02d5cdd59c2e1b10939708002b2cf9ae",Qf="05d5cdd59c2e1b10939708002b2cf9ae";function Jf(e,t){var n=t||{},r=Fc.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Fc.utils.cfb_add(r,i,lm(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],o=[],a=0,s=Gc(Id,"n"),c=Gc(Nd,"n");if(e.Props)for(n=Hc(e.Props),a=0;a<n.length;++a)(Object.prototype.hasOwnProperty.call(s,n[a])?r:Object.prototype.hasOwnProperty.call(c,n[a])?i:o).push([n[a],e.Props[n[a]]]);if(e.Custprops)for(n=Hc(e.Custprops),a=0;a<n.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},n[a])||(Object.prototype.hasOwnProperty.call(s,n[a])?r:Object.prototype.hasOwnProperty.call(c,n[a])?i:o).push([n[a],e.Custprops[n[a]]]);var l=[];for(a=0;a<o.length;++a)Zd.indexOf(o[a][0])>-1||qd.indexOf(o[a][0])>-1||null!=o[a][1]&&l.push(o[a]);i.length&&Fc.utils.cfb_add(t,"/\x05SummaryInformation",nh(i,$f,c,Nd)),(r.length||l.length)&&Fc.utils.cfb_add(t,"/\x05DocumentSummaryInformation",nh(r,Xf,s,Id,l.length?l:null,Qf))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&Fc.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}(r,Fc.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var Zf={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=r,7&o&&(n.level=7&o),16&o&&(n.hidden=!0),32&o&&(n.hpt=i/20),n}},1:{f:function(e){return[ud(e)]}},2:{f:function(e){return[ud(e),_d(e),"n"]}},3:{f:function(e){return[ud(e),e.read_shift(1),"e"]}},4:{f:function(e){return[ud(e),e.read_shift(1),"b"]}},5:{f:function(e){return[ud(e),xd(e),"n"]}},6:{f:function(e){return[ud(e),id(e),"str"]}},7:{f:function(e){return[ud(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=ud(e);i.r=n["!row"];var o=[i,id(e),"str"];if(n.cellFormula){e.l+=2;var a=Zp(e,r-e.l,n);o[3]=$p(a,0,i,n.supbooks,n)}else e.l=r;return o}},9:{f:function(e,t,n){var r=e.l+t,i=ud(e);i.r=n["!row"];var o=[i,xd(e),"n"];if(n.cellFormula){e.l+=2;var a=Zp(e,r-e.l,n);o[3]=$p(a,0,i,n.supbooks,n)}else e.l=r;return o}},10:{f:function(e,t,n){var r=e.l+t,i=ud(e);i.r=n["!row"];var o=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var a=Zp(e,r-e.l,n);o[3]=$p(a,0,i,n.supbooks,n)}else e.l=r;return o}},11:{f:function(e,t,n){var r=e.l+t,i=ud(e);i.r=n["!row"];var o=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var a=Zp(e,r-e.l,n);o[3]=$p(a,0,i,n.supbooks,n)}else e.l=r;return o}},12:{f:function(e){return[hd(e)]}},13:{f:function(e){return[hd(e),_d(e),"n"]}},14:{f:function(e){return[hd(e),e.read_shift(1),"e"]}},15:{f:function(e){return[hd(e),e.read_shift(1),"b"]}},16:{f:_f},17:{f:function(e){return[hd(e),id(e),"str"]}},18:{f:function(e){return[hd(e),e.read_shift(4),"s"]}},19:{f:sd},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),o=yd(e),a=ef(e,0,n),s=gd(e);e.l=r;var c={Name:o,Ptg:a};return i<268435455&&(c.Sheet=i),s&&(c.Comment=s),c}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var c=Pd[r];c&&(t.rgb=Vh(c));break;case 2:t.rgb=Vh([o,a,s]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=id(e),r}},44:{f:function(e,t){return[e.read_shift(2),id(e)]}},45:{f:tp},46:{f:op},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Rh},62:{f:function(e){return[ud(e),sd(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=qu(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=fd(e,t-19),n}},148:{f:bf,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?id(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=bd(e,t-8),n.name=id(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Td},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wf},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:id(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bd},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Th},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=Sd(e),o=e.read_shift(1),a=[i];if(a[2]=o,n.cellFormula){var s=Jp(e,r-e.l,n);a[1]=s}else e.l=r;return a}},427:{f:function(e,t,n){var r=e.l+t,i=[Td(e,16)];if(n.cellFormula){var o=tf(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Tf.forEach((function(n){t[n]=xd(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=Td(e,16),i=gd(e),o=id(e),a=id(e),s=id(e);e.l=n;var c={rfx:r,relId:i,loc:o,display:s};return a&&(c.Tooltip=a),c}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bd},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vp},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=Td(e,16);return t.rfx=n.s,t.ref=qu(n.s),e.l+=16,t}},636:{T:-1},637:{f:cd},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:id(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function em(e,t,n,r){var i=t;if(!isNaN(i)){var o=r||(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,o),o>0&&Eu(n)&&e.push(n)}}function tm(e,t,n){return e||(e=Mu(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function nm(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?qc(nl(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?em(e,2,function(e,t,n){var r=Mu(9);return tm(r,e,t),r.write_shift(2,n),r}(n,r,i)):em(e,3,function(e,t,n){var r=Mu(15);return tm(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void em(e,5,function(e,t,n,r){var i=Mu(9);return tm(i,e,t),sh(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void em(e,4,function(e,t,n){var r=Mu(8+2*n.length);return tm(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}em(e,1,tm(null,n,r))}function rm(e,t){var n=t||{};for(var r=ju(),i=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(i=o);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return em(r,4==n.biff?1033:3==n.biff?521:9,Eh(0,16,n)),function(e,t,n,r){var i,o=Array.isArray(t),a=Qu(t["!ref"]||"A1"),s="",c=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=Xu(a)}for(var l=a.s.r;l<=a.e.r;++l){s=Gu(l);for(var u=a.s.c;u<=a.e.c;++u){l===a.s.r&&(c[u]=Ku(u)),i=c[u]+s;var d=o?(t[l]||[])[u]:t[i];d&&nm(e,d,l,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),em(r,10),r.end()}function im(e,t,n){em(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=Mu(r?15+n.length:16+2*n.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function om(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&em(e,125,function(e,t){var n=Mu(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(uf(r,t),r))}))}}function am(e,t,n,r,i){var o=16+hf(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)em(e,6,Xp(t,n,r,0,o));else switch(t.t){case"d":case"n":em(e,515,function(e,t,n,r){var i=Mu(14);return gh(e,t,r,i),Rd(n,i),i}(n,r,"d"==t.t?qc(nl(t.v)):t.v,o));break;case"b":case"e":em(e,517,function(e,t,n,r,i,o){var a=Mu(8);return gh(e,t,r,a),sh(n,o,a),a}(n,r,t.v,o,0,t.t));break;case"s":case"str":if(i.bookSST)em(e,253,function(e,t,n,r){var i=Mu(10);return gh(e,t,r,i),i.write_shift(4,n),i}(n,r,lf(i.Strings,t.v,i.revStrings),o));else em(e,516,function(e,t,n,r,i){var o=!i||8==i.biff,a=Mu(+o+8+(1+o)*n.length);return gh(e,t,r,a),a.write_shift(2,n.length),o&&a.write_shift(1,1),a.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),a}(n,r,(t.v||"").slice(0,255),o,i));break;default:em(e,513,gh(n,r,o))}else em(e,513,gh(n,r,o))}function sm(e,t,n){var r,i=ju(),o=n.SheetNames[e],a=n.Sheets[o]||{},s=(n||{}).Workbook||{},c=(s.Sheets||[])[e]||{},l=Array.isArray(a),u=8==t.biff,d="",h=[],p=Qu(a["!ref"]||"A1"),f=u?65536:16384;if(p.e.c>255||p.e.r>=f){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,f-1)}em(i,2057,Eh(0,16,t)),em(i,13,ah(1)),em(i,12,ah(100)),em(i,15,ih(!0)),em(i,17,ih(!1)),em(i,16,Rd(.001)),em(i,95,ih(!0)),em(i,42,ih(!1)),em(i,43,ih(!1)),em(i,130,ah(1)),em(i,128,function(e){var t=Mu(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),em(i,131,ih(!1)),em(i,132,ih(!1)),u&&om(i,a["!cols"]),em(i,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Mu(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(p,t)),u&&(a["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){d=Gu(m);for(var g=p.s.c;g<=p.e.c;++g){m===p.s.r&&(h[g]=Ku(g)),r=h[g]+d;var v=l?(a[m]||[])[g]:a[r];v&&(am(i,v,m,g,t),u&&v.l&&a["!links"].push([r,v.l]))}}var y=c.CodeName||c.name||o;return u&&em(i,574,function(e){var t=Mu(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&em(i,229,function(e){var t=Mu(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)bh(e[n],t);return t}(a["!merges"])),u&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];em(e,440,Ch(r)),r[1].Tooltip&&em(e,2048,xh(r))}delete t["!links"]}(i,a),em(i,442,ph(y)),u&&function(e,t){var n=Mu(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),em(e,2151,n),(n=Mu(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),bh(Qu(t["!ref"]||"A1"),n),n.write_shift(4,4),em(e,2152,n)}(i,a),em(i,10),i.end()}function cm(e,t,n){var r=ju(),i=(e||{}).Workbook||{},o=i.Sheets||[],a=i.WBProps||{},s=8==n.biff,c=5==n.biff;(em(r,2057,Eh(0,5,n)),"xla"==n.bookType&&em(r,135),em(r,225,s?ah(1200):null),em(r,193,function(e,t){t||(t=Mu(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),c&&em(r,191),c&&em(r,192),em(r,226),em(r,92,function(e,t){var n=!t||8==t.biff,r=Mu(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),em(r,66,ah(s?1200:1252)),s&&em(r,353,ah(0)),s&&em(r,448),em(r,317,function(e){for(var t=Mu(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),s&&e.vbaraw&&em(r,211),s&&e.vbaraw)&&em(r,442,ph(a.CodeName||"ThisWorkbook"));em(r,156,ah(17)),em(r,25,ih(!1)),em(r,18,ih(!1)),em(r,19,ah(0)),s&&em(r,431,ih(!1)),s&&em(r,444,ah(0)),em(r,61,function(){var e=Mu(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),em(r,64,ih(!1)),em(r,141,ah(0)),em(r,34,ih("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&El(e.Workbook.WBProps.date1904)?"true":"false"}(e))),em(r,14,ih(!0)),s&&em(r,439,ih(!1)),em(r,218,ah(0)),im(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&em(e,1054,wh(i,t[i],n))}))}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)em(e,224,Sh({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){em(e,224,Sh(n,0,t))}))}(r,n),s&&em(r,352,ih(!1));var l,u=r.end(),d=ju();s&&em(d,140,(l||(l=Mu(4)),l.write_shift(2,1),l.write_shift(2,1),l)),s&&n.Strings&&function(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return em(e,t,n,i);var o=t;if(!isNaN(o)){for(var a=n.parts||[],s=0,c=0,l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,o),u.write_shift(2,l),e.push(n.slice(c,c+l)),c+=l;c<i;){for((u=e.next(4)).write_shift(2,60),l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;u.write_shift(2,l),e.push(n.slice(c,c+l)),c+=l}}}(d,252,function(e){var t=Mu(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=lh(e[r]);var i=Hs([t].concat(n));return i.parts=[t.length].concat(n.map((function(e){return e.length}))),i}(n.Strings)),em(d,10);var h=d.end(),p=ju(),f=0,m=0;for(m=0;m<e.SheetNames.length;++m)f+=(s?12:11)+(s?2:1)*e.SheetNames[m].length;var g=u.length+f+h.length;for(m=0;m<e.SheetNames.length;++m){em(p,133,_h({pos:g,hs:(o[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length}var v=p.end();if(f!=v.length)throw new Error("BS8 "+f+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),h.length&&y.push(h),Hs(y)}function lm(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])$u(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=il(tc)),e&&e.SSF&&(Mc(),Lc(e.SSF),n.revssf=Kc(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Fm(n),n.cellXfs=[],hf(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=sm(i,n,e);return r.unshift(cm(e,r,n)),Hs(r)}(e,t);case 4:case 3:case 2:return rm(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function um(e,t,n,r){for(var i=e["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var s=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>n||i[l].s.c>a)&&!(i[l].e.r<n||i[l].e.c<a)){if(i[l].s.r<n||i[l].s.c<a){s=-1;break}s=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(s<0)){var u=qu({r:n,c:a}),d=r.dense?(e[n]||[])[a]:e[u],h=d&&null!=d.v&&(d.h||bl(d.w||(Zu(d),d.w)||""))||"",p={};s>1&&(p.rowspan=s),c>1&&(p.colspan=c),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",null!=d.v&&(p["data-v"]=d.v),null!=d.z&&(p["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,o.push(Nl("td",h,p))}}return"<tr>"+o.join("")+"</tr>"}var dm='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hm="</body></html>";function pm(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function fm(e,t){var n=t||{},r=null!=n.header?n.header:dm,i=null!=n.footer?n.footer:hm,o=[r],a=$u(e["!ref"]);n.dense=Array.isArray(e),o.push(pm(0,0,n));for(var s=a.s.r;s<=a.e.r;++s)o.push(um(e,a,s,n));return o.push("</table>"+i),o.join("")}function mm(e,t,n){var r=n||{};var i=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var a="string"==typeof r.origin?Yu(r.origin):r.origin;i=a.r,o=a.c}var s=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,s.length),l={s:{r:0,c:0},e:{r:i,c:o}};if(e["!ref"]){var u=$u(e["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),-1==i&&(l.e.r=i=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),f=0,m=0,g=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);f<s.length&&m<c;++f){var E=s[f];if(vm(E)){if(r.display)continue;p[m]={hidden:!0}}var _=E.children;for(g=v=0;g<_.length;++g){var w=_[g];if(!r.display||!vm(w)){var S=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):Rl(w.innerHTML),T=w.getAttribute("data-z")||w.getAttribute("z");for(h=0;h<d.length;++h){var C=d[h];C.s.c==v+o&&C.s.r<m+i&&m+i<=C.e.r&&(v=C.e.c+1-o,h=-1)}b=+w.getAttribute("colspan")||1,((y=+w.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+i,c:v+o},e:{r:m+i+(y||1)-1,c:v+o+(b||1)-1}});var x={t:"s",v:S},R=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=S&&(0==S.length?x.t=R||"z":r.raw||0==S.trim().length||"s"==R||("TRUE"===S?x={t:"b",v:!0}:"FALSE"===S?x={t:"b",v:!1}:isNaN(al(S))?isNaN(cl(S).getDate())||(x={t:"d",v:nl(S)},r.cellDates||(x={t:"n",v:qc(x.v)}),x.z=r.dateNF||tc[14]):x={t:"n",v:al(S)})),void 0===x.z&&null!=T&&(x.z=T);var A="",O=w.getElementsByTagName("A");if(O&&O.length)for(var I=0;I<O.length&&(!O[I].hasAttribute("href")||"#"==(A=O[I].getAttribute("href")).charAt(0));++I);A&&"#"!=A.charAt(0)&&(x.l={Target:A}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+o]=x):e[qu({c:v+o,r:m+i})]=x,l.e.c<v+o&&(l.e.c=v+o),v+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),l.e.r=Math.max(l.e.r,m-1+i),e["!ref"]=Xu(l),m>=c&&(e["!fullref"]=Xu((l.e.r=s.length-f+m-1+i,l))),e}function gm(e,t){return mm((t||{}).dense?[]:{},e,t)}function vm(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var ym=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Il({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return dl+t}}(),bm=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var i=[];i.push('      <table:table table:name="'+gl(n.SheetNames[r])+'" table:style-name="ta1">\n');var o=0,a=0,s=$u(t["!ref"]||"A1"),c=t["!merges"]||[],l=0,u=Array.isArray(t);if(t["!cols"])for(a=0;a<=s.e.c;++a)i.push("        <table:table-column"+(t["!cols"][a]?' table:style-name="co'+t["!cols"][a].ods+'"':"")+"></table:table-column>\n");var d="",h=t["!rows"]||[];for(o=0;o<s.s.r;++o)d=h[o]?' table:style-name="ro'+h[o].ods+'"':"",i.push("        <table:table-row"+d+"></table:table-row>\n");for(;o<=s.e.r;++o){for(d=h[o]?' table:style-name="ro'+h[o].ods+'"':"",i.push("        <table:table-row"+d+">\n"),a=0;a<s.s.c;++a)i.push(e);for(;a<=s.e.c;++a){var p=!1,f={},m="";for(l=0;l!=c.length;++l)if(!(c[l].s.c>a)&&!(c[l].s.r>o)&&!(c[l].e.c<a)&&!(c[l].e.r<o)){c[l].s.c==a&&c[l].s.r==o||(p=!0),f["table:number-columns-spanned"]=c[l].e.c-c[l].s.c+1,f["table:number-rows-spanned"]=c[l].e.r-c[l].s.r+1;break}if(p)i.push("          <table:covered-table-cell/>\n");else{var g=qu({r:o,c:a}),v=u?(t[o]||[])[a]:t[g];if(v&&v.f&&(f["table:formula"]=gl(af(v.f)),v.F&&v.F.slice(0,g.length)==g)){var y=$u(v.F);f["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,f["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(v){switch(v.t){case"b":m=v.v?"TRUE":"FALSE",f["office:value-type"]="boolean",f["office:boolean-value"]=v.v?"true":"false";break;case"n":m=v.w||String(v.v||0),f["office:value-type"]="float",f["office:value"]=v.v||0;break;case"s":case"str":m=null==v.v?"":v.v,f["office:value-type"]="string";break;case"d":m=v.w||nl(v.v).toISOString(),f["office:value-type"]="date",f["office:date-value"]=nl(v.v).toISOString(),f["table:style-name"]="ce1";break;default:i.push(e);continue}var b=gl(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var E=v.l.Target;"#"==(E="#"==E.charAt(0)?"#"+sf(E.slice(1)):E).charAt(0)||E.match(/^\w+:/)||(E="../"+E),b=Nl("text:a",b,{"xlink:href":E.replace(/&/g,"&amp;")})}i.push("          "+Nl("table:table-cell",Nl("text:p",b,{}),f)+"\n")}else i.push(e)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")};return function(e,n){var r=[dl],i=Il({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=Il({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+i+o+">\n"),r.push(Hd().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;Kh(i),i.ods=n;var o=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+o+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var a=0;a!=e.SheetNames.length;++a)r.push(t(e.Sheets[e.SheetNames[a]],e,a));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function Em(e,t){if("fods"==t.bookType)return bm(e,t);var n=ul(),r="",i=[],o=[];return ll(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ll(n,r="content.xml",bm(e,t)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),ll(n,r="styles.xml",ym(e,t)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),ll(n,r="meta.xml",dl+Hd()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),ll(n,r="manifest.rdf",function(e){var t,n,r=[dl];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var i=0;i!=e.length;++i)r.push(Wd(e[i][0],e[i][1])),r.push((t="",n=e[i][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(Wd("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(o)),i.push([r,"application/rdf+xml"]),ll(n,r="META-INF/manifest.xml",function(e){var t=[dl];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function _m(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wm(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Bs(xl(e))}function Sm(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function Tm(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function Cm(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function xm(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function Rm(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],o=Tm(e,n),a=7&o,s=0;if(0==(o=Math.floor(o/8)))break;switch(a){case 0:for(var c=n[0];e[n[0]++]>=128;);r=e.slice(c,n[0]);break;case 5:s=4,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Tm(e,n),r=e.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(o," at offset ").concat(i))}var l={data:r,type:a};null==t[o]?t[o]=[l]:t[o].push(l)}return t}function Am(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(Cm(8*n+e.type)),2==e.type&&t.push(Cm(e.data.length)),t.push(e.data))}))})),Sm(t)}function Om(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Tm(e,r),o=Rm(e.slice(r[0],r[0]+i));r[0]+=i;var a={id:xm(o[1][0].data),messages:[]};o[2].forEach((function(t){var n=Rm(t.data),i=xm(n[3][0].data);a.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(t=o[3])?void 0:t[0])&&(a.merge=xm(o[3][0].data)>>>0>0),n.push(a)}return n}function Im(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:Cm(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:Cm(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:Cm(e.data.length)}],n[2].push({data:Am(e.meta),type:2})}));var i=Am(n);t.push(Cm(i.length)),t.push(i),r.forEach((function(e){return t.push(e)}))})),Sm(t)}function Nm(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Tm(t,n),i=[];n[0]<t.length;){var o=3&t[n[0]];if(0!=o){var a=0,s=0;if(1==o?(s=4+(t[n[0]]>>2&7),a=(224&t[n[0]++])<<3,a|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==o?(a=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(a=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Sm(i)],0==a)throw new Error("Invalid offset 0");if(a>i[0].length)throw new Error("Invalid offset beyond length");if(s>=a)for(i.push(i[0].slice(-a)),s-=a;s>=i[i.length-1].length;)i.push(i[i.length-1]),s-=i[i.length-1].length;i.push(i[0].slice(-a,-a+s))}else{var c=t[n[0]++]>>2;if(c<60)++c;else{var l=c-59;c=t[n[0]],l>1&&(c|=t[n[0]+1]<<8),l>2&&(c|=t[n[0]+2]<<16),l>3&&(c|=t[n[0]+3]<<24),c>>>=0,c++,n[0]+=l}i.push(t.slice(n[0],n[0]+c)),n[0]+=c}}var u=Sm(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function km(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(Nm(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Sm(t)}function Pm(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var o=Cm(r),a=o.length;t.push(o),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),a+=r,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Sm(t)}function Dm(e,t){var n=new Uint8Array(32),r=_m(n),i=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var o=0;i>=1;++o,i/=256)e[t+o]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),o|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),o|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,o,!0),n.slice(0,i)}function Lm(e,t){var n=new Uint8Array(32),r=_m(n),i=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),o|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),o|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,o,!0),n.slice(0,i)}function Mm(e){return Tm(Rm(e)[1][0].data)}function jm(e,t,n){var r,i,o,a;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(a=null==(o=e[8])?void 0:o[0])?void 0:a.data)&&xm(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,c=_m(e[7][0].data),l=0,u=[],d=_m(e[4][0].data),h=0,p=[],f=0;f<t.length;++f)if(null!=t[f]){var m,g;switch(c.setUint16(2*f,l,!0),d.setUint16(2*f,h,!0),typeof t[f]){case"string":m=Dm({t:"s",v:t[f]},n),g=Lm({t:"s",v:t[f]},n);break;case"number":m=Dm({t:"n",v:t[f]},n),g=Lm({t:"n",v:t[f]},n);break;case"boolean":m=Dm({t:"b",v:t[f]},n),g=Lm({t:"b",v:t[f]},n);break;default:throw new Error("Unsupported value "+t[f])}u.push(m),l+=m.length,p.push(g),h+=g.length,++s}else c.setUint16(2*f,65535,!0),d.setUint16(2*f,65535);for(e[2][0].data=Cm(s);f<e[7][0].data.length/2;++f)c.setUint16(2*f,65535,!0),d.setUint16(2*f,65535,!0);return e[6][0].data=Sm(u),e[3][0].data=Sm(p),s}function Um(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function Fm(e){Um([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Bm(e,t){return"ods"==t.bookType?Em(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=$u(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Xu(r)));var o=Qm(n,{range:r,header:1}),a=["~Sh33tJ5~"];o.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&a.push(e)}))}));var s={},c=[],l=Fc.read(t.numbers,{type:"base64"});l.FileIndex.map((function(e,t){return[e,l.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&Om(km(t.content)).forEach((function(e){c.push(e.id),s[e.id]={deps:[],location:n,type:xm(e.messages[0].meta[1][0].data)}}))})),c.sort((function(e,t){return e-t}));var u=c.filter((function(e){return e>1})).map((function(e){return[e,Cm(e)]}));l.FileIndex.map((function(e,t){return[e,l.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&Om(km(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=xm(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var d,h=Fc.find(l,s[1].location),p=Om(km(h.content)),f=0;f<p.length;++f){var m=p[f];1==m.id&&(d=m)}var g=Mm(Rm(d.messages[0].data)[1][0].data);for(p=Om(km((h=Fc.find(l,s[g].location)).content)),f=0;f<p.length;++f)(m=p[f]).id==g&&(d=m);for(g=Mm(Rm(d.messages[0].data)[2][0].data),p=Om(km((h=Fc.find(l,s[g].location)).content)),f=0;f<p.length;++f)(m=p[f]).id==g&&(d=m);for(g=Mm(Rm(d.messages[0].data)[2][0].data),p=Om(km((h=Fc.find(l,s[g].location)).content)),f=0;f<p.length;++f)(m=p[f]).id==g&&(d=m);var v=Rm(d.messages[0].data);v[6][0].data=Cm(r.e.r+1),v[7][0].data=Cm(r.e.c+1);for(var y=Mm(v[46][0].data),b=Fc.find(l,s[y].location),E=Om(km(b.content)),_=0;_<E.length&&E[_].id!=y;++_);if(E[_].id!=y)throw"Bad ColumnRowUIDMapArchive";var w=Rm(E[_].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var S=0;S<=r.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:Cm(S+420690)}],w[1].push({type:2,data:Am(T)}),w[2].push({type:0,data:Cm(S)}),w[3].push({type:0,data:Cm(S)})}w[4]=[],w[5]=[],w[6]=[];for(var C=0;C<=r.e.r;++C)(T=[])[1]=T[2]=[{type:0,data:Cm(C+726270)}],w[4].push({type:2,data:Am(T)}),w[5].push({type:0,data:Cm(C)}),w[6].push({type:0,data:Cm(C)});E[_].messages[0].data=Am(w),b.content=Pm(Im(E)),b.size=b.content.length,delete v[46];var x=Rm(v[4][0].data);x[7][0].data=Cm(r.e.r+1);var R=Mm(Rm(x[1][0].data)[2][0].data);if((E=Om(km((b=Fc.find(l,s[R].location)).content)))[0].id!=R)throw"Bad HeaderStorageBucket";var A=Rm(E[0].messages[0].data);for(C=0;C<o.length;++C){var O=Rm(A[2][0].data);O[1][0].data=Cm(C),O[4][0].data=Cm(o[C].length),A[2][C]={type:A[2][0].type,data:Am(O)}}E[0].messages[0].data=Am(A),b.content=Pm(Im(E)),b.size=b.content.length;var I=Mm(x[2][0].data);if((E=Om(km((b=Fc.find(l,s[I].location)).content)))[0].id!=I)throw"Bad HeaderStorageBucket";for(A=Rm(E[0].messages[0].data),S=0;S<=r.e.c;++S)(O=Rm(A[2][0].data))[1][0].data=Cm(S),O[4][0].data=Cm(r.e.r+1),A[2][S]={type:A[2][0].type,data:Am(O)};E[0].messages[0].data=Am(A),b.content=Pm(Im(E)),b.size=b.content.length;var N=Mm(x[4][0].data);!function(){for(var e,t=Fc.find(l,s[N].location),n=Om(km(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==N&&(e=i)}var o=Rm(e.messages[0].data);o[3]=[];var c=[];a.forEach((function(e,t){c[1]=[{type:0,data:Cm(t)}],c[2]=[{type:0,data:Cm(1)}],c[3]=[{type:2,data:wm(e)}],o[3].push({type:2,data:Am(c)})})),e.messages[0].data=Am(o);var u=Pm(Im(n));t.content=u,t.size=t.content.length}();var k=Rm(x[3][0].data),P=k[1][0];delete k[2];var D=Rm(P.data),L=Mm(D[2][0].data);!function(){for(var e,t=Fc.find(l,s[L].location),n=Om(km(t.content)),i=0;i<n.length;++i){var c=n[i];c.id==L&&(e=c)}var u=Rm(e.messages[0].data);delete u[6],delete k[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,p=0;p<=r.e.r;++p){var f=Rm(d);h+=jm(f,o[p],a),f[1][0].data=Cm(p),u[5].push({data:Am(f),type:2})}u[1]=[{type:0,data:Cm(r.e.c+1)}],u[2]=[{type:0,data:Cm(r.e.r+1)}],u[3]=[{type:0,data:Cm(h)}],u[4]=[{type:0,data:Cm(r.e.r+1)}],e.messages[0].data=Am(u);var m=Pm(Im(n));t.content=m,t.size=t.content.length}(),P.data=Am(D),x[3][0].data=Am(k),v[4][0].data=Am(x),d.messages[0].data=Am(v);var M=Pm(Im(p));return h.content=M,h.size=h.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){pp=1024,e&&!e.SSF&&(e.SSF=il(tc));e&&e.SSF&&(Mc(),Lc(e.SSF),t.revssf=Kc(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,cf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=bp.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Fm(t=t||{});var o=ul(),a="",s=0;t.cellXfs=[],hf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(a="docProps/core.xml",ll(o,a,Kd(e.Props,t)),i.coreprops.push(a),Vd(t.rels,2,a,Ud.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var c=[],l=0;l<e.SheetNames.length;++l)2!=(e.Workbook.Sheets[l]||{}).Hidden&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ll(o,a,$d(e.Props)),i.extprops.push(a),Vd(t.rels,3,a,Ud.EXT_PROPS),e.Custprops!==e.Props&&Hc(e.Custprops||{}).length>0&&(ll(o,a="docProps/custom.xml",Xd(e.Custprops)),i.custprops.push(a),Vd(t.rels,4,a,Ud.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];(d||{})["!type"];if(ll(o,a="xl/worksheets/sheet"+s+"."+n,Vf(s-1,a,t,e,u)),i.sheets.push(a),Vd(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Ud.WS[0]),d){var h=d["!comments"],p=!1,f="";h&&h.length>0&&(ll(o,f="xl/comments"+s+"."+n,Wf(h,f,t)),i.comments.push(f),Vd(u,-1,"../comments"+s+"."+n,Ud.CMNT),p=!0),d["!legacy"]&&p&&ll(o,"xl/drawings/vmlDrawing"+s+".vml",fp(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&ll(o,Fd(a),Bd(u))}null!=t.Strings&&t.Strings.length>0&&(ll(o,a="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?jh:Lh)(e,n)}(t.Strings,a,t)),i.strs.push(a),Vd(t.wbrels,-1,"sharedStrings."+n,Ud.SST));a="xl/workbook."+n,ll(o,a,function(e,t,n){return(".bin"===t.slice(-4)?Bf:jf)(e,n)}(e,a,t)),i.workbooks.push(a),Vd(t.rels,1,a,Ud.WB),a="xl/theme/theme1.xml",ll(o,a,up(e.Themes,t)),i.themes.push(a),Vd(t.wbrels,-1,"theme/theme1.xml",Ud.THEME),a="xl/styles."+n,ll(o,a,function(e,t,n){return(".bin"===t.slice(-4)?lp:Xh)(e,n)}(e,a,t)),i.styles.push(a),Vd(t.wbrels,-1,"styles."+n,Ud.STY),e.vbaraw&&r&&(ll(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),Vd(t.wbrels,-1,"vbaProject.bin",Ud.VBA));return a="xl/metadata."+n,ll(o,a,function(e){return(".bin"===e.slice(-4)?dp:hp)()}(a)),i.metadata.push(a),Vd(t.wbrels,-1,"metadata."+n,Ud.XLMETA),ll(o,"[Content_Types].xml",jd(i,t)),ll(o,"_rels/.rels",Bd(t.rels)),ll(o,"xl/_rels/workbook."+n+".rels",Bd(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t):Vm(e,t)}function Vm(e,t){pp=1024,e&&!e.SSF&&(e.SSF=il(tc)),e&&e.SSF&&(Mc(),Lc(e.SSF),t.revssf=Kc(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,cf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=bp.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Fm(t=t||{});var o=ul(),a="",s=0;if(t.cellXfs=[],hf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ll(o,a="docProps/core.xml",Kd(e.Props,t)),i.coreprops.push(a),Vd(t.rels,2,a,Ud.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var c=[],l=0;l<e.SheetNames.length;++l)2!=(e.Workbook.Sheets[l]||{}).Hidden&&c.push(e.SheetNames[l]);e.Props.SheetNames=c}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ll(o,a,$d(e.Props)),i.extprops.push(a),Vd(t.rels,3,a,Ud.EXT_PROPS),e.Custprops!==e.Props&&Hc(e.Custprops||{}).length>0&&(ll(o,a="docProps/custom.xml",Xd(e.Custprops)),i.custprops.push(a),Vd(t.rels,4,a,Ud.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(ll(o,a="xl/worksheets/sheet"+s+"."+n,vf(s-1,t,e,d)),i.sheets.push(a),Vd(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Ud.WS[0]),h){var p=h["!comments"],f=!1,m="";if(p&&p.length>0){var g=!1;p.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(ll(o,m="xl/threadedComments/threadedComment"+s+"."+n,gp(p,u,t)),i.threadedcomments.push(m),Vd(d,-1,"../threadedComments/threadedComment"+s+"."+n,Ud.TCMNT)),ll(o,m="xl/comments"+s+"."+n,mp(p)),i.comments.push(m),Vd(d,-1,"../comments"+s+"."+n,Ud.CMNT),f=!0}h["!legacy"]&&f&&ll(o,"xl/drawings/vmlDrawing"+s+".vml",fp(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&ll(o,Fd(a),Bd(d))}return null!=t.Strings&&t.Strings.length>0&&(ll(o,a="xl/sharedStrings."+n,Lh(t.Strings,t)),i.strs.push(a),Vd(t.wbrels,-1,"sharedStrings."+n,Ud.SST)),ll(o,a="xl/workbook."+n,jf(e)),i.workbooks.push(a),Vd(t.rels,1,a,Ud.WB),ll(o,a="xl/theme/theme1.xml",up(e.Themes,t)),i.themes.push(a),Vd(t.wbrels,-1,"theme/theme1.xml",Ud.THEME),ll(o,a="xl/styles."+n,Xh(e,t)),i.styles.push(a),Vd(t.wbrels,-1,"styles."+n,Ud.STY),e.vbaraw&&r&&(ll(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),Vd(t.wbrels,-1,"vbaProject.bin",Ud.VBA)),ll(o,a="xl/metadata."+n,hp()),i.metadata.push(a),Vd(t.wbrels,-1,"metadata."+n,Ud.XLMETA),u.length>1&&(ll(o,a="xl/persons/person.xml",function(e){var t=[dl,Nl("personList",null,{xmlns:Ul,"xmlns:x":Kl[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push(Nl("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),i.people.push(a),Vd(t.wbrels,-1,"persons/person.xml",Ud.PEOPLE)),ll(o,"[Content_Types].xml",jd(i,t)),ll(o,"_rels/.rels",Bd(t.rels)),ll(o,"xl/_rels/workbook.xml.rels",Bd(t.wbrels)),delete t.revssf,delete t.ssf,o}function Wm(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Ls(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Hm(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Wc(t.file,Fc.write(e,{type:Ms?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Fc.write(e,t)}function Gm(e,t){var n={},r=Ms?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Fc.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(Vs(i))}return t.password&&"undefined"!==typeof encrypt_agile?Hm(encrypt_agile(i,t.password),t):"file"===t.type?Wc(t.file,i):"string"==t.type?Cl(i):i}function zm(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Ds(xl(r));case"binary":return xl(r);case"string":return e;case"file":return Wc(t.file,r,"utf8");case"buffer":return Ms?js(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):zm(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function Km(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?Ds(n):"string"==t.type?Cl(n):n;case"file":return Wc(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Ym(e,t){As(),Mf(e);var n=il(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=Ym(e,n);return n.type="array",Vs(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return zm(qf(e,n),n);case"slk":case"sylk":return zm(Oh.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return zm(fm(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return Ds(e);case"binary":case"string":return e;case"file":return Wc(t.file,e,"binary");case"buffer":return Ms?js(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(tg(e.Sheets[e.SheetNames[i]],n),n);case"csv":return zm(eg(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return zm(Ih.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return Km(Ah.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return zm(kh.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return zm(Bh.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return zm(Nh.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return zm(Em(e,n),n);case"wk1":return Km(Ph.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return Km(Ph.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Km(lm(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return Hm(Jf(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=il(t||{});return Gm(Bm(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function qm(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function $m(e,t,n){var r=n||{};return r.type="file",r.file=t,qm(r),Ym(e,r)}function Xm(e,t,n,r,i,o,a,s){var c=Gu(n),l=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(F1){h.__rowNum__=n}else h.__rowNum__=n;if(!a||e[n])for(var p=t.s.c;p<=t.e.c;++p){var f=a?e[n][p]:e[r[p]+c];if(void 0!==f&&void 0!==f.t){var m=f.v;switch(f.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=o[p]){if(null==m)if("e"==f.t&&null===m)h[o[p]]=null;else if(void 0!==l)h[o[p]]=l;else{if(!u||null!==m)continue;h[o[p]]=null}else h[o[p]]=u&&("n"!==f.t||"n"===f.t&&!1!==s.rawNumbers)?m:Zu(f,m,s);null!=m&&(d=!1)}}else{if(void 0===l)continue;null!=o[p]&&(h[o[p]]=l)}}return{row:h,isempty:d}}function Qm(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,o=[],a=0,s="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=null!=l.range?l.range:e["!ref"];switch(1===l.header?r=1:"A"===l.header?r=2:Array.isArray(l.header)?r=3:null==l.header&&(r=0),typeof u){case"string":c=Qu(u);break;case"number":(c=Qu(e["!ref"])).s.r=u;break;default:c=u}r>0&&(i=0);var d=Gu(c.s.r),h=[],p=[],f=0,m=0,g=Array.isArray(e),v=c.s.r,y=0,b={};g&&!e[v]&&(e[v]=[]);var E=l.skipHidden&&e["!cols"]||[],_=l.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(E[y]||{}).hidden)switch(h[y]=Ku(y),n=g?e[v][y]:e[h[y]+d],r){case 1:o[y]=y-c.s.c;break;case 2:o[y]=h[y];break;case 3:o[y]=l.header[y-c.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=a=Zu(n,null,l),m=b[a]||0){do{s=a+"_"+m++}while(b[s]);b[a]=m,b[s]=1}else b[a]=1;o[y]=s}for(v=c.s.r+i;v<=c.e.r;++v)if(!(_[v]||{}).hidden){var w=Xm(e,c,v,h,r,o,g,l);(!1===w.isempty||(1===r?!1!==l.blankrows:l.blankrows))&&(p[f++]=w.row)}return p.length=f,p}var Jm=/"/g;function Zm(e,t,n,r,i,o,a,s){for(var c=!0,l=[],u="",d=Gu(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=s.dense?(e[n]||[])[h]:e[r[h]+d];if(null==p)u="";else if(null!=p.v){c=!1,u=""+(s.rawNumbers&&"n"==p.t?p.v:Zu(p,null,s));for(var f=0,m=0;f!==u.length;++f)if((m=u.charCodeAt(f))===i||m===o||34===m||s.forceQuotes){u='"'+u.replace(Jm,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==p.f||p.F?u="":(c=!1,(u="="+p.f).indexOf(",")>=0&&(u='"'+u.replace(Jm,'""')+'"'));l.push(u)}return!1===s.blankrows&&c?null:l.join(a)}function eg(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=Qu(e["!ref"]),o=void 0!==r.FS?r.FS:",",a=o.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",c=s.charCodeAt(0),l=new RegExp(("|"==o?"\\|":o)+"+$"),u="",d=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],f=i.s.c;f<=i.e.c;++f)(h[f]||{}).hidden||(d[f]=Ku(f));for(var m=0,g=i.s.r;g<=i.e.r;++g)(p[g]||{}).hidden||null!=(u=Zm(e,i,g,d,a,c,o,r))&&(r.strip&&(u=u.replace(l,"")),(u||!1!==r.blankrows)&&n.push((m++?s:"")+u));return delete r.dense,n.join("")}function tg(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=eg(e,t);if("undefined"==typeof Is||"string"==t.type)return n;var r=Is.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function ng(e,t,n){var r,i=n||{},o=+!i.skipHeader,a=e||{},s=0,c=0;if(a&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var l="string"==typeof i.origin?Yu(i.origin):i.origin;s=l.r,c=l.c}var u={s:{c:0,r:0},e:{c:c,r:s+t.length-1+o}};if(a["!ref"]){var d=Qu(a["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==s&&(s=d.e.r+1,u.e.r=s+t.length-1+o)}else-1==s&&(s=0,u.e.r=t.length-1+o);var h=i.header||[],p=0;t.forEach((function(e,t){Hc(e).forEach((function(n){-1==(p=h.indexOf(n))&&(h[p=h.length]=n);var l=e[n],u="z",d="",f=qu({c:c+p,r:s+t+o});r=rg(a,f),!l||"object"!==typeof l||l instanceof Date?("number"==typeof l?u="n":"boolean"==typeof l?u="b":"string"==typeof l?u="s":l instanceof Date?(u="d",i.cellDates||(u="n",l=qc(l)),d=i.dateNF||tc[14]):null===l&&i.nullError&&(u="e",l=0),r?(r.t=u,r.v=l,delete r.w,delete r.R,d&&(r.z=d)):a[f]=r={t:u,v:l},d&&(r.z=d)):a[f]=l}))})),u.e.c=Math.max(u.e.c,c+h.length-1);var f=Gu(s);if(o)for(p=0;p<h.length;++p)a[Ku(p+c)+f]={t:"s",v:h[p]};return a["!ref"]=Xu(u),a}function rg(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=Yu(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return rg(e,qu("number"!=typeof t?t:{r:t,c:n||0}))}function ig(){return{SheetNames:[],Sheets:{}}}function og(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var a=o&&o[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=a+i);++i);}if(Lf(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function ag(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var sg={encode_col:Ku,encode_row:Gu,encode_cell:qu,encode_range:Xu,decode_col:zu,decode_row:Hu,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Yu,decode_range:$u,format_cell:Zu,sheet_add_aoa:td,sheet_add_json:ng,sheet_add_dom:mm,aoa_to_sheet:nd,json_to_sheet:function(e,t){return ng(null,e,t)},table_to_sheet:gm,table_to_book:function(e,t){return ed(gm(e,t),t)},sheet_to_csv:eg,sheet_to_txt:tg,sheet_to_json:Qm,sheet_to_html:fm,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,o=Qu(e["!ref"]),a="",s=[],c=[],l=Array.isArray(e);for(i=o.s.c;i<=o.e.c;++i)s[i]=Ku(i);for(var u=o.s.r;u<=o.e.r;++u)for(a=Gu(u),i=o.s.c;i<=o.e.c;++i)if(n=s[i]+a,r="",void 0!==(t=l?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}c[c.length]=n+"="+r}return c},sheet_to_row_object_array:Qm,sheet_get_cell:rg,book_new:ig,book_append_sheet:og,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:ag,cell_set_internal_link:function(e,t,n){return ag(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:Qu(t),o="string"==typeof t?t:Xu(t),a=i.s.r;a<=i.e.r;++a)for(var s=i.s.c;s<=i.e.c;++s){var c=rg(e,a,s);c.t="n",c.F=o,delete c.v,a==i.s.r&&s==i.s.c&&(c.f=n,r&&(c.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};_s.version;var cg=n(2450),lg=function(e,t){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},lg(e,t)};function ug(e){var t=e.className,n=e.counterClockwise,r=e.dashRatio,o=e.pathRadius,a=e.strokeWidth,s=e.style;return(0,i.createElement)("path",{className:t,style:Object.assign({},s,hg({pathRadius:o,dashRatio:r,counterClockwise:n})),d:dg({pathRadius:o,counterClockwise:n}),strokeWidth:a,fillOpacity:0})}function dg(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function hg(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,o=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-o:o)+"px"}}var pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}lg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,r=e.classes,o=e.counterClockwise,a=e.styles,s=e.strokeWidth,c=e.text,l=this.getPathRadius(),u=this.getPathRatio();return(0,i.createElement)("svg",{className:r.root+" "+n,style:a.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,i.createElement)("circle",{className:r.background,style:a.background,cx:50,cy:50,r:50}):null,(0,i.createElement)(ug,{className:r.trail,counterClockwise:o,dashRatio:t,pathRadius:l,strokeWidth:s,style:a.trail}),(0,i.createElement)(ug,{className:r.path,counterClockwise:o,dashRatio:u*t,pathRadius:l,strokeWidth:s,style:a.path}),c?(0,i.createElement)("text",{className:r.text,style:a.text,x:50,y:50},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(i.Component);function fg(e){var t=e.rotation,n=e.strokeLinecap,r=e.textColor,i=e.textSize,o=e.pathColor,a=e.pathTransition,s=e.pathTransitionDuration,c=e.trailColor,l=e.backgroundColor,u=null==t?void 0:"rotate("+t+"turn)",d=null==t?void 0:"center center";return{root:{},path:mg({stroke:o,strokeLinecap:n,transform:u,transformOrigin:d,transition:a,transitionDuration:null==s?void 0:s+"s"}),trail:mg({stroke:c,strokeLinecap:n,transform:u,transformOrigin:d}),text:mg({fill:r,fontSize:i}),background:mg({fill:l})}}function mg(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}function gg(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const vg=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gg(e))&&(r&&(r+=" "),r+=t);return r};var yg=n(9889),bg=n.n(yg),Eg=n(9062),_g=n(620),wg=n.n(_g),Sg=n(5268),Tg=n.n(Sg),Cg=n(3097),xg=n.n(Cg),Rg=n(9160),Ag=n.n(Rg),Og=function(e){return 0===e?0:e>0?1:-1},Ig=function(e){return wg()(e)&&e.indexOf("%")===e.length-1},Ng=function(e){return Ag()(e)&&!Tg()(e)},kg=function(e){return Ng(e)||wg()(e)},Pg=0,Dg=function(e){var t=++Pg;return"".concat(e||"").concat(t)},Lg=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ng(e)&&!wg()(e))return r;if(Ig(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Tg()(n)&&(n=r),i&&n>t&&(n=t),n},Mg=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},jg=function(e,t){return Ng(e)&&Ng(t)?function(n){return e+n*(t-e)}:function(){return t}};function Ug(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):xg()(e,t))===n})):null}var Fg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Bg=n(9686),Vg=n.n(Bg),Wg=n(1629),Hg=n.n(Wg),Gg=n(6686),zg=n.n(Gg);function Kg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Yg(e){return Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(e)}var qg=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$g=["points","pathLength"],Xg={svg:["viewBox","children"],polygon:$g,polyline:$g},Qg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jg=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!zg()(n))return null;var r={};return Object.keys(n).forEach((function(e){Qg.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Zg=function(e,t,n){if(!zg()(e)||"object"!==Yg(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Qg.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},ev=["children"],tv=["children"];function nv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rv(e){return rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(e)}var iv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ov=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},av=null,sv=null,cv=function e(t){if(t===av&&Array.isArray(sv))return sv;var n=[];return i.Children.forEach(t,(function(t){Vg()(t)||((0,Eg.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),sv=n,av=t,n};function lv(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return ov(e)})):[ov(t)],cv(e).forEach((function(e){var t=xg()(e,"type.displayName")||xg()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function uv(e,t){var n=lv(e,t);return n&&n[0]}var dv=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ng(n)||n<=0||!Ng(r)||r<=0)},hv=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pv=function(e){return e&&e.type&&wg()(e.type)&&hv.indexOf(e.type)>=0},fv=function(e){return e&&"object"===rv(e)&&"cx"in e&&"cy"in e&&"r"in e},mv=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!zg()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var i,o=null!==(i=null===Xg||void 0===Xg?void 0:Xg[r])&&void 0!==i?i:[];return!Hg()(e)&&(r&&o.includes(t)||qg.includes(t))||n&&Qg.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},gv=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return vv(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!vv(a,s))return!1}return!0},vv=function(e,t){if(Vg()(e)&&Vg()(t))return!0;if(!Vg()(e)&&!Vg()(t)){var n=e.props||{},r=n.children,i=nv(n,ev),o=t.props||{},a=o.children,s=nv(o,tv);return r&&a?Kg(i,s)&&gv(r,a):!r&&!a&&Kg(i,s)}return!1},yv=function(e,t){var n=[],r={};return cv(e).forEach((function(e,i){if(pv(e))n.push(e);else if(e){var o=ov(e.type),a=t[o]||{},s=a.handler,c=a.once;if(s&&(!c||!r[o])){var l=s(e,o,i);n.push(l),r[o]=!0}}})),n};function bv(e){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(e)}function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){wv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bv(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cv=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,c=e.height,l=void 0===c?"100%":c,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,p=e.maxHeight,f=e.children,m=e.debounce,g=void 0===m?0:m,v=e.id,y=e.className,b=e.onResize,E=e.style,_=void 0===E?{}:E,w=(0,i.useRef)(null),S=(0,i.useRef)();S.current=b,(0,i.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var T=Sv((0,i.useState)({containerWidth:o.width,containerHeight:o.height}),2),C=T[0],x=T[1],R=(0,i.useCallback)((function(e,t){x((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,i.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;R(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};g>0&&(e=bg()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return R(r,i),t.observe(w.current),function(){t.disconnect()}}),[R,g]);var A=(0,i.useMemo)((function(){var e=C.containerWidth,t=C.containerHeight;if(e<0||t<0)return null;Fg(Ig(s)||Ig(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),Fg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Ig(s)?e:s,o=Ig(l)?t:l;n&&n>0&&(r?o=r/n:o&&(r=o*n),p&&o>p&&(o=p)),Fg(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,s,l,d,h,n);var a=!Array.isArray(f)&&(0,Eg.isElement)(f)&&ov(f.type).endsWith("Chart");return i.Children.map(f,(function(e){return(0,Eg.isElement)(e)?(0,i.cloneElement)(e,_v({width:r,height:o},a?{style:_v({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,f,l,p,h,d,C,s]);return i.createElement("div",{id:v?"".concat(v):void 0,className:vg("recharts-responsive-container",y),style:_v(_v({},_),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:p}),ref:w},A)})),xv=n(6604),Rv=n.n(xv),Av=n(7424),Ov=n.n(Av),Iv="Invariant failed";function Nv(e,t){if(!e)throw new Error(Iv)}var kv=["children","width","height","viewBox","className","style","title","desc"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(this,arguments)}function Dv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lv(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,c=e.title,l=e.desc,u=Dv(e,kv),d=o||{width:n,height:r,x:0,y:0},h=vg("recharts-surface",a);return i.createElement("svg",Pv({},mv(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),i.createElement("title",null,c),i.createElement("desc",null,l),t)}var Mv=["children","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function Uv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fv=i.forwardRef((function(e,t){var n=e.children,r=e.className,o=Uv(e,Mv),a=vg("recharts-layer",r);return i.createElement("g",jv({className:a},mv(o,!0),{ref:t}),n)}));function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(this,arguments)}function Wv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gv(Object(n),!0).forEach((function(t){Kv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bv(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yv(e){return Array.isArray(e)&&kg(e[0])&&kg(e[1])?e.join(" ~ "):e}var qv=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,c=e.labelStyle,l=void 0===c?{}:c,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,f=e.labelClassName,m=e.label,g=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,b=zv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=zv({margin:0},l),_=!Vg()(m),w=_?m:"",S=vg("recharts-default-tooltip",p),T=vg("recharts-tooltip-label",f);_&&g&&void 0!==u&&null!==u&&(w=g(m,u));var C=y?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",Vv({className:S,style:b},C),i.createElement("p",{className:T,style:E},i.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(h?Ov()(u,h):u).map((function(e,t){if("none"===e.type)return null;var r=zv({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||Yv,a=e.value,c=e.name,l=a,h=c;if(o&&null!=l&&null!=h){var p=o(a,c,e,t,u);if(Array.isArray(p)){var f=Wv(p,2);l=f[0],h=f[1]}else l=p}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},kg(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,kg(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},l),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function $v(e){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(e)}function Xv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$v(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qv="recharts-tooltip-wrapper",Jv={visibility:"hidden"};function Zv(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return vg(Qv,Xv(Xv(Xv(Xv({},"".concat(Qv,"-right"),Ng(n)&&t&&Ng(t.x)&&n>=t.x),"".concat(Qv,"-left"),Ng(n)&&t&&Ng(t.x)&&n<t.x),"".concat(Qv,"-bottom"),Ng(r)&&t&&Ng(t.y)&&r>=t.y),"".concat(Qv,"-top"),Ng(r)&&t&&Ng(t.y)&&r<t.y))}function ey(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(o&&Ng(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<c[r]?Math.max(d,c[r]):Math.max(u,c[r]):d+s>c[r]+l?Math.max(u,c[r]):Math.max(d,c[r])}function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach((function(t){uy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dy(r.key),r)}}function oy(e,t,n){return t=sy(t),function(e,t){if(t&&("object"===ty(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cy(e)}(e,ay()?Reflect.construct(t,n||[],sy(e).constructor):t.apply(e,n))}function ay(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ay=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sy(e)}function cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ly(e,t)}function uy(e,t,n){return(t=dy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(e){var t=function(e,t){if("object"!=ty(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ty(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ty(t)?t:String(t)}var hy=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uy(cy(e=oy(this,t,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uy(cy(e),"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}(t,e),n=t,r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,c=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,p=t.reverseDirection,f=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,c=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox;return{cssProperties:c.height>0&&c.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ey({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=ey({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:l}):Jv,cssClasses:Zv({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),y=v.cssClasses,b=v.cssProperties,E=ry(ry({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:y,style:E,ref:function(t){e.wrapperNode=t}},s)}}],r&&iy(n.prototype,r),o&&iy(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent),py={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return py[e]},set:function(e,t){if("string"===typeof e)py[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){py[t]=e[t]}))}}},fy=n(977),my=n.n(fy);function gy(e,t,n){return!0===t?my()(e,n):Hg()(t)?my()(e,t):e}function vy(e){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(e)}function yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(n),!0).forEach((function(t){Cy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xy(r.key),r)}}function _y(e,t,n){return t=Sy(t),function(e,t){if(t&&("object"===vy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wy()?Reflect.construct(t,n||[],Sy(e).constructor):t.apply(e,n))}function wy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wy=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sy(e)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ty(e,t)}function Cy(e,t,n){return(t=xy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e){var t=function(e,t){if("object"!=vy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vy(t)?t:String(t)}function Ry(e){return e.dataKey}var Ay=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_y(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,c=t.coordinate,l=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,p=t.payloadUniqBy,f=t.position,m=t.reverseDirection,g=t.useTranslate3d,v=t.viewBox,y=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];l&&b.length&&(b=gy(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,Ry));var E=b.length>0;return i.createElement(hy,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:c,hasPayload:E,offset:d,position:f,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:y},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(qv,t)}(s,by(by({},this.props),{},{payload:b})))}}],r&&Ey(n.prototype,r),o&&Ey(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);Cy(Ay,"displayName","Tooltip"),Cy(Ay,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!py.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Oy=n(643),Iy=n.n(Oy);Math.abs,Math.atan2;const Ny=Math.cos,ky=(Math.max,Math.min,Math.sin),Py=Math.sqrt,Dy=Math.PI,Ly=2*Dy;const My={draw(e,t){const n=Py(t/Dy);e.moveTo(n,0),e.arc(0,0,n,0,Ly)}},jy={draw(e,t){const n=Py(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Uy=Py(1/3),Fy=2*Uy,By={draw(e,t){const n=Py(t/Fy),r=n*Uy;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Vy={draw(e,t){const n=Py(t),r=-n/2;e.rect(r,r,n,n)}},Wy=ky(Dy/10)/ky(7*Dy/10),Hy=ky(Ly/10)*Wy,Gy=-Ny(Ly/10)*Wy,zy={draw(e,t){const n=Py(.8908130915292852*t),r=Hy*n,i=Gy*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Ly*o/5,a=Ny(t),s=ky(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},Ky=Py(3),Yy={draw(e,t){const n=-Py(t/(3*Ky));e.moveTo(0,2*n),e.lineTo(-Ky*n,-n),e.lineTo(Ky*n,-n),e.closePath()}},qy=-.5,$y=Py(3)/2,Xy=1/Py(12),Qy=3*(Xy/2+1),Jy={draw(e,t){const n=Py(t/Qy),r=n/2,i=n*Xy,o=r,a=n*Xy+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(qy*r-$y*i,$y*r+qy*i),e.lineTo(qy*o-$y*a,$y*o+qy*a),e.lineTo(qy*s-$y*c,$y*s+qy*c),e.lineTo(qy*r+$y*i,qy*i-$y*r),e.lineTo(qy*o+$y*a,qy*a-$y*o),e.lineTo(qy*s+$y*c,qy*c-$y*s),e.closePath()}};function Zy(e){return function(){return e}}const eb=Math.PI,tb=2*eb,nb=1e-6,rb=tb-nb;function ib(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ob{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ib:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ib;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,d=l*l+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>nb)if(Math.abs(u*s-c*l)>nb&&i){let h=n-o,p=r-a,f=s*s+c*c,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),y=i*Math.tan((eb-Math.acos((f+d-m)/(2*g*v)))/2),b=y/v,E=y/g;Math.abs(b-1)>nb&&this._append`L${e+b*l},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>l*p)},${this._x1=e+E*s},${this._y1=t+E*c}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${c},${l}`:(Math.abs(this._x1-c)>nb||Math.abs(this._y1-l)>nb)&&this._append`L${c},${l}`,n&&(d<0&&(d=d%tb+tb),d>rb?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:d>nb&&this._append`A${n},${n},0,${+(d>=eb)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ab(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new ob(t)}Py(3),Py(3);function sb(e){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(e)}var cb=["type","size","sizeType"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(n),!0).forEach((function(t){hb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sb(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fb={symbolCircle:My,symbolCross:jy,symbolDiamond:By,symbolSquare:Vy,symbolStar:zy,symbolTriangle:Yy,symbolWye:Jy},mb=Math.PI/180,gb=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,s=void 0===a?"area":a,c=db(db({},pb(e,cb)),{},{type:n,size:o,sizeType:s}),l=c.className,u=c.cx,d=c.cy,h=mv(c,!0);return u===+u&&d===+d&&o===+o?i.createElement("path",lb({},h,{className:vg("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Iy()(e));return fb[t]||My}(n),t=function(e,t){let n=null,r=ab(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Zy(e||My),t="function"===typeof t?t:Zy(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Zy(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Zy(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*mb;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function vb(e){return vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(e)}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(this,arguments)}function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xb(r.key),r)}}function _b(e,t,n){return t=Sb(t),function(e,t){if(t&&("object"===vb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wb()?Reflect.construct(t,n||[],Sb(e).constructor):t.apply(e,n))}function wb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wb=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sb(e)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tb(e,t)}function Cb(e,t,n){return(t=xb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xb(e){var t=function(e,t){if("object"!=vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vb(t)?t:String(t)}gb.registerSymbol=function(e,t){fb["symbol".concat(Iy()(e))]=t};var Rb=32,Ab=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_b(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Rb/6,o=Rb/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Rb,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Rb,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Rb,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bb(Object(n),!0).forEach((function(t){Cb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(gb,{fill:a,cx:n,cy:n,size:Rb,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,c={x:0,y:0,width:Rb,height:Rb},l={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,d=vg(Cb(Cb({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=Hg()(t.value)?null:t.value;Fg(!Hg()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return i.createElement("li",yb({className:d,style:l,key:"legend-item-".concat(n)},Zg(e.props,t,n)),i.createElement(Lv,{width:r,height:r,viewBox:c,style:u},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&Eb(n.prototype,r),o&&Eb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function Ob(e){return Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(e)}Cb(Ab,"displayName","Legend"),Cb(Ab,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ib=["ref"];function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(n),!0).forEach((function(t){Fb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bb(r.key),r)}}function Db(e,t,n){return t=Mb(t),function(e,t){if(t&&("object"===Ob(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jb(e)}(e,Lb()?Reflect.construct(t,n||[],Mb(e).constructor):t.apply(e,n))}function Lb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lb=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mb(e)}function jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ub(e,t)}function Fb(e,t,n){return(t=Bb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(e){var t=function(e,t){if("object"!=Ob(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ob(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ob(t)?t:String(t)}function Vb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wb(e){return e.value}var Hb=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Fb(jb(e=Db(this,t,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kb({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,c=r.chartWidth,l=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((c||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((l||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),kb(kb({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,c=t.payload,l=kb(kb({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=Vb(t,Ib);return i.createElement(Ab,n)}(n,kb(kb({},this.props),{},{payload:gy(c,s,Wb)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&Ng(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&Pb(n.prototype,r),o&&Pb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(this,arguments)}Fb(Hb,"displayName","Legend"),Fb(Hb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zb=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=vg("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",Gb({},mv(e,!1),Jg(e),{className:a,cx:t,cy:n,r:r})):null},Kb=Object.getOwnPropertyNames,Yb=Object.getOwnPropertySymbols,qb=Object.prototype.hasOwnProperty;function $b(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function Xb(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Qb(e){return Kb(e).concat(Yb(e))}var Jb=Object.hasOwn||function(e,t){return qb.call(e,t)};function Zb(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var eE="_owner",tE=Object.getOwnPropertyDescriptor,nE=Object.keys;function rE(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function iE(e,t){return Zb(e.getTime(),t.getTime())}function oE(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var c=t.entries(),l=!1,u=0;(i=c.next())&&!i.done;){var d=r.value,h=d[0],p=d[1],f=i.value,m=f[0],g=f[1];l||o[u]||!(l=n.equals(h,m,s,u,e,t,n)&&n.equals(p,g,h,m,e,t,n))||(o[u]=!0),u++}if(!l)return!1;s++}return!0}function aE(e,t,n){var r,i=nE(e),o=i.length;if(nE(t).length!==o)return!1;for(;o-- >0;){if((r=i[o])===eE&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!Jb(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function sE(e,t,n){var r,i,o,a=Qb(e),s=a.length;if(Qb(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===eE&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!Jb(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=tE(e,r),o=tE(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function cE(e,t){return Zb(e.valueOf(),t.valueOf())}function lE(e,t){return e.source===t.source&&e.flags===t.flags}function uE(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),c=!1,l=0;(i=s.next())&&!i.done;)c||o[l]||!(c=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(o[l]=!0),l++;if(!c)return!1}return!0}function dE(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var hE=Array.isArray,pE="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,fE=Object.assign,mE=Object.prototype.toString.call.bind(Object.prototype.toString);var gE=vE();vE({strict:!0}),vE({circular:!0}),vE({circular:!0,strict:!0}),vE({createInternalComparator:function(){return Zb}}),vE({strict:!0,createInternalComparator:function(){return Zb}}),vE({circular:!0,createInternalComparator:function(){return Zb}}),vE({circular:!0,createInternalComparator:function(){return Zb},strict:!0});function vE(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,c=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?sE:rE,areDatesEqual:iE,areMapsEqual:r?$b(oE,sE):oE,areObjectsEqual:r?sE:aE,arePrimitiveWrappersEqual:cE,areRegExpsEqual:lE,areSetsEqual:r?$b(uE,sE):uE,areTypedArraysEqual:r?sE:dE};if(n&&(i=fE({},i,n(i))),t){var o=Xb(i.areArraysEqual),a=Xb(i.areMapsEqual),s=Xb(i.areObjectsEqual),c=Xb(i.areSetsEqual);i=fE({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return i}(e),l=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(e,l,u){if(e===l)return!0;if(null==e||null==l||"object"!==typeof e||"object"!==typeof l)return e!==e&&l!==l;var d=e.constructor;if(d!==l.constructor)return!1;if(d===Object)return i(e,l,u);if(hE(e))return t(e,l,u);if(null!=pE&&pE(e))return c(e,l,u);if(d===Date)return n(e,l,u);if(d===RegExp)return a(e,l,u);if(d===Map)return r(e,l,u);if(d===Set)return s(e,l,u);var h=mE(e);return"[object Date]"===h?n(e,l,u):"[object RegExp]"===h?a(e,l,u):"[object Map]"===h?r(e,l,u):"[object Set]"===h?s(e,l,u):"[object Object]"===h?"function"!==typeof e.then&&"function"!==typeof l.then&&i(e,l,u):"[object Arguments]"===h?i(e,l,u):("[object Boolean]"===h||"[object Number]"===h||"[object String]"===h)&&o(e,l,u)}}(c),u=i?i(l):(t=l,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),c=s.cache,l=void 0===c?t?new WeakMap:void 0:c,u=s.meta;return n(e,a,{cache:l,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:l,createState:o,equals:u,strict:s})}function yE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function bE(e){return bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(e)}function EE(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wE(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=EE(r),o=i[0],a=i.slice(1);return"number"===typeof o?void yE(n.bind(null,a),o):(n(o),void yE(n.bind(null,a)))}"object"===bE(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function SE(e){return SE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SE(e)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach((function(t){xE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xE(e,t,n){return t=function(e){var t=function(e,t){if("object"!==SE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==SE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===SE(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RE=function(e){return e},AE=function(e,t){return Object.keys(t).reduce((function(n,r){return CE(CE({},n),{},xE({},r,e(r,t[r])))}),{})},OE=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function IE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||kE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NE(e){return function(e){if(Array.isArray(e))return PE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(e,t){if(e){if("string"===typeof e)return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PE(e,t):void 0}}function PE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DE=1e-4,LE=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ME=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},jE=function(e,t){return function(n){var r=LE(e,t);return ME(r,n)}},UE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),l=IE(c,4);r=l[0],i=l[1],o=l[2],a=l[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=jE(r,o),p=jE(i,a),f=(u=r,d=o,function(e){var t=LE(u,d),n=[].concat(NE(t.map((function(e,t){return e*t})).slice(1)),[0]);return ME(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=f(n);if(Math.abs(i-t)<DE||o<DE)return p(n);n=m(n-i/o)}return p(n)};return g.isStepper=!1,g},FE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UE(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<DE&&Math.abs(o)<DE?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return UE(r)}return"function"===typeof r?r:null};function BE(e){return BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(e)}function VE(e){return function(e){if(Array.isArray(e))return YE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WE(Object(n),!0).forEach((function(t){GE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GE(e,t,n){return t=function(e){var t=function(e,t){if("object"!==BE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==BE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===BE(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||KE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KE(e,t){if(e){if("string"===typeof e)return YE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YE(e,t):void 0}}function YE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qE=function(e,t,n){return e+(t-e)*n},$E=function(e){return e.from!==e.to},XE=function e(t,n,r){var i=AE((function(e,n){if($E(n)){var r=zE(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return HE(HE({},n),{},{from:i,velocity:o})}return n}),n);return r<1?AE((function(e,t){return $E(t)?HE(HE({},t),{},{velocity:qE(t.velocity,i[e].velocity,r),from:qE(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const QE=function(e,t,n,r,i){var o,a,s,c,l=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=l.reduce((function(n,r){return HE(HE({},n),{},GE({},r,[e[r],t[r]]))}),{}),d=l.reduce((function(n,r){return HE(HE({},n),{},GE({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=XE(n,d,o),i(HE(HE(HE({},e),t),AE((function(e,t){return t.from}),d))),s=r,Object.values(d).filter($E).length&&(h=requestAnimationFrame(p))}:function(o){c||(c=o);var a=(o-c)/r,s=AE((function(e,t){return qE.apply(void 0,VE(t).concat([n(a)]))}),u);if(i(HE(HE(HE({},e),t),s)),a<1)h=requestAnimationFrame(p);else{var l=AE((function(e,t){return qE.apply(void 0,VE(t).concat([n(1)]))}),u);i(HE(HE(HE({},e),t),l))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function JE(e){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(e)}var ZE=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t_(e){return function(e){if(Array.isArray(e))return n_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(n),!0).forEach((function(t){o_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o_(e,t,n){return(t=s_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s_(r.key),r)}}function s_(e){var t=function(e,t){if("object"!==JE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===JE(t)?t:String(t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c_(e,t)}function l_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F1){return!1}}();return function(){var n,r=h_(e);if(t){var i=h_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u_(this,n)}}function u_(e,t){if(t&&("object"===JE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d_(e)}function d_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(e){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h_(e)}var p_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}(a,e);var t,n,r,o=l_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,c=r.from,l=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(d_(n)),n.changeStyle=n.changeStyle.bind(d_(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:l}),u_(n);if(u&&u.length)n.state={style:u[0].style};else if(c){if("function"===typeof d)return n.state={style:c},u_(n);n.state={style:s?o_({},s,c):c}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,c=this.state.style;if(r)if(n){if(!(gE(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=l||o?s:e.to;if(this.state&&c){var d={style:i?o_({},i,u):u};(i&&c[i]!==u||!i&&c!==u)&&this.setState(d)}this.runAnimation(i_(i_({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?o_({},i,a):a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,l=QE(n,r,FE(o),i,this.changeStyle);this.manager.start([c,a,function(){t.stopJSAnimation=l()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,c=void 0===s?0:s;return this.manager.start([i].concat(t_(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,c=r.style,l=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=l||Object.keys(c);if("function"===typeof s||"spring"===s)return[].concat(t_(e),[t.runJSAnimation.bind(t,{from:d.style,to:c,duration:o,easing:s}),o]);var p=OE(h,o,s),f=i_(i_(i_({},d.style),c),{},{transition:p});return[].concat(t_(e),[f,o,u]).filter(RE)}),[a,Math.max(c,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=wE());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,l=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof l&&"spring"!==o)if(c.length>1)this.runStepAnimation(e);else{var d=r?o_({},r,i):i,h=OE(Object.keys(d),n,o);u.start([a,t,i_(i_({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,e_(e,ZE)),a=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===a||n<=0)return t;var c=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,i_(i_({},o),{},{style:i_(i_({},r),s),className:a}))};return 1===a?c(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return c(e)})))}}],n&&a_(t.prototype,n),r&&a_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);p_.displayName="Animate",p_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},p_.propTypes={from:hr().oneOfType([hr().object,hr().string]),to:hr().oneOfType([hr().object,hr().string]),attributeName:hr().string,duration:hr().number,begin:hr().number,easing:hr().oneOfType([hr().string,hr().func]),steps:hr().arrayOf(hr().shape({duration:hr().number.isRequired,style:hr().object.isRequired,easing:hr().oneOfType([hr().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hr().func]),properties:hr().arrayOf("string"),onAnimationEnd:hr().func})),children:hr().oneOfType([hr().node,hr().func]),isActive:hr().bool,canBegin:hr().bool,onAnimationEnd:hr().func,shouldReAnimate:hr().bool,onAnimationStart:hr().func,onAnimationReStart:hr().func};const f_=p_;function m_(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function g_(e,t,n){return null!=n[t]?n[t]:e.props[t]}function v_(e,t,n){var r=m_(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var c=a in t,l=a in r,u=t[a],d=(0,i.isValidElement)(u)&&!u.props.in;!l||c&&!d?l||!c||d?l&&c&&(0,i.isValidElement)(u)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:g_(s,"exit",e),enter:g_(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:g_(s,"exit",e),enter:g_(s,"enter",e)})}})),o}var y_=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},b_=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Mt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,m_(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:g_(e,"appear",n),enter:g_(e,"enter",n),exit:g_(e,"exit",n)})}))):v_(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=m_(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ct({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=lt(e,["component","childFactory"]),o=this.state.contextValue,a=y_(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Bt.Provider,{value:o},a):i.createElement(Bt.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);b_.propTypes={},b_.defaultProps={component:"div",childFactory:function(e){return e}};const E_=b_;var __=["children","appearOptions","enterOptions","leaveOptions"];function w_(e){return w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(e)}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}function T_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P_(r.key),r)}}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A_(e,t)}function O_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F1){return!1}}();return function(){var n,r=N_(e);if(t){var i=N_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===w_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I_(e)}(this,n)}}function I_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N_(e){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N_(e)}function k_(e,t,n){return(t=P_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e){var t=function(e,t){if("object"!==w_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w_(t)?t:String(t)}var D_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},L_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}(a,e);var t,n,r,o=O_(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),k_(I_(e=o.call(this)),"handleEnter",(function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)})),k_(I_(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=a,n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(x_(x_({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return D_(t)+D_(n)+D_(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,T_(t,__));return i.createElement(qt,S_({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return i.createElement(f_,e.state,i.Children.only(n))}))}}],n&&R_(t.prototype,n),r&&R_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component);L_.propTypes={appearOptions:hr().object,enterOptions:hr().object,leaveOptions:hr().object,children:hr().element};const M_=L_;function j_(e){var t=e.component,n=e.children,r=e.appear,o=e.enter,a=e.leave;return i.createElement(E_,{component:t},i.Children.map(n,(function(e,t){return i.createElement(M_,{appearOptions:r,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}j_.propTypes={appear:hr().object,enter:hr().object,leave:hr().object,children:hr().oneOfType([hr().array,hr().element]),component:hr().any},j_.defaultProps={component:"span"};const U_=f_;function F_(e){return F_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_(e)}function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B_.apply(this,arguments)}function V_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H_(Object(n),!0).forEach((function(t){z_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=F_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F_(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K_=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),o+="L ".concat(e+n-c*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,",\n        ").concat(e+n-c*u[2],",").concat(t+r)),o+="L ".concat(e+c*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+c*h,",").concat(t,"\n            L ").concat(e+n-c*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n-c*h,",").concat(t+r,"\n            L ").concat(e+c*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},Y_=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var c=Math.min(i,i+a),l=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=c&&n<=l&&r>=u&&r<=d}return!1},q_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$_=function(e){var t=G_(G_({},q_),e),n=(0,i.useRef)(),r=V_((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,l=t.width,u=t.height,d=t.radius,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||0===l||0===u)return null;var y=vg("recharts-rectangle",h);return v?i.createElement(U_,{canBegin:o>0,from:{width:l,height:u,x:s,y:c},to:{width:l,height:u,x:s,y:c},duration:f,animationEasing:p,isActive:v},(function(e){var r=e.width,a=e.height,s=e.x,c=e.y;return i.createElement(U_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:p},i.createElement("path",B_({},mv(t,!0),{className:y,d:K_(s,c,r,a,d),ref:n})))})):i.createElement("path",B_({},mv(t,!0),{className:y,d:K_(s,c,l,u,d)}))};function X_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Q_(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class J_ extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nw;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Z_(this,e))}has(e){return super.has(Z_(this,e))}set(e,t){return super.set(ew(this,e),t)}delete(e){return super.delete(tw(this,e))}}Set;function Z_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function ew(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function tw(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function nw(e){return null!==e&&"object"===typeof e?e.valueOf():e}const rw=Symbol("implicit");function iw(){var e=new J_,t=[],n=[],r=rw;function i(i){let o=e.get(i);if(void 0===o){if(r!==rw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new J_;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return iw(t,n).unknown(r)},X_.apply(i,arguments),i}function ow(){var e,t,n=iw().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,p=d?o:a;e=(p-h)/Math.max(1,n-c+2*l),s&&(e=Math.floor(e)),h+=(p-h-e*(n-c))*u,t=e*(1-c),s&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return ow(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},X_.apply(d(),arguments)}function aw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aw(t())},e}function sw(){return aw(ow.apply(null,arguments).paddingInner(1))}function cw(e){return cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(e)}function lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lw(Object(n),!0).forEach((function(t){dw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cw(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hw={widthCache:{},cacheCount:0},pw={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fw="recharts_measurement_span";var mw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||py.isSsr)return{width:0,height:0};var n=function(e){var t=uw({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(hw.widthCache[r])return hw.widthCache[r];try{var i=document.getElementById(fw);i||((i=document.createElement("span")).setAttribute("id",fw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=uw(uw({},pw),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return hw.widthCache[r]=s,++hw.cacheCount>2e3&&(hw.cacheCount=0,hw.widthCache={}),s}catch(F1){return{width:0,height:0}}};function gw(e){return gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(e)}function vw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ew(r.key),r)}}function Ew(e){var t=function(e,t){if("object"!=gw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gw(t)?t:String(t)}var _w=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ww=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sw=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tw=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cw={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},xw=Object.keys(Cw),Rw="NaN";var Aw=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Sw.test(n)||(this.num=NaN,this.unit=""),xw.includes(n)&&(this.num=function(e,t){return e*Cw[t]}(t,n),this.unit="px")}var t,n,r;return t=e,r=[{key:"parse",value:function(t){var n,r=vw(null!==(n=Tw.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&bw(t.prototype,n),r&&bw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ow(e){if(e.includes(Rw))return Rw;for(var t=e;t.includes("*")||t.includes("/");){var n,r=vw(null!==(n=_w.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=Aw.parse(null!==i&&void 0!==i?i:""),c=Aw.parse(null!==a&&void 0!==a?a:""),l="*"===o?s.multiply(c):s.divide(c);if(l.isNaN())return Rw;t=t.replace(_w,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=vw(null!==(u=ww.exec(t))&&void 0!==u?u:[],4),h=d[1],p=d[2],f=d[3],m=Aw.parse(null!==h&&void 0!==h?h:""),g=Aw.parse(null!==f&&void 0!==f?f:""),v="+"===p?m.add(g):m.subtract(g);if(v.isNaN())return Rw;t=t.replace(ww,v.toString())}return t}var Iw=/\(([^()]*)\)/;function Nw(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=vw(Iw.exec(t),2)[1];t=t.replace(Iw,Ow(n))}return t}(t),t=Ow(t)}function kw(e){var t=function(e){try{return Nw(e)}catch(F1){return Rw}}(e.slice(5,-1));return t===Rw?"":t}var Pw=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dw=["dx","dy","angle","className","breakAll"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(this,arguments)}function Mw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Uw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fw=/[ \f\n\r\t\v\u2028\u2029]+/,Bw=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return Vg()(t)||(i=n?t.toString().split(""):t.toString().split(Fw)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:mw(e,r).width}})),spaceWidth:n?0:mw("\xa0",r).width}}catch(F1){return null}},Vw=function(e){return[{words:Vg()(e)?[]:e.toString().split(Fw)}]},Ww=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!py.isSsr){var s=Bw({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,c=e.breakAll,l=Ng(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var c={words:[o],width:a};e.push(c)}return e}),[])},h=d(t);if(!l)return h;for(var p,f=function(e){var t=u.slice(0,e),n=Bw({breakAll:c,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,v=0;m<=g&&v<=u.length-1;){var y=Math.floor((m+g)/2),b=jw(f(y-1),2),E=b[0],_=b[1],w=jw(f(y),1)[0];if(E||w||(m=y+1),E&&w&&(g=y-1),!E&&w){p=_;break}v++}return p||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Vw(r)}return Vw(r)},Hw="#808080",Gw=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,c=e.capHeight,l=void 0===c?"0.71em":c,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,p=void 0===h?"start":h,f=e.verticalAnchor,m=void 0===f?"end":f,g=e.fill,v=void 0===g?Hw:g,y=Mw(e,Pw),b=(0,i.useMemo)((function(){return Ww({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),E=y.dx,_=y.dy,w=y.angle,S=y.className,T=y.breakAll,C=Mw(y,Dw);if(!kg(n)||!kg(o))return null;var x,R=n+(Ng(E)?E:0),A=o+(Ng(_)?_:0);switch(m){case"start":x=kw("calc(".concat(l,")"));break;case"middle":x=kw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:x=kw("calc(".concat(b.length-1," * -").concat(s,")"))}var O=[];if(d){var I=b[0].width,N=y.width;O.push("scale(".concat((Ng(N)?N/I:1)/I,")"))}return w&&O.push("rotate(".concat(w,", ").concat(R,", ").concat(A,")")),O.length&&(C.transform=O.join(" ")),i.createElement("text",Lw({},mv(C,!0),{x:R,y:A,className:vg("recharts-text",S),textAnchor:p,fill:v.includes("url")?Hw:v}),b.map((function(e,t){var n=e.words.join(T?"":" ");return i.createElement("tspan",{x:R,dy:0===t?x:s,key:n},n)})))};const zw=Math.sqrt(50),Kw=Math.sqrt(10),Yw=Math.sqrt(2);function qw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zw?10:o>=Kw?5:o>=Yw?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?qw(e,t,2*n):[s,c,l]}function $w(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?qw(t,e,n):qw(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function Xw(e,t,n){return qw(e=+e,t=+t,n=+n)[2]}function Qw(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Xw(t,e,n):Xw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zw(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eS(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Jw,n=(t,n)=>Jw(e(t),n),r=(t,n)=>e(t)-n):(t=e===Jw||e===Zw?e:tS,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function tS(){return 0}function nS(e){return null===e?NaN:+e}const rS=eS(Jw),iS=rS.right,oS=(rS.left,eS(nS).center,iS);function aS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cS(){}var lS=.7,uS=1/lS,dS="\\s*([+-]?\\d+)\\s*",hS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fS=/^#([0-9a-f]{3,8})$/,mS=new RegExp(`^rgb\\(${dS},${dS},${dS}\\)$`),gS=new RegExp(`^rgb\\(${pS},${pS},${pS}\\)$`),vS=new RegExp(`^rgba\\(${dS},${dS},${dS},${hS}\\)$`),yS=new RegExp(`^rgba\\(${pS},${pS},${pS},${hS}\\)$`),bS=new RegExp(`^hsl\\(${hS},${pS},${pS}\\)$`),ES=new RegExp(`^hsla\\(${hS},${pS},${pS},${hS}\\)$`),_S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wS(){return this.rgb().formatHex()}function SS(){return this.rgb().formatRgb()}function TS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?CS(t):3===n?new AS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?xS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?xS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=mS.exec(e))?new AS(t[1],t[2],t[3],1):(t=gS.exec(e))?new AS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vS.exec(e))?xS(t[1],t[2],t[3],t[4]):(t=yS.exec(e))?xS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bS.exec(e))?DS(t[1],t[2]/100,t[3]/100,1):(t=ES.exec(e))?DS(t[1],t[2]/100,t[3]/100,t[4]):_S.hasOwnProperty(e)?CS(_S[e]):"transparent"===e?new AS(NaN,NaN,NaN,0):null}function CS(e){return new AS(e>>16&255,e>>8&255,255&e,1)}function xS(e,t,n,r){return r<=0&&(e=t=n=NaN),new AS(e,t,n,r)}function RS(e,t,n,r){return 1===arguments.length?((i=e)instanceof cS||(i=TS(i)),i?new AS((i=i.rgb()).r,i.g,i.b,i.opacity):new AS):new AS(e,t,n,null==r?1:r);var i}function AS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function OS(){return`#${PS(this.r)}${PS(this.g)}${PS(this.b)}`}function IS(){const e=NS(this.opacity);return`${1===e?"rgb(":"rgba("}${kS(this.r)}, ${kS(this.g)}, ${kS(this.b)}${1===e?")":`, ${e})`}`}function NS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kS(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function PS(e){return((e=kS(e))<16?"0":"")+e.toString(16)}function DS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new MS(e,t,n,r)}function LS(e){if(e instanceof MS)return new MS(e.h,e.s,e.l,e.opacity);if(e instanceof cS||(e=TS(e)),!e)return new MS;if(e instanceof MS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new MS(a,s,c,e.opacity)}function MS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jS(e){return(e=(e||0)%360)<0?e+360:e}function US(e){return Math.max(0,Math.min(1,e||0))}function FS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function BS(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}aS(cS,TS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wS,formatHex:wS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return LS(this).formatHsl()},formatRgb:SS,toString:SS}),aS(AS,RS,sS(cS,{brighter(e){return e=null==e?uS:Math.pow(uS,e),new AS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?lS:Math.pow(lS,e),new AS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new AS(kS(this.r),kS(this.g),kS(this.b),NS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OS,formatHex:OS,formatHex8:function(){return`#${PS(this.r)}${PS(this.g)}${PS(this.b)}${PS(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:IS,toString:IS})),aS(MS,(function(e,t,n,r){return 1===arguments.length?LS(e):new MS(e,t,n,null==r?1:r)}),sS(cS,{brighter(e){return e=null==e?uS:Math.pow(uS,e),new MS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?lS:Math.pow(lS,e),new MS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new AS(FS(e>=240?e-240:e+120,i,r),FS(e,i,r),FS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new MS(jS(this.h),US(this.s),US(this.l),NS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=NS(this.opacity);return`${1===e?"hsl(":"hsla("}${jS(this.h)}, ${100*US(this.s)}%, ${100*US(this.l)}%${1===e?")":`, ${e})`}`}}));const VS=e=>()=>e;function WS(e,t){return function(n){return e+n*t}}function HS(e){return 1===(e=+e)?GS:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):VS(isNaN(t)?n:t)}}function GS(e,t){var n=t-e;return n?WS(e,n):VS(isNaN(e)?t:e)}const zS=function e(t){var n=HS(t);function r(e,t){var r=n((e=RS(e)).r,(t=RS(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=GS(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function KS(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=RS(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}KS((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return BS((n-r/t)*t,a,i,o,s)}})),KS((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return BS((n-r/t)*t,i,o,a,s)}}));function YS(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=tT(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function qS(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $S(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function XS(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=tT(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var QS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JS=new RegExp(QS.source,"g");function ZS(e,t){var n,r,i,o=QS.lastIndex=JS.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=QS.exec(e))&&(r=JS.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:$S(n,r)})),o=JS.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function eT(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function tT(e,t){var n,r=typeof t;return null==t||"boolean"===r?VS(t):("number"===r?$S:"string"===r?(n=TS(t))?(t=n,zS):ZS:t instanceof TS?zS:t instanceof Date?qS:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?eT:Array.isArray(t)?YS:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?XS:$S)(e,t)}function nT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rT(e){return+e}var iT=[0,1];function oT(e){return e}function aT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function sT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=aT(i,r),o=n(a,o)):(r=aT(r,i),o=n(o,a)),function(e){return o(r(e))}}function cT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=aT(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=oS(e,t,1,r)-1;return o[n](i[n](t))}}function lT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uT(){var e,t,n,r,i,o,a=iT,s=iT,c=tT,l=oT;function u(){var e=Math.min(a.length,s.length);return l!==oT&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?cT:sT,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(l(t)))}return d.invert=function(n){return l(t((o||(o=r(s,a.map(e),$S)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,rT),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=nT,u()},d.clamp=function(e){return arguments.length?(l=!!e||oT,u()):l!==oT},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function dT(){return uT()(oT,oT)}var hT,pT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fT(e){if(!(t=pT.exec(e)))throw new Error("invalid format: "+e);var t;return new mT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function mT(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function gT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vT(e){return(e=gT(Math.abs(e)))?e[1]:NaN}function yT(e,t){var n=gT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}fT.prototype=mT.prototype,mT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const bT={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yT(100*e,t),r:yT,s:function(e,t){var n=gT(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(hT=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gT(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ET(e){return e}var _T,wT,ST,TT=Array.prototype.map,CT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function xT(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ET:(t=TT.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ET:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(TT.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=fT(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):bT[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",E="$"===h?o:/[%p]/.test(y)?c:"",_=bT[y],w=/[defgprs%]/.test(y);function S(e){var i,o,c,h=b,S=E;if("c"===y)S=_(e)+S,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==d&&(T=!1),h=(T?"("===d?d:l:"-"===d||"("===d?"":d)+h,S=("s"===y?CT[8+hT/3]:"")+S+(T&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){S=(46===c?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var C=h.length+e.length+S.length,x=C<f?new Array(f-C+1).join(t):"";switch(m&&p&&(e=r(x+e,x.length?f-S.length:1/0),x=""),n){case"<":e=h+e+S+x;break;case"=":e=h+x+e+S;break;case"^":e=x.slice(0,C=x.length>>1)+h+e+S+x.slice(C);break;default:e=x+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=fT(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(vT(t)/3))),i=Math.pow(10,-r),o=CT[8+r/3];return function(e){return n(i*e)+o}}}}function RT(e,t,n,r){var i,o=Qw(e,t,n);switch((r=fT(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vT(t)/3)))-vT(Math.abs(e)))}(o,a))||(r.precision=i),ST(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vT(t)-vT(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-vT(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return wT(r)}function AT(e){var t=e.domain;return e.ticks=function(e){var n=t();return $w(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return RT(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=Xw(c,l,n))===r)return o[a]=c,o[s]=l,t(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function OT(){var e=dT();return e.copy=function(){return lT(e,OT())},X_.apply(e,arguments),AT(e)}function IT(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,rT),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return IT(e).unknown(t)},e=arguments.length?Array.from(e,rT):[0,1],AT(n)}function NT(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function kT(e){return Math.log(e)}function PT(e){return Math.exp(e)}function DT(e){return-Math.log(-e)}function LT(e){return-Math.exp(-e)}function MT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jT(e){return(t,n)=>-e(-t,n)}function UT(e){const t=e(kT,PT),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?MT:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=jT(r),i=jT(i),e(DT,LT)):e(kT,PT),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const c=s<a;c&&([a,s]=[s,a]);let l,u,d=r(a),h=r(s);const p=null==e?10:+e;let f=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(l=1;l<o;++l)if(u=d<0?l/i(-d):l*i(d),!(u<a)){if(u>s)break;f.push(u)}}else for(;d<=h;++d)for(l=o-1;l>=1;--l)if(u=d>0?l/i(-d):l*i(d),!(u<a)){if(u>s)break;f.push(u)}2*f.length<p&&(f=$w(a,s,p))}else f=$w(d,h,Math.min(h-d,p)).map(i);return c?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=fT(n)).precision||(n.trim=!0),n=wT(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(NT(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function FT(){const e=UT(uT()).domain([1,10]);return e.copy=()=>lT(e,FT()).base(e.base()),X_.apply(e,arguments),e}function BT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function WT(e){var t=1,n=e(BT(t),VT(t));return n.constant=function(n){return arguments.length?e(BT(t=+n),VT(t)):t},AT(n)}function HT(){var e=WT(uT());return e.copy=function(){return lT(e,HT()).constant(e.constant())},X_.apply(e,arguments)}function GT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KT(e){return e<0?-e*e:e*e}function YT(e){var t=e(oT,oT),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(oT,oT):.5===n?e(zT,KT):e(GT(n),GT(1/n)):n},AT(t)}function qT(){var e=YT(uT());return e.copy=function(){return lT(e,qT()).exponent(e.exponent())},X_.apply(e,arguments),e}function $T(){return qT.apply(null,arguments).exponent(.5)}function XT(e){return Math.sign(e)*e*e}function QT(){var e,t=dT(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(XT(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,rT)).map(XT)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return QT(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},X_.apply(i,arguments),AT(i)}function JT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ZT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function eC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jw;if(e===Jw)return tC;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function tC(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function nC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?tC:eC(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);nC(e,t,Math.max(n,Math.floor(t-a*c/o+l)),Math.min(r,Math.floor(t+(o-a)*c/o+l)),i)}const o=e[t];let a=n,s=r;for(rC(e,n,t),i(e[r],o)>0&&rC(e,n,r);a<s;){for(rC(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?rC(e,n,s):(++s,rC(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iC(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ZT(e);if(t>=1)return JT(e);var r,i=(r-1)*t,o=Math.floor(i),a=JT(nC(e,o).subarray(0,o+1));return a+(ZT(e.subarray(o+1))-a)*(i-o)}}function oC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nS;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function aC(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=oC(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[oS(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Jw),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return aC().domain(t).range(n).unknown(e)},X_.apply(o,arguments)}function sC(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[oS(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return sC().domain([t,n]).range(o).unknown(e)},X_.apply(AT(a),arguments)}function cC(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[oS(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return cC().domain(t).range(n).unknown(e)},X_.apply(i,arguments)}_T=xT({thousands:",",grouping:[3],currency:["$",""]}),wT=_T.format,ST=_T.formatPrefix;const lC=1e3,uC=6e4,dC=36e5,hC=864e5,pC=6048e5,fC=2592e6,mC=31536e6,gC=new Date,vC=new Date;function yC(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>yC((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(gC.setTime(+t),vC.setTime(+r),e(gC),e(vC),Math.floor(n(gC,vC))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const bC=yC((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));bC.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?yC((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):bC:null);bC.range;const EC=yC((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*lC)}),((e,t)=>(t-e)/lC),(e=>e.getUTCSeconds())),_C=(EC.range,yC((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lC)}),((e,t)=>{e.setTime(+e+t*uC)}),((e,t)=>(t-e)/uC),(e=>e.getMinutes()))),wC=(_C.range,yC((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*uC)}),((e,t)=>(t-e)/uC),(e=>e.getUTCMinutes()))),SC=(wC.range,yC((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lC-e.getMinutes()*uC)}),((e,t)=>{e.setTime(+e+t*dC)}),((e,t)=>(t-e)/dC),(e=>e.getHours()))),TC=(SC.range,yC((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*dC)}),((e,t)=>(t-e)/dC),(e=>e.getUTCHours()))),CC=(TC.range,yC((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uC)/hC),(e=>e.getDate()-1))),xC=(CC.range,yC((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/hC),(e=>e.getUTCDate()-1))),RC=(xC.range,yC((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/hC),(e=>Math.floor(e/hC))));RC.range;function AC(e){return yC((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uC)/pC))}const OC=AC(0),IC=AC(1),NC=AC(2),kC=AC(3),PC=AC(4),DC=AC(5),LC=AC(6);OC.range,IC.range,NC.range,kC.range,PC.range,DC.range,LC.range;function MC(e){return yC((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/pC))}const jC=MC(0),UC=MC(1),FC=MC(2),BC=MC(3),VC=MC(4),WC=MC(5),HC=MC(6),GC=(jC.range,UC.range,FC.range,BC.range,VC.range,WC.range,HC.range,yC((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),zC=(GC.range,yC((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),KC=(zC.range,yC((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));KC.every=e=>isFinite(e=Math.floor(e))&&e>0?yC((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;KC.range;const YC=yC((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));YC.every=e=>isFinite(e=Math.floor(e))&&e>0?yC((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;YC.range;function qC(e,t,n,r,i,o){const a=[[EC,1,lC],[EC,5,5e3],[EC,15,15e3],[EC,30,3e4],[o,1,uC],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,dC],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,hC],[r,2,1728e5],[n,1,pC],[t,1,fC],[t,3,7776e6],[e,1,mC]];function s(t,n,r){const i=Math.abs(n-t)/r,o=eS((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(Qw(t/mC,n/mC,r));if(0===o)return bC.every(Math.max(Qw(t,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[$C,XC]=qC(YC,zC,jC,RC,TC,wC),[QC,JC]=qC(KC,GC,OC,CC,SC,_C);function ZC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ex(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var nx,rx,ix,ox={"-":"",_:" ",0:"0"},ax=/^\s*\d+/,sx=/^%/,cx=/[\\^$*+?|[\]().{}]/g;function lx(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ux(e){return e.replace(cx,"\\$&")}function dx(e){return new RegExp("^(?:"+e.map(ux).join("|")+")","i")}function hx(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function px(e,t,n){var r=ax.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fx(e,t,n){var r=ax.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yx(e,t,n){var r=ax.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ex(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _x(e,t,n){var r=ax.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function wx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Sx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tx(e,t,n){var r=ax.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Rx(e,t,n){var r=ax.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ax(e,t,n){var r=ax.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ox(e,t,n){var r=ax.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ix(e,t,n){var r=sx.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nx(e,t,n){var r=ax.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kx(e,t,n){var r=ax.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Px(e,t){return lx(e.getDate(),t,2)}function Dx(e,t){return lx(e.getHours(),t,2)}function Lx(e,t){return lx(e.getHours()%12||12,t,2)}function Mx(e,t){return lx(1+CC.count(KC(e),e),t,3)}function jx(e,t){return lx(e.getMilliseconds(),t,3)}function Ux(e,t){return jx(e,t)+"000"}function Fx(e,t){return lx(e.getMonth()+1,t,2)}function Bx(e,t){return lx(e.getMinutes(),t,2)}function Vx(e,t){return lx(e.getSeconds(),t,2)}function Wx(e){var t=e.getDay();return 0===t?7:t}function Hx(e,t){return lx(OC.count(KC(e)-1,e),t,2)}function Gx(e){var t=e.getDay();return t>=4||0===t?PC(e):PC.ceil(e)}function zx(e,t){return e=Gx(e),lx(PC.count(KC(e),e)+(4===KC(e).getDay()),t,2)}function Kx(e){return e.getDay()}function Yx(e,t){return lx(IC.count(KC(e)-1,e),t,2)}function qx(e,t){return lx(e.getFullYear()%100,t,2)}function $x(e,t){return lx((e=Gx(e)).getFullYear()%100,t,2)}function Xx(e,t){return lx(e.getFullYear()%1e4,t,4)}function Qx(e,t){var n=e.getDay();return lx((e=n>=4||0===n?PC(e):PC.ceil(e)).getFullYear()%1e4,t,4)}function Jx(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lx(t/60|0,"0",2)+lx(t%60,"0",2)}function Zx(e,t){return lx(e.getUTCDate(),t,2)}function eR(e,t){return lx(e.getUTCHours(),t,2)}function tR(e,t){return lx(e.getUTCHours()%12||12,t,2)}function nR(e,t){return lx(1+xC.count(YC(e),e),t,3)}function rR(e,t){return lx(e.getUTCMilliseconds(),t,3)}function iR(e,t){return rR(e,t)+"000"}function oR(e,t){return lx(e.getUTCMonth()+1,t,2)}function aR(e,t){return lx(e.getUTCMinutes(),t,2)}function sR(e,t){return lx(e.getUTCSeconds(),t,2)}function cR(e){var t=e.getUTCDay();return 0===t?7:t}function lR(e,t){return lx(jC.count(YC(e)-1,e),t,2)}function uR(e){var t=e.getUTCDay();return t>=4||0===t?VC(e):VC.ceil(e)}function dR(e,t){return e=uR(e),lx(VC.count(YC(e),e)+(4===YC(e).getUTCDay()),t,2)}function hR(e){return e.getUTCDay()}function pR(e,t){return lx(UC.count(YC(e)-1,e),t,2)}function fR(e,t){return lx(e.getUTCFullYear()%100,t,2)}function mR(e,t){return lx((e=uR(e)).getUTCFullYear()%100,t,2)}function gR(e,t){return lx(e.getUTCFullYear()%1e4,t,4)}function vR(e,t){var n=e.getUTCDay();return lx((e=n>=4||0===n?VC(e):VC.ceil(e)).getUTCFullYear()%1e4,t,4)}function yR(){return"+0000"}function bR(){return"%"}function ER(e){return+e}function _R(e){return Math.floor(+e/1e3)}function wR(e){return new Date(e)}function SR(e){return e instanceof Date?+e:+new Date(+e)}function TR(e,t,n,r,i,o,a,s,c,l){var u=dT(),d=u.invert,h=u.domain,p=l(".%L"),f=l(":%S"),m=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),E=l("%Y");function _(e){return(c(e)<e?p:s(e)<e?f:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?b:E)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,SR)):h().map(wR)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:l(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(NT(n,e)):u},u.copy=function(){return lT(u,TR(e,t,n,r,i,o,a,s,c,l))},u}function CR(){return X_.apply(TR(QC,JC,KC,GC,OC,CC,SC,_C,EC,rx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xR(){return X_.apply(TR($C,XC,YC,zC,jC,xC,TC,wC,EC,ix).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RR(){var e,t,n,r,i,o=0,a=1,s=oT,c=!1;function l(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),l):[s(0),s(1)]}}return l.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),l):[o,a]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(tT),l.rangeRound=u(nT),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),l}}function AR(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OR(){var e=AT(RR()(oT));return e.copy=function(){return AR(e,OR())},Q_.apply(e,arguments)}function IR(){var e=UT(RR()).domain([1,10]);return e.copy=function(){return AR(e,IR()).base(e.base())},Q_.apply(e,arguments)}function NR(){var e=WT(RR());return e.copy=function(){return AR(e,NR()).constant(e.constant())},Q_.apply(e,arguments)}function kR(){var e=YT(RR());return e.copy=function(){return AR(e,kR()).exponent(e.exponent())},Q_.apply(e,arguments)}function PR(){return kR.apply(null,arguments).exponent(.5)}function DR(){var e=[],t=oT;function n(n){if(null!=n&&!isNaN(n=+n))return t((oS(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Jw),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>iC(e,r/t)))},n.copy=function(){return DR(t).domain(e)},Q_.apply(n,arguments)}function LR(){var e,t,n,r,i,o,a,s=0,c=.5,l=1,u=1,d=oT,h=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=tT);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([s,c,l]=a,e=o(s=+s),t=o(c=+c),n=o(l=+l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,c,l]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(tT),p.rangeRound=f(nT),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(c),n=a(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function MR(){var e=AT(LR()(oT));return e.copy=function(){return AR(e,MR())},Q_.apply(e,arguments)}function jR(){var e=UT(LR()).domain([.1,1,10]);return e.copy=function(){return AR(e,jR()).base(e.base())},Q_.apply(e,arguments)}function UR(){var e=WT(LR());return e.copy=function(){return AR(e,UR()).constant(e.constant())},Q_.apply(e,arguments)}function FR(){var e=YT(LR());return e.copy=function(){return AR(e,FR()).exponent(e.exponent())},Q_.apply(e,arguments)}function BR(){return FR.apply(null,arguments).exponent(.5)}function VR(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){nx=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=dx(i),u=hx(i),d=dx(o),h=hx(o),p=dx(a),f=hx(a),m=dx(s),g=hx(s),v=dx(c),y=hx(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Px,e:Px,f:Ux,g:$x,G:Qx,H:Dx,I:Lx,j:Mx,L:jx,m:Fx,M:Bx,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ER,s:_R,S:Vx,u:Wx,U:Hx,V:zx,w:Kx,W:Yx,x:null,X:null,y:qx,Y:Xx,Z:Jx,"%":bR},E={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Zx,e:Zx,f:iR,g:mR,G:vR,H:eR,I:tR,j:nR,L:rR,m:oR,M:aR,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ER,s:_R,S:sR,u:cR,U:lR,V:dR,w:hR,W:pR,x:null,X:null,y:fR,Y:gR,Z:yR,"%":bR},_={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Sx,e:Sx,f:Ox,g:bx,G:yx,H:Cx,I:Cx,j:Tx,L:Ax,m:wx,M:xx,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:_x,Q:Nx,s:kx,S:Rx,u:fx,U:mx,V:gx,w:px,W:vx,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:bx,Y:yx,Z:Ex,"%":Ix};function w(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=ox[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=tx(1900,void 0,1);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ex(tx(o.y,0,1))).getUTCDay(),r=i>4||0===i?UC.ceil(r):UC(r),r=xC.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ZC(tx(o.y,0,1))).getDay(),r=i>4||0===i?IC.ceil(r):IC(r),r=CC.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ex(tx(o.y,0,1)).getUTCDay():ZC(tx(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ex(o)):ZC(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in ox?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),E.x=w(n,E),E.X=w(r,E),E.c=w(t,E),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),rx=nx.format,nx.parse,ix=nx.utcFormat,nx.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function WR(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function HR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function GR(e,t){return e[t]}function zR(e){const t=[];return t.key=e,t}var KR=n(539),YR=n.n(KR),qR=n(6745),$R=n.n(qR),XR=n(3538),QR=n.n(XR),JR=n(9853),ZR=n.n(JR),eA=n(8210),tA=n.n(eA);function nA(e){return function(e){if(Array.isArray(e))return rA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iA=function(e){return e},oA={"@@functional/placeholder":!0},aA=function(e){return e===oA},sA=function(e){return function t(){return 0===arguments.length||1===arguments.length&&aA(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},cA=function e(t,n){return 1===t?n:sA((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==oA})).length;return a>=t?n.apply(void 0,i):e(t-a,sA((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return aA(e)?t.shift():e}));return n.apply(void 0,nA(o).concat(t))})))}))},lA=function(e){return cA(e.length,e)},uA=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dA=lA((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),hA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return iA;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},pA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fA=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var mA=lA((function(e,t,n){var r=+e;return r+n*(+t-r)})),gA=lA((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),vA=lA((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const yA={rangeStep:function(e,t,n){for(var r=new(tA())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(tA())(e).abs().log(10).toNumber())+1},interpolateNumber:mA,uninterpolateNumber:gA,uninterpolateTruncation:vA};function bA(e){return function(e){if(Array.isArray(e))return wA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||_A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _A(e,t){if(e){if("string"===typeof e)return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wA(e,t):void 0}}function wA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SA(e){var t=EA(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function TA(e,t,n){if(e.lte(0))return new(tA())(0);var r=yA.getDigitCount(e.toNumber()),i=new(tA())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(tA())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(tA())(Math.ceil(s))}function CA(e,t,n){var r=1,i=new(tA())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(tA())(10).pow(yA.getDigitCount(e)-1),i=new(tA())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(tA())(Math.floor(e)))}else 0===e?i=new(tA())(Math.floor((t-1)/2)):n||(i=new(tA())(Math.floor(e)));var a=Math.floor((t-1)/2);return hA(dA((function(e){return i.add(new(tA())(e-a).mul(r)).toNumber()})),uA)(0,t)}function xA(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(tA())(0),tickMin:new(tA())(0),tickMax:new(tA())(0)};var o,a=TA(new(tA())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(tA())(0):(o=new(tA())(e).add(t).div(2)).sub(new(tA())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new(tA())(t).sub(o).div(a).toNumber()),l=s+c+1;return l>n?xA(e,t,n,r,i+1):(l<n&&(c=t>0?c+(n-l):c,s=t>0?s:s+(n-l)),{step:a,tickMin:o.sub(new(tA())(s).mul(a)),tickMax:o.add(new(tA())(c).mul(a))})}var RA=fA((function(e){var t=EA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=EA(SA([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0){var u=l===1/0?[c].concat(bA(uA(0,i-1).map((function(){return 1/0})))):[].concat(bA(uA(0,i-1).map((function(){return-1/0}))),[l]);return n>r?pA(u):u}if(c===l)return CA(c,i,o);var d=xA(c,l,a,o),h=d.step,p=d.tickMin,f=d.tickMax,m=yA.rangeStep(p,f.add(new(tA())(.1).mul(h)),h);return n>r?pA(m):m})),AA=(fA((function(e){var t=EA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=EA(SA([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,r];if(c===l)return CA(c,i,o);var u=TA(new(tA())(l).sub(c).div(a-1),o,0),d=hA(dA((function(e){return new(tA())(c).add(new(tA())(e).mul(u)).toNumber()})),uA)(0,a).filter((function(e){return e>=c&&e<=l}));return n>r?pA(d):d})),fA((function(e,t){var n=EA(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=EA(SA([r,i]),2),s=a[0],c=a[1];if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var l=Math.max(t,2),u=TA(new(tA())(c).sub(s).div(l-1),o,0),d=[].concat(bA(yA.rangeStep(new(tA())(s),new(tA())(c).sub(new(tA())(.99).mul(u)),u)),[c]);return r>i?pA(d):d}))),OA=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IA.apply(this,arguments)}function NA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DA(e){var t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,c=e.xAxis,l=e.yAxis,u=PA(e,OA),d=mv(u,!1);"x"===e.direction&&"number"!==c.type&&Nv(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,p=a.value,f=a.errorVal;if(!f)return null;var m,g,v=[];if(Array.isArray(f)){var y=NA(f,2);m=y[0],g=y[1]}else m=g=f;if("vertical"===n){var b=c.scale,E=h+t,_=E+r,w=E-r,S=b(p-m),T=b(p+g);v.push({x1:T,y1:_,x2:T,y2:w}),v.push({x1:S,y1:E,x2:T,y2:E}),v.push({x1:S,y1:_,x2:S,y2:w})}else if("horizontal"===n){var C=l.scale,x=u+t,R=x-r,A=x+r,O=C(p-m),I=C(p+g);v.push({x1:R,y1:I,x2:A,y2:I}),v.push({x1:x,y1:O,x2:x,y2:I}),v.push({x1:R,y1:O,x2:A,y2:O})}return i.createElement(Fv,IA({className:"recharts-errorBar",key:"bar-".concat(v.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),v.map((function(e){return i.createElement("line",IA({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return i.createElement(Fv,{className:"recharts-errorBars"},h)}function LA(e){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(e)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MA(Object(n),!0).forEach((function(t){UA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LA(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DA.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},DA.displayName="ErrorBar";var FA=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=uv(n,Hb);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:qA(t),value:i||r,payload:t.props}})),jA(jA(jA({},a.props),Hb.getWithHeight(a,i)),{},{payload:t,item:a})):null};function BA(e){return BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(e)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VA(Object(n),!0).forEach((function(t){HA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=BA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BA(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GA(e){return function(e){if(Array.isArray(e))return zA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KA(e,t,n){return Vg()(e)||Vg()(t)?n:kg(t)?xg()(e,t,n):Hg()(t)?t(e):n}function YA(e,t,n,r){var i=QR()(e,(function(e){return KA(e,t)}));if("number"===n){var o=i.filter((function(e){return Ng(e)||parseFloat(e)}));return o.length?[$R()(o),YR()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!Vg()(e)})):i).map((function(e){return kg(e)||e instanceof Date?e:""}))}var qA=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},$A=function(e,t,n,r,i){var o=lv(t.props.children,DA).filter((function(e){return function(e,t,n){return!!Vg()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=KA(t,n);if(Vg()(r))return e;var i=Array.isArray(r)?[$R()(r),YR()(r)]:[r,r],o=a.reduce((function(e,n){var r=KA(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},XA=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&$A(e,t,o,r)||YA(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},QA=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},JA=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},ZA=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,c=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*Og(a[0]-a[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+c,value:e,offset:c}})).filter((function(e){return!Tg()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+c,value:e,index:t,offset:c}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+c,value:e,offset:c}})):r.domain().map((function(e,t){return{coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}}))},eO=new WeakMap,tO=function(e,t){if("function"!==typeof t)return e;eO.has(e)||eO.set(e,new WeakMap);var n=eO.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},nO=1e-4,rO={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Tg()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}VR(e,t)}},none:VR,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}VR(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}c+=d,l+=h*d}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,VR(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Tg()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},iO=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=rO[n],o=function(){var e=Zy([]),t=HR,n=VR,r=GR;function i(i){var o,a,s=Array.from(e.apply(this,arguments),zR),c=s.length,l=-1;for(const e of i)for(o=0,++l;o<c;++o)(s[o][l]=[0,+r(e,s[o].key,l,i)]).data=e;for(o=0,a=WR(t(s));o<c;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Zy(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Zy(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?HR:"function"===typeof e?e:Zy(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?VR:e,i):n},i}().keys(r).value((function(e,t){return+KA(e,t,0)})).order(HR).offset(i);return o(e)};function oO(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vg()(i[t.dataKey])){var s=Ug(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=KA(i,Vg()(a)?t.dataKey:a);return Vg()(c)?null:t.scale(c)}var aO=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=KA(o,t.dataKey,t.domain[a]);return Vg()(s)?null:t.scale(s)-i/2+r},sO=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[$R()(t.concat([e[0]]).filter(Ng)),YR()(t.concat([e[1]]).filter(Ng))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},cO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uO=function(e,t,n){if(Hg()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ng(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(cO.test(e[0])){var i=+cO.exec(e[0])[1];r[0]=t[0]-i}else Hg()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ng(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(lO.test(e[1])){var o=+lO.exec(e[1])[1];r[1]=t[1]+o}else Hg()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},dO=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ov()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var c=i[a],l=i[a-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},hO=function(e,t,n){return e&&e.length?ZR()(e,xg()(n,"type.defaultProps.domain"))?t:e:t},pO=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,c=n.chartType,l=n.hide;return WA(WA({},mv(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:qA(e),value:KA(t,r),type:s,payload:t,chartType:c,hide:l})};function fO(e){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fO(e)}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mO(Object(n),!0).forEach((function(t){vO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fO(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yO=["Webkit","Moz","O","ms"];function bO(e){return bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bO(e)}function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EO.apply(this,arguments)}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_O(Object(n),!0).forEach((function(t){OO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IO(r.key),r)}}function TO(e,t,n){return t=xO(t),function(e,t){if(t&&("object"===bO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RO(e)}(e,CO()?Reflect.construct(t,n||[],xO(e).constructor):t.apply(e,n))}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CO=function(){return!!e})()}function xO(e){return xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xO(e)}function RO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AO(e,t)}function OO(e,t,n){return(t=IO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IO(e){var t=function(e,t){if("object"!=bO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bO(t)?t:String(t)}var NO=function(e){return e.changedTouches&&!!e.changedTouches.length},kO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OO(RO(n=TO(this,t,[e])),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),OO(RO(n),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),OO(RO(n),"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),OO(RO(n),"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),OO(RO(n),"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),OO(RO(n),"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),OO(RO(n),"handleSlideDragStart",(function(e){var t=NO(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(RO(n),"startX"),endX:n.handleTravellerDragStart.bind(RO(n),"endX")},n.state={},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,c=Math.min(n,r),l=Math.max(n,r),u=t.getIndexInRange(i,c),d=t.getIndexInRange(i,l);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=KA(n[e],i,e);return Hg()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,c=o.travellerWidth,l=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-c-i,a+s-c-r):h<0&&(h=Math.max(h,a-r,a-i));var p=this.getIndex({startX:r+h,endX:i+h});p.startIndex===l&&p.endIndex===u||!d||d(p),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=NO(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,c+l-u-a):m<0&&(m=Math.max(m,c-a)),f[r]=a+m;var g=this.getIndex(f),v=g.startIndex,y=g.endIndex;this.setState(OO(OO({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=p.length-1;return"startX"===r&&(i>o?v%h===0:y%h===0)||i<o&&y===e||"endX"===r&&(i>o?y%h===0:v%h===0)||i>o&&y===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],c=i.indexOf(s);if(-1!==c){var l=c+e;if(!(-1===l||l>=i.length)){var u=i[l];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(OO({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,c=e.padding,l=i.Children.only(s);return l?i.cloneElement(l,{x:t,y:n,width:r,height:o,margin:c,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,s=this.props,c=s.y,l=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,p=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=wO(wO({},mv(this.props,!1)),{},{x:g,y:c,width:l,height:u}),y=h||"Min value: ".concat(null===(r=p[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=p[m])||void 0===o?void 0:o.name);return i.createElement(Fv,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,c=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:c,y:r,width:l,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,c=this.state,l=c.startX,u=c.endX,d={pointerEvents:"none",fill:s};return i.createElement(Fv,{className:"recharts-brush-texts"},i.createElement(Gw,EO({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:r+o/2},d),this.getTextOfTick(t)),i.createElement(Gw,EO({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+a+5,y:r+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,c=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,p=u.isTextActive,f=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Ng(o)||!Ng(a)||!Ng(s)||!Ng(c)||s<=0||c<=0)return null;var v=vg("recharts-brush",n),y=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=yO.reduce((function(e,r){return gO(gO({},e),{},vO({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(Fv,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(p||f||m||g||l)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):Hg()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,c=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return wO({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=sw().domain(Rv()(0,s)).range([i,i+o-a]),l=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(r),scale:c,scaleValues:l}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var l=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:l}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&SO(n.prototype,r),o&&SO(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function PO(e){return PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PO(e)}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(Object(n),!0).forEach((function(t){MO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=PO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PO(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}OO(kO,"displayName","Brush"),OO(kO,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jO=Math.PI/180,UO=function(e){return 180*e/Math.PI},FO=function(e,t,n,r){return{x:e+Math.cos(-jO*r)*n,y:t+Math.sin(-jO*r)*n}},BO=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,c=Math.acos(s);return r>o&&(c=2*Math.PI-c),{radius:a,angle:UO(c),angleInRadian:c}},VO=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},WO=function(e,t){var n=e.x,r=e.y,i=BO({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(0===o)return!0;var l,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,p=a;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;l=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;l=p>=h&&p<=d}return l?LO(LO({},t),{},{radius:o,angle:VO(p,t)}):null};function HO(e){return HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HO(e)}var GO=["offset"];function zO(e){return function(e){if(Array.isArray(e))return KO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return KO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qO(Object(n),!0).forEach((function(t){XO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=HO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HO(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(){return QO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QO.apply(this,arguments)}var JO=function(e,t,n){var r,o,a=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,d=u.cx,h=u.cy,p=u.innerRadius,f=u.outerRadius,m=u.startAngle,g=u.endAngle,v=u.clockWise,y=(p+f)/2,b=function(e,t){return Og(t-e)*Math.min(Math.abs(t-e),360)}(m,g),E=b>=0?1:-1;"insideStart"===a?(r=m+E*c,o=v):"insideEnd"===a?(r=g-E*c,o=!v):"end"===a&&(r=g+E*c,o=v),o=b<=0?o:!o;var _=FO(d,h,y,r),w=FO(d,h,y,r+359*(o?1:-1)),S="M".concat(_.x,",").concat(_.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),T=Vg()(e.id)?Dg("recharts-radial-line-"):e.id;return i.createElement("text",QO({},n,{dominantBaseline:"central",className:vg("recharts-radial-bar-label",l)}),i.createElement("defs",null,i.createElement("path",{id:T,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(T)},t))};function ZO(e){var t,n=e.offset,r=$O({offset:void 0===n?5:n},YO(e,GO)),o=r.viewBox,a=r.position,s=r.value,c=r.children,l=r.content,u=r.className,d=void 0===u?"":u,h=r.textBreakAll;if(!o||Vg()(s)&&Vg()(c)&&!(0,i.isValidElement)(l)&&!Hg()(l))return null;if((0,i.isValidElement)(l))return(0,i.cloneElement)(l,r);if(Hg()(l)){if(t=(0,i.createElement)(l,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Vg()(e.children)?t:e.children;return Hg()(n)?n(r):r}(r);var p=function(e){return"cx"in e&&Ng(e.cx)}(o),f=mv(r,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return JO(r,t,f);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,c=i.outerRadius,l=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=FO(o,a,c+n,l),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=FO(o,a,(s+c)/2,l);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*r,h=u>0?"end":"start",p=u>0?"start":"end",f=c>=0?1:-1,m=f*r,g=f>0?"end":"start",v=f>0?"start":"end";if("top"===i)return $O($O({},{x:a+c/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:c}:{});if("bottom"===i)return $O($O({},{x:a+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+l),0),width:c}:{});if("left"===i){var y={x:a-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return $O($O({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var b={x:a+c+m,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return $O($O({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:l}:{})}var E=n?{width:c,height:l}:{};return"insideLeft"===i?$O({x:a+m,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},E):"insideRight"===i?$O({x:a+c-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},E):"insideTop"===i?$O({x:a+c/2,y:s+d,textAnchor:"middle",verticalAnchor:p},E):"insideBottom"===i?$O({x:a+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:h},E):"insideTopLeft"===i?$O({x:a+m,y:s+d,textAnchor:v,verticalAnchor:p},E):"insideTopRight"===i?$O({x:a+c-m,y:s+d,textAnchor:g,verticalAnchor:p},E):"insideBottomLeft"===i?$O({x:a+m,y:s+l-d,textAnchor:v,verticalAnchor:h},E):"insideBottomRight"===i?$O({x:a+c-m,y:s+l-d,textAnchor:g,verticalAnchor:h},E):zg()(i)&&(Ng(i.x)||Ig(i.x))&&(Ng(i.y)||Ig(i.y))?$O({x:a+Lg(i.x,c),y:s+Lg(i.y,l),textAnchor:"end",verticalAnchor:"end"},E):$O({x:a+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},E)}(r);return i.createElement(Gw,QO({className:vg("recharts-label",d)},f,m,{breakAll:h}),t)}ZO.displayName="Label";var eI=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(Ng(f)&&Ng(m)){if(Ng(u)&&Ng(d))return{x:u,y:d,width:f,height:m};if(Ng(h)&&Ng(p))return{x:h,y:p,width:f,height:m}}return Ng(u)&&Ng(d)?{x:u,y:d,width:0,height:0}:Ng(t)&&Ng(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:l||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};ZO.parseViewBox=eI,ZO.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=eI(e),a=lv(r,ZO).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?i.createElement(ZO,{key:"label-implicit",viewBox:t}):kg(e)?i.createElement(ZO,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===ZO?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(ZO,{key:"label-implicit",content:e,viewBox:t}):Hg()(e)?i.createElement(ZO,{key:"label-implicit",content:e,viewBox:t}):zg()(e)?i.createElement(ZO,QO({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(zO(a))};var tI=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},nI=n(1733),rI=n.n(nI),iI=n(7002),oI=n.n(iI),aI=function(e){return null};aI.displayName="Cell";var sI=n(4065),cI=n.n(sI);function lI(e){return lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lI(e)}var uI=["valueAccessor"],dI=["data","dataKey","clockWise","id","textBreakAll"];function hI(e){return function(e){if(Array.isArray(e))return pI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(this,arguments)}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mI(Object(n),!0).forEach((function(t){vI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bI=function(e){return Array.isArray(e.value)?cI()(e.value):e.value};function EI(e){var t=e.valueAccessor,n=void 0===t?bI:t,r=yI(e,uI),o=r.data,a=r.dataKey,s=r.clockWise,c=r.id,l=r.textBreakAll,u=yI(r,dI);return o&&o.length?i.createElement(Fv,{className:"recharts-label-list"},o.map((function(e,t){var r=Vg()(a)?n(e,t):KA(e&&e.payload,a),o=Vg()(c)?{}:{id:"".concat(c,"-").concat(t)};return i.createElement(ZO,fI({},mv(e,!0),u,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:ZO.parseViewBox(Vg()(s)?e:gI(gI({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}EI.displayName="LabelList",EI.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=lv(e.children,EI).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return r;var o=function(e,t){return e?!0===e?i.createElement(EI,{key:"labelList-implicit",data:t}):i.isValidElement(e)||Hg()(e)?i.createElement(EI,{key:"labelList-implicit",data:t,content:e}):zg()(e)?i.createElement(EI,fI({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(hI(r))};var _I=n(2322),wI=n.n(_I),SI=n(6361),TI=n.n(SI);function CI(e){return CI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(e)}function xI(){return xI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI.apply(this,arguments)}function RI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OI(Object(n),!0).forEach((function(t){NI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kI=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},PI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DI=function(e){var t=II(II({},PI),e),n=(0,i.useRef)(),r=RI((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,l=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||l!==+l||u!==+u||d!==+d||0===l&&0===u||0===d)return null;var v=vg("recharts-trapezoid",h);return g?i.createElement(U_,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:c},duration:f,animationEasing:p,isActive:g},(function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,c=e.x,l=e.y;return i.createElement(U_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:p},i.createElement("path",xI({},mv(t,!0),{className:v,d:kI(c,l,r,a,s),ref:n})))})):i.createElement("g",null,i.createElement("path",xI({},mv(t,!0),{className:v,d:kI(s,c,l,u,d)})))};function LI(e){return LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LI(e)}function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(this,arguments)}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jI(Object(n),!0).forEach((function(t){FI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BI=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(a?1:-1)+r,u=Math.asin(s/l)/jO,d=c?i:i+o*u,h=c?i-o*u:i;return{center:FO(t,n,l,d),circleTangency:FO(t,n,r,d),lineTangency:FO(t,n,l*Math.cos(u*jO),h),theta:u}},VI=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Og(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,c=FO(t,n,i,o),l=FO(t,n,i,s),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(l.x,",").concat(l.y,"\n  ");if(r>0){var d=FO(t,n,r,o),h=FO(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},WI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HI=function(e){var t=UI(UI({},WI),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var p,f=vg("recharts-sector",h),m=a-o,g=Lg(s,m,0,!0);return p=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=Og(l-c),d=BI({cx:t,cy:n,radius:i,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,p=d.lineTangency,f=d.theta,m=BI({cx:t,cy:n,radius:i,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,y=m.theta,b=s?Math.abs(c-l):Math.abs(c-l)-f-y;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):VI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:l});var E="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var _=BI({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=_.circleTangency,S=_.lineTangency,T=_.theta,C=BI({cx:t,cy:n,radius:r,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),x=C.circleTangency,R=C.lineTangency,A=C.theta,O=s?Math.abs(c-l):Math.abs(c-l)-T-A;if(O<0&&0===o)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):VI({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),i.createElement("path",MI({},mv(t,!0),{className:f,d:p,role:"img"}))},GI=["option","shapeType","propTransformer","activeClassName","isActive"];function zI(e){return zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zI(e)}function KI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YI(Object(n),!0).forEach((function(t){$I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $I(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XI(e,t){return qI(qI({},t),e)}function QI(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement($_,n);case"trapezoid":return i.createElement(DI,n);case"sector":return i.createElement(HI,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(gb,n);break;default:return null}}function JI(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?XI:o,s=e.activeClassName,c=void 0===s?"recharts-active-shape":s,l=e.isActive,u=KI(e,GI);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,qI(qI({},u),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(Hg()(n))t=n(u);else if(wI()(n)&&!TI()(n)){var d=a(n,u);t=i.createElement(QI,{shapeType:r,elementProps:d})}else{var h=u;t=i.createElement(QI,{shapeType:r,elementProps:h})}return l?i.createElement(Fv,{className:c},t):t}function ZI(e,t){return null!=t&&"trapezoids"in e.props}function eN(e,t){return null!=t&&"sectors"in e.props}function tN(e,t){return null!=t&&"points"in e.props}function nN(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function rN(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function iN(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function oN(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return ZI(e,t)?n="trapezoids":eN(e,t)?n="sectors":tN(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return ZI(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:eN(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:tN(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=ZR()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return ZI(e,t)?n=nN:eN(e,t)?n=rN:tN(e,t)&&(n=iN),n}(n,t);return r(e,t)})),c=n.props[i].indexOf(s[s.length-1]);return a&&r===c}));return r.indexOf(a[a.length-1])}var aN=["x","y"];function sN(e){return sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sN(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lN(Object(n),!0).forEach((function(t){dN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sN(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pN(e,t){var n=e.x,r=e.y,i=hN(e,aN),o="".concat(n),a=parseInt(o,10),s="".concat(r),c=parseInt(s,10),l="".concat(t.height||i.height),u=parseInt(l,10),d="".concat(t.width||i.width),h=parseInt(d,10);return uN(uN(uN(uN(uN({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function fN(e){return i.createElement(JI,cN({shapeType:"rectangle",propTransformer:pN,activeClassName:"recharts-active-bar"},e))}var mN,gN=["value","background"];function vN(e){return vN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vN(e)}function yN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(this,arguments)}function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EN(Object(n),!0).forEach((function(t){AN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ON(r.key),r)}}function SN(e,t,n){return t=CN(t),function(e,t){if(t&&("object"===vN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xN(e)}(e,TN()?Reflect.construct(t,n||[],CN(e).constructor):t.apply(e,n))}function TN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TN=function(){return!!e})()}function CN(e){return CN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CN(e)}function xN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RN(e,t)}function AN(e,t,n){return(t=ON(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ON(e){var t=function(e,t){if("object"!=vN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vN(t)?t:String(t)}var IN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return AN(xN(e=SN(this,t,[].concat(r))),"state",{isAnimationFinished:!1}),AN(xN(e),"id",Dg("recharts-bar-")),AN(xN(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),AN(xN(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,c=mv(this.props,!1);return e&&e.map((function(e,n){var l=n===a,u=l?s:r,d=_N(_N(_N({},c),e),{},{isActive:l,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(Fv,bN({className:"recharts-bar-rectangle"},Zg(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),i.createElement(fN,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,c=t.animationEasing,l=t.animationId,u=this.state.prevData;return i.createElement(U_,{begin:a,duration:s,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var i=jg(n.x,e.x),a=jg(n.y,e.y),s=jg(n.width,e.width),c=jg(n.height,e.height);return _N(_N({},e),{},{x:i(o),y:a(o),width:s(o),height:c(o)})}if("horizontal"===r){var l=jg(0,e.height)(o);return _N(_N({},e),{},{y:e.y+e.height-l,height:l})}var d=jg(0,e.width)(o);return _N(_N({},e),{},{width:d})}));return i.createElement(Fv,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&ZR()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=mv(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,c=yN(t,gN);if(!s)return null;var l=_N(_N(_N(_N(_N({},c),{},{fill:"#eee"},s),a),Zg(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return i.createElement(fN,bN({option:e.props.background,isActive:n===o},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,c=lv(n.children,DA);if(!c)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:KA(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Fv,d,c.map((function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,offset:l,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,s=e.left,c=e.top,l=e.width,u=e.height,d=e.isAnimationActive,h=e.background,p=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,m=vg("recharts-bar",r),g=o&&o.allowDataOverflow,v=a&&a.allowDataOverflow,y=g||v,b=Vg()(p)?this.id:p;return i.createElement(Fv,{className:m},g||v?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?s:s-l/2,y:v?c:c-u/2,width:g?l:2*l,height:v?u:2*u}))):null,i.createElement(Fv,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!d||f)&&EI.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&wN(n.prototype,r),o&&wN(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function NN(e){return NN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(e)}function kN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MN(r.key),r)}}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PN(Object(n),!0).forEach((function(t){LN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LN(e,t,n){return(t=MN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MN(e){var t=function(e,t){if("object"!=NN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NN(t)?t:String(t)}mN=IN,AN(IN,"displayName","Bar"),AN(IN,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!py.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),AN(IN,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.props,g=m.dataKey,v=m.children,y=m.minPointSize,b="horizontal"===f?a:o,E=l?b.scale.domain():null,_=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),w=lv(v,aI),S=d.map((function(e,t){var r,d,h,m,v,b;l?r=function(e,t){if(!t||2!==t.length||!Ng(t[0])||!Ng(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ng(e[0])||e[0]<n)&&(i[0]=n),(!Ng(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(l[u+t],E):(r=KA(e,g),Array.isArray(r)||(r=[_,r]));var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Nv(!1),t)}}(y,mN.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var T,C=[a.scale(r[0]),a.scale(r[1])],x=C[0],R=C[1];d=aO({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),h=null!==(T=null!==R&&void 0!==R?R:x)&&void 0!==T?T:void 0,m=p.size;var A=x-R;if(v=Number.isNaN(A)?0:A,b={x:d,y:a.y,width:m,height:a.height},Math.abs(S)>0&&Math.abs(v)<Math.abs(S)){var O=Og(v||S)*(Math.abs(S)-Math.abs(v));h-=O,v+=O}}else{var I=[o.scale(r[0]),o.scale(r[1])],N=I[0],k=I[1];if(d=N,h=aO({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:e,index:t}),m=k-N,v=p.size,b={x:o.x,y:h,width:o.width,height:v},Math.abs(S)>0&&Math.abs(m)<Math.abs(S))m+=Og(m||S)*(Math.abs(S)-Math.abs(m))}return _N(_N(_N({},e),{},{x:d,y:h,width:m,height:v,value:l?r:r[1],payload:e,background:b},w&&w[t]&&w[t].props),{},{tooltipPayload:[pO(n,e)],tooltipPosition:{x:d+m/2,y:h+v/2}})}));return _N({data:S,layout:f},h)}));var jN=function(t,n,r,i,o){var a=t.width,s=t.height,c=t.layout,l=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!uv(l,IN);return u.reduce((function(a,s){var l,u,p,f,m,g=n[s],v=g.orientation,y=g.domain,b=g.padding,E=void 0===b?{}:b,_=g.mirror,w=g.reversed,S="".concat(v).concat(_?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var T=y[1]-y[0],C=1/0,x=g.categoricalDomain.sort();if(x.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(x[t-1]||0),C))})),Number.isFinite(C)){var R=C/T,A="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(l=R*A/2),"no-gap"===g.padding){var O=Lg(t.barCategoryGap,R*A),I=R*A/2;l=I-O-(I-O)/A*O}}}u="xAxis"===i?[r.left+(E.left||0)+(l||0),r.left+r.width-(E.right||0)-(l||0)]:"yAxis"===i?"horizontal"===c?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(l||0),r.top+r.height-(E.bottom||0)-(l||0)]:g.range,w&&(u=[u[1],u[0]]);var N=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:ow(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:OT(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:sw(),realScaleType:"point"}:"category"===o?{scale:ow(),realScaleType:"band"}:{scale:OT(),realScaleType:"linear"};if(wg()(i)){var c="scale".concat(Iy()(i));return{scale:(e[c]||sw)(),realScaleType:e[c]?c:"point"}}return Hg()(i)?{scale:i}:{scale:sw(),realScaleType:"point"}}(g,o,h),k=N.scale,P=N.realScaleType;k.domain(y).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-nO,o=Math.max(r[0],r[1])+nO,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(k);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var c=e.domain();if(!c.length)return null;var l=RA(c,i,a);return e.domain([$R()(l),YR()(l)]),{niceTicks:l}}if(i&&"number"===r){var u=e.domain();return{niceTicks:AA(u,i,a)}}return null}(k,DN(DN({},g),{},{realScaleType:P}));"xAxis"===i?(m="top"===v&&!_||"bottom"===v&&_,p=r.left,f=d[S]-m*g.height):"yAxis"===i&&(m="left"===v&&!_||"right"===v&&_,p=d[S]-m*g.width,f=r.top);var L=DN(DN(DN({},g),D),{},{realScaleType:P,x:p,y:f,scale:k,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return L.bandSize=dO(L,D),g.hide||"xAxis"!==i?g.hide||(d[S]+=(m?-1:1)*L.width):d[S]+=(m?-1:1)*L.height,DN(DN({},a),{},LN({},s,L))}),{})},UN=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},FN=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&kN(t.prototype,n),r&&kN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();LN(FN,"EPS",1e-4);var BN=function(e){var t=Object.keys(e).reduce((function(t,n){return DN(DN({},t),{},LN({},n,FN.create(e[n])))}),{});return DN(DN({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return rI()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return oI()(e,(function(e,n){return t[n].isInRange(e)}))}})};function VN(e){return VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(e)}function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(this,arguments)}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HN(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zN(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VN(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KN(e){var t=e.x,n=e.y,r=e.r,o=e.alwaysShow,a=e.clipPathId,s=kg(t),c=kg(n);if(Fg(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!c)return null;var l=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=BN({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return tI(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!l)return null;var u=l.x,d=l.y,h=e.shape,p=e.className,f=GN(GN({clipPath:tI(e,"hidden")?"url(#".concat(a,")"):void 0},mv(e,!0)),{},{cx:u,cy:d});return i.createElement(Fv,{className:vg("recharts-reference-dot",p)},KN.renderDot(h,f),ZO.renderCallByParent(e,{x:u-r,y:d-r,width:2*r,height:2*r}))}KN.displayName="ReferenceDot",KN.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},KN.renderDot=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Hg()(e)?e(t):i.createElement(zb,WN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var YN=n(4597),qN=n.n(YN),$N=n(8990),XN=n.n($N),QN=n(5797),JN=n.n(QN)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var ZN=(0,i.createContext)(void 0),ek=(0,i.createContext)(void 0),tk=(0,i.createContext)(void 0),nk=(0,i.createContext)({}),rk=(0,i.createContext)(void 0),ik=(0,i.createContext)(0),ok=(0,i.createContext)(0),ak=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,c=e.width,l=e.height,u=JN(o);return i.createElement(ZN.Provider,{value:n},i.createElement(ek.Provider,{value:r},i.createElement(nk.Provider,{value:o},i.createElement(tk.Provider,{value:u},i.createElement(rk.Provider,{value:a},i.createElement(ik.Provider,{value:l},i.createElement(ok.Provider,{value:c},s)))))))};var sk=function(e){var t=(0,i.useContext)(ZN);null==t&&Nv(!1);var n=t[e];return null==n&&Nv(!1),n},ck=function(e){var t=(0,i.useContext)(ek);null==t&&Nv(!1);var n=t[e];return null==n&&Nv(!1),n},lk=function(){return(0,i.useContext)(ok)},uk=function(){return(0,i.useContext)(ik)};function dk(e){return dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dk(e)}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hk(Object(n),!0).forEach((function(t){fk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dk(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vk.apply(this,arguments)}function yk(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,c=e.className,l=e.alwaysShow,u=(0,i.useContext)(rk),d=sk(o),h=ck(a),p=(0,i.useContext)(tk);if(!u||!p)return null;Fg(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,c){var l=i.x,u=i.y,d=i.width,h=i.height;if(n){var p=c.y,f=e.y.apply(p,{position:o});if(tI(c,"discard")&&!e.y.isInRange(f))return null;var m=[{x:l+d,y:f},{x:l,y:f}];return"left"===s?m.reverse():m}if(t){var g=c.x,v=e.x.apply(g,{position:o});if(tI(c,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===a?y.reverse():y}if(r){var b=c.segment.map((function(t){return e.apply(t,{position:o})}));return tI(c,"discard")&&qN()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(BN({x:d.scale,y:h.scale}),kg(t),kg(n),r&&2===r.length,p,e.position,d.orientation,h.orientation,e);if(!f)return null;var m=mk(f,2),g=m[0],v=g.x,y=g.y,b=m[1],E=b.x,_=b.y,w=pk(pk({clipPath:tI(e,"hidden")?"url(#".concat(u,")"):void 0},mv(e,!0)),{},{x1:v,y1:y,x2:E,y2:_});return i.createElement(Fv,{className:vg("recharts-reference-line",c)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Hg()(e)?e(t):i.createElement("line",vk({},t,{className:"recharts-reference-line-line"}))}(s,w),ZO.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return UN({x:t,y:n},{x:r,y:i})}({x1:v,y1:y,x2:E,y2:_})))}function bk(e){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ek.apply(this,arguments)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(n),!0).forEach((function(t){Sk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bk(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yk.displayName="ReferenceLine",yk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Tk(e){var t=e.x1,n=e.x2,r=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,c=e.clipPathId;Fg(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=kg(t),u=kg(n),d=kg(r),h=kg(o),p=e.shape;if(!l&&!u&&!d&&!h&&!p)return null;var f=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,c=i.y2,l=i.xAxis,u=i.yAxis;if(!l||!u)return null;var d=BN({x:l.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(c,{position:"end"}):d.y.rangeMax};return!tI(i,"discard")||d.isInRange(h)&&d.isInRange(p)?UN(h,p):null}(l,u,d,h,e);if(!f&&!p)return null;var m=tI(e,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(Fv,{className:vg("recharts-reference-area",a)},Tk.renderRect(p,wk(wk({clipPath:m},mv(e,!0)),f)),ZO.renderCallByParent(e,f))}function Ck(e){return function(e){if(Array.isArray(e))return xk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tk.displayName="ReferenceArea",Tk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},Tk.renderRect=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Hg()(e)?e(t):i.createElement($_,Ek({},t,{className:"recharts-reference-area-rect"}))};var Rk=function(e,t,n,r,i){var o=lv(e,yk),a=lv(e,KN),s=[].concat(Ck(o),Ck(a)),c=lv(e,Tk),l="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[l]===n&&tI(t.props,"extendDomain")&&Ng(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),c.length){var h="".concat(u,"1"),p="".concat(u,"2");d=c.reduce((function(e,t){if(t.props[l]===n&&tI(t.props,"extendDomain")&&Ng(t.props[h])&&Ng(t.props[p])){var r=t.props[h],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return Ng(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},Ak=n(7283),Ok=new(n.n(Ak)()),Ik="recharts.syncMouseEvents";function Nk(e){return Nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nk(e)}function kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dk(r.key),r)}}function Pk(e,t,n){return(t=Dk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dk(e){var t=function(e,t){if("object"!=Nk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nk(t)?t:String(t)}var Lk=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pk(this,"activeIndex",0),Pk(this,"coordinateList",[]),Pk(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,c=e.offset,l=void 0===c?null:c,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==l&&void 0!==l?l:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,c=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,l=r+a+s,u=i+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:l,pageY:u})}}}],n&&kk(t.prototype,n),r&&kk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mk(){}function jk(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Uk(e){this._context=e}function Fk(e){this._context=e}function Bk(e){this._context=e}Uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Fk.prototype={areaStart:Mk,areaEnd:Mk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Vk{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Wk(e){this._context=e}function Hk(e){this._context=e}function Gk(e){return new Hk(e)}function zk(e){return e<0?-1:1}function Kk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(zk(o)+zk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Yk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qk(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function $k(e){this._context=e}function Xk(e){this._context=new Qk(e)}function Qk(e){this._context=e}function Jk(e){this._context=e}function Zk(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function eP(e,t){this._context=e,this._t=t}function tP(e){return e[0]}function nP(e){return e[1]}function rP(e,t){var n=Zy(!0),r=null,i=Gk,o=null,a=ab(s);function s(s){var c,l,u,d=(s=WR(s)).length,h=!1;for(null==r&&(o=i(u=a())),c=0;c<=d;++c)!(c<d&&n(l=s[c],c,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,c,s),+t(l,c,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?tP:Zy(e),t="function"===typeof t?t:void 0===t?nP:Zy(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Zy(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Zy(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Zy(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function iP(e,t,n){var r=null,i=Zy(!0),o=null,a=Gk,s=null,c=ab(l);function l(l){var u,d,h,p,f,m=(l=WR(l)).length,g=!1,v=new Array(m),y=new Array(m);for(null==o&&(s=a(f=c())),u=0;u<=m;++u){if(!(u<m&&i(p=l[u],u,l))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(p,u,l),y[u]=+t(p,u,l),s.point(r?+r(p,u,l):v[u],n?+n(p,u,l):y[u]))}if(f)return s=null,f+""||null}function u(){return rP().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?tP:Zy(+e),t="function"===typeof t?t:Zy(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?nP:Zy(+n),l.x=function(t){return arguments.length?(e="function"===typeof t?t:Zy(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:Zy(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Zy(+e),l):r},l.y=function(e){return arguments.length?(t="function"===typeof e?e:Zy(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"===typeof e?e:Zy(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Zy(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:Zy(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function oP(e){return oP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oP(e)}function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(this,arguments)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach((function(t){lP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wk.prototype={areaStart:Mk,areaEnd:Mk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qk(this,this._t0,Yk(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qk(this,Yk(this,n=Kk(this,e,t)),n);break;default:qk(this,this._t0,n=Kk(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Xk.prototype=Object.create($k.prototype)).point=function(e,t){$k.prototype.point.call(this,t,e)},Qk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Zk(e),i=Zk(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var uP={curveBasisClosed:function(e){return new Fk(e)},curveBasisOpen:function(e){return new Bk(e)},curveBasis:function(e){return new Uk(e)},curveBumpX:function(e){return new Vk(e,!0)},curveBumpY:function(e){return new Vk(e,!1)},curveLinearClosed:function(e){return new Wk(e)},curveLinear:Gk,curveMonotoneX:function(e){return new $k(e)},curveMonotoneY:function(e){return new Xk(e)},curveNatural:function(e){return new Jk(e)},curveStep:function(e){return new eP(e,.5)},curveStepAfter:function(e){return new eP(e,1)},curveStepBefore:function(e){return new eP(e,0)}},dP=function(e){return e.x===+e.x&&e.y===+e.y},hP=function(e){return e.x},pP=function(e){return e.y},fP=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,c=e.connectNulls,l=void 0!==c&&c,u=function(e,t){if(Hg()(e))return e;var n="curve".concat(Iy()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?uP[n]||Gk:uP["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=l?o.filter((function(e){return dP(e)})):o;if(Array.isArray(a)){var h=l?a.filter((function(e){return dP(e)})):a,p=d.map((function(e,t){return cP(cP({},e),{},{base:h[t]})}));return t="vertical"===s?iP().y(pP).x1(hP).x0((function(e){return e.base.x})):iP().x(hP).y1(pP).y0((function(e){return e.base.y})),t.defined(dP).curve(u),t(p)}return(t="vertical"===s&&Ng(a)?iP().y(pP).x1(hP).x0(a):Ng(a)?iP().x(hP).y1(pP).y0(a):rP().x(hP).y(pP)).defined(dP).curve(u),t(d)},mP=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?fP(e):r;return i.createElement("path",aP({},mv(e,!1),Jg(e),{className:vg("recharts-curve",t),d:a,ref:o}))};function gP(e){return gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gP(e)}var vP=["x","y","top","left","width","height","className"];function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=gP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var wP=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},SP=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,s=void 0===a?0:a,c=e.left,l=void 0===c?0:c,u=e.width,d=void 0===u?0:u,h=e.height,p=void 0===h?0:h,f=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(n),!0).forEach((function(t){EP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:l,width:d,height:p},_P(e,vP));return Ng(n)&&Ng(o)&&Ng(d)&&Ng(p)&&Ng(s)&&Ng(l)?i.createElement("path",yP({},mv(m,!0),{className:vg("recharts-cross",f),d:wP(n,o,d,p,s,l)})):null};function TP(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[FO(t,n,r,i),FO(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function CP(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return TP(t);var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,h=FO(s,c,l,d),p=FO(s,c,u,d);r=h.x,i=h.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function xP(e){return xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xP(e)}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(n),!0).forEach((function(t){OP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IP(e){var t,n=e.element,r=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName;if(!n||!n.props.cursor||!o||!a||"ScatterChart"!==h&&"axis"!==r)return null;var p=mP;if("ScatterChart"===h)t=a,p=SP;else if("BarChart"===h)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,a,c,u),p=$_;else if("radial"===d){var f=TP(a),m=f.cx,g=f.cy,v=f.radius;t={cx:m,cy:g,startAngle:f.startAngle,endAngle:f.endAngle,innerRadius:v,outerRadius:v},p=HI}else t={points:CP(d,a,c)},p=mP;var y=AP(AP(AP(AP({stroke:"#ccc",pointerEvents:"none"},c),t),mv(n.props.cursor,!1)),{},{payload:s,payloadIndex:l,className:vg("recharts-tooltip-cursor",n.props.cursor.className)});return(0,i.isValidElement)(n.props.cursor)?(0,i.cloneElement)(n.props.cursor,y):(0,i.createElement)(p,y)}var NP=["item"],kP=["children","className","width","height","style","compact","title","desc"];function PP(e){return PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(e)}function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DP.apply(this,arguments)}function LP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||GP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$P(r.key),r)}}function UP(e,t,n){return t=BP(t),function(e,t){if(t&&("object"===PP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VP(e)}(e,FP()?Reflect.construct(t,n||[],BP(e).constructor):t.apply(e,n))}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FP=function(){return!!e})()}function BP(e){return BP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BP(e)}function VP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(e,t){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WP(e,t)}function HP(e){return function(e){if(Array.isArray(e))return zP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GP(e,t){if(e){if("string"===typeof e)return zP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zP(e,t):void 0}}function zP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KP(Object(n),!0).forEach((function(t){qP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qP(e,t,n){return(t=$P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $P(e){var t=function(e,t){if("object"!=PP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PP(t)?t:String(t)}var XP={xAxis:["bottom","top"],yAxis:["left","right"]},QP={width:"100%",height:"100%"},JP={x:0,y:0};function ZP(e){return e}var eD=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(HP(e),HP(n)):e}),[]);return o.length>0?o:e&&e.length&&Ng(r)&&Ng(i)?e.slice(r,i+1):[]};function tD(e){return"number"===e?[0,"auto"]:void 0}var nD=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=eD(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var c,l,u=null!==(c=s.props.data)&&void 0!==c?c:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?l=Ug(void 0===u?a:u,o.dataKey,r):l=u&&u[n]||a[n];return l?[].concat(HP(i),[pO(s,l)]):i}),[])},rD=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,c=0;c<a;c++){var l=c>0?r[c-1].coordinate:r[a-1].coordinate,u=r[c].coordinate,d=c>=a-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Og(u-l)!==Og(d-u)){var p=[];if(Og(d-u)===Og(s[1]-s[0])){h=d;var f=u+s[1]-s[0];p[0]=Math.min(f,(f+l)/2),p[1]=Math.max(f,(f+l)/2)}else{h=l;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){o=r[c].index;break}}else{var v=Math.min(l,d),y=Math.max(l,d);if(e>(v+u)/2&&e<=(y+u)/2){o=r[c].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=nD(e,t,l,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return YP(YP(YP({},r),FO(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,c=r.angle;return YP(YP(YP({},r),FO(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return JP}(n,a,l,i);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},iD=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,h=QA(l,i);return n.reduce((function(t,n){var p,f=n.props,m=f.type,g=f.dataKey,v=f.allowDataOverflow,y=f.allowDuplicatedCategory,b=f.scale,E=f.ticks,_=f.includeHidden,w=n.props[o];if(t[w])return t;var S,T,C,x=eD(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===w})),dataStartIndex:s,dataEndIndex:c}),R=x.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&Ng(r)&&Ng(i))return!0}return!1})(n.props.domain,v,m)&&(S=uO(n.props.domain,null,v),!h||"number"!==m&&"auto"===b||(C=YA(x,g,"category")));var A=tD(m);if(!S||0===S.length){var O,I=null!==(O=n.props.domain)&&void 0!==O?O:A;if(g){if(S=YA(x,g,m),"category"===m&&h){var N=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);y&&N?(T=S,S=Rv()(0,R)):y||(S=hO(I,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(HP(e),[t])}),[]))}else if("category"===m)S=y?S.filter((function(e){return""!==e&&!Vg()(e)})):hO(I,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Vg()(t)?e:[].concat(HP(e),[t])}),[]);else if("number"===m){var k=function(e,t,n,r,i){var o=t.map((function(t){return $A(e,t,n,i,r)})).filter((function(e){return!Vg()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(x,r.filter((function(e){return e.props[o]===w&&(_||!e.props.hide)})),g,i,l);k&&(S=k)}!h||"number"!==m&&"auto"===b||(C=YA(x,g,"category"))}else S=h?Rv()(0,R):a&&a[w]&&a[w].hasStack&&"number"===m?"expand"===d?[0,1]:sO(a[w].stackGroups,s,c):XA(x,r.filter((function(e){return e.props[o]===w&&(_||!e.props.hide)})),m,l,!0);if("number"===m)S=Rk(u,S,w,i,E),I&&(S=uO(I,S,v));else if("category"===m&&I){var P=I;S.every((function(e){return P.indexOf(e)>=0}))&&(S=P)}}return YP(YP({},t),{},qP({},w,YP(YP({},n.props),{},{axisType:i,domain:S,categoricalDomain:C,duplicateDomain:T,originalDomain:null!==(p=n.props.domain)&&void 0!==p?p:A,isCategorical:h,layout:l})))}),{})},oD=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(r,"Id"),d=lv(l,i),h={};return d&&d.length?h=iD(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=eD(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:c}),h=d.length,p=QA(l,i),f=-1;return n.reduce((function(e,t){var m,g=t.props[o],v=tD("number");return e[g]?e:(f++,p?m=Rv()(0,h):a&&a[g]&&a[g].hasStack?(m=sO(a[g].stackGroups,s,c),m=Rk(u,m,g,i)):(m=uO(v,XA(d,n.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",l),r.defaultProps.allowDataOverflow),m=Rk(u,m,g,i)),YP(YP({},e),{},qP({},g,YP(YP({axisType:i},r.defaultProps),{},{hide:!0,orientation:xg()(XP,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:v,isCategorical:p,layout:l}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c})),h},aD=function(e){var t=e.children,n=e.defaultShowTooltip,r=uv(t,kO),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},sD=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cD=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,c=n.height,l=n.children,u=n.margin||{},d=uv(l,kO),h=uv(l,Hb),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:YP(YP({},e),{},qP({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),f=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:YP(YP({},e),{},qP({},r,xg()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=YP(YP({},f),p),g=m.bottom;d&&(m.bottom+=d.props.height||kO.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),c=FA({children:i,legendWidth:s});if(c){var l=r||{},u=l.width,d=l.height,h=c.align,p=c.verticalAlign,f=c.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&Ng(e[h]))return WA(WA({},e),{},HA({},h,e[h]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&Ng(e[p]))return WA(WA({},e),{},HA({},p,e[p]+(d||0)))}return e}(m,0,n,t));var v=s-m.left-m.right,y=c-m.top-m.bottom;return YP(YP({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(y,0)})},lD=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},uD=function(e){var t,n=e.chartName,r=e.GraphicalChild,o=e.defaultTooltipEventType,a=void 0===o?"axis":o,s=e.validateTooltipEventTypes,c=void 0===s?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=sD(u),m=f.numericAxisName,g=f.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ov(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,f){var b=eD(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),E=n.props,_=E.dataKey,w=E.maxBarSize,S=n.props["".concat(m,"Id")],T=n.props["".concat(g,"Id")],C=l.reduce((function(e,r){var i=t["".concat(r.axisType,"Map")],o=n.props["".concat(r.axisType,"Id")];i&&i[o]||"zAxis"===r.axisType||Nv(!1);var a=i[o];return YP(YP({},e),{},qP(qP({},r.axisType,a),"".concat(r.axisType,"Ticks"),ZA(a)))}),{}),x=C[g],R=C["".concat(g,"Ticks")],A=r&&r[S]&&r[S].hasStack&&function(e,t){var n=e.props.stackId;if(kg(n)){var r=t[n];if(r){var i=r.items.indexOf(e);return i>=0?r.stackedData[i]:null}}return null}(n,r[S].stackGroups),O=ov(n.type).indexOf("Bar")>=0,I=dO(x,R),N=[],k=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,c=a.length;s<c;s++)for(var l=i[a[s]].stackGroups,u=Object.keys(l),d=0,h=u.length;d<h;d++){var p=l[u[d]],f=p.items,m=p.cateAxisId,g=f.filter((function(e){return ov(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].props.barSize,y=g[0].props[m];o[y]||(o[y]=[]);var b=Vg()(v)?t:v;o[y].push({item:g[0],stackList:g.slice(1),barSize:Vg()(b)?void 0:Lg(b,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:lD(C,g)});if(O){var P,D,L=Vg()(w)?p:w,M=null!==(P=null!==(D=dO(x,R,!0))&&void 0!==D?D:L)&&void 0!==P?P:0;N=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var c,l=Lg(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*l)>=r&&(p-=(s-1)*l,l=0),p>=r&&h>0&&(d=!0,p=s*(h*=.9));var f={offset:((r-p)/2|0)-l,size:0};c=o.reduce((function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+l,size:d?h:t.barSize}},r=[].concat(GA(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),u)}else{var m=Lg(n,r,0,!0);r-2*m-(s-1)*l<=0&&(l=0);var g=(r-2*m-(s-1)*l)/s;g>1&&(g>>=0);var v=a===+a?Math.min(g,a):g;c=o.reduce((function(e,t,n){var r=[].concat(GA(e),[{item:t.item,position:{offset:m+(g+l)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return c}({barGap:d,barCategoryGap:h,bandSize:M!==I?M:I,sizeList:k[T],maxBarSize:L}),M!==I&&(N=N.map((function(e){return YP(YP({},e),{},{position:YP(YP({},e.position),{},{offset:e.position.offset-M/2})})})))}var j,U,F=n&&n.type&&n.type.getComposedData;F&&y.push({props:YP(YP({},F(YP(YP({},C),{},{displayedData:b,props:e,dataKey:_,item:n,bandSize:I,barPosition:N,offset:i,stackedData:A,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},qP(qP(qP({key:n.key||"item-".concat(f)},m,C[m]),g,C[g]),"animationId",o)),childIndex:(j=n,U=e.children,cv(U).indexOf(j)),item:n})})),y},f=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!dv({props:i}))return null;var c=i.children,u=i.layout,h=i.stackOffset,f=i.data,m=i.reverseStackOrder,g=sD(u),v=g.numericAxisName,y=g.cateAxisName,b=lv(c,r),E=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(kg(o)){var c=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[o]=c}else s.stackGroups[Dg("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return WA(WA({},e),{},HA({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return WA(WA({},t),{},HA({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:iO(e,a.items,i)}))}),{})),WA(WA({},t),{},HA({},o,s))}),{})}(f,b,"".concat(v,"Id"),"".concat(y,"Id"),h,m),_=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return YP(YP({},e),{},qP({},n,oD(i,YP(YP({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&E,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=cD(YP(YP({},_),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(_).forEach((function(e){_[e]=d(i,_[e],w,e.replace("Map",""),n)}));var S=function(e){var t=Mg(e),n=ZA(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ov()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:dO(t,n)}}(_["".concat(y,"Map")]),T=p(i,YP(YP({},_),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:E,offset:w}));return YP(YP({formattedGraphicalItems:T,graphicalItems:b,offset:w,stackGroups:E},S),_)};return t=function(e){function t(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qP(VP(a=UP(this,t,[e])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qP(VP(a),"accessibilityManager",new Lk),qP(VP(a),"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(YP({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},YP(YP({},a.state),{},{legendBBox:e}))))}})),qP(VP(a),"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),qP(VP(a),"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return YP({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),qP(VP(a),"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=YP(YP({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;Hg()(r)&&r(n,e)}})),qP(VP(a),"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?YP(YP({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;Hg()(r)&&r(n,e)})),qP(VP(a),"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),qP(VP(a),"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),qP(VP(a),"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),qP(VP(a),"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;Hg()(n)&&n(t,e)})),qP(VP(a),"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&iv[t]?iv[t]:null}(e),r=xg()(a.props,"".concat(n));n&&Hg()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),qP(VP(a),"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=YP(YP({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;Hg()(r)&&r(n,e)}})),qP(VP(a),"handleMouseDown",(function(e){var t=a.props.onMouseDown;Hg()(t)&&t(a.getMouseInfo(e),e)})),qP(VP(a),"handleMouseUp",(function(e){var t=a.props.onMouseUp;Hg()(t)&&t(a.getMouseInfo(e),e)})),qP(VP(a),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),qP(VP(a),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),qP(VP(a),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),qP(VP(a),"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&Ok.emit(Ik,a.props.syncId,e,a.eventEmitterSymbol)})),qP(VP(a),"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(YP({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var c=e.chartX,l=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=YP(YP({},h),{},{x:h.left,y:h.top}),v=Math.min(c,g.x+g.width),y=Math.min(l,g.y+g.height),b=p[u]&&p[u].value,E=nD(a.state,a.props.data,u),_=p[u]?{x:"horizontal"===n?p[u].coordinate:v,y:"horizontal"===n?y:p[u].coordinate}:JP;a.setState(YP(YP({},e),{},{activeLabel:b,activeCoordinate:_,activePayload:E,activeTooltipIndex:u}))}else a.setState(e)})),qP(VP(a),"renderCursor",(function(e){var t,r=a.state,o=r.isTooltipActive,s=r.activeCoordinate,c=r.activePayload,l=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=a.getTooltipEventType(),p=null!==(t=e.props.active)&&void 0!==t?t:o,f=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(IP,{key:m,activeCoordinate:s,activePayload:c,activeTooltipIndex:u,chartName:n,element:e,isActive:p,layout:f,offset:l,tooltipAxisBandSize:d,tooltipEventType:h})})),qP(VP(a),"renderPolarAxis",(function(e,t,n){var r=xg()(e,"type.axisType"),o=xg()(a.state,"".concat(r,"Map")),s=o&&o[e.props["".concat(r,"Id")]];return(0,i.cloneElement)(e,YP(YP({},s),{},{className:vg(r,s.className),key:e.key||"".concat(t,"-").concat(n),ticks:ZA(s,!0)}))})),qP(VP(a),"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,s=a.state,c=s.radiusAxisMap,l=s.angleAxisMap,u=Mg(c),d=Mg(l),h=d.cx,p=d.cy,f=d.innerRadius,m=d.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:ZA(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:ZA(u,!0).map((function(e){return e.coordinate})),cx:h,cy:p,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),qP(VP(a),"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,s=a.props.margin||{},c=r-(s.left||0)-(s.right||0),l=FA({children:n,formattedGraphicalItems:e,legendWidth:c,legendContent:u});if(!l)return null;var d=l.item,h=MP(l,NP);return(0,i.cloneElement)(d,YP(YP({},h),{},{chartWidth:r,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),qP(VP(a),"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=uv(n,Ay);if(!o)return null;var s=a.state,c=s.isTooltipActive,l=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,p=null!==(e=o.props.active)&&void 0!==e?e:c;return(0,i.cloneElement)(o,{viewBox:YP(YP({},h),{},{x:h.left,y:h.top}),active:p,label:d,payload:p?u:[],coordinate:l,accessibilityLayer:r})})),qP(VP(a),"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,s=o.offset,c=o.dataStartIndex,l=o.dataEndIndex,u=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:tO(a.handleBrushChange,e.props.onChange),data:r,x:Ng(e.props.x)?e.props.x:s.left,y:Ng(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ng(e.props.width)?e.props.width:s.width,startIndex:c,endIndex:l,updateId:"brush-".concat(u)})})),qP(VP(a),"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=VP(a).clipPathId,o=a.state,s=o.xAxisMap,c=o.yAxisMap,l=o.offset,u=e.props,d=u.xAxisId,h=u.yAxisId;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[d],yAxis:c[h],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})})),qP(VP(a),"renderActivePoints",(function(e){var n=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],c=n.props.key,l=n.item.props,u=l.activeDot,d=YP(YP({index:o,dataKey:l.dataKey,cx:r.x,cy:r.y,r:4,fill:qA(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(c,"-activePoint-").concat(o)},mv(u,!1)),Jg(u));return s.push(t.renderActiveDot(u,d)),i?s.push(t.renderActiveDot(u,YP(YP({},d),{},{cx:i.x,cy:i.y,key:"".concat(c,"-basePoint-").concat(o)}))):a&&s.push(null),s})),qP(VP(a),"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),s=a.state,c=s.isTooltipActive,l=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=uv(a.props.children,Ay),p=r.props,f=p.points,m=p.isRange,g=p.baseLine,v=r.item.props,y=v.activeDot,b=v.hide,E=v.activeBar,_=v.activeShape,w=Boolean(!b&&c&&h&&(y||E||_)),S={};"axis"!==o&&h&&"click"===h.props.trigger?S={onClick:tO(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(S={onMouseLeave:tO(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:tO(a.handleItemMouseEnter,e.props.onMouseEnter)});var T=(0,i.cloneElement)(e,YP(YP({},r.props),S));if(w){if(!(u>=0)){var C,x=(null!==(C=a.getItemByXY(a.state.activeCoordinate))&&void 0!==C?C:{graphicalItem:T}).graphicalItem,R=x.item,A=void 0===R?e:R,O=x.childIndex,I=YP(YP(YP({},r.props),S),{},{activeIndex:O});return[(0,i.cloneElement)(A,I),null,null]}var N,k;if(l.dataKey&&!l.allowDuplicatedCategory){var P="function"===typeof l.dataKey?function(e){return"function"===typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());N=Ug(f,P,d),k=m&&g&&Ug(g,P,d)}else N=null===f||void 0===f?void 0:f[u],k=m&&g&&g[u];if(_||E){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,i.cloneElement)(e,YP(YP(YP({},r.props),S),{},{activeIndex:D})),null,null]}if(!Vg()(N))return[T].concat(HP(a.renderActivePoints({item:r,activePoint:N,basePoint:k,childIndex:u,isRange:m})))}return m?[T,null,null]:[T,null]})),qP(VP(a),"renderCustomized",(function(e,t,n){return(0,i.cloneElement)(e,YP(YP({key:"recharts-customized-".concat(n)},a.props),a.state))})),qP(VP(a),"renderMap",{CartesianGrid:{handler:ZP,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:ZP},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:ZP},YAxis:{handler:ZP},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:Dg("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=bg()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}var r,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WP(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=uv(t,Ay);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,c=nD(this.state,n,a,s),l=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:l,y:u}:{y:l,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=YP(YP({},d),h.props.points[a].tooltipPosition),c=h.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:c,activeCoordinate:d};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){gv([uv(e.children,Ay)],[uv(this.props.children,Ay)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=uv(this.props.children,Ay);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return c.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var c=this.state,l=c.xAxisMap,u=c.yAxisMap;if("axis"!==this.getTooltipEventType()&&l&&u){var d=Mg(l).scale,h=Mg(u).scale,p=d&&d.invert?d.invert(o.chartX):null,f=h&&h.invert?h.invert(o.chartY):null;return YP(YP({},o),{},{xValue:p,yValue:f})}var m=rD(this.state,this.props.data,this.props.layout,s);return m?YP(YP({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,c=s.angleAxisMap,l=s.radiusAxisMap;if(c&&l){var u=Mg(c);return WO({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=uv(e,Ay),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),YP(YP({},Jg(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Ok.on(Ik,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ok.removeListener(Ik,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===ov(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=LP(t,2),r=n[0],i=n[1];return YP(YP({},e),{},qP({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=LP(t,2),r=n[0],i=n[1];return YP(YP({},e),{},qP({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,c=a.item,l=ov(c.type);if("Bar"===l){var u=(s.data||[]).find((function(t){return Y_(e,t)}));if(u)return{graphicalItem:a,payload:u}}else if("RadialBar"===l){var d=(s.data||[]).find((function(t){return WO(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if(ZI(a,r)||eN(a,r)||tN(a,r)){var h=oN({graphicalItem:a,activeTooltipItem:r,itemData:c.props.data}),p=void 0===c.props.activeIndex?h:c.props.activeIndex;return{graphicalItem:YP(YP({},a),{},{childIndex:p}),payload:tN(a,r)?c.props.data[h]:a.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!dv(this))return null;var t,n,r=this.props,o=r.children,a=r.className,s=r.width,c=r.height,l=r.style,u=r.compact,d=r.title,h=r.desc,p=MP(r,kP),f=mv(p,!1);if(u)return i.createElement(ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(Lv,DP({},f,{width:s,height:c,title:d,desc:h}),this.renderClipPath(),yv(o,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",DP({className:vg("recharts-wrapper",a),style:YP({position:"relative",cursor:"default",width:s,height:c},l)},m,{ref:function(t){e.container=t}}),i.createElement(Lv,DP({},f,{width:s,height:c,title:d,desc:h,style:QP}),this.renderClipPath(),yv(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&jP(r.prototype,o),s&&jP(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component),qP(t,"displayName",n),qP(t,"defaultProps",YP({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),qP(t,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,c=e.stackOffset,l=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=aD(e);return YP(YP(YP({},h),{},{updateId:0},f(YP(YP({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||c!==t.prevStackOffset||!Kg(l,t.prevMargin)){var p=aD(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=YP(YP({},rD(t,r,s)),{},{updateId:t.updateId+1}),v=YP(YP(YP({},p),m),g);return YP(YP(YP({},v),f(YP({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:i})}if(!gv(i,t.prevChildren)){var y,b,E,_,w=uv(i,kO),S=w&&null!==(y=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:u,T=w&&null!==(E=null===(_=w.props)||void 0===_?void 0:_.endIndex)&&void 0!==E?E:d,C=S!==u||T!==d,x=!Vg()(r)&&!C?t.updateId:t.updateId+1;return YP(YP({updateId:x},f(YP(YP({props:e},t),{},{updateId:x,dataStartIndex:S,dataEndIndex:T}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:T})}return null})),qP(t,"renderActiveDot",(function(e,t){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):Hg()(e)?e(t):i.createElement(zb,t),i.createElement(Fv,{className:"recharts-active-dot",key:t.key},n)})),t},dD=["type","layout","connectNulls","ref"];function hD(e){return hD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hD(e)}function pD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fD(){return fD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fD.apply(this,arguments)}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mD(Object(n),!0).forEach((function(t){CD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vD(e){return function(e){if(Array.isArray(e))return yD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xD(r.key),r)}}function ED(e,t,n){return t=wD(t),function(e,t){if(t&&("object"===hD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return SD(e)}(e,_D()?Reflect.construct(t,n||[],wD(e).constructor):t.apply(e,n))}function _D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_D=function(){return!!e})()}function wD(e){return wD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wD(e)}function SD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(e,t){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TD(e,t)}function CD(e,t,n){return(t=xD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xD(e){var t=function(e,t){if("object"!=hD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hD(t)?t:String(t)}var RD=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return CD(SD(e=ED(this,t,[].concat(r))),"state",{isAnimationFinished:!0,totalLength:0}),CD(SD(e),"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),CD(SD(e),"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,c=r-n,l=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){l=[].concat(vD(i.slice(0,u)),[s-d]);break}var h=l.length%2===0?[0,c]:[c];return[].concat(vD(t.repeat(i,a)),vD(l),h).map((function(e){return"".concat(e,"px")})).join(", ")})),CD(SD(e),"id",Dg("recharts-line-")),CD(SD(e),"pathRef",(function(t){e.mainCurve=t})),CD(SD(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),CD(SD(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TD(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,c=lv(n.children,DA);if(!c)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:KA(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Fv,u,c.map((function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,dataPointFormatter:l})})))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,c=o.dataKey,l=mv(this.props,!1),u=mv(a,!0),d=s.map((function(e,n){var r=gD(gD(gD({key:"dot-".concat(n),r:3},l),u),{},{value:e.value,dataKey:c,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(Fv,fD({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,c=o.connectNulls,l=(o.ref,pD(o,dD)),u=gD(gD(gD({},mv(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:c});return i.createElement(mP,fD({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,c=r.animationBegin,l=r.animationDuration,u=r.animationEasing,d=r.animationId,h=r.animateNewValues,p=r.width,f=r.height,m=this.state,g=m.prevPoints,v=m.totalLength;return i.createElement(U_,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/o.length,c=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=jg(r.x,e.x),a=jg(r.y,e.y);return gD(gD({},e),{},{x:o(i),y:a(i)})}if(h){var c=jg(2*p,e.x),l=jg(f/2,e.y);return gD(gD({},e),{},{x:c(i),y:l(i)})}return gD(gD({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(c,e,t)}var l,u=jg(0,v)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));l=n.getStrokeDasharray(u,v,d)}else l=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(o,e,t,{strokeDasharray:l})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!ZR()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.xAxis,c=t.yAxis,l=t.top,u=t.left,d=t.width,h=t.height,p=t.isAnimationActive,f=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,v=vg("recharts-line",a),y=s&&s.allowDataOverflow,b=c&&c.allowDataOverflow,E=y||b,_=Vg()(f)?this.id:f,w=null!==(e=mv(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=w.r,T=void 0===S?3:S,C=w.strokeWidth,x=void 0===C?2:C,R=(fv(r)?r:{}).clipDot,A=void 0===R||R,O=2*T+x;return i.createElement(Fv,{className:v},y||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(_)},i.createElement("rect",{x:y?u:u-d/2,y:b?l:l-h/2,width:y?d:2*d,height:b?h:2*h})),!A&&i.createElement("clipPath",{id:"clipPath-dots-".concat(_)},i.createElement("rect",{x:u-O/2,y:l-O/2,width:d+O,height:h+O}))):null,!g&&this.renderCurve(E,_),this.renderErrorBar(E,_),(g||r)&&this.renderDots(E,A,_),(!p||m)&&EI.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(vD(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(vD(r),vD(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(Hg()(e))n=e(t);else{var r=vg("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(zb,fD({},t,{className:r}))}return n}}],r&&bD(n.prototype,r),o&&bD(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);function AD(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function OD(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function ID(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function ND(e){return ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ND(e)}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kD(Object(n),!0).forEach((function(t){DD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ND(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ND(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ND(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Ng(c)||py.isSsr)return function(e,t){return AD(e,t+1)}(i,"number"===typeof c&&Ng(c)?c:0);var h=[],p="top"===s||"bottom"===s?"width":"height",f=u&&"width"===p?mw(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=Hg()(l)?l(e.value,r):e.value;return"width"===p?OD(mw(i,{fontSize:t,letterSpacing:n}),f,d):mw(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?Og(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,c=t.end,l=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[l];if(void 0===t)return{v:AD(r,u)};var o,a=l,h=function(){return void 0===o&&(o=n(t,a)),o},p=t.coordinate,f=0===l||ID(e,p,h,d,c);f||(l=0,d=s,u+=1),f&&(d=p+e*(h()/2+i),l+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,v,m,i,a):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,c=t.start,l=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-l);a[s-1]=u=PD(PD({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),ID(e,u.tickCoord,(function(){return d}),c,l)&&(l=u.tickCoord-e*(d/2+i),a[s-1]=PD(PD({},u),{},{isShow:!0}))}for(var p=o?s-1:s,f=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-c);a[t]=o=PD(PD({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=PD(PD({},o),{},{tickCoord:o.coordinate});ID(e,o.tickCoord,s,c,l)&&(c=o.tickCoord+e*(s()/2+i),a[t]=PD(PD({},o),{},{isShow:!0}))},m=0;m<p;m++)f(m);return a}(g,v,m,i,a,"preserveStartEnd"===c):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,c=t.end,l=function(t){var r,l=o[t],u=function(){return void 0===r&&(r=n(l,t)),r};if(t===a-1){var d=e*(l.coordinate+e*u()/2-c);o[t]=l=PD(PD({},l),{},{tickCoord:d>0?l.coordinate-d*e:l.coordinate})}else o[t]=l=PD(PD({},l),{},{tickCoord:l.coordinate});ID(e,l.tickCoord,u,s,c)&&(c=l.tickCoord-e*(u()/2+i),o[t]=PD(PD({},l),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return o}(g,v,m,i,a),h.filter((function(e){return e.isShow})))}CD(RD,"displayName","Line"),CD(RD,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!py.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),CD(RD,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,u=t.layout,d=c.map((function(e,t){var c=KA(e,a);return"horizontal"===u?{x:oO({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:Vg()(c)?null:r.scale(c),value:c,payload:e}:{x:Vg()(c)?null:n.scale(c),y:oO({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:c,payload:e}}));return gD({points:d,layout:u},l)}));var MD=["viewBox"],jD=["viewBox"],UD=["ticks"];function FD(e){return FD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FD(e)}function BD(){return BD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BD.apply(this,arguments)}function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VD(Object(n),!0).forEach((function(t){$D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XD(r.key),r)}}function zD(e,t,n){return t=YD(t),function(e,t){if(t&&("object"===FD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KD()?Reflect.construct(t,n||[],YD(e).constructor):t.apply(e,n))}function KD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KD=function(){return!!e})()}function YD(e){return YD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YD(e)}function qD(e,t){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qD(e,t)}function $D(e,t,n){return(t=XD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XD(e){var t=function(e,t){if("object"!=FD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FD(t)?t:String(t)}var QD=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=zD(this,t,[e])).state={fontSize:"",letterSpacing:""},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qD(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=HD(e,MD),i=this.props,o=i.viewBox,a=HD(i,jD);return!Kg(n,o)||!Kg(r,a)||!Kg(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,c=s.x,l=s.y,u=s.width,d=s.height,h=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,v=e.tickSize||p,y=Ng(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=l+ +!f*d)-g*v)-g*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=c+ +!f*u)-g*v)-g*m,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=c+ +f*u)+g*v)+g*m,a=y;break;default:t=n=e.coordinate,a=(r=(i=l+ +f*d)+g*v)+g*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,c=e.axisLine,l=WD(WD(WD({},mv(this.props,!1)),mv(c,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);l=WD(WD({},l),{},{x1:t,y1:n+u*o,x2:t+r,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);l=WD(WD({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+o})}return i.createElement("line",BD({},l,{className:vg("recharts-cartesian-axis-line",xg()(c,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,s=a.tickLine,c=a.stroke,l=a.tick,u=a.tickFormatter,d=a.unit,h=LD(WD(WD({},this.props),{},{ticks:e}),n,r),p=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=mv(this.props,!1),g=mv(l,!1),v=WD(WD({},m),{},{fill:"none"},mv(s,!1)),y=h.map((function(e,n){var r=o.getTickLineCoord(e),a=r.line,y=r.tick,b=WD(WD(WD(WD({textAnchor:p,verticalAnchor:f},m),{},{stroke:"none",fill:c},g),y),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return i.createElement(Fv,BD({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Zg(o.props,e,n)),s&&i.createElement("line",BD({},v,a,{className:vg("recharts-cartesian-axis-tick-line",xg()(s,"className"))})),l&&t.renderTickItem(l,b,"".concat(Hg()(u)?u(e.value,n):e.value).concat(d||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var c=this.props,l=c.ticks,u=HD(c,UD),d=l;return Hg()(a)&&(d=l&&l.length>0?a(this.props):a(u)),r<=0||o<=0||!d||!d.length?null:i.createElement(Fv,{className:vg("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),ZO.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):Hg()(e)?e(t):i.createElement(Gw,BD({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&GD(n.prototype,r),o&&GD(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.Component);function JD(){return JD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JD.apply(this,arguments)}$D(QD,"displayName","CartesianAxis"),$D(QD,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZD=function(e){var t=e.xAxisId,n=lk(),r=uk(),o=sk(t);return null==o?null:i.createElement(QD,JD({},o,{className:vg("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return ZA(e,!0)}}))};function eL(){return eL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eL.apply(this,arguments)}ZD.displayName="XAxis",ZD.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var tL=function(e){var t=e.yAxisId,n=lk(),r=uk(),o=ck(t);return null==o?null:i.createElement(QD,eL({},o,{className:vg("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return ZA(e,!0)}}))};tL.displayName="YAxis",tL.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var nL=uD({chartName:"LineChart",GraphicalChild:RD,axisComponents:[{axisType:"xAxis",AxisComp:ZD},{axisType:"yAxis",AxisComp:tL}],formatAxisMap:jN}),rL=["x1","y1","x2","y2","key"],iL=["offset"];function oL(e){return oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oL(e)}function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aL(Object(n),!0).forEach((function(t){cL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oL(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lL(){return lL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lL.apply(this,arguments)}function uL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dL=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height;return i.createElement("rect",{x:r,y:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hL(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(Hg()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,c=t.key,l=uL(t,rL),u=mv(l,!1),d=(u.offset,uL(u,iL));n=i.createElement("line",lL({},d,{x1:r,y1:o,x2:a,y2:s,fill:"none",key:c}))}return n}function pL(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=sL(sL({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return hL(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fL(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=sL(sL({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return hL(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mL(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,c=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=c.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,c){var l=!u[c+1]?o+s-e:u[c+1]-e;if(l<=0)return null;var d=c%t.length;return i.createElement("rect",{key:"react-".concat(c),y:e,x:r,height:l,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gL(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?a+c-e:d[t+1]-e;if(n<=0)return null;var u=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vL=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return JA(LD(sL(sL(sL({},QD.defaultProps),n),{},{ticks:ZA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},yL=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return JA(LD(sL(sL(sL({},QD.defaultProps),n),{},{ticks:ZA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},bL={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EL(e){var t,n,r,o,a,s,c=lk(),l=uk(),u=(0,i.useContext)(nk),d=sL(sL({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:bL.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:bL.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:bL.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:bL.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:bL.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:bL.verticalFill,x:Ng(e.x)?e.x:u.left,y:Ng(e.y)?e.y:u.top,width:Ng(e.width)?e.width:u.width,height:Ng(e.height)?e.height:u.height}),h=d.x,p=d.y,f=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=function(){var e=(0,i.useContext)(ZN);return Mg(e)}(),E=function(){var e=(0,i.useContext)(ek);return XN()(e,(function(e){return oI()(e.domain,Number.isFinite)}))||Mg(e)}();if(!Ng(f)||f<=0||!Ng(m)||m<=0||!Ng(h)||h!==+h||!Ng(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||vL,w=d.horizontalCoordinatesGenerator||yL,S=d.horizontalPoints,T=d.verticalPoints;if((!S||!S.length)&&Hg()(w)){var C=v&&v.length,x=w({yAxis:E?sL(sL({},E),{},{ticks:C?v:E.ticks}):void 0,width:c,height:l,offset:u},!!C||g);Fg(Array.isArray(x),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oL(x),"]")),Array.isArray(x)&&(S=x)}if((!T||!T.length)&&Hg()(_)){var R=y&&y.length,A=_({xAxis:b?sL(sL({},b),{},{ticks:R?y:b.ticks}):void 0,width:c,height:l,offset:u},!!R||g);Fg(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oL(A),"]")),Array.isArray(A)&&(T=A)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(dL,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height}),i.createElement(pL,lL({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:E})),i.createElement(fL,lL({},d,{offset:u,verticalPoints:T,xAxis:b,yAxis:E})),i.createElement(mL,lL({},d,{horizontalPoints:S})),i.createElement(gL,lL({},d,{verticalPoints:T})))}EL.displayName="CartesianGrid";var _L,wL=uD({chartName:"BarChart",GraphicalChild:IN,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ZD},{axisType:"yAxis",AxisComp:tL}],formatAxisMap:jN}),SL=["layout","type","stroke","connectNulls","isRange","ref"];function TL(e){return TL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TL(e)}function CL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xL(){return xL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xL.apply(this,arguments)}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach((function(t){LL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ML(r.key),r)}}function IL(e,t,n){return t=kL(t),function(e,t){if(t&&("object"===TL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PL(e)}(e,NL()?Reflect.construct(t,n||[],kL(e).constructor):t.apply(e,n))}function NL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NL=function(){return!!e})()}function kL(e){return kL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kL(e)}function PL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DL(e,t){return DL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DL(e,t)}function LL(e,t,n){return(t=ML(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(e){var t=function(e,t){if("object"!=TL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TL(t)?t:String(t)}var jL=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LL(PL(e=IL(this,t,[].concat(r))),"state",{isAnimationFinished:!0}),LL(PL(e),"id",Dg("recharts-area-")),LL(PL(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Hg()(t)&&t()})),LL(PL(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Hg()(t)&&t()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DL(e,t)}(t,e),n=t,r=[{key:"renderDots",value:function(e,n,r){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var s=this.props,c=s.dot,l=s.points,u=s.dataKey,d=mv(this.props,!1),h=mv(c,!0),p=l.map((function(e,n){var r=AL(AL(AL({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:l});return t.renderDotItem(c,r)})),f={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(Fv,xL({className:"recharts-area-dots"},f),p)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,o=t.strokeWidth,a=r[0].x,s=r[r.length-1].x,c=e*Math.abs(a-s),l=YR()(r.map((function(e){return e.y||0})));return Ng(n)&&"number"===typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(YR()(n.map((function(e){return e.y||0}))),l)),Ng(l)?i.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(l+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,o=t.strokeWidth,a=r[0].y,s=r[r.length-1].y,c=e*Math.abs(a-s),l=YR()(r.map((function(e){return e.x||0})));return Ng(n)&&"number"===typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(YR()(n.map((function(e){return e.x||0}))),l)),Ng(l)?i.createElement("rect",{x:0,y:a<s?a:a-c,width:l+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var o=this.props,a=o.layout,s=o.type,c=o.stroke,l=o.connectNulls,u=o.isRange,d=(o.ref,CL(o,SL));return i.createElement(Fv,{clipPath:n?"url(#clipPath-".concat(r,")"):null},i.createElement(mP,xL({},mv(d,!0),{points:e,connectNulls:l,type:s,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==c&&i.createElement(mP,xL({},mv(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:l,fill:"none",points:e})),"none"!==c&&u&&i.createElement(mP,xL({},mv(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.baseLine,s=r.isAnimationActive,c=r.animationBegin,l=r.animationDuration,u=r.animationEasing,d=r.animationId,h=this.state,p=h.prevPoints,f=h.prevBaseLine;return i.createElement(U_,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var s=r.t;if(p){var c,l=p.length/o.length,u=o.map((function(e,t){var n=Math.floor(t*l);if(p[n]){var r=p[n],i=jg(r.x,e.x),o=jg(r.y,e.y);return AL(AL({},e),{},{x:i(s),y:o(s)})}return e}));return c=Ng(a)&&"number"===typeof a?jg(f,a)(s):Vg()(a)||Tg()(a)?jg(f,0)(s):a.map((function(e,t){var n=Math.floor(t*l);if(f[n]){var r=f[n],i=jg(r.x,e.x),o=jg(r.y,e.y);return AL(AL({},e),{},{x:i(s),y:o(s)})}return e})),n.renderAreaStatically(u,c,e,t)}return i.createElement(Fv,null,i.createElement("defs",null,i.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),i.createElement(Fv,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(o,a,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,i=n.baseLine,o=n.isAnimationActive,a=this.state,s=a.prevPoints,c=a.prevBaseLine,l=a.totalLength;return o&&r&&r.length&&(!s&&l>0||!ZR()(s,r)||!ZR()(c,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.top,c=t.left,l=t.xAxis,u=t.yAxis,d=t.width,h=t.height,p=t.isAnimationActive,f=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,v=vg("recharts-area",a),y=l&&l.allowDataOverflow,b=u&&u.allowDataOverflow,E=y||b,_=Vg()(f)?this.id:f,w=null!==(e=mv(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=w.r,T=void 0===S?3:S,C=w.strokeWidth,x=void 0===C?2:C,R=(fv(r)?r:{}).clipDot,A=void 0===R||R,O=2*T+x;return i.createElement(Fv,{className:v},y||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(_)},i.createElement("rect",{x:y?c:c-d/2,y:b?s:s-h/2,width:y?d:2*d,height:b?h:2*h})),!A&&i.createElement("clipPath",{id:"clipPath-dots-".concat(_)},i.createElement("rect",{x:c-O/2,y:s-O/2,width:d+O,height:h+O}))):null,g?null:this.renderArea(E,_),(r||g)&&this.renderDots(E,A,_),(!p||m)&&EI.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],r&&OL(n.prototype,r),o&&OL(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.PureComponent);_L=jL,LL(jL,"displayName","Area"),LL(jL,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!py.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),LL(jL,"getBaseValue",(function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=null!==a&&void 0!==a?a:o;if(Ng(s)&&"number"===typeof s)return s;var c="horizontal"===i?r:n,l=c.scale.domain();if("number"===c.type){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return"dataMin"===s?l[0]:"dataMax"===s?l[1]:l[0]})),LL(jL,"getComposedData",(function(e){var t,n=e.props,r=e.item,i=e.xAxis,o=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,p=e.offset,f=n.layout,m=u&&u.length,g=_L.getBaseValue(n,r,i,o),v="horizontal"===f,y=!1,b=h.map((function(e,t){var n;m?n=u[d+t]:(n=KA(e,l),Array.isArray(n)?y=!0:n=[g,n]);var r=null==n[1]||m&&null==KA(e,l);return v?{x:oO({axis:i,ticks:a,bandSize:c,entry:e,index:t}),y:r?null:o.scale(n[1]),value:n,payload:e}:{x:r?null:i.scale(n[1]),y:oO({axis:o,ticks:s,bandSize:c,entry:e,index:t}),value:n,payload:e}}));return t=m||y?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?o.scale(t):null}:{x:null!=t?i.scale(t):null,y:e.y}})):v?o.scale(g):i.scale(g),AL({points:b,baseLine:t,layout:f,isRange:y},p)})),LL(jL,"renderDotItem",(function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(Hg()(e))n=e(t);else{var r=vg("recharts-area-dot","boolean"!==typeof e?e.className:"");n=i.createElement(zb,xL({},t,{className:r}))}return n}));var UL=uD({chartName:"AreaChart",GraphicalChild:jL,axisComponents:[{axisType:"xAxis",AxisComp:ZD},{axisType:"yAxis",AxisComp:tL}],formatAxisMap:jN});function FL(e){return Ie({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"},child:[]}]})(e)}function BL(e){return Ie({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(e)}function VL(e){return Ie({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"},child:[]}]})(e)}function WL(e){return Ie({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},child:[]},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},child:[]}]})(e)}const HL=n.p+"static/media/People_Users_White_Icon_PNG-removebg-preview.67748c5f48e870939654.png",GL=n.p+"static/media/15479354-removebg-preview.45eb5d79defe6c80e5a2.png",zL=n.p+"static/media/3840x2400-80933273-cube-sign-illustration-vector-white-icon-with-soft-shadow-on-transparent-background__1_-removebg-preview.e33ef0fde1069ba90d40.png";function KL(e,t){return function(){return e.apply(t,arguments)}}const{toString:YL}=Object.prototype,{getPrototypeOf:qL}=Object,$L=(XL=Object.create(null),e=>{const t=YL.call(e);return XL[t]||(XL[t]=t.slice(8,-1).toLowerCase())});var XL;const QL=e=>(e=e.toLowerCase(),t=>$L(t)===e),JL=e=>t=>typeof t===e,{isArray:ZL}=Array,eM=JL("undefined");const tM=QL("ArrayBuffer");const nM=JL("string"),rM=JL("function"),iM=JL("number"),oM=e=>null!==e&&"object"===typeof e,aM=e=>{if("object"!==$L(e))return!1;const t=qL(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sM=QL("Date"),cM=QL("File"),lM=QL("Blob"),uM=QL("FileList"),dM=QL("URLSearchParams"),[hM,pM,fM,mM]=["ReadableStream","Request","Response","Headers"].map(QL);function gM(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ZL(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function vM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const yM="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,bM=e=>!eM(e)&&e!==yM;const EM=(_M="undefined"!==typeof Uint8Array&&qL(Uint8Array),e=>_M&&e instanceof _M);var _M;const wM=QL("HTMLFormElement"),SM=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),TM=QL("RegExp"),CM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gM(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},xM="abcdefghijklmnopqrstuvwxyz",RM="0123456789",AM={DIGIT:RM,ALPHA:xM,ALPHA_DIGIT:xM+xM.toUpperCase()+RM};const OM=QL("AsyncFunction"),IM=(NM="function"===typeof setImmediate,kM=rM(yM.postMessage),NM?setImmediate:kM?((e,t)=>(yM.addEventListener("message",(n=>{let{source:r,data:i}=n;r===yM&&i===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),yM.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var NM,kM;const PM="undefined"!==typeof queueMicrotask?queueMicrotask.bind(yM):"undefined"!==typeof process&&process.nextTick||IM,DM={isArray:ZL,isArrayBuffer:tM,isBuffer:function(e){return null!==e&&!eM(e)&&null!==e.constructor&&!eM(e.constructor)&&rM(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||rM(e.append)&&("formdata"===(t=$L(e))||"object"===t&&rM(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tM(e.buffer),t},isString:nM,isNumber:iM,isBoolean:e=>!0===e||!1===e,isObject:oM,isPlainObject:aM,isReadableStream:hM,isRequest:pM,isResponse:fM,isHeaders:mM,isUndefined:eM,isDate:sM,isFile:cM,isBlob:lM,isRegExp:TM,isFunction:rM,isStream:e=>oM(e)&&rM(e.pipe),isURLSearchParams:dM,isTypedArray:EM,isFileList:uM,forEach:gM,merge:function e(){const{caseless:t}=bM(this)&&this||{},n={},r=(r,i)=>{const o=t&&vM(n,i)||i;aM(n[o])&&aM(r)?n[o]=e(n[o],r):aM(r)?n[o]=e({},r):ZL(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&gM(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return gM(t,((t,r)=>{n&&rM(t)?e[r]=KL(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&qL(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:$L,kindOfTest:QL,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ZL(e))return e;let t=e.length;if(!iM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:wM,hasOwnProperty:SM,hasOwnProp:SM,reduceDescriptors:CM,freezeMethods:e=>{CM(e,((t,n)=>{if(rM(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];rM(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return ZL(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:vM,global:yM,isContextDefined:bM,ALPHABET:AM,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AM.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&rM(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(oM(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=ZL(e)?[]:{};return gM(e,((e,t)=>{const o=n(e,r+1);!eM(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:OM,isThenable:e=>e&&(oM(e)||rM(e))&&rM(e.then)&&rM(e.catch),setImmediate:IM,asap:PM};function LM(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}DM.inherits(LM,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:DM.toJSONObject(this.config),code:this.code,status:this.status}}});const MM=LM.prototype,jM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{jM[e]={value:e}})),Object.defineProperties(LM,jM),Object.defineProperty(MM,"isAxiosError",{value:!0}),LM.from=(e,t,n,r,i,o)=>{const a=Object.create(MM);return DM.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),LM.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const UM=LM;function FM(e){return DM.isPlainObject(e)||DM.isArray(e)}function BM(e){return DM.endsWith(e,"[]")?e.slice(0,-2):e}function VM(e,t,n){return e?e.concat(t).map((function(e,t){return e=BM(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const WM=DM.toFlatObject(DM,{},null,(function(e){return/^is[A-Z]/.test(e)}));const HM=function(e,t,n){if(!DM.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=DM.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!DM.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&DM.isSpecCompliantForm(t);if(!DM.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(DM.isDate(e))return e.toISOString();if(!s&&DM.isBlob(e))throw new UM("Blob is not supported. Use a Buffer instead.");return DM.isArrayBuffer(e)||DM.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(DM.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(DM.isArray(e)&&function(e){return DM.isArray(e)&&!e.some(FM)}(e)||(DM.isFileList(e)||DM.endsWith(n,"[]"))&&(s=DM.toArray(e)))return n=BM(n),s.forEach((function(e,r){!DM.isUndefined(e)&&null!==e&&t.append(!0===a?VM([n],r,o):null===a?n:n+"[]",c(e))})),!1;return!!FM(e)||(t.append(VM(i,n,o),c(e)),!1)}const u=[],d=Object.assign(WM,{defaultVisitor:l,convertValue:c,isVisitable:FM});if(!DM.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!DM.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),DM.forEach(n,(function(n,o){!0===(!(DM.isUndefined(n)||null===n)&&i.call(t,n,DM.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function GM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function zM(e,t){this._pairs=[],e&&HM(e,this,t)}const KM=zM.prototype;KM.append=function(e,t){this._pairs.push([e,t])},KM.toString=function(e){const t=e?function(t){return e.call(this,t,GM)}:GM;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const YM=zM;function qM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $M(e,t,n){if(!t)return e;const r=n&&n.encode||qM,i=n&&n.serialize;let o;if(o=i?i(t,n):DM.isURLSearchParams(t)?t.toString():new YM(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const XM=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){DM.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},QM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JM={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:YM,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ZM="undefined"!==typeof window&&"undefined"!==typeof document,ej="object"===typeof navigator&&navigator||void 0,tj=ZM&&(!ej||["ReactNative","NativeScript","NS"].indexOf(ej.product)<0),nj="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,rj=ZM&&window.location.href||"http://localhost",ij={...t,...JM};const oj=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&DM.isArray(r)?r.length:o,s)return DM.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&DM.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&DM.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(DM.isFormData(e)&&DM.isFunction(e.entries)){const n={};return DM.forEachEntry(e,((e,r)=>{t(function(e){return DM.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const aj={transitional:QM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=DM.isObject(e);i&&DM.isHTMLForm(e)&&(e=new FormData(e));if(DM.isFormData(e))return r?JSON.stringify(oj(e)):e;if(DM.isArrayBuffer(e)||DM.isBuffer(e)||DM.isStream(e)||DM.isFile(e)||DM.isBlob(e)||DM.isReadableStream(e))return e;if(DM.isArrayBufferView(e))return e.buffer;if(DM.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return HM(e,new ij.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ij.isNode&&DM.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=DM.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return HM(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(DM.isString(e))try{return(t||JSON.parse)(e),DM.trim(e)}catch(F1){if("SyntaxError"!==F1.name)throw F1}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||aj.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(DM.isResponse(e)||DM.isReadableStream(e))return e;if(e&&DM.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(F1){if(n){if("SyntaxError"===F1.name)throw UM.from(F1,UM.ERR_BAD_RESPONSE,this,null,this.response);throw F1}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ij.classes.FormData,Blob:ij.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};DM.forEach(["delete","get","head","post","put","patch"],(e=>{aj.headers[e]={}}));const sj=aj,cj=DM.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lj=Symbol("internals");function uj(e){return e&&String(e).trim().toLowerCase()}function dj(e){return!1===e||null==e?e:DM.isArray(e)?e.map(dj):String(e)}function hj(e,t,n,r,i){return DM.isFunction(r)?r.call(this,t,n):(i&&(t=n),DM.isString(t)?DM.isString(r)?-1!==t.indexOf(r):DM.isRegExp(r)?r.test(t):void 0:void 0)}class pj{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=uj(t);if(!i)throw new Error("header name must be a non-empty string");const o=DM.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=dj(e))}const o=(e,t)=>DM.forEach(e,((e,n)=>i(e,n,t)));if(DM.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(DM.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&cj[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(DM.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=uj(e)){const n=DM.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(DM.isFunction(t))return t.call(this,e,n);if(DM.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=uj(e)){const n=DM.findKey(this,e);return!(!n||void 0===this[n]||t&&!hj(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=uj(e)){const i=DM.findKey(n,e);!i||t&&!hj(0,n[i],i,t)||(delete n[i],r=!0)}}return DM.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!hj(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return DM.forEach(this,((r,i)=>{const o=DM.findKey(n,i);if(o)return t[o]=dj(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=dj(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return DM.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&DM.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[lj]=this[lj]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=uj(e);t[r]||(!function(e,t){const n=DM.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return DM.isArray(e)?e.forEach(r):r(e),this}}pj.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),DM.reduceDescriptors(pj.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),DM.freezeMethods(pj);const fj=pj;function mj(e,t){const n=this||sj,r=t||n,i=fj.from(r.headers);let o=r.data;return DM.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function gj(e){return!(!e||!e.__CANCEL__)}function vj(e,t,n){UM.call(this,null==e?"canceled":e,UM.ERR_CANCELED,t,n),this.name="CanceledError"}DM.inherits(vj,UM,{__CANCEL__:!0});const yj=vj;function bj(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new UM("Request failed with status code "+n.status,[UM.ERR_BAD_REQUEST,UM.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ej=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[a];i||(i=c),n[o]=s,r[o]=c;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};const _j=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];t>=o?a(c,e):(n=c,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},wj=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Ej(50,250);return _j((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,c=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Sj=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Tj=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return DM.asap((()=>e(...n)))},Cj=ij.hasStandardBrowserEnv?function(){const e=ij.navigator&&/(msie|trident)/i.test(ij.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=DM.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},xj=ij.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];DM.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),DM.isString(r)&&a.push("path="+r),DM.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Rj(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Aj=e=>e instanceof fj?{...e}:e;function Oj(e,t){t=t||{};const n={};function r(e,t,n){return DM.isPlainObject(e)&&DM.isPlainObject(t)?DM.merge.call({caseless:n},e,t):DM.isPlainObject(t)?DM.merge({},t):DM.isArray(t)?t.slice():t}function i(e,t,n){return DM.isUndefined(t)?DM.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!DM.isUndefined(t))return r(void 0,t)}function a(e,t){return DM.isUndefined(t)?DM.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Aj(e),Aj(t),!0)};return DM.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=c[r]||i,a=o(e[r],t[r],r);DM.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Ij=e=>{const t=Oj({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=fj.from(s),t.url=$M(Rj(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),DM.isFormData(r))if(ij.hasStandardBrowserEnv||ij.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ij.hasStandardBrowserEnv&&(i&&DM.isFunction(i)&&(i=i(t)),i||!1!==i&&Cj(t.url))){const e=o&&a&&xj.read(a);e&&s.set(o,e)}return t},Nj="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ij(e);let i=r.data;const o=fj.from(r.headers).normalize();let a,s,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=fj.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());bj((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new UM("Request aborted",UM.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new UM("Network Error",UM.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||QM;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new UM(t,i.clarifyTimeoutError?UM.ETIMEDOUT:UM.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&DM.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),DM.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([c,u]=wj(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,l]=wj(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new yj(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===ij.protocols.indexOf(v)?n(new UM("Unsupported protocol "+v+":",UM.ERR_BAD_REQUEST,e)):m.send(i||null)}))},kj=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof UM?t:new yj(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new UM(`timeout ${t} of ms exceeded`,UM.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>DM.asap(a),s}},Pj=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Dj=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Lj=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Dj(e))yield*Pj(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},Mj="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,jj=Mj&&"function"===typeof ReadableStream,Uj=Mj&&("function"===typeof TextEncoder?(Fj=new TextEncoder,e=>Fj.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Fj;const Bj=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(F1){return!1}},Vj=jj&&Bj((()=>{let e=!1;const t=new Request(ij.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Wj=jj&&Bj((()=>DM.isReadableStream(new Response("").body))),Hj={stream:Wj&&(e=>e.body)};var Gj;Mj&&(Gj=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Hj[e]&&(Hj[e]=DM.isFunction(Gj[e])?t=>t[e]():(t,n)=>{throw new UM(`Response type '${e}' is not supported`,UM.ERR_NOT_SUPPORT,n)})})));const zj=async(e,t)=>{const n=DM.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(DM.isBlob(e))return e.size;if(DM.isSpecCompliantForm(e)){const t=new Request(ij.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return DM.isArrayBufferView(e)||DM.isArrayBuffer(e)?e.byteLength:(DM.isURLSearchParams(e)&&(e+=""),DM.isString(e)?(await Uj(e)).byteLength:void 0)})(t):n},Kj=Mj&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Ij(e);l=l?(l+"").toLowerCase():"text";let p,f=kj([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&Vj&&"get"!==n&&"head"!==n&&0!==(g=await zj(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(DM.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Sj(g,wj(Tj(c)));r=Lj(n.body,65536,e,t)}}DM.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(p);const a=Wj&&("stream"===l||"response"===l);if(Wj&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=DM.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&Sj(t,wj(Tj(s),!0))||[];o=new Response(Lj(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let v=await Hj[DM.findKey(Hj,l)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{bj(t,n,{data:v,headers:fj.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new UM("Network Error",UM.ERR_NETWORK,e,p),{cause:v.cause||v});throw UM.from(v,v&&v.code,e,p)}}),Yj={http:null,xhr:Nj,fetch:Kj};DM.forEach(Yj,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(F1){}Object.defineProperty(e,"adapterName",{value:t})}}));const qj=e=>`- ${e}`,$j=e=>DM.isFunction(e)||null===e||!1===e,Xj=e=>{e=DM.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!$j(n)&&(r=Yj[(t=String(n)).toLowerCase()],void 0===r))throw new UM(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(qj).join("\n"):" "+qj(e[0]):"as no adapter specified";throw new UM("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Qj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yj(null,e)}function Jj(e){Qj(e),e.headers=fj.from(e.headers),e.data=mj.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Xj(e.adapter||sj.adapter)(e).then((function(t){return Qj(e),t.data=mj.call(e,e.transformResponse,t),t.headers=fj.from(t.headers),t}),(function(t){return gj(t)||(Qj(e),t&&t.response&&(t.response.data=mj.call(e,e.transformResponse,t.response),t.response.headers=fj.from(t.response.headers))),Promise.reject(t)}))}const Zj="1.7.7",eU={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{eU[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const tU={};eU.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new UM(r(i," has been removed"+(t?" in "+t:"")),UM.ERR_DEPRECATED);return t&&!tU[i]&&(tU[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const nU={assertOptions:function(e,t,n){if("object"!==typeof e)throw new UM("options must be an object",UM.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new UM("option "+o+" must be "+n,UM.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new UM("Unknown option "+o,UM.ERR_BAD_OPTION)}},validators:eU},rU=nU.validators;class iU{constructor(e){this.defaults=e,this.interceptors={request:new XM,response:new XM}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(F1){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Oj(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&nU.assertOptions(n,{silentJSONParsing:rU.transitional(rU.boolean),forcedJSONParsing:rU.transitional(rU.boolean),clarifyTimeoutError:rU.transitional(rU.boolean)},!1),null!=r&&(DM.isFunction(r)?t.paramsSerializer={serialize:r}:nU.assertOptions(r,{encode:rU.function,serialize:rU.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&DM.merge(i.common,i[t.method]);i&&DM.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=fj.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Jj.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{l=Jj.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return $M(Rj((e=Oj(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}DM.forEach(["delete","get","head","options"],(function(e){iU.prototype[e]=function(t,n){return this.request(Oj(n||{},{method:e,url:t,data:(n||{}).data}))}})),DM.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Oj(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}iU.prototype[e]=t(),iU.prototype[e+"Form"]=t(!0)}));const oU=iU;class aU{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new yj(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new aU((function(t){e=t}));return{token:t,cancel:e}}}const sU=aU;const cU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cU).forEach((e=>{let[t,n]=e;cU[n]=t}));const lU=cU;const uU=function e(t){const n=new oU(t),r=KL(oU.prototype.request,n);return DM.extend(r,oU.prototype,n,{allOwnKeys:!0}),DM.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Oj(t,n))},r}(sj);uU.Axios=oU,uU.CanceledError=yj,uU.CancelToken=sU,uU.isCancel=gj,uU.VERSION=Zj,uU.toFormData=HM,uU.AxiosError=UM,uU.Cancel=uU.CanceledError,uU.all=function(e){return Promise.all(e)},uU.spread=function(e){return function(t){return e.apply(null,t)}},uU.isAxiosError=function(e){return DM.isObject(e)&&!0===e.isAxiosError},uU.mergeConfig=Oj,uU.AxiosHeaders=fj,uU.formToJSON=e=>oj(DM.isHTMLForm(e)?new FormData(e):e),uU.getAdapter=Xj,uU.HttpStatusCode=lU,uU.default=uU;const dU=uU,hU="https://py.koottuapp.in",pU=async(e,t,n,r)=>{const i={method:e,url:t,data:n,headers:r||{"Content-Type":"application/json"}};return await dU(i).then((e=>e)).catch((e=>e))},fU=async()=>{try{const e="GET",t=`${hU}/api/full_report/`,n=await pU(e,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to fetch full report data")}catch(e){throw console.error("Error fetching full report data:",e.message),console.log(e.data),e}},mU=async()=>{try{const e=await dU.get(`${hU}/api/user-statistics/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Users data")}catch(e){throw console.error("Error fetching Users data:",e.message),e}},gU=async()=>{try{return(await dU.get(`${hU}/api/recharge-plan-categories/`)).data}catch(e){throw console.error("Error fetching categories:",e.response?e.response.data:e.message),e}},vU=async e=>{try{const t=await dU.get(`${hU}/api/single-executives/${e}/`);if(200===t.status&&t.data)return console.log("executive Data Response:",t.data),t.data;throw new Error("Failed to fetch user data")}catch(t){throw console.error("Error fetching user data:",t.message),t}},yU=async e=>{try{const t=await dU.get(`${hU}/api/users/${e}/`);if(200===t.status&&t.data)return console.log("User Data Response:",t.data),t.data;throw new Error("Failed to fetch user data")}catch(t){throw console.error("Error fetching user data:",t.message),console.log(t.data),t}},bU=async e=>{try{const t=await dU.get(`${hU}/api/user-statistics/${e}/`);if(200===t.status&&t.data)return console.log("singleuser",t),t.data;throw new Error("Failed to fetch user data")}catch(t){throw console.error("Error fetching user data:",t.message),console.log(t.data),t}},EU=async(e,t)=>{try{const n=await dU.get(`${hU}/api/executive-report/${e}/?period=${t}`);if(200===n.status&&n.data)return console.log("singleexe",n),n.data;throw new Error("Failed to fetch executive data")}catch(r){var n;throw console.error("Error fetching executive data:",r.message),console.log(null===(n=r.response)||void 0===n?void 0:n.data),r}},_U=async e=>{try{if(204===(await dU.delete(`${hU}/api/users/${e}/`)).status)return{message:"User deleted successfully"};throw new Error("Failed to delete the user")}catch(t){throw console.error("Error deleting user:",t.message),t}},wU=async e=>{try{if(204===(await dU.delete(`${hU}/api/single-executives/${e}/`)).status)return{message:"Executive deleted successfully"};throw new Error("Failed to delete the executive")}catch(t){throw console.error("Error deleting executive:",t.message),t}},SU=async e=>{try{const t=await dU.get(`${hU}/api/exe-call-history/${e}/`);if(200===t.status&&t.data)return console.log("executivecall",t.data),t.data;throw new Error("Failed to fetch call history data")}catch(t){throw console.error("Error fetching call history data:",t.message),console.log(t.data),t}},TU=async e=>{try{return(await dU.get(`${hU}/api/call-history/${e}/`)).data}catch(t){if(t.response&&404===t.response.status)return console.warn("No call history found for this user."),[];throw console.error("Error fetching call history data:",t.message),t}},CU=async(e,t)=>{try{const n=await dU.patch(`${hU}/api/single-executives/${e}/`,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to update user data")}catch(n){throw console.error("Error updating user data:",n.message),n}},xU=async e=>{try{const t=await dU.post(`${hU}/api/ban-executive/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},RU=async e=>{try{const t=await dU.post(`${hU}/api/executive-suspend/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},AU=async e=>{try{const t=await dU.patch(`${hU}/api/executives/${e}/set_online/`);if(200===t.status)return t.data;throw new Error("Failed to online the executive")}catch(t){throw console.error("Error onining the executive:",t.message),t}},OU=async e=>{try{const t=await dU.patch(`${hU}/api/executives/${e}/set_offline/`);if(200===t.status)return t.data;throw new Error("Failed to online the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},IU=async e=>{try{const t=await dU.post(`${hU}/api/executive-unban/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},NU=async e=>{try{const t=await dU.post(`${hU}/api/executive-unsuspend/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},kU=async()=>{try{const e=await dU.get(`${hU}/api/recharge-plans/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch package data")}catch(e){throw console.error("Error fetching package data:",e.message),console.log(e.data),e}},PU=async()=>{try{const e=await dU.get(`${hU}/api/call-statistics/weekly/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch callstatistics data")}catch(e){throw console.error("Error fetching callstatistics data:",e.message),e}},DU=async()=>{try{const e=await dU.get(`${hU}/api/call-statistics/monthly/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch callstatistics data")}catch(e){throw console.error("Error fetching callstatistics data:",e.message),e}},LU=async()=>{try{const e=await dU.get(`${hU}/api/up-del-revenue-target/1/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Revenue data")}catch(e){throw console.error("Error fetching Revenue data:",e.message),e}},MU=async e=>{try{const t=await dU.post(`${hU}/api/ban-user/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the user")}catch(t){throw console.error("Error banning the user:",t.message),t}},jU=async e=>{try{const t=await dU.post(`${hU}/api/user-suspend/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the user")}catch(t){throw console.error("Error banning the user:",t.message),t}},UU=async e=>{try{const t=await dU.post(`${hU}/api/user-unban/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to unban the user")}catch(t){throw console.error("Error banning the executive:",t.message),t}},FU=async e=>{try{const t=await dU.post(`${hU}/api/user-unsuspend/${e}/`);if(200===t.status)return t.data;throw new Error("Failed to ban the executive")}catch(t){throw console.error("Error banning the executive:",t.message),t}},BU=async()=>{try{const e=await dU.get(`${hU}/api/executive-stats/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch executivestatistics data")}catch(e){throw console.error("Error fetching executivestatistics data:",e.message),e}},VU=async e=>{try{const t=await dU.get(`${hU}/api/total-coins-spend/${e}/`);if(200===t.status&&t.data)return console.log("usercoinspend",t.data),t.data;throw new Error("Failed to fetch user coin data")}catch(t){throw console.error("Error fetching user coin data:",t.message),console.log(t.data),t}},WU=async e=>{try{const t=await dU.get(`${hU}/api/user/${e}/executive-ratings/`);if(200===t.status&&t.data)return console.log("usercallrating",t.data),t.data;throw new Error("Failed to fetch user rating data")}catch(n){var t;throw console.error("Error fetching user rating data:",n.message),console.log((null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},HU=async(e,t)=>{try{const n=await dU.post(`${hU}/api/recharge-admin/${e}/plan/${t}/`);if(200===n.status)return n.data;throw new Error("Failed to add coin to user")}catch(n){throw console.error("Error adding coin to the user:",n.message),n}},GU=async e=>{try{const t=await dU.get(`${hU}/api/mycoins/${e}/`);if(200===t.status&&t.data)return console.log("usercoinbalance",t.data),t.data;throw new Error("Failed to fetch user coin balance data")}catch(n){var t;throw console.error("Error fetching user coin balance data:",n.message),console.log((null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},zU=async e=>{try{const t=await dU.get(`${hU}/api/blocked-users/${e}/`);if(200===t.status&&t.data)return console.log(t.data),t.data;throw new Error("Failed to fetch blocked users data")}catch(t){throw console.error("Error fetching blocked users data:",t.message),console.log(t.data),t}},KU=async e=>{try{const t=await dU.get(`${hU}/api/executive/${e}/single-profile-picture/`);if(200===t.status&&t.data)return console.log(t.data),t.data;throw new Error("Failed to fetch profile request data")}catch(t){throw console.error("Error fetching profile request data:",t.message),console.log(t.data),t}},YU=async(e,t)=>{try{const n=await dU.patch(`${hU}/api/executive/${e}/approve-reject/`,t,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return n.data;throw new Error("Failed to update the profile")}catch(n){throw console.error("Error updating the profile:",n.message),n}},qU=async e=>{try{const t="GET",n=`${hU}/api/admin/update/${e}/`,r=await pU(t,n);if(200===r.status&&r.data)return r.data;throw new Error("Failed to fetch profile data")}catch(t){throw console.error("Error fetching profile data:",t.message),console.log(t.data),t}},$U=async e=>{try{const t=new FormData;t.append("mobile_number",e);const n=await dU.post(`${hU}/api/password-reset/send-otp/`,t,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return n;throw new Error("Failed to send OTP")}catch(t){throw console.error("Error sending OTP:",t.message),t}},XU=async e=>{let{mobile_number:t,new_password:n,otp:r}=e;try{const e=new FormData;e.append("mobile_number",t),e.append("new_password",n),e.append("otp",r);const i=await dU.post(`${hU}/api/password-reset/verify-otp/`,e,{headers:{"Content-Type":"multipart/form-data"}});if(200===i.status)return i;throw new Error("Failed to reset password")}catch(i){throw console.error("Error resetting password:",i.message),i}};var QU=n(5751);hr().string,hr().bool,hr().bool,hr().bool,hr().bool;const JU=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,fluid:i=!1,rounded:o=!1,roundedCircle:a=!1,thumbnail:s=!1,...c}=e;return n=wt(n,"img"),(0,gt.jsx)("img",{ref:t,...c,className:ot()(r,i&&`${n}-fluid`,o&&"rounded",a&&"rounded-circle",s&&`${n}-thumbnail`)})}));JU.displayName="Image";const ZU=JU;var eF;function tF(e){if((!eF&&0!==eF||e)&&$t){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),eF=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return eF}const nF=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"modal-body"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));nF.displayName="ModalBody";const rF=nF,iF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:o,size:a,fullscreen:s,children:c,scrollable:l,...u}=e;n=wt(n,"modal");const d=`${n}-dialog`,h="string"===typeof s?`${n}-fullscreen-${s}`:`${n}-fullscreen`;return(0,gt.jsx)("div",{...u,ref:t,className:ot()(d,r,a&&`${n}-${a}`,o&&`${d}-centered`,l&&`${d}-scrollable`,s&&h),children:(0,gt.jsx)("div",{className:ot()(`${n}-content`,i),children:c})})}));iF.displayName="ModalDialog";const oF=iF,aF=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"modal-footer"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));aF.displayName="ModalFooter";const sF=aF,cF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...a}=e;return n=wt(n,"modal-header"),(0,gt.jsx)(vr,{ref:t,...a,className:ot()(r,n),closeLabel:i,closeButton:o})}));cF.displayName="ModalHeader";const lF=cF,uF=Er("h4"),dF=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=uF,...o}=e;return r=wt(r,"modal-title"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));dF.displayName="ModalTitle";const hF=dF;function pF(e){return(0,gt.jsx)(ir,{...e,timeout:null})}function fF(e){return(0,gt.jsx)(ir,{...e,timeout:null})}const mF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,style:o,dialogClassName:a,contentClassName:s,children:c,dialogAs:l=oF,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":p,show:f=!1,animation:m=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:E,container:_,autoFocus:w=!0,enforceFocus:S=!0,restoreFocus:T=!0,restoreFocusOptions:C,onEntered:x,onExit:R,onExiting:A,onEnter:O,onEntering:I,onExited:N,backdropClassName:k,manager:P,...D}=e;const[L,M]=(0,i.useState)({}),[j,U]=(0,i.useState)(!1),F=(0,i.useRef)(!1),B=(0,i.useRef)(!1),V=(0,i.useRef)(null),[W,H]=qr(),G=un(t,H),z=wn(E),K=Ct();n=wt(n,"modal");const Y=(0,i.useMemo)((()=>({onHide:z})),[z]);function q(){return P||kr({isRTL:K})}function $(e){if(!$t)return;const t=q().getScrollbarWidth()>0,n=e.scrollHeight>At(e).documentElement.clientHeight;M({paddingRight:t&&!n?tF():void 0,paddingLeft:!t&&n?tF():void 0})}const X=wn((()=>{W&&$(W.dialog)}));Ln((()=>{en(window,"resize",X),null==V.current||V.current()}));const Q=()=>{F.current=!0},J=e=>{F.current&&W&&e.target===W.dialog&&(B.current=!0),F.current=!1},Z=()=>{U(!0),V.current=rn(W.dialog,(()=>{U(!1)}))},ee=e=>{"static"!==g?B.current||e.target!==e.currentTarget?B.current=!1:null==E||E():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,i.useCallback)((e=>(0,gt.jsx)("div",{...e,className:ot()(`${n}-backdrop`,k,!m&&"show")})),[m,k,n]),ne={...o,...L};ne.display="block";return(0,gt.jsx)(ur.Provider,{value:Y,children:(0,gt.jsx)(tr,{show:f,ref:G,backdrop:g,container:_,keyboard:!0,autoFocus:w,enforceFocus:S,restoreFocus:T,restoreFocusOptions:C,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&Z())},onShow:b,onHide:E,onEnter:(e,t)=>{e&&$(e),null==O||O(e,t)},onEntering:(e,t)=>{null==I||I(e,t),Zt(window,"resize",X)},onEntered:x,onExit:e=>{null==V.current||V.current(),null==R||R(e)},onExiting:A,onExited:e=>{e&&(e.style.display=""),null==N||N(e),en(window,"resize",X)},manager:q(),transition:m?pF:void 0,backdropTransition:m?fF:void 0,renderBackdrop:te,renderDialog:e=>(0,gt.jsx)("div",{role:"dialog",...e,style:ne,className:ot()(r,n,j&&`${n}-static`,!m&&"show"),onClick:g?ee:void 0,onMouseUp:J,"data-bs-theme":u,"aria-label":p,"aria-labelledby":d,"aria-describedby":h,children:(0,gt.jsx)(l,{...D,onMouseDown:Q,className:a,contentClassName:s,children:c})})})})}));mF.displayName="Modal";const gF=Object.assign(mF,{Body:rF,Header:lF,Title:hF,Footer:sF,Dialog:oF,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),vF={type:hr().string,tooltip:hr().bool,as:hr().elementType},yF=i.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...a}=e;return(0,gt.jsx)(n,{...a,ref:t,className:ot()(r,`${i}-${o?"tooltip":"feedback"}`)})}));yF.displayName="Feedback",yF.propTypes=vF;const bF=yF,EF=i.createContext({}),_F=i.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,className:o,type:a="checkbox",isValid:s=!1,isInvalid:c=!1,as:l="input",...u}=e;const{controlId:d}=(0,i.useContext)(EF);return r=wt(r,"form-check-input"),(0,gt.jsx)(l,{...u,ref:t,type:a,id:n||d,className:ot()(o,r,s&&"is-valid",c&&"is-invalid")})}));_F.displayName="FormCheckInput";const wF=_F,SF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,htmlFor:o,...a}=e;const{controlId:s}=(0,i.useContext)(EF);return n=wt(n,"form-check-label"),(0,gt.jsx)("label",{...a,ref:t,htmlFor:o||s,className:ot()(r,n)})}));SF.displayName="FormCheckLabel";const TF=SF;const CF=i.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:o,inline:a=!1,reverse:s=!1,disabled:c=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:p,className:f,style:m,title:g="",type:v="checkbox",label:y,children:b,as:E="input",..._}=e;r=wt(r,"form-check"),o=wt(o,"form-switch");const{controlId:w}=(0,i.useContext)(EF),S=(0,i.useMemo)((()=>({controlId:n||w})),[w,n]),T=!b&&null!=y&&!1!==y||function(e,t){return i.Children.toArray(e).some((e=>i.isValidElement(e)&&e.type===t))}(b,TF),C=(0,gt.jsx)(wF,{..._,type:"switch"===v?"checkbox":v,ref:t,isValid:l,isInvalid:u,disabled:c,as:E});return(0,gt.jsx)(EF.Provider,{value:S,children:(0,gt.jsx)("div",{style:m,className:ot()(f,T&&r,a&&`${r}-inline`,s&&`${r}-reverse`,"switch"===v&&o),children:b||(0,gt.jsxs)(gt.Fragment,{children:[C,T&&(0,gt.jsx)(TF,{title:g,children:y}),h&&(0,gt.jsx)(bF,{type:p,tooltip:d,children:h})]})})})}));CF.displayName="FormCheck";const xF=Object.assign(CF,{Input:wF,Label:TF}),RF=i.forwardRef(((e,t)=>{let{bsPrefix:n,type:r,size:o,htmlSize:a,id:s,className:c,isValid:l=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:p="input",...f}=e;const{controlId:m}=(0,i.useContext)(EF);return n=wt(n,"form-control"),(0,gt.jsx)(p,{...f,type:r,size:a,ref:t,readOnly:h,id:s||m,className:ot()(c,d?`${n}-plaintext`:n,o&&`${n}-${o}`,"color"===r&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})}));RF.displayName="FormControl";const AF=Object.assign(RF,{Feedback:bF}),OF=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"form-floating"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));OF.displayName="FormFloating";const IF=OF,NF=i.forwardRef(((e,t)=>{let{controlId:n,as:r="div",...o}=e;const a=(0,i.useMemo)((()=>({controlId:n})),[n]);return(0,gt.jsx)(EF.Provider,{value:a,children:(0,gt.jsx)(r,{...o,ref:t})})}));NF.displayName="FormGroup";const kF=NF,PF=i.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:r,column:o=!1,visuallyHidden:a=!1,className:s,htmlFor:c,...l}=e;const{controlId:u}=(0,i.useContext)(EF);r=wt(r,"form-label");let d="col-form-label";"string"===typeof o&&(d=`${d} ${d}-${o}`);const h=ot()(s,r,a&&"visually-hidden",o&&d);return c=c||u,o?(0,gt.jsx)(qa,{ref:t,as:"label",className:h,htmlFor:c,...l}):(0,gt.jsx)(n,{ref:t,className:h,htmlFor:c,...l})}));PF.displayName="FormLabel";const DF=PF,LF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,id:o,...a}=e;const{controlId:s}=(0,i.useContext)(EF);return n=wt(n,"form-range"),(0,gt.jsx)("input",{...a,type:"range",ref:t,className:ot()(r,n),id:o||s})}));LF.displayName="FormRange";const MF=LF,jF=i.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,htmlSize:o,className:a,isValid:s=!1,isInvalid:c=!1,id:l,...u}=e;const{controlId:d}=(0,i.useContext)(EF);return n=wt(n,"form-select"),(0,gt.jsx)("select",{...u,size:o,ref:t,className:ot()(a,n,r&&`${n}-${r}`,s&&"is-valid",c&&"is-invalid"),id:l||d})}));jF.displayName="FormSelect";const UF=jF,FF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...a}=e;return n=wt(n,"form-text"),(0,gt.jsx)(i,{...a,ref:t,className:ot()(r,n,o&&"text-muted")})}));FF.displayName="FormText";const BF=FF,VF=i.forwardRef(((e,t)=>(0,gt.jsx)(xF,{...e,ref:t,type:"switch"})));VF.displayName="Switch";const WF=Object.assign(VF,{Input:xF.Input,Label:xF.Label}),HF=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:a,...s}=e;return n=wt(n,"form-floating"),(0,gt.jsxs)(kF,{ref:t,className:ot()(r,n),controlId:o,...s,children:[i,(0,gt.jsx)("label",{htmlFor:o,children:a})]})}));HF.displayName="FloatingLabel";const GF=HF,zF={_ref:hr().any,validated:hr().bool,as:hr().elementType},KF=i.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,gt.jsx)(i,{...o,ref:t,className:ot()(n,r&&"was-validated")})}));KF.displayName="Form",KF.propTypes=zF;const YF=Object.assign(KF,{Group:kF,Control:AF,Floating:IF,Check:xF,Switch:WF,Label:DF,Text:BF,Range:MF,Select:UF,FloatingLabel:GF}),qF=e=>"number"==typeof e&&!isNaN(e),$F=e=>"string"==typeof e,XF=e=>"function"==typeof e,QF=e=>$F(e)||XF(e)?e:null,JF=e=>(0,i.isValidElement)(e)||$F(e)||XF(e)||qF(e);function ZF(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:c,preventExitTransition:l,done:u,nodeRef:d,isIn:h,playToast:p}=e;const f=r?`${t}--${c}`:t,m=r?`${n}--${c}`:n,g=(0,i.useRef)(0);return(0,i.useLayoutEffect)((()=>{const e=d.current,t=f.split(" "),n=r=>{r.target===d.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,i.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};h||(l?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),i.createElement(i.Fragment,null,s)}}function eB(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const tB=new Map;let nB=[];const rB=new Set,iB=e=>rB.forEach((t=>t(e))),oB=()=>tB.size>0;function aB(e,t){var n;if(t)return!(null==(n=tB.get(t))||!n.isToastActive(e));let r=!1;return tB.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function sB(e,t){JF(e)&&(oB()||nB.push({content:e,options:t}),tB.forEach((n=>{n.buildToast(e,t)})))}function cB(e,t){tB.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function lB(e){const{subscribe:t,getSnapshot:n,setProps:r}=(0,i.useRef)(function(e){const t=e.containerId||1;return{subscribe(n){const r=function(e,t,n){let r=1,o=0,a=[],s=[],c=[],l=t;const u=new Map,d=new Set,h=()=>{c=Array.from(u.values()),d.forEach((e=>e()))},p=e=>{s=null==e?[]:s.filter((t=>t!==e)),h()},f=e=>{const{toastId:t,onOpen:r,updateId:o,children:a}=e.props,c=null==o;e.staleId&&u.delete(e.staleId),u.set(t,e),s=[...s,e.props.toastId].filter((t=>t!==e.staleId)),h(),n(eB(e,c?"added":"updated")),c&&XF(r)&&r((0,i.isValidElement)(a)&&a.props)};return{id:e,props:l,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||XF(n.toggle)&&n.toggle(e)}))},removeToast:p,toasts:u,clearQueue:()=>{o-=a.length,a=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t;const o=n?n!==e:1!==e,a=u.has(r)&&null==i;return o||a})(s))return;const{toastId:c,updateId:d,data:m,staleId:g,delay:v}=s,y=()=>{p(c)},b=null==d;b&&o++;const E={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(s).filter((e=>{let[t,n]=e;return null!=n}))),toastId:c,updateId:d,data:m,closeToast:y,isIn:!1,className:QF(s.className||l.toastClassName),bodyClassName:QF(s.bodyClassName||l.bodyClassName),progressClassName:QF(s.progressClassName||l.progressClassName),autoClose:!s.isLoading&&(_=s.autoClose,w=l.autoClose,!1===_||qF(_)&&_>0?_:w),deleteToast(){const e=u.get(c),{onClose:t,children:r}=e.props;XF(t)&&t((0,i.isValidElement)(r)&&r.props),n(eB(e,"removed")),u.delete(c),o--,o<0&&(o=0),a.length>0?f(a.shift()):h()}};var _,w;E.closeButton=l.closeButton,!1===s.closeButton||JF(s.closeButton)?E.closeButton=s.closeButton:!0===s.closeButton&&(E.closeButton=!JF(l.closeButton)||l.closeButton);let S=t;(0,i.isValidElement)(t)&&!$F(t.type)?S=(0,i.cloneElement)(t,{closeToast:y,toastProps:E,data:m}):XF(t)&&(S=t({closeToast:y,toastProps:E,data:m}));const T={content:S,props:E,staleId:g};l.limit&&l.limit>0&&o>l.limit&&b?a.push(T):qF(v)?setTimeout((()=>{f(T)}),v):f(T)},setProps(e){l=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>s.some((t=>t===e)),getSnapshot:()=>l.newestOnTop?c.reverse():c}}(t,e,iB);tB.set(t,r);const o=r.observe(n);return nB.forEach((e=>sB(e.content,e.options))),nB=[],()=>{o(),tB.delete(t)}},setProps(e){var n;null==(n=tB.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=tB.get(t))?void 0:e.getSnapshot()}}}(e)).current;r(e);const o=(0,i.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!o)return[];const t=new Map;return o.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:aB,count:null==o?void 0:o.length}}function uB(e){const[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),a=(0,i.useRef)(null),s=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:h}=e;var p,f;function m(){n(!0)}function g(){n(!1)}function v(n){const r=a.current;s.canDrag&&r&&(s.didMove=!0,t&&g(),s.delta="x"===e.draggableDirection?n.clientX-s.start:n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1),r.style.transform=`translate3d(${"x"===e.draggableDirection?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function y(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y);const t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(f=tB.get((p={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))||f.setToggle(p.id,p.fn),(0,i.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",y);const n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:i,right:o}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?g():m()}};return c&&l&&(b.onMouseEnter=g,e.stacked||(b.onMouseLeave=m)),h&&(b.onClick=e=>{d&&d(e),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:b}}function dB(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:a,className:s,style:c,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:p}=e;const f=a||l&&0===u,m={...c,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(m.transform=`scaleX(${u})`);const g=vg("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),v=XF(s)?s({rtl:d,type:o,defaultClassName:g}):vg(g,s),y={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}};return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${o}`}),i.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:m,...y}))}let hB=1;const pB=()=>""+hB++;function fB(e){return e&&($F(e.toastId)||qF(e.toastId))?e.toastId:pB()}function mB(e,t){return sB(e,t),t.toastId}function gB(e,t){return{...t,type:t&&t.type||e,toastId:fB(t)}}function vB(e){return(t,n)=>mB(t,gB(e,n))}function yB(e,t){return mB(e,gB("default",t))}yB.loading=(e,t)=>mB(e,gB("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),yB.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=$F(i)?yB.loading(i,n):yB.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,i)=>{if(null==t)return void yB.dismiss(r);const o={type:e,...s,...n,data:i},a=$F(t)?{render:t}:t;return r?yB.update(r,{...o,...a}):yB(a.render,{...o,...a}),i},l=XF(e)?e():e;return l.then((e=>c("success",a,e))).catch((e=>c("error",o,e))),l},yB.success=vB("success"),yB.info=vB("info"),yB.error=vB("error"),yB.warning=vB("warning"),yB.warn=yB.warning,yB.dark=(e,t)=>mB(e,gB("default",{theme:"dark",...t})),yB.dismiss=function(e){!function(e){var t;if(oB()){if(null==e||$F(t=e)||qF(t))tB.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=tB.get(e.containerId);t?t.removeToast(e.id):tB.forEach((t=>{t.removeToast(e.id)}))}}else nB=nB.filter((t=>null!=e&&t.options.toastId!==e))}(e)},yB.clearWaitingQueue=function(e){void 0===e&&(e={}),tB.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},yB.isActive=aB,yB.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=tB.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:pB()};o.toastId!==e&&(o.staleId=e);const a=o.render||i;delete o.render,mB(a,o)}},yB.done=e=>{yB.update(e,{progress:1})},yB.onChange=function(e){return rB.add(e),()=>{rB.delete(e)}},yB.play=e=>cB(!0,e),yB.pause=e=>cB(!1,e);const bB="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,EB=e=>{let{theme:t,type:n,isLoading:r,...o}=e;return i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})},_B={info:function(e){return i.createElement(EB,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(EB,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(EB,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(EB,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}},wB=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:a}=uB(e),{closeButton:s,children:c,autoClose:l,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:f,position:m,className:g,style:v,bodyClassName:y,bodyStyle:b,progressClassName:E,progressStyle:_,updateId:w,role:S,progress:T,rtl:C,toastId:x,deleteToast:R,isIn:A,isLoading:O,closeOnClick:I,theme:N}=e,k=vg("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":I}),P=XF(g)?g({rtl:C,position:m,type:d,defaultClassName:k}):vg(k,g),D=function(e){let{theme:t,type:n,isLoading:r,icon:o}=e,a=null;const s={theme:t,type:n};return!1===o||(XF(o)?a=o({...s,isLoading:r}):(0,i.isValidElement)(o)?a=(0,i.cloneElement)(o,s):r?a=_B.spinner():(e=>e in _B)(n)&&(a=_B[n](s))),a}(e),L=!!T||!l,M={closeToast:p,type:d,theme:N};let j=null;return!1===s||(j=XF(s)?s(M):(0,i.isValidElement)(s)?(0,i.cloneElement)(s,M):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),i.createElement(f,{isIn:A,done:R,position:m,preventExitTransition:n,nodeRef:r,playToast:a},i.createElement("div",{id:x,onClick:u,"data-in":A,className:P,...o,style:v,ref:r},i.createElement("div",{...A&&{role:S},className:XF(y)?y({type:d}):vg("Toastify__toast-body",y),style:b},null!=D&&i.createElement("div",{className:vg("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},D),i.createElement("div",null,c)),j,i.createElement(dB,{...w&&!L?{key:`pb-${w}`}:{},rtl:C,theme:N,delay:l,isRunning:t,isIn:A,closeToast:p,hide:h,type:d,style:_,className:E,controlledProgress:L,progress:T||0})))},SB=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},TB=ZF(SB("bounce",!0)),CB=(ZF(SB("slide",!0)),ZF(SB("zoom")),ZF(SB("flip")),{position:"top-right",transition:TB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function xB(e){let t={...CB,...e};const n=e.stacked,[r,o]=(0,i.useState)(!0),a=(0,i.useRef)(null),{getToastToRender:s,isToastActive:c,count:l}=lB(t),{className:u,style:d,rtl:h,containerId:p}=t;function f(e){const t=vg("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return XF(u)?u({position:e,rtl:h,defaultClassName:t}):vg(t,QF(u))}function m(){n&&(o(!0),yB.play())}return bB((()=>{if(n){var e;const n=a.current.querySelectorAll('[data-in="true"]'),i=12,o=null==(e=t.position)?void 0:e.includes("top");let s=0,c=0;Array.from(n).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=o?"top":"bot");const a=s*(r?.2:1)+(r?0:i*t);n.style.setProperty("--y",`${o?a:-1*a}px`),n.style.setProperty("--g",`${i}`),n.style.setProperty("--s",""+(1-(r?c:0))),s+=n.offsetHeight,c+=.025}))}}),[r,l,n]),i.createElement("div",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{n&&(o(!1),yB.pause())},onMouseLeave:m},s(((e,t)=>{const r=t.length?{...d}:{...d,pointerEvents:"none"};return i.createElement("div",{className:f(e),style:r,key:`container-${e}`},t.map((e=>{let{content:t,props:r}=e;return i.createElement(wB,{...r,stacked:n,collapseAll:m,isIn:c(r.toastId,r.containerId),style:r.style,key:`toast-${r.key}`},t)})))})))}const RB=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)("add"),[s,c]=(0,i.useState)({id:null,title:"",file:null,preview:""});(0,i.useEffect)((()=>{l()}),[]);const l=async()=>{try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/carousel-images/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Carousel data")}catch(e){throw console.error("Error fetching Carousel data:",e.message),e}})();console.log("Fetched carousel images:",e),t(e)}catch(e){console.error("Error fetching carousel images:",e),yB.error("Failed to load carousel images")}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:null,title:"",file:null,preview:""};a(e),c({...t,preview:t.full_image_url||""}),r(!0)},d=()=>{r(!1),c({id:null,title:"",file:null,preview:""})},h=async n=>{try{await(async e=>{try{if(204===(await dU.delete(`${hU}/api/carousel-images/${e}/`)).status)return{message:"image deleted successfully"};throw new Error("Failed to delete the image")}catch(t){throw console.error("Error deleting user:",t.message),t}})(n),t(e.filter((e=>e.id!==n))),yB.success("Image deleted successfully")}catch(r){console.error("Error deleting image:",r),yB.error("Failed to delete image")}};return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsxs)("div",{style:{background:"white",margin:"10px"},children:[(0,gt.jsx)(Es,{className:"mb-4",style:{margin:"0px"},children:(0,gt.jsx)(qa,{children:(0,gt.jsx)(ys,{className:"custom-card shadow-sm p-3 rounded",children:(0,gt.jsxs)(ys.Body,{style:{padding:"0px"},className:"d-flex align-items-center justify-content-between",children:[(0,gt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,gt.jsx)(VL,{size:40,color:"#5065F6"}),(0,gt.jsxs)("div",{className:"ms-3",children:[(0,gt.jsx)("h5",{children:"Add New Carousel Image"}),(0,gt.jsx)("p",{children:"Click to add a new image to the carousel"})]})]}),(0,gt.jsx)("div",{className:"add-image-container d-flex align-items-center",onClick:()=>u("add"),style:{cursor:"pointer",padding:"10px",borderRadius:"5px",backgroundColor:"#f1f1f1",transition:"background-color 0.3s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#e2e2e2",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#f1f1f1",children:(0,gt.jsx)("span",{style:{fontWeight:"bold"},children:"Add Image"})})]})})})}),(0,gt.jsx)(Es,{style:{margin:"0px"},children:(0,gt.jsx)(gt.Fragment,{children:e&&e.length>0?e.map((e=>(0,gt.jsx)(qa,{md:4,className:"mb-4",children:(0,gt.jsx)(ys,{className:"custom-card shadow-lg p-3 rounded",children:(0,gt.jsxs)(ys.Body,{style:{padding:"0px"},className:"d-flex align-items-center justify-content-between",children:[(0,gt.jsx)(ZU,{src:e.full_image_url,alt:"Carousel",thumbnail:!0,width:"100"}),(0,gt.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[(0,gt.jsx)("h5",{children:e.title})," ",(0,gt.jsxs)("div",{className:"d-flex mt-2",children:[(0,gt.jsxs)(Aa,{variant:"warning",onClick:()=>u("edit",e),className:"me-2",children:[(0,gt.jsx)(FL,{})," Edit"]}),(0,gt.jsxs)(Aa,{variant:"danger",onClick:()=>h(e.id),children:[(0,gt.jsx)(WL,{})," Delete"]})]})]})]})})},e.id))):(0,gt.jsx)("p",{children:"No carousel images to display."})})})]}),(0,gt.jsxs)(gF,{show:n,onHide:d,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"add"===o?"Add Image":"Edit Image"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"Title"}),(0,gt.jsx)(YF.Control,{type:"text",value:s.title,onChange:e=>c({...s,title:e.target.value}),placeholder:"Enter image title"}),(0,gt.jsx)(YF.Label,{children:"Upload Image"}),(0,gt.jsx)(YF.Control,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&c({...s,file:t,preview:URL.createObjectURL(t)})}}),s.preview&&(0,gt.jsx)("div",{className:"mt-3",children:(0,gt.jsx)(ZU,{src:s.preview,alt:"Preview",thumbnail:!0})})]})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:d,children:"Close"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:async()=>{try{const e=new FormData;e.append("title",s.title),s.file&&e.append("image",s.file),"add"===o?(await(async e=>{try{const t=await dU.post(`${hU}/api/carousel-images/`,e);if(200===t.status||201===t.status)return t.data;throw new Error("Failed to add the image")}catch(t){throw console.error("Error adding image:",t.response?t.response.data:t.message),t}})(e),yB.success("Image added successfully")):(await(async(e,t)=>{try{const n=await dU.put(`${hU}/api/carousel-images/${e}/`,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to update carousel data")}catch(n){throw console.error("Error updating carousel data:",n.message),n}})(s.id,e),yB.success("Image updated successfully")),await l(),d()}catch(e){console.error(`Failed to ${o} image:`,e),yB.error(`Failed to ${"add"===o?"add":"update"} image`)}},children:"add"===o?"Add Image":"Save Changes"})]})]}),(0,gt.jsx)(xB,{position:"top-right",autoClose:3e3,hideProgressBar:!0})]})},AB=[{label:"Sun",executive:3,user:2,totalTalktime:7},{label:"Mon",executive:2.5,user:6.2,totalTalktime:5.7},{label:"Tue",executive:3,user:7.5,totalTalktime:6.5},{label:"Wed",executive:3.8,user:9.2,totalTalktime:8},{label:"Thu",executive:2.9,user:3.8,totalTalktime:6.7},{label:"Fri",executive:4,user:4.5,totalTalktime:8.5},{label:"Sat",executive:3.5,user:4,totalTalktime:7.5}],OB=()=>{const[e,t]=(0,i.useState)(AB),[n,r]=(0,i.useState)("Weekly"),[o,a]=(0,i.useState)("Line"),[s,c]=(0,i.useState)([]),[l,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),p=te(),[f,m]=(0,i.useState)({target_revenue:0,covered_revenue:0,target_talktime:0,covered_talktime:0}),[g,v]=(0,i.useState)({target_revenue:0,target_talktime:0});(0,i.useEffect)((()=>{(async()=>{try{let e;"Weekly"===n?(e=await PU(),t(e.weekly),console.log("call",e)):"Monthly"===n&&(e=await DU(),t(e.monthly))}catch(e){u(e.message)}})()}),[n]);(0,i.useEffect)((()=>{(async()=>{try{const e=await LU();console.log(e,"Fetched revenue data"),m(e)}catch(e){console.error("Error fetching revenue:",e)}finally{h(!1)}})()}),[]);const[y,b]=(0,i.useState)(!1);(0,i.useEffect)((()=>{v(f?{target_revenue:f.target_revenue||0,target_talktime:f.target_talktime||""}:{target_revenue:0,target_talktime:""})}),[f]);const E=e=>{const{name:t,value:n}=e.target;v({...g,[t]:n})},_=f&&f.target_revenue>0?f.covered_revenue/f.target_revenue*100:0,w=f&&f.target_talktime>0?f.covered_talktime/f.target_talktime*100:0;if((0,i.useEffect)((()=>{(async()=>{try{const e=await fU();console.log("dstatistica",e),c(e),h(!1)}catch(e){u(e.message),h(!1)}})()}),[]),d)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(l)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",l]});const S=[{title:"Total Executives",value:s.total_executives,icon:(0,gt.jsx)(BL,{}),iconBg:"#5065F6",outerBg:"#EDEFFE"},{title:"Total Users",value:s.total_users,icon:(0,gt.jsx)("img",{src:HL,alt:"Total Users",style:{width:"24px",height:"24px"}}),iconBg:"#28B95E",outerBg:"#E9F9EF"},{title:"Today's Revenue",value:s.revenue_today,icon:(0,gt.jsx)("img",{src:GL,alt:"Today's Revenue",style:{width:"24px",height:"24px"}}),iconBg:"#FFDB45",outerBg:"#FFF8DA"},{title:"Today's Coin Sales",value:s.coin_sales_today,icon:(0,gt.jsx)("img",{src:zL,alt:"Today's Coin Sales",style:{width:"24px",height:"24px"}}),iconBg:"#F04B69",outerBg:"#FDEDF0"}],T=[{title:"Active Executives",value:s.active_executives,icon:(0,gt.jsx)(BL,{}),iconBg:"#5065F6",outerBg:"#EDEFFE"},{title:"Active Users",value:s.active_users,icon:(0,gt.jsx)("img",{src:HL,alt:"Active Users",style:{width:"24px",height:"24px"}}),iconBg:"#28B95E",outerBg:"#E9F9EF"},{title:"On Call",value:s.on_call,icon:(0,gt.jsx)("img",{src:GL,alt:"On Call",style:{width:"24px",height:"24px"}}),iconBg:"#FFDB45",outerBg:"#FFF8DA",navigateTo:"/on-call"},{title:"Total Talk Time",value:s.total_talk_time,icon:(0,gt.jsx)("img",{src:zL,alt:"Total Talk Time",style:{width:"24px",height:"24px"}}),iconBg:"#F04B69",outerBg:"#FDEDF0"},{title:"Total Missed Calls",value:s.total_missed_calls,icon:(0,gt.jsx)("img",{src:zL,alt:"Total Talk Time",style:{width:"24px",height:"24px"}}),iconBg:"#F04B69",outerBg:"#FDEDF0"}],C=e=>{let{metric:t}=e;return(0,gt.jsx)(qa,{xs:12,sm:6,md:4,lg:2,className:"mb-3 d-flex justify-content-center",children:(0,gt.jsx)(ys,{className:"metric-card shadow-sm rounded",style:{width:"100%",maxWidth:"160px",cursor:t.navigateTo?"pointer":"default"},onClick:()=>{"On Call"===t.title&&p("/activities")},children:(0,gt.jsxs)(ys.Body,{className:"d-flex flex-column align-items-center text-center py-3",children:[(0,gt.jsx)("div",{className:"metric-icon-container d-flex justify-content-center align-items-center mb-2",style:{backgroundColor:t.outerBg,width:"50px",height:"50px",borderRadius:"50%"},children:(0,gt.jsx)("div",{className:"inner-circle d-flex justify-content-center align-items-center",style:{backgroundColor:t.iconBg,width:"35px",height:"35px",borderRadius:"50%",color:"#fff",fontSize:"20px"},children:t.icon})}),(0,gt.jsx)("p",{className:"metric-title mb-1 text-muted",style:{fontSize:"14px",fontWeight:"600"},children:t.title}),(0,gt.jsxs)("p",{className:"metric-value mb-0",style:{fontSize:"16px",fontWeight:"700"},children:[(0,gt.jsx)(QU.Ay,{start:0,end:t.value,duration:2.5,separator:","}),"Total Talk Time"===t.title&&" Min"]})]})})})};return(0,gt.jsxs)("div",{className:"dashboard-container",children:[(0,gt.jsxs)("div",{style:{position:"fixed",bottom:"30px",right:"30px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:"1000"},children:[(0,gt.jsx)("div",{style:{background:"linear-gradient(135deg, #28a745, #218838)",color:"white",borderRadius:"50%",width:"60px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s, box-shadow 0.3s, background 0.3s"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1)",e.currentTarget.style.boxShadow="0 6px 15px rgba(0, 0, 0, 0.3)",e.currentTarget.style.background="linear-gradient(135deg, #218838, #28a745)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",e.currentTarget.style.background="linear-gradient(135deg, #28a745, #218838)"},children:(0,gt.jsx)(Ve,{onClick:()=>{const e=[...S.map((e=>({Title:e.title,Value:e.value}))),...T.map((e=>({Title:e.title,Value:e.value}))),{Title:"Target Revenue",Value:g.target_revenue},{Title:"Target Talktime",Value:g.target_talktime},{Title:"Total Revenue",Value:f.covered_revenue},{Title:"Total Talktime",Value:f.covered_talktime}],t=sg.json_to_sheet(e);t["!cols"]=[{wch:25},{wch:15}];const n=sg.book_new();sg.book_append_sheet(n,t,"Metrics Data");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,cg.saveAs)(i,"metrics_data.xlsx")},size:24,color:"white"})}),(0,gt.jsx)("span",{style:{marginTop:"8px",fontSize:"14px",color:"#333",textAlign:"center",fontWeight:"bold"}})]}),(0,gt.jsxs)(Es,{className:"mb-4",children:[S.map((e=>(0,gt.jsx)(C,{metric:e},e.id))),T.map((e=>(0,gt.jsx)(C,{metric:e},e.id)))]}),(0,gt.jsx)(Es,{className:"mb-4"}),(0,gt.jsx)(Es,{className:"mb-4",children:(0,gt.jsx)(RB,{})}),(0,gt.jsxs)(Es,{className:"mb-4 mt-3 d-flex align-items-stretch h-100",style:{minHeight:"100%",margin:"0px"},children:[(0,gt.jsx)(qa,{md:7,className:"d-flex flex-column",children:(0,gt.jsx)(ys,{className:"shadow-sm flex-grow-1 d-flex",children:(0,gt.jsxs)(ys.Body,{className:"p-4 flex-grow-1 d-flex flex-column",children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,gt.jsx)("h5",{className:"card-title",children:"Call Activity"}),(0,gt.jsxs)(ka,{onSelect:e=>{r(e)},style:{background:"#F3F3F7"},children:[(0,gt.jsx)(ka.Toggle,{variant:"light",id:"dropdown-basic",children:n}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{eventKey:"Weekly",children:"Weekly"}),(0,gt.jsx)(ka.Item,{eventKey:"Monthly",children:"Monthly"})]})]}),(0,gt.jsxs)(ka,{onSelect:e=>{a(e)},style:{background:"#F3F3F7"},children:[(0,gt.jsxs)(ka.Toggle,{variant:"light",id:"chart-type-dropdown",children:[o," Chart"]}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{eventKey:"Line",children:"Line"}),(0,gt.jsx)(ka.Item,{eventKey:"Bar",children:"Bar"}),(0,gt.jsx)(ka.Item,{eventKey:"Area",children:"Area"})]})]})]}),(0,gt.jsxs)(Cv,{width:"100%",height:300,children:["Line"===o&&(0,gt.jsxs)(nL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)("defs",{dangerouslySetInnerHTML:{__html:'\n  <defs>\n    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">\n      <feDropShadow dx="0" dy="4" stdDeviation="3" floodColor="rgba(0, 0, 0, 0.2)" />\n    </filter>\n  </defs>\n'}}),(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"executive",stroke:"#3498db",strokeWidth:3,dot:{stroke:"#3498db",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"user",stroke:"#9b59b6",strokeWidth:3,dot:{stroke:"#9b59b6",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"totalTalktime",stroke:"#1abc9c",strokeWidth:3,dot:{stroke:"#1abc9c",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"})]}),"Bar"===o&&(0,gt.jsxs)(wL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(IN,{dataKey:"executive",fill:"#3498db"}),(0,gt.jsx)(IN,{dataKey:"user",fill:"#9b59b6"}),(0,gt.jsx)(IN,{dataKey:"totalTalktime",fill:"#1abc9c"})]}),"Area"===o&&(0,gt.jsxs)(UL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"executive",stroke:"#3498db",fill:"#3498db"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"user",stroke:"#9b59b6",fill:"#9b59b6"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"totalTalktime",stroke:"#1abc9c",fill:"#1abc9c"})]})]})]})})}),(0,gt.jsx)(qa,{md:5,className:"d-flex flex-column",children:(0,gt.jsxs)(ys,{className:"shadow-sm p-4 flex-grow-1 d-flex flex-column",children:[(0,gt.jsx)("p",{style:{fontSize:"16px"},className:"mb-3",children:"Target Revenue"}),(0,gt.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,gt.jsx)("input",{style:{fontSize:"16px"},type:"text",className:"form-control w-75",name:"target_revenue",value:g.target_revenue,readOnly:!y,onChange:E})}),(0,gt.jsx)("p",{style:{fontSize:"16px"},className:"mb-3",children:"Target Talk Time"}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsx)("input",{style:{fontSize:"16px"},type:"text",className:"form-control w-75",name:"target_talktime",value:g.target_talktime,readOnly:!y,onChange:E}),(0,gt.jsx)("button",{className:"ml-2 editd",onClick:()=>{y?(async e=>{try{const t=await dU.patch(`${hU}/api/up-del-revenue-target/1/`,e);if(200===t.status)return t;throw new Error("Failed to edit Revenue data")}catch(l){throw console.error("Error editing Revenue data:",l.message),l}})(g).then((e=>{m({...f,target_revenue:e.data.target_revenue||g.target_revenue,target_talktime:e.data.target_talktime||g.target_talktime}),b(!1),yB.success("Target updated successfully!")})).catch((e=>{console.error("Error updating Target:",e),yB.error("Failed to update Target!")})):b(!0)},children:y?"Save":"Edit"})]}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[(0,gt.jsx)(qa,{className:"d-flex justify-content-center",children:(0,gt.jsxs)("div",{style:{position:"relative",width:"160px",height:"160px"},children:[(0,gt.jsx)(pg,{value:_,strokeWidth:10,styles:fg({pathColor:"#ff6384",trailColor:"rgba(192, 192, 192, 0.5)",strokeLinecap:"round"})}),(0,gt.jsx)("div",{style:{position:"absolute",top:"15%",left:"15%",width:"70%",height:"70%"},children:(0,gt.jsx)(pg,{value:w,strokeWidth:10,styles:fg({pathColor:"#ffce56",trailColor:"rgba(192, 192, 192, 0.5)",strokeLinecap:"round"})})}),(0,gt.jsx)("div",{style:{position:"absolute",top:"30%",left:"30%",width:"40%",height:"40%",display:"flex",justifyContent:"center",alignItems:"center",background:"#fff",borderRadius:"50%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:(0,gt.jsx)("span",{children:100})})]})}),(0,gt.jsx)(qa,{className:"ml-4 text-right",children:f?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Total Revenue"}),(0,gt.jsxs)("h3",{className:"metric-value mb-2",children:["\u20b9",f.covered_revenue||0]}),(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Total Talktime"}),(0,gt.jsx)("h3",{className:"metric-value mb-2",children:f.covered_talktime||0}),(0,gt.jsxs)("ul",{className:"list-unstyled",children:[(0,gt.jsxs)("li",{children:[(0,gt.jsx)("span",{style:{color:"#ff6384"},children:"\u25cf"})," Revenue"]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("span",{style:{color:"#ffce56"},children:"\u25cf"})," Total Talktime"]})]})]}):(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Revenue data is not available."})})]})]})})]})]})};const IB=function(){return(0,gt.jsx)("div",{children:"Settings"})};const NB=function(){return(0,gt.jsx)("div",{children:"UserManagement"})},kB=Er("h4");kB.displayName="DivStyledAsH4";const PB=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=kB,...o}=e;return r=wt(r,"alert-heading"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));PB.displayName="AlertHeading";const DB=PB,LB=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ga,...o}=e;return r=wt(r,"alert-link"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));LB.displayName="AlertLink";const MB=LB,jB=i.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:a,children:s,variant:c="primary",onClose:l,dismissible:u,transition:d=ir,...h}=ht(e,{show:"onClose"}),p=wt(n,"alert"),f=wn((e=>{l&&l(!1,e)})),m=!0===d?ir:d,g=(0,gt.jsxs)("div",{role:"alert",...m?void 0:h,ref:t,className:ot()(a,p,c&&`${p}-${c}`,u&&`${p}-dismissible`),children:[u&&(0,gt.jsx)(mr,{onClick:f,"aria-label":i,variant:o}),s]});return m?(0,gt.jsx)(m,{unmountOnExit:!0,...h,ref:void 0,in:r,children:g}):r?g:null}));jB.displayName="Alert";const UB=Object.assign(jB,{Link:MB,Heading:DB}),FB=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:o,borderless:a,hover:s,size:c,variant:l,responsive:u,...d}=e;const h=wt(n,"table"),p=ot()(r,h,l&&`${h}-${l}`,c&&`${h}-${c}`,i&&`${h}-${"string"===typeof i?`striped-${i}`:"striped"}`,o&&`${h}-bordered`,a&&`${h}-borderless`,s&&`${h}-hover`),f=(0,gt.jsx)("table",{...d,className:p,ref:t});if(u){let e=`${h}-responsive`;return"string"===typeof u&&(e=`${e}-${u}`),(0,gt.jsx)("div",{className:e,children:f})}return f})),BB=FB,VB=i.forwardRef(((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:i=!1,text:o,className:a,as:s="span",...c}=e;const l=wt(n,"badge");return(0,gt.jsx)(s,{ref:t,...c,className:ot()(a,l,i&&"rounded-pill",o&&`text-${o}`,r&&`bg-${r}`)})}));VB.displayName="Badge";const WB=VB,HB=i.forwardRef(((e,t)=>{let{active:n=!1,disabled:r=!1,className:i,style:o,activeLabel:a="(current)",children:s,linkStyle:c,linkClassName:l,as:u=ga,...d}=e;const h=n||r?"span":u;return(0,gt.jsx)("li",{ref:t,style:o,className:ot()(i,"page-item",{active:n,disabled:r}),children:(0,gt.jsxs)(h,{className:ot()("page-link",l),style:c,...d,children:[s,n&&a&&(0,gt.jsx)("span",{className:"visually-hidden",children:a})]})})}));HB.displayName="PageItem";const GB=HB;function zB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const r=i.forwardRef(((e,r)=>{let{children:i,...o}=e;return(0,gt.jsxs)(HB,{...o,ref:r,children:[(0,gt.jsx)("span",{"aria-hidden":"true",children:i||t}),(0,gt.jsx)("span",{className:"visually-hidden",children:n})]})}));return r.displayName=e,r}const KB=zB("First","\xab"),YB=zB("Prev","\u2039","Previous"),qB=zB("Ellipsis","\u2026","More"),$B=zB("Next","\u203a"),XB=zB("Last","\xbb"),QB=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,size:i,...o}=e;const a=wt(n,"pagination");return(0,gt.jsx)("ul",{ref:t,...o,className:ot()(r,a,i&&`${a}-${i}`)})}));QB.displayName="Pagination";const JB=Object.assign(QB,{First:KB,Prev:YB,Ellipsis:qB,Item:GB,Next:$B,Last:XB});var ZB=n(1899),eV=n.n(ZB);const tV=function(){const[e,t]=(0,i.useState)(1),[n,r]=(0,i.useState)(new Date),[o,a]=(0,i.useState)(new Date),[s,c]=(0,i.useState)(10),[l,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[v,y]=(0,i.useState)(null),[b,E]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/redeem-requests/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Requests")}catch(d){throw console.error("Error fetching Requests:",d.message),d}})();console.log(e,"redeem"),f(e||[]),g(e||[]),u(!1)}catch(d){h(d.message),u(!1),yB.error("Failed to fetch payment requests")}})()}),[]);const _=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0");return`${n}/${r}/${t.getFullYear()}`}catch(d){return"Invalid Date"}},w=async(e,t)=>{if(e){y(e);try{const n={status:t};await(async(e,t)=>{try{const n=await dU.patch(`${hU}/api/redemption-request/${e}/update-status/`,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to update redemption request status")}catch(d){throw console.error("Error updating redemption request status:",d.message),d}})(e,n);const r=p.map((n=>n.id===e?{...n,status:t}:n)),i=m.map((n=>n.id===e?{...n,status:t}:n));f(r),g(i),yB.success(`Status updated to ${t} successfully`)}catch(d){console.error("Error updating status:",d),yB.error("Failed to update status")}finally{y(null)}}else yB.error("Invalid request ID")},S=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"processing":return"warning";case"completed":return"success";default:return"secondary"}},T=e=>t(e),C=e*s,x=C-s,R=m.slice(x,C);return(0,gt.jsxs)("div",{className:"container-fluid mt-4",children:[(0,gt.jsx)("div",{className:"row",children:(0,gt.jsxs)("div",{className:"col-12",children:[(0,gt.jsxs)("p",{className:"mb-4 d-flex justify-content-between align-items-center emlist",children:["Payment Request",(0,gt.jsxs)(Aa,{variant:"success",onClick:()=>{if(!m||0===m.length)return void yB.error("No data to download");const e=m.map(((e,t)=>({"S.No":t+1,Date:_(null===e||void 0===e?void 0:e.request_time),Name:(null===e||void 0===e?void 0:e.name)||"N/A","UPI ID":(null===e||void 0===e?void 0:e.upi_id)||"N/A",Amount:(null===e||void 0===e?void 0:e.amount_requested)||"0","Account Number":(null===e||void 0===e?void 0:e.account_number)||"N/A","IFSC Code":(null===e||void 0===e?void 0:e.ifsc_code)||"N/A",Status:(null===e||void 0===e?void 0:e.status)||"Unknown"}))),t=sg.json_to_sheet(e),n=sg.book_new();sg.book_append_sheet(n,t,"Payment Requests");$m(n,`payment_requests_${(new Date).toISOString().split("T")[0]}.xlsx`),yB.success("Excel file downloaded successfully")},className:"btn-sm",children:[(0,gt.jsx)(Me,{className:"me-2"}),"Download Excel"]})]}),(0,gt.jsxs)("div",{className:"row mb-3 align-items-end",children:[(0,gt.jsx)("div",{className:"col-md-3",children:(0,gt.jsxs)(YF.Group,{controlId:"searchTerm",children:[(0,gt.jsx)(YF.Label,{children:"Search"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by name, UPI, account, IFSC, or status...",value:b,onChange:e=>E(e.target.value)})]})}),(0,gt.jsx)("div",{className:"col-md-2",children:(0,gt.jsxs)(YF.Group,{controlId:"datePickerFrom",children:[(0,gt.jsx)(YF.Label,{children:"From"}),(0,gt.jsx)(eV(),{selected:n,onChange:e=>r(e),className:"form-control",dateFormat:"dd/MM/yyyy"})]})}),(0,gt.jsx)("div",{className:"col-md-2",children:(0,gt.jsxs)(YF.Group,{controlId:"datePickerTo",children:[(0,gt.jsx)(YF.Label,{children:"To"}),(0,gt.jsx)(eV(),{selected:o,onChange:e=>a(e),className:"form-control",dateFormat:"dd/MM/yyyy"})]})}),(0,gt.jsx)("div",{className:"col-md-1",children:(0,gt.jsx)(Aa,{variant:"primary",onClick:()=>{if(!p||0===p.length)return void g([]);let e=p;e=e.filter((e=>{if(null===e||void 0===e||!e.request_time)return!1;try{const t=new Date(e.request_time);return t>=n&&t<=o}catch(d){return!1}})),b.trim()&&(e=e.filter((e=>{var t,n,r,i,o;const a=b.toLowerCase();return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===e||void 0===e||null===(n=e.upi_id)||void 0===n?void 0:n.toLowerCase().includes(a))||(null===e||void 0===e||null===(r=e.account_number)||void 0===r?void 0:r.toLowerCase().includes(a))||(null===e||void 0===e||null===(i=e.ifsc_code)||void 0===i?void 0:i.toLowerCase().includes(a))||(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.toLowerCase().includes(a))}))),g(e),t(1)},className:"w-100",children:(0,gt.jsx)(Ye,{})})})]}),(0,gt.jsx)("div",{className:"card",children:(0,gt.jsxs)("div",{className:"card-body",children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,gt.jsxs)("div",{children:["Show"," ",(0,gt.jsxs)(YF.Select,{value:s,onChange:e=>c(Number(e.target.value)),className:"d-inline w-auto",style:{width:"80px"},children:[(0,gt.jsx)("option",{value:"10",children:"10"}),(0,gt.jsx)("option",{value:"25",children:"25"}),(0,gt.jsx)("option",{value:"50",children:"50"}),(0,gt.jsx)("option",{value:"100",children:"100"})]})," ","entries"]}),(0,gt.jsx)("div",{children:(0,gt.jsxs)("small",{className:"text-muted",children:["Showing ",x+1," to ",Math.min(C,m.length)," of ",m.length," entries"]})})]}),l&&(0,gt.jsx)("div",{className:"text-center my-4",children:(0,gt.jsx)(Ka,{animation:"border",role:"status",children:(0,gt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),d&&(0,gt.jsx)(UB,{variant:"danger",className:"text-center",children:d}),!l&&!d&&(0,gt.jsx)("div",{className:"table-responsive",children:(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{style:{width:"10%"},children:"Date"}),(0,gt.jsx)("th",{style:{width:"15%"},children:"Name"}),(0,gt.jsx)("th",{style:{width:"15%"},children:"UPI ID"}),(0,gt.jsx)("th",{style:{width:"10%"},children:"Amount"}),(0,gt.jsx)("th",{style:{width:"15%"},children:"Account Number"}),(0,gt.jsx)("th",{style:{width:"10%"},children:"IFSC Code"}),(0,gt.jsx)("th",{style:{width:"10%"},children:"Status"}),(0,gt.jsx)("th",{style:{width:"15%"},children:"Actions"})]})}),(0,gt.jsx)("tbody",{children:R.map(((e,t)=>{var n,r;return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:_(null===e||void 0===e?void 0:e.request_time)}),(0,gt.jsx)("td",{children:(null===e||void 0===e?void 0:e.name)||"N/A"}),(0,gt.jsx)("td",{children:(null===e||void 0===e?void 0:e.upi_id)||"N/A"}),(0,gt.jsxs)("td",{children:["\u20b9",(null===e||void 0===e?void 0:e.amount_requested)||"0"]}),(0,gt.jsx)("td",{children:(null===e||void 0===e?void 0:e.account_number)||"N/A"}),(0,gt.jsx)("td",{children:(null===e||void 0===e?void 0:e.ifsc_code)||"N/A"}),(0,gt.jsx)("td",{children:(0,gt.jsx)(WB,{bg:S(null===e||void 0===e?void 0:e.status),children:(null===e||void 0===e?void 0:e.status)||"Unknown"})}),(0,gt.jsx)("td",{children:"completed"===(null===e||void 0===e||null===(n=e.status)||void 0===n?void 0:n.toLowerCase())?(0,gt.jsx)("span",{className:"text-muted small",children:"Completed"}):(0,gt.jsxs)(ka,{children:[(0,gt.jsx)(ka.Toggle,{variant:"outline-primary",size:"sm",disabled:v===(null===e||void 0===e?void 0:e.id),children:v===(null===e||void 0===e?void 0:e.id)?(0,gt.jsx)(Ka,{animation:"border",size:"sm"}):"Update "}),(0,gt.jsxs)(ka.Menu,{children:["processing"!==(null===e||void 0===e||null===(r=e.status)||void 0===r?void 0:r.toLowerCase())&&(0,gt.jsx)(ka.Item,{onClick:()=>w(null===e||void 0===e?void 0:e.id,"processing"),children:"Mark as Processing"}),(0,gt.jsx)(ka.Item,{onClick:()=>w(null===e||void 0===e?void 0:e.id,"completed"),children:"Mark as Completed"})]})]})})]},(null===e||void 0===e?void 0:e.id)||t)}))})]})}),!l&&!d&&0===R.length&&(0,gt.jsx)(UB,{variant:"info",className:"text-center",children:"No requests found for the selected criteria."})]})}),m.length>s&&(0,gt.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,gt.jsxs)(JB,{children:[(0,gt.jsx)(JB.First,{onClick:()=>T(1),disabled:1===e}),(0,gt.jsx)(JB.Prev,{onClick:()=>T(e-1),disabled:1===e}),[...Array(Math.ceil(m.length/s)).keys()].filter((t=>{const n=t+1;return 1===n||n===Math.ceil(m.length/s)||n>=e-2&&n<=e+2})).map(((t,n,r)=>{const o=t+1,a=r[n-1]?r[n-1]+1:null;return(0,gt.jsxs)(i.Fragment,{children:[a&&o-a>1&&(0,gt.jsx)(JB.Ellipsis,{disabled:!0}),(0,gt.jsx)(JB.Item,{active:e===o,onClick:()=>T(o),style:{backgroundColor:e===o?"#5065F6":"transparent",color:e===o?"white":"#000",borderRadius:"8px",boxShadow:e===o?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:o})]},o)})),(0,gt.jsx)(JB.Next,{onClick:()=>T(e+1),disabled:e===Math.ceil(m.length/s)}),(0,gt.jsx)(JB.Last,{onClick:()=>T(Math.ceil(m.length/s)),disabled:e===Math.ceil(m.length/s)})]})})]})}),(0,gt.jsx)(xB,{})]})};const nV=function(){return(0,gt.jsx)("div",{children:"Careers"})};const rV=function(){return(0,gt.jsx)("div",{children:"Privacy"})};const iV=function(){return(0,gt.jsx)("div",{children:"Executives"})},oV=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(10),[s,c]=(0,i.useState)(1),[l,u]=(0,i.useState)(""),[d,h]=(0,i.useState)([]),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(0),v=te();(0,i.useEffect)((()=>{(async()=>{f(!0);try{const e=await(async()=>{try{const e="GET",t=`${hU}/api/user/purchase-history/`,n=await pU(e,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to fetch accounts data")}catch(e){throw console.error("Error fetching accounts data:",e.message),console.log(e.data),e}})();console.log("accounts",e),h(Array.isArray(e)?e:[]),g(Array.isArray(e)?e.length:0)}catch(e){console.error("Error fetching accounts:",e),h([]),g(0)}finally{f(!1)}})()}),[]);const y=e=>{if(!e)return"secondary";switch(e.toString().toUpperCase()){case"SUCCESS":return"success";case"PENDING":return"warning";case"FAILED":case"REJECTED":return"danger";default:return"secondary"}},b=(0,i.useMemo)((()=>{let t=[...d];if((e||n)&&(t=t.filter((t=>{const r=new Date(t.purchase_date),i=e?new Date(e.setHours(0,0,0,0)):null,o=n?new Date(n.setHours(23,59,59,999)):null;return i&&o?r>=i&&r<=o:i?r>=i:!o||r<=o}))),l.trim()){const e=l.toLowerCase();t=t.filter((t=>{var n,r,i,o;return(null===(n=t.user_id)||void 0===n?void 0:n.toString().toLowerCase().includes(e))||(null===(r=t.purchase_date)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(i=t.coins_purchased)||void 0===i?void 0:i.toString().toLowerCase().includes(e))||(null===(o=t.base_price)||void 0===o?void 0:o.toString().toLowerCase().includes(e))}))}return t}),[d,e,n,l]),E=Math.ceil(b.length/o),_=(s-1)*o,w=_+o,S=b.slice(_,w);(0,i.useEffect)((()=>{c(1)}),[o,l,e,n]);const T=e=>{c(e)},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;try{const t=e.map(((e,t)=>({"S.No":t+1,"User ID":e.user_id||"",Date:e.purchase_date||"","Coin Purchased":e.coins_purchased||"","Purchased Price":e.base_price||"","Payment Mode":e.is_admin?"Admin":"Online"}))),n=sg.book_new(),r=sg.json_to_sheet(t),i=[{wch:8},{wch:15},{wch:20},{wch:18},{wch:18}];r["!cols"]=i,sg.book_append_sheet(n,r,"User Accounts");const o=(new Date).toISOString().split("T")[0];$m(n,`user_accounts_${o}.xlsx`)}catch(t){console.error("Error downloading Excel file:",t),alert("Error downloading Excel file. Please try again.")}};return(0,gt.jsxs)("div",{className:"container mt-4",style:{padding:"0px"},children:[(0,gt.jsx)("h2",{className:"mb-4",children:"Accounts"}),(0,gt.jsxs)("div",{className:"d-flex align-items-start mb-3 gap-3",children:[(0,gt.jsxs)(YF.Group,{controlId:"datePickerFrom",className:"col-md-2 d-flex flex-column",children:[(0,gt.jsx)(YF.Label,{children:"From"}),(0,gt.jsx)(eV(),{selected:e,onChange:e=>t(e),className:"form-control",showTimeSelect:!0,dateFormat:"Pp",customInput:(0,gt.jsx)(YF.Control,{}),placeholderText:"Select start date",isClearable:!0})]}),(0,gt.jsxs)(YF.Group,{controlId:"datePickerTo",className:"col-md-2 d-flex flex-column",children:[(0,gt.jsx)(YF.Label,{children:"To"}),(0,gt.jsx)(eV(),{selected:n,onChange:e=>r(e),className:"form-control",showTimeSelect:!0,dateFormat:"Pp",customInput:(0,gt.jsx)(YF.Control,{}),placeholderText:"Select end date",isClearable:!0,minDate:e})]}),(0,gt.jsxs)(YF.Group,{controlId:"searchInput",className:"col-md-3 d-flex flex-column",children:[(0,gt.jsx)(YF.Label,{children:"Search"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by User ID, Date, Coins, Price...",value:l,onChange:e=>u(e.target.value)})]}),(0,gt.jsxs)(YF.Group,{className:"col-md-1 d-flex flex-column",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{variant:"success",className:"w-100",onClick:()=>{c(1)},children:(0,gt.jsx)(Ye,{})})]}),(0,gt.jsxs)("div",{className:"ms-auto d-flex align-items-end",children:[(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)("button",{className:"w-100 buttond",onClick:()=>C(),title:"Download all filtered data",children:(0,gt.jsx)(Me,{})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)("button",{onClick:()=>{v("/payment")},style:{whiteSpace:"nowrap",background:"#5065F6",border:"none",borderRadius:"10px",padding:"5px",color:"white"},className:"w-100",children:(0,gt.jsx)("span",{style:{fontSize:"14px"},children:"Executive Payment Request"})})]})]})]}),(0,gt.jsx)("div",{className:"mb-3",children:(0,gt.jsxs)("small",{className:"text-muted",children:["Showing ",_+1," to ",Math.min(w,b.length)," of ",b.length," entries",b.length!==m&&` (filtered from ${m} total entries)`]})}),(0,gt.jsxs)("div",{style:{background:"white",borderRadius:"10px",padding:"15px"},children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,gt.jsxs)("div",{children:["Show up to"," ",(0,gt.jsxs)(YF.Select,{value:o,onChange:e=>a(Number(e.target.value)),className:"d-inline w-auto",children:[(0,gt.jsx)("option",{value:"10",children:"10"}),(0,gt.jsx)("option",{value:"25",children:"25"}),(0,gt.jsx)("option",{value:"50",children:"50"}),(0,gt.jsx)("option",{value:"100",children:"100"})]})," ","entries"]}),(0,gt.jsxs)(Aa,{variant:"outline-secondary",onClick:()=>C(S),title:"Export current page",children:[(0,gt.jsx)(Me,{className:"me-2"}),"Export Current Page"]})]}),p?(0,gt.jsx)("div",{className:"text-center py-4",children:(0,gt.jsx)("div",{className:"spinner-border",role:"status",children:(0,gt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"S.No"}),(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Date"}),(0,gt.jsx)("th",{children:"Payment Mode"}),(0,gt.jsx)("th",{children:"Coin Purchased"}),(0,gt.jsx)("th",{children:"Purchased Price"}),(0,gt.jsx)("th",{children:"Payment Status"})]})}),(0,gt.jsx)("tbody",{children:S.length>0?S.map(((e,t)=>(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:_+t+1}),(0,gt.jsx)("td",{children:e.user_id||"N/A"}),(0,gt.jsx)("td",{children:e.purchase_date||"N/A"}),(0,gt.jsx)("td",{children:e.is_admin?"Admin":"Online"}),(0,gt.jsx)("td",{children:e.coins_purchased||"N/A"}),(0,gt.jsx)("td",{children:e.base_price||"N/A"}),(0,gt.jsx)("td",{children:(0,gt.jsx)(WB,{bg:y(e.payment_status),style:{borderRadius:"6px",padding:"4px 8px",fontSize:"12px",fontWeight:"500"},children:e.payment_status||"N/A"})})]},`${e.user_id}-${t}`))):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center py-4",children:l||e||n?"No records found matching your criteria":"No data available"})})})]})]}),E>1&&(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>T(1),disabled:1===s}),(0,gt.jsx)(JB.Prev,{onClick:()=>T(s-1),disabled:1===s}),(()=>{const e=[];let t=Math.max(1,s-Math.floor(2.5)),n=Math.min(E,t+5-1);n-t<4&&(t=Math.max(1,n-5+1));for(let r=t;r<=n;r++)e.push((0,gt.jsx)(JB.Item,{active:s===r,onClick:()=>T(r),style:{backgroundColor:s===r?"#5065F6":"transparent",color:s===r?"white":"#000",borderRadius:"8px",boxShadow:s===r?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:r},r));return e})(),(0,gt.jsx)(JB.Next,{onClick:()=>T(s+1),disabled:s===E}),(0,gt.jsx)(JB.Last,{onClick:()=>T(E),disabled:s===E})]}),E>1&&(0,gt.jsx)("div",{className:"text-center mt-2",children:(0,gt.jsxs)("small",{className:"text-muted",children:["Page ",s," of ",E]})})]})};const aV=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[l,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),p=te();return(0,gt.jsxs)("div",{className:"login-page",children:[(0,gt.jsxs)("div",{className:"login-wrapper",children:[(0,gt.jsx)("p",{className:"login-brand",children:"Voicy"}),(0,gt.jsxs)("form",{className:"login-form",onSubmit:async t=>{t.preventDefault(),h(!0);try{const t=await(async e=>{try{const t=await dU.post(`${hU}/api/admin-login/`,e);if(200===t.status&&t.data)return t.data;throw new Error("Failed to log in as admin")}catch(t){throw console.error("Error during admin login:",t.response?t.response.data:t.message),t}})({email:e,password:n});console.log(t),u("Login successful!"),c(null),localStorage.setItem("userId",t.id),localStorage.setItem("Bestie_accesstoken",t.access_token),localStorage.setItem("Bestie_role",t.role),localStorage.setItem("ManagerId",t.user_id),"superuser"===t.role?p("/"):("manager_executive"===t.role||"hr_executive"===t.role)&&p("/managerdashboard")}catch(r){c("Invalid email or password"),u(null)}finally{h(!1)}},children:[(0,gt.jsxs)("div",{className:"login-input-container",children:[(0,gt.jsx)("i",{style:{fontStyle:"normal"},className:"login-icon login-icon-user"}),(0,gt.jsx)("input",{type:"email",placeholder:"EMAIL",className:"login-input",value:e,onChange:e=>t(e.target.value)})]}),(0,gt.jsxs)("div",{className:"login-input-container",children:[(0,gt.jsx)("i",{style:{fontStyle:"normal"},className:"login-icon login-icon-lock"}),(0,gt.jsx)("input",{type:o?"text":"password",placeholder:"PASSWORD",className:"login-input",value:n,onChange:e=>r(e.target.value)}),(0,gt.jsx)("i",{style:{fontStyle:"normal"},className:"login-icon login-icon-eye "+(o?"visible":""),onClick:()=>{a((e=>!e))}})]}),s&&(0,gt.jsx)("p",{className:"login-error",children:s}),l&&(0,gt.jsx)("p",{className:"login-success",children:l}),(0,gt.jsx)("button",{type:"submit",className:"login-submit",disabled:d,children:"LOGIN"})]})]}),(0,gt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqIAAAIzCAYAAADbO3sVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABtLSURBVHgB7d09c2RVmuDxJ6WqDWKHiRYxMWDOxWO0RSA8PC5eexSfAPEJoD8BxScAzLW6Mcdq2luvr7z1tjam6Cjz4hFFG4XHdqPS3lOZYrLU9SKpMvOcc8/vF6HOlIoIoiga/fWcl7v4H33/54jo4xoWEQ/Ppo/IY4xM0u95ken3Pf29v498xsjgLO+/Z8kYGfw8/Z7HYcj5+waArVq81ffdfsT/md4fBEC0+0Nm5P0B1w+ZO3Q6/X33M/297w/DGMBji/Q/t/r+zvQfg88DAJizMfIZI58x8kg/bP0UGeQcKDy6/D/v8XGIHvX9wd+XU9EuAABgy6ZQ/mIvvbk7DA+nN78LAADYkb3zN/85DN9OL0MAAMAO7K1/chrxSeQ9nQwAQCOeCNHVSb4vAgAAtmzv4he+G4avwhI9AABbtve0L545uAQAwJbtP+2LP47jD290XbraqQ8AANi8k71n/cq9YbgzvdwNAADYgr3n/eKZU/QAAGzJ/vN+MS3Rv951/296+9sAAIDNOdl70V/hFD0AANvwwhBNXHQPAMCmXSpE00X3e8sYBQCAjdi/7F/4YBzvv9F1r01v3wsAAHg5J5eaiJ67EXFnehkDAABe0pVC9O4wPDyN+CDsFwUA4CVdKUSTtF90evkiAADgJVx6j+i6H8fxf9svCgDASzi58kT03Gq/qEeAAgBwLdcO0dV+0Y/CflEAAK7h2iGapP2ii2WMAgDAlVxrj+i6B+M4vtF1U49GHwAAcDknLx2iyRSjw+td9+b09igAAODFTl5qaX7dzYjPwuElAAAuaWMhunZ4aQwAAHiBjYVokg4vnTlJDwDAJWw0RJO/DMPdKUZ/FwAA8BwbOax00Y/jeNdJegAAnuNkKyGapJP0HgMKAMAznGx8aX7dvWFIJ+mHAACAC7YaoslNJ+kBAHiKrYfo6lqnD0KMAgCwZushmqRrncQoAADrdhKiiTtGAQBYt7MQTdIdo4tljAIA0LidhmhybxiGaTL6SQAA0LSdh2gyTUb/IEYBANq2tQvtX8TTlwAAmnaSLUST1dOXxCgAQHvyhmgiRgEAmpQ/RBMxCgDQnDJCNBGjAABNKSdEEzEKANCMskI0EaMAAE0oL0QTMQoAMHtlhmgiRgEAZu0ky5OVLuveMNzxBCYAgHkqOkSTtceBPgwAAGaj+BBNVjH6QYhRAIDZqCJEkylG755GvDu9HQMAgOpVE6LJ/WEYT5eT0TEAAKhaVSGarMXo3QAAoFrVhWiSYvTmFKOLiG8DAIAqFXuP6Iv8MI4/PxjH/3DXKABAlcq90P6yXHwPAFClsi+0v6x08f30G/koXO8EAFCNWYRo8p/D8K3rnQAA6jGbEE2cqAcAqEf1e0Qv+us4PvxxHP+nfaMAAEWr/7DSs6RDTK933U/T298GAAClmcdhpWf5bhi+mpbq3wz7RgEAijPrEE3W9o0OAQBAMWa7NL9utW/0G/tGAQCKMe+l+YvW7hsdAwCArJoK0WR136grngAAMmtiaf4iVzwBAGTX1tL8RWmpfrGcjo4BAMBONR2iyRSjw2qp/psAAGBnmlyav2i1VP/t6gL896aPVwIAgG1qe2n+otUF+O+GpXoAgK0zEb1gNR392kEmAICtMhF9lnSQyeNBAQC2x0T0OUxHAQC2xkT0Mtamoy7BBwDYEBPRSzq/BP9fu+77aTx6NH3pIAAAuK4TIXpFU4ze/Zeu+9M0Sn4tlkEKAMDVnSyCa3u7728/ivhyetsFAACXdhbxhYnoS3gwjvcdZgIAuBaHlTZh7TCTx4QCAFySpfkNO+z7o+kf6h/Dcj0AwDNZmt+Caan+h7Rc73Q9AMBzOTW/Lel0/dr+0S4EKQDAOiG6bQ/GcXDdEwDAP3B90y691ffdVP53prcfBwBAw9IeUSGagSAFAFonRDMTpABAq4RoIQQpANAaIVoYQQoAtEKIFioF6Y2I47NlkHYBADAzQrQCh31/PP0hfR6CFACYESFakVt9308vn05/aLcDAKByQrRCa/tI3w9TUgCgUkK0cqtl+7SPtA8AgIoI0ZlIU9K9iM+mP8wPw5QUAKiAEJ2htJd0+oNNk9IPp9eDAAAokBCdubR0v7cMUgecYPPG2LLpP9AHfqAE5kqINqLr+4P/PsWoKGWmxovvp/+wPZz+XX+Y3k+vP8Xq/frXk/0Ln//ylLi8Pwz/8LXc0nac8/fT/68P9tZiNcXr6X99fv7XHUxf/82FsO0uvALslBBtUIrSf47oHy2D1Ml7chpXrw9XH48/Pw/H9WjcW/3aeSj+PH19HIaHwcas9po/jtq1mO1i+bV/WwVs+rXOlBbYBCHK4z2lKUoXyyg9Cria8fz1PBwvhuT51PE8IkucMHJ1qyfAdSlaHy3jtDsP1ulrR2IVeBEhyhNWE5F+sbwOyrS0PWP843Ty+/OgTFPJKTgepg8TSS7jsO+P9pbbAY7WQrUzVQUSIcpzpW8i08vRam9pet8FVVhb1k6TyXE1qfx+fUp5ugpLUUkO5xPV80id/t18xyQV2iJEuZL0jePm9I3idDk1tZS/e2M8GZY/nb9fD0tL39Qs7WN/dRmkAhVmTojy0lb3lj6enE4f74Q4vaoxnjG1TEvhaV+liSUsV2imH7i61Q/C4hRmQIiyFWvfMNKy/jtnyyX9lgJ1DHEJW3e+fWi1r90PwlAZIcpOne8Je7QM024VqedXxHRRsLU9l2MsA/PXZXFxCWWwfQjqIkQpyuri/cd3GT5aXQuzdnfhb+LJWP31/WWePnPxIvP4r4M86xefP/Uwjz2XUCf3JkPZhCgAzVi7ou7jWC7nAxkJUQCa9Xbf3zYthXyEKADErzeAHIcohZ0RogBwgSiF3RCiAPAcafl++mb58dlyCR/YICEKAJewdtDp8zAlhY0QogBwRWtL9x8HcG1CFACuKU1J9yPuhL2kcC1CFAA24LDvjy3bw9UIUQDYIEEKlydEAWALBCm8mBAFgC0SpPBsKUT3AwDYih/H8e708fUbXZcGP0fTxysBnDvZCwBgq+4Nw53TiHent98E8CtL8wCwQ9Ny/dH0zfePYbmexlmaB4Adm5bqf1hbru8D2mVpHgByWC3Xvzm9HQMaZSIKAJn8dRwfmo7SMBNRAMjNdJRWCVEAKMD9YRhvRrw7jUa/DmiEpXkAKMQP4/jzg3H8X6933U/Tp78NmDdL8wBQmu+G4StL9bRAiAJAgdJS/RSjH4QYZcaEKAAUam3f6LcBM2SPKAAUbLVv9D/e6LrXpk/fC5iPEyEKABVIh5jcN8rMCFEAqMUUo4MYZUaEKADURIwyI0IUAGojRpkJIQoANUox+nrXpbtGjwLq5EJ7AKjVd8NwPL0MAZUSogBQsZsRH4VL76mUEAWAit0dhoerJzA9DKiMEAWAyqUnME3f0D8JqIzDSgAwAw/G8b6nL1EZh5UAYC7uDcNn08vdgEoIUQCYkdPl4SX7RamCEAWAGUn7RaeXLwIqIEQBYGa+G4avwv2iVECIAsAMnTpFTwWcmgeAGfrrOD70PHoK59Q8AMzVjYi0RO/gEsUSogAwU+mpS2cRvwsolBAFgBn7yzD8ITyLnkIJUQCYuYWDSxRKiALAzN0bhiFc50SBhCgANOAs4puAwghRAGjAaq+oE/RESYQoADRiEfF1QEGEKAA0wr2ilEaIAkAjVveKDgGFEKIA0JA9y/MURIgCQENWVzlZnqcIQhQAGuMqJ0ohRAGgMdM3/28DCiBEAaAxlucphRAFgAZZnqcEQhQAGmR5nhIIUQBo0I2IuwGZCVEAaFC63D5cbk9mQhQAGrWIOAnISIgCQLuGgIyEKAA0yj5RchOiANCo1T5RMUo2QhQAGnZmnygZCVEAaJuJKNkIUQBomxAlGyEKAA37bxFjQCZCFAAatjqwNAZkIEQBoHFnlufJRIgCAN8HZCBEAQATUbIQogDQuP2IhwEZCFEAaNzfTUTJRIgCQONeMRElEyEKAI1bXeEkRtk5IQoAJEKUnROiAEAyBuyYEAUA0qX2JqLsnBAFAFKI/hSwY0IUAIiFiSgZCFEAIBGi7JwQBQAgCyEKAFiaJwshCgA4NU8WQhQAgCyEKAAAWQhRAACyEKIAAGQhRAEAyEKIAgCQhRAFANI9ogcBOyZEAYB0j6gQZeeEKAAAWQhRACAxEWXnhCgAYGmeLIQoAJAOK/0mYMeEKADg1DxZCFEAIBGi7JwQBQASIcrOCVEAIOkCdkyIAkDjjvreNJQshCgANO5vpqFkIkQBoHF79oeSiRAFgMY9MhElEyEKAHQBGQhRAOCdgAyEKAA0zlOVyEWIAgBHARkIUQBo2OoOURNRshCiANCwX0xDyUiIAkDD7A8lJyEKAA07NRElIyEKAG1zdRPZCFEAaNjCZfZkJEQBoG2W5slGiAJAow77XoSSlRAFgHYJUbISogDQLiFKVkIUABq1cGKezIQoALTLRJSshCgANGh1UMlTlchKiAJAm0xDyU6IAkCDFhHvB2QmRAGgTSaiZCdEAaAxR32f9oYKUbITogDQmF9EKIUQogDQmEcRtwMKIEQBoDEusqcUQhQA2tMHFECIAkBDbvV9H1AIIQoADXlkGkpBhCgANMRF9pREiAJAI1b3h/YBhRCiANCIUxFKYYQoADTiUcSHAQURogDQjj6gIEIUABrwVt9300sXUBAhCgAN2DMNpUBCFAAasIj4OKAwQhQA2tAHFEaIAsDMvd33twMKJEQBYOZc20SphCgAzF8fUCAhCgAzdqvv+3BtE4USogAwY9OyvP2hFEuIAsCMLewPpWBCFABm6rDvj8KyPAUTogAwX8cBBROiADBTluUpnRAFgBmyLE8NhCgAzNNxQOGEKADMkGV5aiBEAWBmXGJPLYQoAMzMWcTHARUQogAwP31ABYQoAMzI232fHunZBVRAiALAjDxySImKCFEAmImjvj8I1zZRESEKADPxt4jbARURogAwEwun5amMEAWAGXir77twWp7KCFEAmIH9iM8DKiNEAWAe+oDKCFEAqJy7Q6mVEAWAyp06pESlhCgAVCwdUlq4tolKCVEAqNgNF9hTMSEKABU7syxPxYQoAFTqsO+PwyElKiZEAaBSnqRE7YQoAFTIk5SYAyEKABXyJCXmQIgCQGWO+v4gTEOZASEKAJX52/Le0C6gckIUACqzsCzPTAhRAKiI58ozJ0IUACryKOLTgJkQogBQCVc2MTdCFAAq4com5kaIAkAFVtPQ44AZEaIAUIGb9oYyQ0IUACrwaHl3KMyKEAWAwh32/XG4sokZEqIAUDgX2DNXQhQACmYaypwJUQAomGkocyZEAaBQpqHMnRAFgEJN09CPA2ZMiAJAgW71fR8e58nMCVEAKNCZvaE0QIgCQGFMQ2mFEAWAwpiG0gohCgAFeavvuzANpRFCFAAKsm8aSkOEKAAUYjUNPQ5ohBAFgEKYhtIaIQoABTjs+6MwDaUxQhQACrCI+DKgMUIUADJzbyitEqIAkJl7Q2mVEAWAjA77/jhMQ2mUEAWAjBamoTRMiAJAJqtpaBfQKCEKAJmYhtI6IQoAGZiGghAFgCxMQ0GIAsDO3er7FKFdQOOEKADs0Ft93515lCc8JkQBYIf2l0vyXQBCFAB2JU1DwzQUfiVEAWBH9h1QgicIUQDYgVt934dpKDxBiALADpxF/D6AJwhRANgyl9fD0wlRANiiru8PXF4PTydEAWCLXo34NExD4amEKABsyery+jsBPJUQBYAtcV0TPJ8QBYAt+Pe+vx2ua4LnEqIAsAXTN9gvA3guIQoAG3ar7x1QgksQogCwQasDSp8F8EJCFAA2aHVAqQvghYQoAGzIYd8fhQNKcGlCFAA2ZBHxxwAuTYgCwAbc6ntL8nBFQhQAXpInKMH1CFEAeEmeoATXI0QB4CUc9v1xOKAE1yJEAeCa0pL8wjQUrk2IAsA1TUvynqAEL0GIAsA1pGloeIISvBQhCgDXME1D/xzASxGiAHBF7gyFzRCiAHAF7gyFzRGiAHAFluRhc4QoAFySJXnYLCEKAJdgSR42T4gCwCVYkofNE6IA8AKW5GE7hCgAPIcledgeIQoAz2FJHrZHiALAM1iSh+0SogDwFNOSfG9JHrZLiALABWlf6LQk//sAtkqIAsAFU4RakocdEKIAsOaw74+nl+MAtk6IAsBKWpKfvjF+GcBOCFEAmHR9f5CuajqLOAhgJ4QoAExeXR5O6gLYGSEKQPPSfaHTJPR2ADslRAFo2ipC7wSwc0IUgGa5tB7yEqIANMml9ZCfEAWgOecn5MPhJMhKiALQnH9a3hXaBZCVEAWgKelwUnhyEhRBiALQjMO+P3I4CcohRAFoQjqctIj4YwDFEKIANOGGfaFQHCEKwOx5chKUSYgCMGtpSd6+UCiTEAVgttbuCwUKJEQBmK1/ikhXNXUBFEmIAjBLh31/PL18FkCxhCgAs7O6qunzAIomRAGYnX1L8lAFIQrArKyW5I8DKJ4QBWA2LMlDXYQoALNhSR7qIkQBmIVpGtqHJXmoihAFYBamaejvA6iKEAWgeulZ8mFJHqojRAGommfJQ72EKABV23dKHqolRAGo1r/3/e1wQAmqJUQBqNb0TezLAKolRAGo0uoJSl0A1RKiAFSn6/sDT1CC+glRAKrzasSnYRoK1ROiAFRldV3TcQDVE6IAVMXz5GE+hCgA1UjT0DANhdkQogBUw+X1MC9CFIAqmIbC/AhRAKpgGgrzI0QBKJ5pKMyTEAWgeDeX94YCMyNEASjaUd8fPIq4HcDsCFEAiva3ZYR2AcyOEAWgaJ4pD/MlRAEo1mHfH4dpKMyWEAWgWNM09OMAZkuIAlCk1ZVNfQCzJUQBKJIL7GH+hCgApeoDmDUhCkBxHFKCNghRAIrjkBK0QYgCUBSHlKAdQhSAouyJUGiGEAWgKNOy/KcBNEGIAlCM1bL8UQBNEKIAFGM/4nYAzRCiAJTkwwCaIUQBKILT8tAeIQpAEZyWh/YIUQBKYVkeGiNEASjCwkQUmiNEAcjuVt/308tBAE0RogBk98g0FJokRAHIblqWfz+A5ghRAErQB9AcIQpAVqv9oUCDhCgAWZ15tjw0S4gCkNWZ/aHQLCEKQFYLE1FolhAFIJujvk93h3YBNEmIApDNL6ah0DQhCkA2DipB24QoANmcWZaHpglRALJZRLwTQLOEKAA5WZqHhglRAHI6CKBZQhSALA773jQUGidEAchizzQUmidEAcjikRPz0DwhCkAuXQBNE6IAAGQhRAHIwmX2gBAFIItFxG8CaJoQBSCLhVPz0DwhCgBAFkIUAIAshCgAAFkIUQAAshCiAABkIUQBAMhCiAIAkIUQBSCLs4iHATRNiAKQxRSiPwXQNCEKQBYLE1FonhAFIBchCo0TogDkMgbQNCEKQBb7JqLQPCEKQBZ/j7gbQNOEKABZvGIiCs0TogBkcXcYUoiOATRLiAKQzZnleWiaEAUgp+8DaJYQBSAnE1FomBAFICchCg0TogBk85dhSCHq9Dw0SogCkJupKDRKiAKQ1VnE/w2gSUIUgKymb0TfBtAkIQpAVjeWS/P2iUKDhCgAWa2esGSfKDRIiAJQgj8F0BwhCkB2p/aJQpOEKADZ3R+GcXoZAmiKEAWgCIuIkwCaIkQBKMIvEX8IoClCFIAiWJ6H9ghRAEri9Dw0RIgCUIyby+V5l9tDI4QoAMVIl9svIr4OoAlCFICiOLQE7RCiABTFoSVohxAFoDjT8vwXAcyeEAWgOPeGYQhTUZg9IQpAkUxFYf6EKABFMhWF+ROiABTLVBTmTYgCUKzVVPSbAGZJiAJQtNOIO+FpSzBLQhSAoqV7RT1tCeZJiAJQvBsRX00vYwCzIkQBKN7qGfSfBDAr+wEAFXgwjuMbXffa9Pa9AObgxEQUgGrcWB5cGgOYBSEKQDUs0cO8WJoHoCqW6GE2LM0DUJ97w/DZ9HI3gKoJUQCqdBrxUbjoHqomRAGo0uqi+48CqJY9ogBUa7VfdOrR6AOozYkQBaBqU4wOr3fdm9PbowBq4rASAPW7GeHwElRIiAJQvXS/6Orw0hhANYQoALOQDi9NMfpBOEkP1RCiAMxGitEzMQrVEKIAzMpfhuGua52gDkIUgNm5NwzDmWfSQ/GEKACzNE1G/yBGoWxCFIDZEqNQNiEKwKylGF04wARFEqIAzN5qz6gYhcIIUQCakE7Tn0a8Gy69h2IIUQCasXbp/RhAdkIUgKakGL25nIwOAWS1HwDQmB/G8ecfx/GbN7puMX3aB5DDiRAFoFkPxnF4vet+mt7+NoBdO7E0D0DTvhuGr84cYoIshCgAzVudqE+HmIYAdsbSPABM/jqOD+0bhZ2yNA8A6+4Nw52FK55gJ4QoAFyQnsS0Wqr/JoCtsTQPAE+xWqr/dnWq/r3p45UANsnSPAA8TzpVf+oCfNgKE1EAeIHzg0ymo7BRJqIAcFlr01F7R2EDTEQB4ArO947+a9d9v4g4mr50EMB1eMQnAFzHFKN3/6Xr/jQtLb4WyyAFruZkEQDAS3mr77tpsvPn6W0XwKWcRXxhjygAvKT7wzB+NwxvTt9YPwkX4cOlWZoHgA1Jy/XTx9ceEwqX4tQ8AGxaekzoacSb4XQ9PJc9ogCwRav9o3emtx8H8Ku0R1SIAsAOCFJ4UgpRe0QBYAfO7x99o+tOYnm6vgtom+ubACCHW33fTxOh4zAhpVGW5gEgM0v2tEqIAkAhBCmtEaIAUJgUpDemJfuzZZB2ATMlRAGgYId9fzx9o/48BCkzJEQBoAIONjFHQhQAKmLZnjkRogBQqbf7/nYK0unjdkCFhCgAVC5NSfcientJqY0QBYAZOd9LOn1z/3B6PQgomBAFgJlKJ+73lkFq6Z4iCVEAmLm1pft0wKkPKIQQBYCGiFJKIkQBoFGilNyEKAAgSslCiAIAT+j6/uCfpxh9tDzk9H64EootEaIAwHOlK6FSlC6WUXoUsCFCFAC4tPMl/HQt1PRp765SXoYQBQCubXWBfpqSPg7TgCsQogDARqS9pa9OUbpaxn8nhCkvIEQBgK04P/R0ujyNL0z5B0IUANiJtYlpCtP3p48je0zbJkQBgGzO95imMF3tNe2CZghRAKAY6VT+zSlIz5fzTU3nTYgCAEU77Ps0KX38Ya/pvAhRAKA6F+PU5LROQhQAmIUUp/sR3bSsf7Q3xenZcr+pJ0EVTIgCALN1flL/bPnRmZ6WRYgCAM15WqDGMk5NUHdIiAIArHnKEv+BKep2CFEAgEs4n6JO4XRwunz9t1juQz3/4IqEKADABqRJ6jRBPXgkSq/i7v8H3b+hsVRuAw4AAAAASUVORK5CYII=",alt:"TopRightImage",className:"top-right-image"}),(0,gt.jsxs)("div",{className:"bottom-left-rings",children:[(0,gt.jsx)("div",{className:"ring ring1"}),(0,gt.jsx)("div",{className:"ring ring2"}),(0,gt.jsx)("div",{className:"ring ring3"})]}),d&&(0,gt.jsx)("div",{className:"spinner-overlay",children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})})]})};function sV(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=sV(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function cV(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=sV(e))&&(r&&(r+=" "),r+=t);return r}!function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();const lV=i.forwardRef(((e,t)=>{let{breakpoint:n,fluid:r,children:i,className:o,tag:a="div",...s}=e;const c=cV(""+(r?"container-fluid":"container"+(n?"-"+n:"")),o);return(0,gt.jsx)(a,{className:c,...s,ref:t,children:i})}));lV.displayName="MDBContainer";const uV=i.forwardRef(((e,t)=>{let{center:n,children:r,className:i,end:o,lg:a,md:s,offsetLg:c,offsetMd:l,offsetSm:u,order:d,size:h,sm:p,start:f,tag:m="div",xl:g,xxl:v,xs:y,...b}=e;const E=cV(h&&`col-${h}`,y&&`col-xs-${y}`,p&&`col-sm-${p}`,s&&`col-md-${s}`,a&&`col-lg-${a}`,g&&`col-xl-${g}`,v&&`col-xxl-${v}`,h||y||p||s||a||g||v?"":"col",d&&`order-${d}`,f&&"align-self-start",n&&"align-self-center",o&&"align-self-end",u&&`offset-sm-${u}`,l&&`offset-md-${l}`,c&&`offset-lg-${c}`,i);return(0,gt.jsx)(m,{className:E,ref:t,...b,children:r})}));uV.displayName="MDBCol";const dV=i.forwardRef(((e,t)=>{let{className:n,color:r="primary",pill:i,light:o,dot:a,tag:s="span",children:c,notification:l,...u}=e;const d=cV("badge",o?r&&`badge-${r}`:r&&`bg-${r}`,a&&"badge-dot",i&&"rounded-pill",l&&"badge-notification",n);return(0,gt.jsx)(s,{className:d,ref:t,...u,children:c})}));dV.displayName="MDBBadge";const hV=e=>{let{...t}=e;const[n,r]=(0,i.useState)(!1),o=cV("ripple-wave",n&&"active");return(0,i.useEffect)((()=>{const e=setTimeout((()=>{r(!0)}),50);return()=>{clearTimeout(e)}}),[]),(0,gt.jsx)("div",{className:o,...t})},pV=i.forwardRef(((e,t)=>{let{className:n,rippleTag:r="div",rippleCentered:o,rippleDuration:a=500,rippleUnbound:s,rippleRadius:c=0,rippleColor:l="dark",children:u,onMouseDown:d,...h}=e;const p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.useRef();return i.useEffect((()=>{t.forEach((e=>{e&&("function"==typeof e?e(r.current):e.current=r.current)}))}),[t]),r}(t,(0,i.useRef)(null)),f=[0,0,0],m=["primary","secondary","success","danger","warning","info","light","dark"],[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(!1),E=cV("ripple","ripple-surface",s&&"ripple-surface-unbound",y&&`ripple-surface-${l}`,n),_=()=>{if(m.find((e=>e===(null==l?void 0:l.toLowerCase()))))return b(!0);{const e=w(l).join(",");return`radial-gradient(circle, ${"rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(`${e}`)})`}},w=e=>"transparent"===e.toLowerCase()?f:"#"===e[0]?(e=>(e.length<7&&(e=`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]))(e):(-1===e.indexOf("rgb")&&(e=(e=>{const t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n||(t.style.color=e,t.style.color===n||""===t.style.color)?f:(e=getComputedStyle(t).color,document.body.removeChild(t),e)})(e)),0===e.indexOf("rgb")?(e=>(e=e.match(/[.\d]+/g).map((e=>+Number(e))),e.length=3,e))(e):f),S=e=>{var t;const n=null==(t=p.current)?void 0:t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,s=n.height,l=n.width,u=a&&.5*a,d=a&&a-.5*a,h=(e=>{const{offsetX:t,offsetY:n,height:r,width:i}=e,o=n<=r/2,a=t<=i/2,s=(e,t)=>Math.sqrt(e**2+t**2),c=n===r/2&&t===i/2,l=!0===o&&!1===a,u=!0===o&&!0===a,d=!1===o&&!0===a,h=!1===o&&!1===a,p={topLeft:s(t,n),topRight:s(i-t,n),bottomLeft:s(t,r-n),bottomRight:s(i-t,r-n)};let f=0;return c||h?f=p.topLeft:d?f=p.topRight:u?f=p.bottomRight:l&&(f=p.bottomLeft),2*f})({offsetX:o?s/2:r,offsetY:o?l/2:i,height:s,width:l}),f=c||h/2,m={left:o?l/2-f+"px":r-f+"px",top:o?s/2-f+"px":i-f+"px",height:c?2*c+"px":`${h}px`,width:c?2*c+"px":`${h}px`,transitionDelay:`0s, ${u}ms`,transitionDuration:`${a}ms, ${d}ms`};return y?m:{...m,backgroundImage:`${_()}`}};return(0,i.useEffect)((()=>{const e=setTimeout((()=>{g.length>0&&v(g.splice(1,g.length-1))}),a);return()=>{clearTimeout(e)}}),[a,g]),(0,gt.jsxs)(r,{className:E,onMouseDown:e=>(e=>{const t=S(e),n=g.concat(t);v(n),d&&d(e)})(e),ref:p,...h,children:[u,g.map(((e,t)=>(0,gt.jsx)(hV,{style:e},t)))]})}));pV.displayName="MDBRipple";const fV=i.forwardRef(((e,t)=>{let{className:n,color:r="primary",outline:o,children:a,rounded:s,disabled:c,floating:l,size:u,href:d,block:h,active:p,toggle:f,noRipple:m,tag:g="button",role:v="button",...y}=e;const[b,E]=(0,i.useState)(p||!1);let _;const w=r&&["light","link"].includes(r)||o?"dark":"light";_="none"!==r?o?r?`btn-outline-${r}`:"btn-outline-primary":r?`btn-${r}`:"btn-primary":"";const S=cV("none"!==r&&"btn",_,s&&"btn-rounded",l&&"btn-floating",u&&`btn-${u}`,""+((d||"button"!==g)&&c?"disabled":""),h&&"btn-block",b&&"active",n);return d&&"a"!==g&&(g="a"),["hr","img","input"].includes(g)||m?(0,gt.jsx)(g,{className:S,onClick:f?()=>{E(!b)}:void 0,disabled:!(!c||"button"!==g)||void 0,href:d,ref:t,role:v,...y,children:a}):(0,gt.jsx)(pV,{rippleTag:g,rippleColor:w,className:S,onClick:f?()=>{E(!b)}:void 0,disabled:!(!c||"button"!==g)||void 0,href:d,ref:t,role:v,...y,children:a})}));fV.displayName="MDBBtn";const mV=i.forwardRef(((e,t)=>{let n,{className:r,children:i,shadow:o,toolbar:a,size:s,vertical:c,tag:l="div",role:u="group",...d}=e;n=a?"btn-toolbar":c?"btn-group-vertical":"btn-group";const h=cV(n,o&&`shadow-${o}`,s&&`btn-group-${s}`,r);return(0,gt.jsx)(l,{className:h,ref:t,role:u,...d,children:i})}));mV.displayName="MDBBtnGroup";const gV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",color:o,grow:a,size:s,...c}=e;const l=cV(""+(a?"spinner-grow":"spinner-border"),o&&`text-${o}`,""+(s?a?"spinner-grow-"+s:"spinner-border-"+s:""),n);return(0,gt.jsx)(i,{className:l,ref:t,...c,children:r})}));gV.displayName="MDBSpinner";const vV=i.forwardRef(((e,t)=>{let{className:n,children:r,border:i,background:o,tag:a="div",shadow:s,alignment:c,...l}=e;const u=cV("card",i&&`border border-${i}`,o&&`bg-${o}`,s&&`shadow-${s}`,c&&`text-${c}`,n);return(0,gt.jsx)(a,{className:u,ref:t,...l,children:r})}));vV.displayName="MDBCard";const yV=i.forwardRef(((e,t)=>{let{className:n,children:r,border:i,background:o,tag:a="div",...s}=e;const c=cV("card-header",i&&`border-${i}`,o&&`bg-${o}`,n);return(0,gt.jsx)(a,{className:c,...s,ref:t,children:r})}));yV.displayName="MDBCardHeader";const bV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="p",...o}=e;const a=cV("card-subtitle",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));bV.displayName="MDBCardSubTitle";const EV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="h5",...o}=e;const a=cV("card-title",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));EV.displayName="MDBCardTitle";const _V=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="p",...o}=e;const a=cV("card-text",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));_V.displayName="MDBCardText";const wV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("card-body",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));wV.displayName="MDBCardBody";const SV=i.forwardRef(((e,t)=>{let{className:n,children:r,border:i,background:o,tag:a="div",...s}=e;const c=cV("card-footer",i&&`border-${i}`,o&&`bg-${o}`,n);return(0,gt.jsx)(a,{className:c,...s,ref:t,children:r})}));SV.displayName="MDBCardFooter";const TV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("card-img-overlay",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));TV.displayName="MDBCardOverlay";const CV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("card-group",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));CV.displayName="MDBCardGroup";const xV=i.forwardRef(((e,t)=>{let{className:n,tag:r="ul",horizontal:i,horizontalSize:o,light:a,numbered:s,children:c,small:l,...u}=e;const d=cV("list-group",i&&(o?`list-group-horizontal-${o}`:"list-group-horizontal"),a&&"list-group-light",s&&"list-group-numbered",l&&"list-group-small",n);return(0,gt.jsx)(r,{className:d,ref:t,...u,children:c})}));xV.displayName="MDBListGroup";const RV=i.forwardRef(((e,t)=>{let{className:n,tag:r="li",active:i,disabled:o,action:a,color:s,children:c,noBorders:l,...u}=e;const d="button"===r,h=cV("list-group-item",i&&"active",o&&!d&&"disabled",a&&"list-group-item-action",s&&`list-group-item-${s}`,l&&"border-0",n);return(0,gt.jsx)(r,{className:h,disabled:d&&o,ref:t,...u,children:c})}));RV.displayName="MDBListGroupItem";const AV=i.forwardRef(((e,t)=>{let{around:n,between:r,bottom:i,center:o,children:a,className:s,evenly:c,end:l,middle:u,start:d,tag:h="div",top:p,...f}=e;const m=cV("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",o&&"justify-content-center",c&&"justifty-content-evenly",l&&"justify-content-end",u&&"align-self-center",d&&"justify-content-start",p&&"align-self-start",s);return(0,gt.jsx)(h,{className:m,...f,ref:t,children:a})}));AV.displayName="MDBRow";const OV=e=>{let t,{animate:n,className:r,icon:i,fab:o,fas:a,fal:s,far:c,flag:l,spin:u,fixed:d,flip:h,list:p,size:f,pull:m,pulse:g,color:v,border:y,rotate:b,inverse:E,stack:_,iconType:w,children:S,...T}=e;t=l?"flag":o?"fab":a?"fas":c?"far":s?"fal":"fa";const C=cV(w?`fa-${w}`:t,n&&`fa-${n}`,l?`flag-${l}`:i&&`fa-${i}`,f&&`fa-${f}`,v&&`text-${v}`,y&&"fa-border",b&&`fa-rotate-${b}`,m&&`fa-pull-${m}`,u&&!n&&"fa-spin",p&&"fa-li",d&&"fa-fw",g&&!n&&"fa-pulse",E&&"fa-inverse",h&&`fa-flip-${h}`,_&&`fa-stack-${_}`,r);return(0,gt.jsx)("i",{className:C,...T,children:S})},IV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="p",variant:o,color:a,blockquote:s,note:c,noteColor:l,listUnStyled:u,listInLine:d,...h}=e;const p=cV(o&&o,s&&"blockquote",c&&"note",a&&`text-${a}`,l&&`note-${l}`,u&&"list-unstyled",d&&"list-inline",n);return s&&(i="blockquote"),(u||d)&&(i="ul"),(0,gt.jsx)(i,{className:p,ref:t,...h,children:r})}));IV.displayName="MDBTypography";const NV=i.forwardRef(((e,t)=>{let{className:n,color:r,uppercase:i,bold:o,children:a,...s}=e;const c=cV("breadcrumb",o&&"font-weight-bold",r&&`text-${r}`,i&&"text-uppercase",n);return(0,gt.jsx)("nav",{"aria-label":"breadcrumb",children:(0,gt.jsx)("ol",{className:c,ref:t,...s,children:a})})}));NV.displayName="MDBBreadcrumb";const kV=i.forwardRef(((e,t)=>{let{className:n,active:r,current:i="page",children:o,...a}=e;const s=cV("breadcrumb-item",r&&"active",n);return(0,gt.jsx)("li",{className:s,ref:t,"aria-current":r&&i,...a,children:o})}));kV.displayName="MDBBreadcrumbItem";const PV=i.forwardRef(((e,t)=>{let{className:n,children:r,light:o,dark:a,scrolling:s,fixed:c,sticky:l,scrollingNavbarOffset:u,color:d,transparent:h,expand:p,tag:f="nav",bgColor:m,...g}=e;const[v,y]=(0,i.useState)(!1),b=cV({"navbar-light":o,"navbar-dark":a,"scrolling-navbar":s||u,"top-nav-collapse":v,[`text-${d}`]:d&&h?v:d},c&&`fixed-${c}`,l&&"sticky-top","navbar",p&&(e=>{if(!1!==e)return`navbar-expand-${e}`})(p),m&&`bg-${m}`,n),E=(0,i.useCallback)((()=>{u&&window.pageYOffset>u?y(!0):y(!1)}),[u]);return(0,i.useEffect)((()=>((s||u)&&window.addEventListener("scroll",E),()=>{window.removeEventListener("scroll",E)})),[E,s,u]),(0,gt.jsx)(f,{className:b,role:"navigation",...g,ref:t,children:r})}));PV.displayName="MDBNavbar";const DV=i.forwardRef(((e,t)=>{let{children:n,className:r="",disabled:i=!1,active:o=!1,tag:a="a",...s}=e;const c=cV("nav-link",i?"disabled":o?"active":"",r);return(0,gt.jsx)(a,{"data-test":"nav-link",className:c,style:{cursor:"pointer"},ref:t,...s,children:n})}));DV.displayName="MDBNavbarLink";const LV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="a",...o}=e;const a=cV("navbar-brand",n);return(0,gt.jsx)(i,{className:a,ref:t,...o,children:r})}));LV.displayName="MDBNavbarBrand";const MV=i.forwardRef(((e,t)=>{let{children:n,className:r,active:i,text:o,tag:a="li",...s}=e;const c=cV("nav-item",i&&"active",o&&"navbar-text",r);return(0,gt.jsx)(a,{...s,className:c,ref:t,children:n})}));MV.displayName="MDBNavbarItem";const jV=i.forwardRef(((e,t)=>{let{children:n,className:r,right:i,fullWidth:o=!0,left:a,tag:s="ul",...c}=e;const l=cV("navbar-nav",o&&"w-100",i&&"ms-auto",a&&"me-auto",r);return(0,gt.jsx)(s,{className:l,ref:t,...c,children:n})}));jV.displayName="MDBNavbarNav";const UV=i.forwardRef(((e,t)=>{let{children:n,className:r,tag:i="button",...o}=e;const a=cV("navbar-toggler",r);return(0,gt.jsx)(i,{...o,className:a,ref:t,children:n})}));UV.displayName="MDBNavbarToggler";const FV=i.forwardRef(((e,t)=>{let{children:n,bgColor:r,color:i,className:o,...a}=e;const s=cV(r&&`bg-${r}`,i&&`text-${i}`,o);return(0,gt.jsx)("footer",{className:s,...a,ref:t,children:n})}));FV.displayName="MDBFooter";const BV=i.forwardRef(((e,t)=>{let{children:n,size:r,circle:i,center:o,end:a,start:s,className:c,...l}=e;const u=cV("pagination",o&&"justify-content-center",i&&"pagination-circle",a&&"justify-content-end",r&&`pagination-${r}`,s&&"justify-content-start",c);return(0,gt.jsx)("ul",{className:u,...l,ref:t,children:n})}));BV.displayName="MDBPagination";const VV=i.forwardRef(((e,t)=>{let{children:n,className:r,tag:i="a",...o}=e;const a=cV("page-link",r);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:n})}));VV.displayName="MDBPaginationLink";const WV=i.forwardRef(((e,t)=>{let{children:n,className:r,active:i,disabled:o,...a}=e;const s=cV("page-item",i&&"active",o&&"disabled",r);return(0,gt.jsx)("li",{className:s,...a,ref:t,children:n})}));WV.displayName="MDBPaginationItem";const HV=i.forwardRef(((e,t)=>{let{animated:n,children:r,className:i,style:o,tag:a="div",valuenow:s,valuemax:c,striped:l,bgColor:u,valuemin:d,width:h,...p}=e;const f=cV("progress-bar",u&&`bg-${u}`,l&&"progress-bar-striped",n&&"progress-bar-animated",i),m={width:`${h}%`,...o};return(0,gt.jsx)(a,{className:f,style:m,ref:t,role:"progressbar",...p,"aria-valuenow":Number(h)??s,"aria-valuemin":Number(d),"aria-valuemax":Number(c),children:r})}));HV.displayName="MDBProgressBar";const GV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:o="div",height:a,style:s,...c}=e;const l=cV("progress",n),u={height:`${a}px`,...s};return(0,gt.jsx)(o,{className:l,ref:t,style:u,...c,children:i.Children.map(r,(e=>i.isValidElement(e)&&e.type===HV?e:void console.error("Progress component only allows ProgressBar as child")))})}));GV.displayName="MDBProgress";const zV=i.forwardRef(((e,t)=>{let{className:n,size:r,contrast:o,value:a,defaultValue:s,id:c,labelClass:l,wrapperClass:u,wrapperStyle:d,wrapperTag:h="div",label:p,onChange:f,children:m,labelRef:g,labelStyle:v,type:y,onBlur:b,readonly:E=!1,showCounter:_=!1,...w}=e;var S;const[T,C]=(0,i.useState)(s),x=(0,i.useMemo)((()=>void 0!==a?a:T),[a,T]),[R,A]=(0,i.useState)(0),[O,I]=(0,i.useState)(!1),[N,k]=(0,i.useState)(0),P=(0,i.useRef)(null),D=(e=>{const[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null);return(0,i.useEffect)((()=>{o((()=>new IntersectionObserver((e=>{let[t]=e;n(t.isIntersecting)}))))}),[]),(0,i.useEffect)((()=>{if(e.current&&r)return r.observe(e.current),()=>r.disconnect()}),[r,e]),t})(P),L=(0,i.useRef)(null),M=g||L;(0,i.useImperativeHandle)(t,(()=>P.current));const j=cV("form-outline",o&&"form-white",u),U=cV("form-control",O&&"active",["date","time","datetime-local","month","week"].includes(y)&&"active",r&&`form-control-${r}`,n),F=cV("form-label",l),B=(0,i.useCallback)((()=>{var e;null!=(e=M.current)&&e.clientWidth&&A(.8*M.current.clientWidth+8)}),[M]),V=(0,i.useCallback)((e=>{P.current&&(I(!!x),b&&b(e))}),[x,b]);return(0,i.useEffect)((()=>{B()}),[null==(S=M.current)?void 0:S.clientWidth,B,D]),(0,i.useEffect)((()=>{if(x)return I(!0);I(!1)}),[x]),(0,gt.jsxs)(h,{className:j,style:d,children:[(0,gt.jsx)("input",{type:y,readOnly:E,className:U,onBlur:V,onChange:e=>{C(e.target.value),_&&k(e.target.value.length),null==f||f(e)},onFocus:B,value:a,defaultValue:s,id:c,ref:P,...w}),p&&(0,gt.jsx)("label",{className:F,style:v,htmlFor:c,ref:M,children:p}),(0,gt.jsxs)("div",{className:"form-notch",children:[(0,gt.jsx)("div",{className:"form-notch-leading"}),(0,gt.jsx)("div",{className:"form-notch-middle",style:{width:R}}),(0,gt.jsx)("div",{className:"form-notch-trailing"})]}),m,_&&w.maxLength&&(0,gt.jsx)("div",{className:"form-helper",children:(0,gt.jsx)("div",{className:"form-counter",children:`${N}/${w.maxLength}`})})]})}));zV.displayName="MDBInput";const KV=(0,i.forwardRef)(((e,t)=>{let{className:n,inputRef:r,labelClass:i,wrapperClass:o,labelStyle:a,wrapperTag:s="div",wrapperStyle:c,label:l,inline:u,btn:d,id:h,btnColor:p,disableWrapper:f,toggleSwitch:m,...g}=e,v="form-check-input",y="form-check-label";d&&(v="btn-check",y=p?`btn btn-${p}`:"btn btn-primary");const b=cV(l&&!d&&"form-check",u&&!d&&"form-check-inline",m&&"form-switch",o),E=cV(v,n),_=cV(y,i),w=(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("input",{className:E,id:h,ref:r,...g}),l&&(0,gt.jsx)("label",{className:_,style:a,htmlFor:h,children:l})]});return(0,gt.jsx)(gt.Fragment,{children:f?w:(0,gt.jsx)(s,{style:c,className:b,ref:t,children:w})})}));KV.displayName="InputTemplate";function YV(e){let{showCollapse:t,setCollapseHeight:n,refCollapse:r,contentRef:o}=e;(0,i.useEffect)((()=>{t||n("0px")}),[t]),(0,i.useEffect)((()=>{const e=r.current,t=new ResizeObserver((t=>{let[r]=t;(t=>{if(!e)return;const r=t.contentRect.height,i=window.getComputedStyle(e),o=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.marginBottom)+parseFloat(i.marginTop);n(`${r+o}px`)})(r)}));return t.observe(o.current),()=>{t.disconnect()}}),[])}const qV=e=>{let{className:t,children:n,open:r=!1,id:o,navbar:a,tag:s="div",collapseRef:c,style:l,onOpen:u,onClose:d,...h}=e;const[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(void 0),[v,y]=(0,i.useState)(!1),b=cV(v?"collapsing":"collapse",!v&&p&&"show",a&&"navbar-collapse",t),E=(0,i.useRef)(null),_=c??E,w=(0,i.useRef)(null),S=(0,i.useCallback)((()=>{p&&g(void 0)}),[p]);return(0,i.useEffect)((()=>(window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)})),[S]),YV({showCollapse:p,setCollapseHeight:g,refCollapse:_,contentRef:w}),(0,i.useEffect)((()=>{p!==r&&(r?null==u||u():null==d||d(),f(r)),p&&y(!0);const e=setTimeout((()=>{y(!1)}),350);return()=>{clearTimeout(e)}}),[r,p,u,d]),(0,gt.jsx)(s,{style:{height:m,...l},id:o,className:b,...h,ref:_,children:(0,gt.jsx)("div",{ref:w,className:"collapse-content",children:n})})},$V=((0,i.createContext)(null),i.forwardRef(((e,t)=>{let{className:n,centered:r,children:i,size:o,scrollable:a,tag:s="div",...c}=e;const l=cV("modal-dialog",a&&"modal-dialog-scrollable",r&&"modal-dialog-centered",o&&`modal-${o}`,n);return(0,gt.jsx)(s,{className:l,...c,ref:t,children:i})})));$V.displayName="MDBModalDialog";const XV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("modal-content",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));XV.displayName="MDBModalContent";const QV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("modal-header",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));QV.displayName="MDBModalHeader";const JV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="h5",...o}=e;const a=cV("modal-title",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));JV.displayName="MDBModalTitle";const ZV=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("modal-body",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));ZV.displayName="MDBModalBody";const eW=i.forwardRef(((e,t)=>{let{className:n,children:r,tag:i="div",...o}=e;const a=cV("modal-footer",n);return(0,gt.jsx)(i,{className:a,...o,ref:t,children:r})}));eW.displayName="MDBModalFooter";i.createContext({activeElement:null,setTargets:null});const tW=(0,i.forwardRef)(((e,t)=>{let{className:n,labelClass:r,labelStyle:o,inputRef:a,size:s,label:c,id:l,...u}=e;const d=cV("form-control",`form-control-${s}`,n),h=cV("form-label",r),p=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>p.current||(null==a?void 0:a.current))),(0,gt.jsxs)(gt.Fragment,{children:[c&&(0,gt.jsx)("label",{className:h,style:o,htmlFor:l,children:c}),(0,gt.jsx)("input",{className:d,type:"file",id:l,ref:p,...u})]})}));tW.displayName="MDBFile";const nW=i.forwardRef(((e,t)=>{let{className:n,children:r,noBorder:i,textBefore:o,textAfter:a,noWrap:s,tag:c="div",textTag:l="span",textClass:u,size:d,textProps:h,...p}=e;const f=cV("input-group",s&&"flex-nowrap",d&&`input-group-${d}`,n),m=cV("input-group-text",i&&"border-0",u),g=e=>(0,gt.jsx)(gt.Fragment,{children:e&&Array.isArray(e)?e.map(((e,t)=>(0,gt.jsx)(l,{className:m,...h,children:e},t))):(0,gt.jsx)(l,{className:m,...h,children:e})});return(0,gt.jsxs)(c,{className:f,ref:t,...p,children:[o&&g(o),r,a&&g(a)]})}));nW.displayName="MDBInputGroup";const rW=i.forwardRef(((e,t)=>{let{className:n,children:r,isValidated:o=!1,onReset:a,onSubmit:s,noValidate:c=!0,...l}=e;const[u,d]=(0,i.useState)(o),h=cV("needs-validation",u&&"was-validated",n);return(0,i.useEffect)((()=>{d(o)}),[o]),(0,gt.jsx)("form",{className:h,onSubmit:e=>{e.preventDefault(),d(!0),s&&s(e)},onReset:e=>{e.preventDefault(),d(!1),a&&a(e)},ref:t,noValidate:c,...l,children:r})}));rW.displayName="MDBValidation";const iW=i.forwardRef(((e,t)=>{let{className:n,fill:r,pills:i,justify:o,children:a,...s}=e;const c=cV("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",o&&"nav-justified",n);return(0,gt.jsx)("ul",{className:c,ref:t,...s,children:a})}));iW.displayName="MDBTabs";const oW=i.forwardRef(((e,t)=>{let{className:n,children:r,style:i,tag:o="li",...a}=e;const s=cV("nav-item",n);return(0,gt.jsx)(o,{className:s,style:{cursor:"pointer",...i},role:"presentation",ref:t,...a,children:r})}));oW.displayName="MDBTabsItem";const aW=i.forwardRef(((e,t)=>{let{className:n,color:r,active:o,onOpen:a,onClose:s,children:c,...l}=e;const u=cV("nav-link",o&&"active",r&&`bg-${r}`,n);return(0,i.useEffect)((()=>{o?null==a||a():null==s||s()}),[o]),(0,gt.jsx)("a",{className:u,ref:t,...l,children:c})}));aW.displayName="MDBTabsLink";const sW=i.forwardRef(((e,t)=>{let{className:n,tag:r="div",children:i,...o}=e;const a=cV("tab-content",n);return(0,gt.jsx)(r,{className:a,ref:t,...o,children:i})}));sW.displayName="MDBTabsContent";const cW=i.forwardRef(((e,t)=>{let{className:n,tag:r="div",open:o,children:a,...s}=e;const[c,l]=(0,i.useState)(!1),u=cV("tab-pane","fade",c&&"show",o&&"active",n);return(0,i.useEffect)((()=>{let e;return o?e=setTimeout((()=>{l(!0)}),100):l(!1),()=>{clearTimeout(e)}}),[o]),(0,gt.jsx)(r,{className:u,role:"tabpanel",ref:t,...s,children:a})}));cW.displayName="MDBTabsPane";(0,i.createContext)({active:0});const lW=i.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),uW=i.forwardRef(((e,t)=>{let{alwaysOpen:n,borderless:r,className:o,flush:a,active:s,initialActive:c=0,tag:l="div",children:u,onChange:d,...h}=e;const p=(0,i.useMemo)((()=>typeof s<"u"),[s]),f=cV("accordion",a&&"accordion-flush",r&&"accordion-borderless",o),[m,g]=(0,i.useState)(c);return(0,gt.jsx)(l,{className:f,ref:t,...h,children:(0,gt.jsx)(lW.Provider,{value:{activeItem:p?s:m,setActiveItem:g,alwaysOpen:n,initialActive:c,onChange:d},children:u})})}));uW.displayName="MDBAccordion";const dW=i.forwardRef(((e,t)=>{let{className:n,bodyClassName:r,bodyStyle:o,headerClassName:a,collapseId:s,headerTitle:c,headerStyle:l,btnClassName:u,tag:d="div",children:h,...p}=e;const{activeItem:f,setActiveItem:m,alwaysOpen:g,onChange:v}=(0,i.useContext)(lW),y=(0,i.useMemo)((()=>Array.isArray(f)?f.includes(s):f===s),[f,s]),b=cV("accordion-item",n),E=cV("accordion-header",a),_=cV("accordion-body",r),w=cV("accordion-button",!y&&"collapsed",u),S=(0,i.useCallback)((e=>{let t=e;Array.isArray(f)?t=f.includes(e)?f.filter((t=>t!==e)):g?[...f,e]:[e]:(t=f===e?0:e,g&&(t=[t])),null==v||v(t),m(t)}),[v,f,m,g]);return(0,gt.jsxs)(d,{className:b,ref:t,...p,children:[(0,gt.jsx)("h2",{className:E,style:l,children:(0,gt.jsx)("button",{onClick:()=>S(s),className:w,type:"button",children:c})}),(0,gt.jsx)(qV,{id:s.toString(),open:y,children:(0,gt.jsx)("div",{className:_,style:o,children:h})})]})}));dW.displayName="MDBAccordionItem";const hW=function(e){let{setShowExecutiveModal:t}=e;const[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)({name:"",mobile_number:"",place:"",profession:"",account_number:"",ifsc_code:"",gender:"",executive_id:"",email_id:"",age:"",education_qualification:"",skills:"",status:"",password:"",is_banned:!1,is_suspended:!1,manager_executive:""}),s=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:"manager_executive"===t?Number(n):n})))},[c,l]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/admins/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Admin data")}catch(e){throw console.error("Error fetching Admin data:",e.message),e}})();l(e)}catch(e){console.error("Error fetching admins:",e.message)}})()}),[]),(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsxs)("div",{className:"container",style:{background:"white",borderRadius:"10px"},children:[(0,gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n={name:"Executive Name",mobile_number:"Phone Number",account_number:"Account number",ifsc_code:"IFSC Code",email_id:"Email ID",password:"Password",gender:"Gender",status:"Status",manager_executive:"Manager"},r=Object.keys(n).filter((e=>!o[e]||"string"===typeof o[e]&&""===o[e].trim()));if(r.length>0){const e=r.map((e=>n[e])).join(", ");yB.error(`Please fill in the following fields: ${e}`)}else try{const e=localStorage.getItem("Bestie_accesstoken"),n={...o,mobile_number:`+91${o.mobile_number}`,manager_executive:Number(o.manager_executive)};console.log("Request payload:",n),console.log("API endpoint:",`${hU}/api/register-executive/`),console.log("Token:",e?"Present":"Missing");const r=await fetch(`${hU}/api/register-executive/`,{method:"POST",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}},body:JSON.stringify(n)});let i;console.log("Response status:",r.status),console.log("Response headers:",Object.fromEntries(r.headers.entries()));const a=r.headers.get("content-type");if(i=a&&a.includes("application/json")?await r.json():await r.text(),console.log("Response data:",i),!r.ok){console.error("API Error Details:",{status:r.status,statusText:r.statusText,data:i,url:r.url});let e="Something went wrong. Please try again.";return"object"===typeof i&&null!==i?e=i.message||i.error||i.detail||JSON.stringify(i):"string"===typeof i&&(e=i),void yB.error(e)}console.log("Success response:",i),yB.success("Executive added successfully!"),t(!1)}catch(i){console.error("Network/Fetch Error:",{message:i.message,name:i.name,stack:i.stack,cause:i.cause}),"TypeError"===i.name&&i.message.includes("fetch")?yB.error("Network error: Unable to connect to server. Please check your internet connection."):"SyntaxError"===i.name?yB.error("Server response format error. Please try again or contact support."):yB.error(`Error: ${i.message}`)}},children:[(0,gt.jsxs)("div",{className:"row",children:[(0,gt.jsxs)("div",{className:"col-md-6 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Executive Name"}),(0,gt.jsx)(zV,{name:"name",required:!0,value:o.name,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Phone Number"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,gt.jsx)("span",{className:"me-2",children:"+91"}),(0,gt.jsx)(zV,{name:"mobile_number",value:o.mobile_number,required:!0,onChange:e=>{const t=e.target.value.replace(/\D/g,"");s({target:{name:"mobile_number",value:t}})},type:"text"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Place"}),(0,gt.jsx)(zV,{name:"place",required:!0,value:o.place,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Account number"}),(0,gt.jsx)(zV,{name:"account_number",required:!0,value:o.account_number,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Profession"}),(0,gt.jsx)(zV,{name:"profession",required:!0,value:o.profession,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Gender"}),(0,gt.jsxs)("select",{name:"gender",required:!0,value:o.gender,onChange:s,className:"form-control",children:[(0,gt.jsx)("option",{value:"",children:"Select Gender"}),(0,gt.jsx)("option",{value:"male",children:"Male"}),(0,gt.jsx)("option",{value:"female",children:"Female"}),(0,gt.jsx)("option",{value:"others",children:"Others"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Manager"}),(0,gt.jsxs)("select",{name:"manager_executive",value:o.manager_executive||"",onChange:s,className:"form-control",children:[(0,gt.jsx)("option",{value:"",children:"Select Manager"}),c.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,gt.jsxs)("div",{className:"col-md-6 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Email ID"}),(0,gt.jsx)(zV,{required:!0,name:"email_id",value:o.email_id,onChange:s,type:"email"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Age"}),(0,gt.jsx)(zV,{required:!0,name:"age",value:o.age,onChange:s,type:"number"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Education"}),(0,gt.jsx)(zV,{required:!0,name:"education_qualification",value:o.education_qualification,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"IFSC Code"}),(0,gt.jsx)(zV,{required:!0,name:"ifsc_code",value:o.ifsc_code,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Skills"}),(0,gt.jsx)(zV,{required:!0,name:"skills",value:o.skills,onChange:s,type:"text"})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Status"}),(0,gt.jsxs)("select",{required:!0,name:"status",value:o.status,onChange:s,className:"form-control",children:[(0,gt.jsx)("option",{value:"",children:"Select Status"}),(0,gt.jsx)("option",{value:"active",children:"Active"}),(0,gt.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,gt.jsxs)("div",{className:"my-3 position-relative",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Password"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,gt.jsx)(zV,{required:!0,name:"password",value:o.password,onChange:s,type:n?"text":"password",className:"flex-grow-1"}),(0,gt.jsx)(OV,{fas:!0,icon:n?"eye-slash":"eye",onClick:()=>{r((e=>!e))},className:"ms-2 cursor-pointer",style:{cursor:"pointer"}})]})]})]})]}),(0,gt.jsxs)("div",{className:"buttonContainer my-3",children:[(0,gt.jsx)("div",{className:"d-grid col-5 mx-auto",children:(0,gt.jsx)("button",{onClick:()=>{t(!1)},type:"button",className:"canexe",children:"Cancel"})}),(0,gt.jsx)("div",{className:"d-grid col-5 mx-auto",children:(0,gt.jsx)("button",{type:"submit",className:"addexe",children:"Add"})})]})]}),(0,gt.jsx)(xB,{})]})})};const pW=function(){const e=te(),[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[c,l]=(0,i.useState)([]),[u,d]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(""),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(1),[E,_]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),T=12*(y-1),C=T+12,x=g.slice(T,C),[R,A]=(0,i.useState)("all"),[O,I]=(0,i.useState)("All"),[N,k]=(0,i.useState)(!1),[P,D]=(0,i.useState)(null),[L,M]=(0,i.useState)([]),j=Math.ceil(g.length/12);if((0,i.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e="GET",t=`${hU}/api/all-executives/`,n=await pU(e,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to fetch executives data")}catch(h){throw console.error("Error fetching executives data:",h.message),console.log(h.data),h}})();console.log("all executives",e);const t=e.filter((e=>"waiting for approval"===e.profile_photo_url)).map((e=>e.executive_id));M(t),l(e),v(e);const n=await BU();s(n),d(!1)}catch(e){p(e.message),d(!1)}})()}),[]),u)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(h)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",h]});const U=e=>{let t;switch(e){case"banned":t=c.filter((e=>e.is_banned));break;case"unbanned":t=c.filter((e=>!e.is_banned));break;case"Active":case"Online":t=c.filter((e=>e.online));break;case"Inactive":case"Offline":t=c.filter((e=>!e.online));break;default:t=c}v(t),A(e),B()},F=e=>{let t;switch(e){case"Online":t=c.filter((e=>e.online));break;case"Offline":t=c.filter((e=>!e.online));break;default:t=c}v(t),I(e)},B=()=>{n(!1),S(!1),o(null)},V=()=>{const e=c.filter((e=>{const t=e.name&&e.name.toLowerCase().includes(f.toLowerCase()),n=e.mobile_number&&(e=>e.replace(/\D/g,""))(e.mobile_number).includes(f),r=e.email_id&&e.email_id.toLowerCase().includes(f.toLowerCase()),i=e.profession&&e.profession.toLowerCase().includes(f.toLowerCase()),o=e.gender&&e.gender.toLowerCase().includes(f.toLowerCase());return t||n||r||i||o}));v(e),b(1)},W=t=>{e(`/empdetails/${t}`)};return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsxs)("p",{className:"mb-4 d-flex justify-content-between align-items-center emlist",children:["Executive List",(0,gt.jsx)("button",{className:"d-flex align-items-center addnew",onClick:()=>{e("/requests")},children:"Requests"}),(0,gt.jsxs)("button",{className:"d-flex align-items-center addnew",onClick:()=>_(!0),children:[(0,gt.jsx)(ze,{className:"me-2"})," New Employee"]})]}),(0,gt.jsxs)("div",{className:"d-flex align-items-start mb-3 gap-3 justify-content-between",children:[(0,gt.jsxs)("div",{className:"d-flex gap-3",children:[(0,gt.jsxs)(YF.Group,{controlId:"cashSearch",className:"w-100",children:[(0,gt.jsx)(YF.Label,{children:"Search By"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by anything",value:f,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&V()}})]}),(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{onClick:V,variant:"success",className:"w-100",children:(0,gt.jsx)(Ye,{})})]})]}),(0,gt.jsxs)(YF.Group,{className:"ms-auto",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)("button",{className:"w-100 buttond",onClick:()=>{const e=g.map((e=>({Name:e.name,Phone:e.mobile_number,Email:e.email_id,Profession:e.profession,Gender:e.gender,Status:"active"===e.status?"Active":"Inactive",Suspended:e.is_suspended?"Yes":"No",Banned:e.is_banned?"Yes":"No"}))),t=sg.book_new(),n=sg.json_to_sheet(e);sg.book_append_sheet(t,n,"Executives"),$m(t,"executives.xlsx")},children:(0,gt.jsx)(Me,{})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsxs)("button",{onClick:()=>S(!0),className:"w-100 buttonsort",children:[(0,gt.jsx)("i",{class:"bi bi-sort-up"})," "]})]}),(0,gt.jsx)(ys,{className:"p-2  mt-2 text-center employee-summary-card",children:(0,gt.jsxs)(Es,{children:[(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-people-fill text-primary me-2"}),(0,gt.jsx)("span",{className:"text-primary",children:a.total_executives})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Inactive"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-x-circle-fill text-danger me-2"}),(0,gt.jsx)("span",{className:"text-danger",children:a.inactive_executives})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Active"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),(0,gt.jsx)("span",{className:"text-success",children:a.active_executives})]})]})]})})]}),(0,gt.jsx)(Es,{children:x.map((e=>(0,gt.jsx)(qa,{xs:12,sm:6,md:6,lg:3,className:"mt-4",children:(0,gt.jsxs)(ys,{onClick:()=>W(e.id),className:"employee-card h-100 border-0 shadow-sm "+(e.is_banned||e.is_suspended?"inactive-card":""),style:{opacity:e.is_banned||e.is_suspended?.6:1,border:e.online?"2px solid green":"2px solid gray"},children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 position-relative",children:[(0,gt.jsxs)("div",{className:"badge-container",children:[e.is_banned&&(0,gt.jsx)("span",{className:"badge bg-danger me-2",children:"Banned"}),e.is_suspended&&(0,gt.jsx)("span",{className:"badge bg-warning",children:"Suspended"}),(0,gt.jsx)("span",{className:`badge ${e.online?"bg-success":"bg-secondary"} ms-2`,children:e.online?"Online":"Offline"})]}),(0,gt.jsx)(Ue,{className:"text-muted",style:{cursor:"pointer"},onClick:t=>{t.stopPropagation(),o(e),n(!0)}})]}),(0,gt.jsxs)("div",{className:"card-header d-flex justify-content-start align-items-center",onClick:t=>{t.stopPropagation(),(async e=>{try{const t=await KU(e.executive_id);t&&t.profile_photo_url?D({...e,profile_photo_url:t.profile_photo_url,error:null}):D({...e,profile_photo_url:null,error:"No pending profile picture found for the given executive."}),k(!0)}catch(h){console.error("Error handling avatar click:",h),D({...e,profile_photo_url:null,error:"Failed to fetch update request. Please try again."}),k(!0)}})(e)},children:[(0,gt.jsxs)("div",{className:"position-relative",children:[(0,gt.jsx)("img",{src:e.img||"https://i.postimg.cc/Y9LvbvTZ/Avatar.png",alt:e.name,className:"employee-img-rectangle"}),L.includes(e.executive_id)&&(0,gt.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",style:{fontSize:"10px"},children:"!"}),e.has_update_request&&(0,gt.jsx)("span",{className:"badge bg-info position-absolute top-0 start-0",children:"Request"})]}),(0,gt.jsxs)("div",{className:"d-flex flex-column align-items-start ms-2",children:[(0,gt.jsx)("p",{className:"employee-name mb-0",children:e.name}),(0,gt.jsxs)("p",{className:"text-muted small",children:[e.coins_per_second," Coin/Sec"]})]})]}),(0,gt.jsx)(ys.Body,{style:{padding:"13px",maxHeight:"200px",overflowY:"auto"},className:"d-flex flex-column custom-scroll",children:(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsxs)("div",{className:"employee-details",children:[(0,gt.jsx)("p",{className:"mb-1 employee-phone",children:(0,gt.jsx)("strong",{children:"Phone"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.mobile_number||"N/A"}),(0,gt.jsx)("p",{className:"mb-1 employee-email",children:(0,gt.jsx)("strong",{children:"Email"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.email_id||"N/A"})]}),(0,gt.jsxs)("div",{className:"employee-info",children:[(0,gt.jsx)("p",{className:"mb-1 employee-profession",children:(0,gt.jsx)("strong",{children:"Profession"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.profession||"N/A"}),(0,gt.jsx)("p",{className:"mb-1 employee-gender",children:(0,gt.jsx)("strong",{children:"Gender"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.gender||"N/A"})]})]})})]})},e.id)))}),(0,gt.jsxs)(gF,{show:N,onHide:()=>{k(!1),D(null)},children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Image Update Request"})}),(0,gt.jsx)(gF.Body,{className:"text-center",children:null!==P&&void 0!==P&&P.profile_photo_url?(0,gt.jsx)("img",{src:P.profile_photo_url,alt:"Requested Avatar",className:"img-fluid"}):null!==P&&void 0!==P&&P.error?(0,gt.jsx)("p",{className:"text-danger",children:"There is no requested image"}):(0,gt.jsx)("p",{children:"No requested image available."})}),(0,gt.jsx)(gF.Footer,{children:(null===P||void 0===P?void 0:P.profile_photo_url)&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Aa,{variant:"success",onClick:()=>(async e=>{try{const t=new FormData;t.append("status","approved");const n=await YU(e,t);console.log("Approve Response:",n),"approved"===n.status?(yB.success(n.detail||"Profile request approved successfully!"),k(!1)):yB.error(n.detail||"Failed to approve the profile request.")}catch(h){var t,n;console.error("Error approving profile request:",h),yB.error((null===h||void 0===h||null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===h||void 0===h?void 0:h.message)||"Something went wrong while approving the request.")}})(P.executive_id),children:"Approve"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:()=>(async e=>{try{const t=new FormData;t.append("status","rejected");const n=await YU(e,t);console.log("Decline Response:",n),"rejected"===n.status?(yB.success(n.detail||"Profile request declined successfully!"),k(!1)):yB.error(n.detail||"Failed to decline the profile request.")}catch(h){var t,n;console.error("Error declining profile request:",h),yB.error((null===h||void 0===h||null===(t=h.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===h||void 0===h?void 0:h.message)||"Something went wrong while declining the request.")}})(P.executive_id),children:"Decline"})]})})]}),(0,gt.jsxs)(gF,{show:E,onHide:()=>_(!1),size:"lg",centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Add New Executive"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)(hW,{setShowExecutiveModal:_})})]}),r&&(0,gt.jsx)(gF,{show:t,onHide:B,centered:!0,dialogClassName:"custom-modal-width",style:{width:"25%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsxs)(Aa,{onClick:()=>W(r.id),variant:"link",style:{color:"black"},className:"text-start",children:[(0,gt.jsx)(Ze,{className:"me-2"})," Edit Profile"]}),r.is_suspended?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await NU(e);v((t=>t.map((t=>t.id===e?{...t,is_suspended:!1}:t)))),B(),console.log("Executive unSuspended successfully:",t),yB.success("Executive unSuspended successfully!")}catch(t){console.error("Error unSuspended executive:",t.message),yB.error("Error unSuspending executive: "+t.message)}})(r.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Unsuspend Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await RU(e);v((t=>t.map((t=>t.id===e?{...t,is_suspended:!0}:t)))),B(),console.log("Executive suspended successfully:",t),yB.success("Executive Suspended successfully!")}catch(t){console.error("Error Suspended executive:",t.message),yB.error("Error Suspending executive: "+t.message)}})(r.id),children:[(0,gt.jsx)(He,{className:"me-2"})," Suspend Employee"]}),r.online?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await OU(e);v((t=>{const n=t.map((t=>t.id===e?{...t,online:!1}:t));return F(O),n})),B(),console.log("Executive offline successfully:",t),yB.success("Executive set offline successfully!")}catch(t){console.error("Error setting executive offline:",t.message),yB.error("Error setting executive offline: "+t.message)}})(r.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Set offline Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await AU(e);v((t=>{const n=t.map((t=>t.id===e?{...t,online:!0}:t));return F(O),n})),B(),console.log("Executive online successfully:",t),yB.success("Executive set online successfully!")}catch(t){console.error("Error setting executive online:",t.message),yB.error("Error setting executive online: "+t.message)}})(r.id),children:[(0,gt.jsx)(ke,{className:"me-2"})," Set online Employee"]}),r.is_banned?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await IU(e);v((t=>t.map((t=>t.executive_id===e?{...t,is_banned:!1}:t)))),B(),console.log("Executive unbanned successfully:",t),yB.success("Executive unbanned successfully!")}catch(t){console.error("Error unbanning executive:",t.message),yB.error("Error unbanning executive: "+t.message)}})(r.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Unban Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await xU(e);v((t=>t.map((t=>t.executive_id===e?{...t,is_banned:!0}:t)))),B(),console.log("Executive banned successfully:",t),yB.success("Executive banned successfully!")}catch(t){yB.error("Error banning executive: "+t.message)}})(r.id),children:[(0,gt.jsx)(ke,{className:"me-2"})," Ban Employee"]})]})})}),(0,gt.jsx)(gF,{show:w,onHide:()=>S(!1),size:"sm",children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,gt.jsx)(Aa,{variant:"light",onClick:()=>U("banned"),className:"mb-2 w-100",children:"Banned Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>U("unbanned"),className:"mb-2 w-100",children:"Unbanned Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>U("Active"),className:"mb-2 w-100",children:"Online Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>U("Inactive"),className:"mb-2 w-100",children:"Offline Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>U("all"),className:"w-100",children:"All Executives"})]})})}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>b(1),disabled:1===y}),(0,gt.jsx)(JB.Prev,{onClick:()=>b(y-1),disabled:1===y}),[...Array(j)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:y===n,onClick:()=>(e=>{b(e)})(n),style:{backgroundColor:y===n?"#5065F6":"transparent",color:y===n?"white":"#000",borderRadius:"8px",boxShadow:y===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>b(y+1),disabled:y===j}),(0,gt.jsx)(JB.Last,{onClick:()=>b(j),disabled:y===j})]}),(0,gt.jsx)(xB,{})]})};const fW=function(){const[e,t]=(0,i.useState)(1),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)([]),[l,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(!1),m=e=>{t(e)};(0,i.useEffect)((()=>{(async()=>{r(!0);try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/careers/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Requests data")}catch(o){throw console.error("Error fetching Requests data:",o.message),o}})();c(e)}catch(e){a(e.message)}finally{r(!1)}})()}),[]);const g=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});(0,i.useEffect)((()=>{const t=10*e,n=t-10,r=s.slice(n,t);u(r)}),[e,s]);const v=()=>{f(!1)};if(n)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(o)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",o]});const y=Math.ceil(s.length/10);return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)("p",{className:"mb-4 d-flex justify-content-between align-items-center emlist",children:"Requests"}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"Employee Name"}),(0,gt.jsx)("th",{children:"Date"}),(0,gt.jsx)("th",{children:"Education"}),(0,gt.jsx)("th",{children:"Gender"}),(0,gt.jsx)("th",{children:"Action"})]})}),(0,gt.jsx)("tbody",{children:l.map(((e,t)=>(0,gt.jsxs)("tr",{children:[(0,gt.jsxs)("td",{children:[(0,gt.jsx)(ZU,{src:e.image||"https://via.placeholder.com/30",roundedCircle:!0,width:"30",height:"30",className:"me-2"}),e.full_name]}),(0,gt.jsx)("td",{children:g(e.created_at)}),(0,gt.jsx)("td",{children:e.education}),(0,gt.jsx)("td",{children:e.gender}),(0,gt.jsx)("td",{children:(0,gt.jsx)("button",{className:"view-button",onClick:()=>(h(e),void f(!0)),children:"View"})})]},t)))})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>m(1)}),(0,gt.jsx)(JB.Prev,{onClick:()=>m(e>1?e-1:1)}),[...Array(y)].map(((t,n)=>(0,gt.jsx)(JB.Item,{active:e===n+1,onClick:()=>m(n+1),style:{backgroundColor:e===n+1?"#5065F6":"transparent",color:e===n+1?"white":"#000",borderRadius:"8px",boxShadow:e===n+1?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n+1},n+1))),(0,gt.jsx)(JB.Next,{onClick:()=>m(e<y?e+1:y)}),(0,gt.jsx)(JB.Last,{onClick:()=>m(y)})]}),(0,gt.jsxs)(gF,{show:p,onHide:v,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Request Details"})}),(0,gt.jsx)(gF.Body,{children:d?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Employee Name:"})," ",d.full_name]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Date:"})," ",g(d.created_at)]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Education:"})," ",d.education]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Gender:"})," ",d.gender]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Place:"})," ",d.place]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Profession:"})," ",d.profession]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Phone:"})," ",d.phone_number]})]}):(0,gt.jsx)("p",{children:"No request selected."})}),(0,gt.jsx)(gF.Footer,{children:(0,gt.jsx)(Aa,{variant:"secondary",onClick:v,children:"Close"})})]})]})};function mW(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=mW(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}function gW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let a="",s=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(a+=(!0===s?"":" ")+t(r),s=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}function vW(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const yW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function bW(e){return yW(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function EW(e){if(e.type)return e;if("#"===e.charAt(0))return EW(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(vW(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(vW(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const _W=(e,t)=>{try{return(e=>{const t=EW(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(n){return e}};function wW(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function SW(e){e=EW(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),wW({type:s,values:c})}function TW(e){let t="hsl"===(e=EW(e)).type||"hsla"===e.type?EW(SW(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function CW(e,t){return e=EW(e),t=bW(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,wW(e)}function xW(e,t,n){try{return CW(e,t)}catch(r){return e}}function RW(e,t){if(e=EW(e),t=bW(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return wW(e)}function AW(e,t,n){try{return RW(e,t)}catch(r){return e}}function OW(e,t){if(e=EW(e),t=bW(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return wW(e)}function IW(e,t,n){try{return OW(e,t)}catch(r){return e}}function NW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return TW(e)>.5?RW(e,t):OW(e,t)}function kW(e,t,n){try{return NW(e,t)}catch(r){return e}}const PW=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},DW=e=>PW(e)&&"classes"!==e;function LW(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var MW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,jW=LW((function(e){return MW.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var UW=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(F1){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),FW=Math.abs,BW=String.fromCharCode,VW=Object.assign;function WW(e){return e.trim()}function HW(e,t,n){return e.replace(t,n)}function GW(e,t){return e.indexOf(t)}function zW(e,t){return 0|e.charCodeAt(t)}function KW(e,t,n){return e.slice(t,n)}function YW(e){return e.length}function qW(e){return e.length}function $W(e,t){return t.push(e),e}var XW=1,QW=1,JW=0,ZW=0,eH=0,tH="";function nH(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:XW,column:QW,length:a,return:""}}function rH(e,t){return VW(nH("",null,null,"",null,null,0),e,{length:-e.length},t)}function iH(){return eH=ZW>0?zW(tH,--ZW):0,QW--,10===eH&&(QW=1,XW--),eH}function oH(){return eH=ZW<JW?zW(tH,ZW++):0,QW++,10===eH&&(QW=1,XW++),eH}function aH(){return zW(tH,ZW)}function sH(){return ZW}function cH(e,t){return KW(tH,e,t)}function lH(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uH(e){return XW=QW=1,JW=YW(tH=e),ZW=0,[]}function dH(e){return tH="",e}function hH(e){return WW(cH(ZW-1,mH(91===e?e+2:40===e?e+1:e)))}function pH(e){for(;(eH=aH())&&eH<33;)oH();return lH(e)>2||lH(eH)>3?"":" "}function fH(e,t){for(;--t&&oH()&&!(eH<48||eH>102||eH>57&&eH<65||eH>70&&eH<97););return cH(e,sH()+(t<6&&32==aH()&&32==oH()))}function mH(e){for(;oH();)switch(eH){case e:return ZW;case 34:case 39:34!==e&&39!==e&&mH(eH);break;case 40:41===e&&mH(e);break;case 92:oH()}return ZW}function gH(e,t){for(;oH()&&e+eH!==57&&(e+eH!==84||47!==aH()););return"/*"+cH(t,ZW-1)+"*"+BW(47===e?e:oH())}function vH(e){for(;!lH(aH());)oH();return cH(e,ZW)}var yH="-ms-",bH="-moz-",EH="-webkit-",_H="comm",wH="rule",SH="decl",TH="@keyframes";function CH(e,t){for(var n="",r=qW(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xH(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case SH:return e.return=e.return||e.value;case _H:return"";case TH:return e.return=e.value+"{"+CH(e.children,r)+"}";case wH:e.value=e.props.join(",")}return YW(n=CH(e.children,r))?e.return=e.value+"{"+n+"}":""}function RH(e){return dH(AH("",null,null,null,[""],e=uH(e),0,[0],e))}function AH(e,t,n,r,i,o,a,s,c){for(var l=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",E=i,_=o,w=r,S=b;g;)switch(f=y,y=oH()){case 40:if(108!=f&&58==zW(S,d-1)){-1!=GW(S+=HW(hH(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=hH(y);break;case 9:case 10:case 13:case 32:S+=pH(f);break;case 92:S+=fH(sH()-1,7);continue;case 47:switch(aH()){case 42:case 47:$W(IH(gH(oH(),sH()),t,n),c);break;default:S+="/"}break;case 123*m:s[l++]=YW(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=HW(S,/\f/g,"")),p>0&&YW(S)-d&&$W(p>32?NH(S+";",r,n,d-1):NH(HW(S," ","")+";",r,n,d-2),c);break;case 59:S+=";";default:if($W(w=OH(S,t,n,l,u,i,s,b,E=[],_=[],d),o),123===y)if(0===u)AH(S,t,w,w,E,o,d,s,_);else switch(99===h&&110===zW(S,3)?100:h){case 100:case 108:case 109:case 115:AH(e,w,w,r&&$W(OH(e,w,w,0,0,i,s,b,i,E=[],d),_),i,_,d,s,r?E:_);break;default:AH(S,w,w,w,[""],_,0,s,_)}}l=u=p=0,m=v=1,b=S="",d=a;break;case 58:d=1+YW(S),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==iH())continue;switch(S+=BW(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[l++]=(YW(S)-1)*v,v=1;break;case 64:45===aH()&&(S+=hH(oH())),h=aH(),u=d=YW(b=S+=vH(sH())),y++;break;case 45:45===f&&2==YW(S)&&(m=0)}}return o}function OH(e,t,n,r,i,o,a,s,c,l,u){for(var d=i-1,h=0===i?o:[""],p=qW(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=KW(e,d+1,d=FW(m=a[f])),b=e;v<p;++v)(b=WW(m>0?h[v]+" "+y:HW(y,/&\f/g,h[v])))&&(c[g++]=b);return nH(e,t,n,0===i?wH:s,c,l,u)}function IH(e,t,n){return nH(e,t,n,_H,BW(eH),KW(e,2,-2),0)}function NH(e,t,n,r){return nH(e,t,n,SH,KW(e,0,r),KW(e,r+1,-1),r)}var kH=function(e,t,n){for(var r=0,i=0;r=i,i=aH(),38===r&&12===i&&(t[n]=1),!lH(i);)oH();return cH(e,ZW)},PH=function(e,t){return dH(function(e,t){var n=-1,r=44;do{switch(lH(r)){case 0:38===r&&12===aH()&&(t[n]=1),e[n]+=kH(ZW-1,t,n);break;case 2:e[n]+=hH(r);break;case 4:if(44===r){e[++n]=58===aH()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=BW(r)}}while(r=oH());return e}(uH(e),t))},DH=new WeakMap,LH=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||DH.get(n))&&!r){DH.set(e,!0);for(var i=[],o=PH(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},MH=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function jH(e,t){switch(function(e,t){return 45^zW(e,0)?(((t<<2^zW(e,0))<<2^zW(e,1))<<2^zW(e,2))<<2^zW(e,3):0}(e,t)){case 5103:return EH+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return EH+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return EH+e+bH+e+yH+e+e;case 6828:case 4268:return EH+e+yH+e+e;case 6165:return EH+e+yH+"flex-"+e+e;case 5187:return EH+e+HW(e,/(\w+).+(:[^]+)/,EH+"box-$1$2"+yH+"flex-$1$2")+e;case 5443:return EH+e+yH+"flex-item-"+HW(e,/flex-|-self/,"")+e;case 4675:return EH+e+yH+"flex-line-pack"+HW(e,/align-content|flex-|-self/,"")+e;case 5548:return EH+e+yH+HW(e,"shrink","negative")+e;case 5292:return EH+e+yH+HW(e,"basis","preferred-size")+e;case 6060:return EH+"box-"+HW(e,"-grow","")+EH+e+yH+HW(e,"grow","positive")+e;case 4554:return EH+HW(e,/([^-])(transform)/g,"$1"+EH+"$2")+e;case 6187:return HW(HW(HW(e,/(zoom-|grab)/,EH+"$1"),/(image-set)/,EH+"$1"),e,"")+e;case 5495:case 3959:return HW(e,/(image-set\([^]*)/,EH+"$1$`$1");case 4968:return HW(HW(e,/(.+:)(flex-)?(.*)/,EH+"box-pack:$3"+yH+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+EH+e+e;case 4095:case 3583:case 4068:case 2532:return HW(e,/(.+)-inline(.+)/,EH+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(YW(e)-1-t>6)switch(zW(e,t+1)){case 109:if(45!==zW(e,t+4))break;case 102:return HW(e,/(.+:)(.+)-([^]+)/,"$1"+EH+"$2-$3$1"+bH+(108==zW(e,t+3)?"$3":"$2-$3"))+e;case 115:return~GW(e,"stretch")?jH(HW(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==zW(e,t+1))break;case 6444:switch(zW(e,YW(e)-3-(~GW(e,"!important")&&10))){case 107:return HW(e,":",":"+EH)+e;case 101:return HW(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+EH+(45===zW(e,14)?"inline-":"")+"box$3$1"+EH+"$2$3$1"+yH+"$2box$3")+e}break;case 5936:switch(zW(e,t+11)){case 114:return EH+e+yH+HW(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return EH+e+yH+HW(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return EH+e+yH+HW(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return EH+e+yH+e+e}return e}var UH=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case SH:e.return=jH(e.value,e.length);break;case TH:return CH([rH(e,{value:HW(e.value,"@","@"+EH)})],r);case wH:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return CH([rH(e,{props:[HW(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return CH([rH(e,{props:[HW(t,/:(plac\w+)/,":"+EH+"input-$1")]}),rH(e,{props:[HW(t,/:(plac\w+)/,":-moz-$1")]}),rH(e,{props:[HW(t,/:(plac\w+)/,yH+"input-$1")]})],r)}return""}))}}],FH=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||UH,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c,l,u=[xH,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=qW(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([LH,MH].concat(o,u));i=function(e,t,n,r){c=n,function(e){CH(RH(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new UW({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(s),h};var BH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VH=/[A-Z]|^ms/g,WH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HH=function(e){return 45===e.charCodeAt(1)},GH=function(e){return null!=e&&"boolean"!==typeof e},zH=LW((function(e){return HH(e)?e:e.replace(VH,"-$&").toLowerCase()})),KH=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(WH,(function(e,t,n){return qH={name:t,styles:n,next:qH},t}))}return 1===BH[e]||HH(e)||"number"!==typeof t||0===t?t:t+"px"};function YH(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return qH={name:i.name,styles:i.styles,next:qH},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)qH={name:a.name,styles:a.styles,next:qH},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=YH(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":GH(s)&&(r+=zH(o)+":"+KH(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var c=YH(e,t,a);switch(o){case"animation":case"animationName":r+=zH(o)+":"+c+";";break;default:r+=o+"{"+c+"}"}}else for(var l=0;l<a.length;l++)GH(a[l])&&(r+=zH(o)+":"+KH(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=qH,c=n(e);return qH=s,YH(e,t,c)}}var l=n;if(null==t)return l;var u=t[l];return void 0!==u?u:l}var qH,$H=/label:\s*([^\s;{]+)\s*(;|$)/g;function XH(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";qH=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=YH(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++){if(i+=YH(n,t,e[a]),r)i+=o[a]}$H.lastIndex=0;for(var s,c="";null!==(s=$H.exec(i));)c+="-"+s[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:qH}}var QH=!!o.useInsertionEffect&&o.useInsertionEffect,JH=QH||function(e){return e()},ZH=QH||i.useLayoutEffect,eG=i.createContext("undefined"!==typeof HTMLElement?FH({key:"css"}):null),tG=(eG.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(eG);return e(t,r,n)}))}),nG=i.createContext({});var rG=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},iG=function(e,t,n){rG(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},oG=jW,aG=function(e){return"theme"!==e},sG=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?oG:aG},cG=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},lG=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return rG(t,n,r),JH((function(){return iG(t,n,r)})),null},uG=function e(t,n){var r,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var c=cG(t,n,a),l=c||sG(s),u=!l("as");return function(){var d=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,f=1;f<p;f++)h.push(d[f],d[0][f])}var m=tG((function(e,t,n){var r=u&&e.as||s,a="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=i.useContext(nG)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=XH(h.concat(d),t.registered,p);a+=t.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===c?sG(r):l,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(lG,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,r){return e(t,ct({},n,r,{shouldForwardProp:cG(m,r,!0)})).apply(void 0,h)},m}}.bind();function dG(e,t){return uG(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){uG[e]=uG(e)}));function hG(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pG(e){if(!hG(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=pG(e[n])})),t}function fG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return hG(e)&&hG(t)&&Object.keys(t).forEach((i=>{hG(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&hG(e[i])?r[i]=fG(e[i],t[i],n):n.clone?r[i]=hG(t[i])?pG(t[i]):t[i]:r[i]=t[i]})),r}function mG(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),a=Object.keys(o);function s(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function c(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function l(e,i){const o=a.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100}${n})`}return{keys:a,values:o,up:s,down:c,between:l,only:function(e){return a.indexOf(e)+1<a.length?l(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?c(a[t]):l(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const gG={borderRadius:4},vG={xs:0,sm:600,md:900,lg:1200,xl:1536},yG={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${vG[e]}px)`},bG={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:vG[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function EG(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||yG;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||yG;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:bG,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||vG).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function _G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function wG(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function SG(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let a;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}function TG(e){if("string"!==typeof e)throw new Error(vW(7));return e.charAt(0).toUpperCase()+e.slice(1)}function CG(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function xG(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:CG(e,n)||i,t&&(r=t(r,i,e)),r}const RG=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=CG(e.theme,r)||{};return EG(e,o,(e=>{let r=xG(a,i,e);return e===r&&"string"===typeof e&&(r=xG(a,i,`${t}${"default"===e?"":TG(e)}`,e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const AG=function(e,t){return t?fG(e,t,{clone:!1}):e};const OG={m:"margin",p:"padding"},IG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NG={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kG=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!NG[e])return[e];e=NG[e]}const[t,n]=e.split(""),r=OG[t],i=IG[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),PG=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],DG=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],LG=[...PG,...DG];function MG(e,t,n,r){const i=CG(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:`-${n}`}:"function"===typeof i?i:()=>{}}function jG(e){return MG(e,"spacing",8)}function UG(e,t){return"string"===typeof t||null==t?t:e(t)}function FG(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=UG(t,n),e)),{})}(kG(n),r);return EG(e,e[n],i)}function BG(e,t){const n=jG(e.theme);return Object.keys(e).map((r=>FG(e,t,r,n))).reduce(AG,{})}function VG(e){return BG(e,PG)}function WG(e){return BG(e,DG)}function HG(e){return BG(e,LG)}VG.propTypes={},VG.filterProps=PG,WG.propTypes={},WG.filterProps=DG,HG.propTypes={},HG.filterProps=LG;function GG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jG({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}const zG=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?AG(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function KG(e){return"number"!==typeof e?e:`${e}px solid`}function YG(e,t){return RG({prop:e,themeKey:"borders",transform:t})}const qG=YG("border",KG),$G=YG("borderTop",KG),XG=YG("borderRight",KG),QG=YG("borderBottom",KG),JG=YG("borderLeft",KG),ZG=YG("borderColor"),ez=YG("borderTopColor"),tz=YG("borderRightColor"),nz=YG("borderBottomColor"),rz=YG("borderLeftColor"),iz=YG("outline",KG),oz=YG("outlineColor"),az=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=MG(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:UG(t,e)});return EG(e,e.borderRadius,n)}return null};az.propTypes={},az.filterProps=["borderRadius"];zG(qG,$G,XG,QG,JG,ZG,ez,tz,nz,rz,az,iz,oz);const sz=e=>{if(void 0!==e.gap&&null!==e.gap){const t=MG(e.theme,"spacing",8),n=e=>({gap:UG(t,e)});return EG(e,e.gap,n)}return null};sz.propTypes={},sz.filterProps=["gap"];const cz=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=MG(e.theme,"spacing",8),n=e=>({columnGap:UG(t,e)});return EG(e,e.columnGap,n)}return null};cz.propTypes={},cz.filterProps=["columnGap"];const lz=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=MG(e.theme,"spacing",8),n=e=>({rowGap:UG(t,e)});return EG(e,e.rowGap,n)}return null};lz.propTypes={},lz.filterProps=["rowGap"];zG(sz,cz,lz,RG({prop:"gridColumn"}),RG({prop:"gridRow"}),RG({prop:"gridAutoFlow"}),RG({prop:"gridAutoColumns"}),RG({prop:"gridAutoRows"}),RG({prop:"gridTemplateColumns"}),RG({prop:"gridTemplateRows"}),RG({prop:"gridTemplateAreas"}),RG({prop:"gridArea"}));function uz(e,t){return"grey"===t?t:e}zG(RG({prop:"color",themeKey:"palette",transform:uz}),RG({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uz}),RG({prop:"backgroundColor",themeKey:"palette",transform:uz}));function dz(e){return e<=1&&0!==e?100*e+"%":e}const hz=RG({prop:"width",transform:dz}),pz=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||vG[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:dz(t)}};return EG(e,e.maxWidth,t)}return null};pz.filterProps=["maxWidth"];const fz=RG({prop:"minWidth",transform:dz}),mz=RG({prop:"height",transform:dz}),gz=RG({prop:"maxHeight",transform:dz}),vz=RG({prop:"minHeight",transform:dz}),yz=(RG({prop:"size",cssProperty:"width",transform:dz}),RG({prop:"size",cssProperty:"height",transform:dz}),zG(hz,pz,fz,mz,gz,vz,RG({prop:"boxSizing"})),{border:{themeKey:"borders",transform:KG},borderTop:{themeKey:"borders",transform:KG},borderRight:{themeKey:"borders",transform:KG},borderBottom:{themeKey:"borders",transform:KG},borderLeft:{themeKey:"borders",transform:KG},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:KG},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:az},color:{themeKey:"palette",transform:uz},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uz},backgroundColor:{themeKey:"palette",transform:uz},p:{style:WG},pt:{style:WG},pr:{style:WG},pb:{style:WG},pl:{style:WG},px:{style:WG},py:{style:WG},padding:{style:WG},paddingTop:{style:WG},paddingRight:{style:WG},paddingBottom:{style:WG},paddingLeft:{style:WG},paddingX:{style:WG},paddingY:{style:WG},paddingInline:{style:WG},paddingInlineStart:{style:WG},paddingInlineEnd:{style:WG},paddingBlock:{style:WG},paddingBlockStart:{style:WG},paddingBlockEnd:{style:WG},m:{style:VG},mt:{style:VG},mr:{style:VG},mb:{style:VG},ml:{style:VG},mx:{style:VG},my:{style:VG},margin:{style:VG},marginTop:{style:VG},marginRight:{style:VG},marginBottom:{style:VG},marginLeft:{style:VG},marginX:{style:VG},marginY:{style:VG},marginInline:{style:VG},marginInlineStart:{style:VG},marginInlineEnd:{style:VG},marginBlock:{style:VG},marginBlockStart:{style:VG},marginBlockEnd:{style:VG},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:sz},rowGap:{style:lz},columnGap:{style:cz},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dz},maxWidth:{style:pz},minWidth:{transform:dz},height:{transform:dz},maxHeight:{transform:dz},minHeight:{transform:dz},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),bz=yz;const Ez=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:c,style:l}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=CG(n,s)||{};if(l)return l(i);return EG(i,t,(t=>{let n=xG(u,c,t);return t===n&&"string"===typeof t&&(n=xG(u,c,`${e}${"default"===t?"":TG(t)}`,t)),!1===a?n:{[a]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??bz;function a(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const a=_G(i.breakpoints),s=Object.keys(a);let c=a;return Object.keys(r).forEach((n=>{const a=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==a&&void 0!==a)if("object"===typeof a)if(o[n])c=AG(c,e(n,a,i,o));else{const e=EG({theme:i},a,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,a)?c=AG(c,e):c[n]=t({sx:a,theme:i})}else c=AG(c,e(n,a,i,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,wG(s,c))}return Array.isArray(r)?r.map(a):a(r)}}();Ez.filterProps=["sx"];const _z=Ez;function wz(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const Sz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...o}=e;let a=fG({breakpoints:mG(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:GG(r),shape:{...gG,...i}},o);a=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(a),a.applyStyles=wz;for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];return a=c.reduce(((e,t)=>fG(e,t)),a),a.unstable_sxConfig={...bz,...o?.unstable_sxConfig},a.unstable_sx=function(e){return _z({sx:e,theme:this})},a},Tz=Sz();function Cz(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function xz(e,t,n){return function(e){for(const t in e)return!1;return!0}(t)?n:t[e]||t}const Rz=Symbol("mui.processed_props");function Az(e,t,n){if(Rz in e)return e[Rz];const r={...e,theme:xz(t,e.theme,n)};return e[Rz]=r,r[Rz]=r,r}function Oz(e){return e?(t,n)=>n[e]:null}function Iz(e,t){const n="function"===typeof e?e(t):e;if(Array.isArray(n))return n.flatMap((e=>Iz(e,t)));if(Array.isArray(n?.variants)){const{variants:e,...r}=n;let i,o=r;e:for(let n=0;n<e.length;n+=1){const r=e[n];if("function"===typeof r.props){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!r.props(i))continue}else for(const e in r.props)if(t[e]!==r.props[e]&&t.ownerState?.[e]!==r.props[e])continue e;Array.isArray(o)||(o=[o]),"function"===typeof r.style?(i??={...t,...t.ownerState,ownerState:t.ownerState},o.push(r.style(i))):o.push(r.style)}return o}return n}function Nz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Tz,rootShouldForwardProp:r=Cz,slotShouldForwardProp:i=Cz}=e,o=e=>_z(Az(e,t,n));o.__mui_systemSx=!0;return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!e?.__mui_systemSx))));const{name:s,slot:c,skipVariantsResolver:l,skipSx:u,overridesResolver:d=Oz(kz(c)),...h}=a,p=void 0!==l?l:c&&"Root"!==c&&"root"!==c||!1,f=u||!1;let m=Cz;"Root"===c||"root"===c?m=r:c?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=dG(e,{shouldForwardProp:m,label:undefined,...h}),v=e=>"function"===typeof e&&e.__emotion_real!==e||hG(e)?r=>Iz(e,Az(r,t,n)):e,y=function(r){let i=v(r);for(var a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];const u=c?c.map(v):[];s&&d&&u.push((e=>{const r=xz(t,e.theme,n);if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const i=r.components[s].styleOverrides,o={},a=Az(e,t,n);for(const t in i)o[t]=Iz(i[t],a);return d(e,o)})),s&&!p&&u.push((e=>{const r=xz(t,e.theme,n),i=r?.components?.[s]?.variants;return i?Iz({variants:i},Az(e,t,n)):null})),f||u.push(o);const h=u.length-c.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const m=g(i,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}function kz(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Pz={black:"#000",white:"#fff"},Dz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Lz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Mz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Uz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Bz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vz={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pz.white,default:Pz.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Wz={text:{primary:Pz.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pz.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Hz(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=OW(e.main,i):"dark"===t&&(e.dark=RW(e.main,o)))}function Gz(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Uz[200],light:Uz[50],dark:Uz[400]}:{main:Uz[700],light:Uz[400],dark:Uz[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Lz[200],light:Lz[50],dark:Lz[400]}:{main:Lz[500],light:Lz[300],dark:Lz[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mz[500],light:Mz[300],dark:Mz[700]}:{main:Mz[700],light:Mz[400],dark:Mz[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fz[400],light:Fz[300],dark:Fz[700]}:{main:Fz[700],light:Fz[500],dark:Fz[900]}}(t),l=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Bz[400],light:Bz[300],dark:Bz[700]}:{main:Bz[800],light:Bz[500],dark:Bz[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:jz[400],light:jz[300],dark:jz[700]}:{main:"#ed6c02",light:jz[500],dark:jz[900]}}(t);function d(e){const t=function(e,t){const n=TW(e),r=TW(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Wz.text.primary)>=n?Wz.text.primary:Vz.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(vW(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(vW(12,n?` (${n})`:"",JSON.stringify(t.main)));return Hz(t,"light",o,r),Hz(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t},p={dark:Wz,light:Vz};return fG({common:{...Pz},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:l,name:"success"}),grey:Dz,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p[t]},i)}function zz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function Kz(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const Yz=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function qz(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},a={};var s,c;return s=(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,c=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(i,{[r]:c}),Yz(o,e,`var(${r})`,s),Yz(a,e,`var(${r}, ${c})`,s)}},c=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,o]=t;(!c||c&&!c([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):s([...n,i],o,r))}))}(e),{css:i,vars:o,varsWithDefaults:a}}const $z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...c}=e,{vars:l,css:u,varsWithDefaults:d}=qz(c,t);let h=d;const p={},{[s]:f,...m}=o;if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:a}=qz(r,t);h=fG(h,a),p[n]={css:o,vars:i}})),f){const{css:e,vars:n,varsWithDefaults:r}=qz(f,t);h=fG(h,r),p[s]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...l};return Object.entries(p).forEach((t=>{let[,{vars:n}]=t;e=fG(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}a(n(void 0,{...u}),u);const{[i]:s,...c}=p;if(s){const{css:e}=s,t=o[i]?.palette?.mode,c=!r&&t?{colorScheme:t,...e}:{...e};a(n(i,{...c}),c)}return Object.entries(c).forEach((e=>{let[t,{css:i}]=e;const s=o[t]?.palette?.mode,c=!r&&s?{colorScheme:s,...i}:{...i};a(n(t,{...c}),c)})),t}}};function Xz(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Qz(e){return Math.round(1e5*e)/1e5}const Jz={textTransform:"uppercase"},Zz='"Roboto", "Helvetica", "Arial", sans-serif';function eK(e,t){const{fontFamily:n=Zz,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:c=16,allVariants:l,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,p=u||(e=>e/c*h+"rem"),f=(e,t,r,i,o)=>({fontFamily:n,fontWeight:e,fontSize:p(t),lineHeight:r,...n===Zz?{letterSpacing:`${Qz(i/t)}em`}:{},...o,...l}),m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(a,14,1.75,.4,Jz),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,Jz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fG({htmlFontSize:c,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...m},d,{clone:!1})}function tK(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const nK=["none",tK(0,2,1,-1,0,1,1,0,0,1,3,0),tK(0,3,1,-2,0,2,2,0,0,1,5,0),tK(0,3,3,-2,0,3,4,0,0,1,8,0),tK(0,2,4,-1,0,4,5,0,0,1,10,0),tK(0,3,5,-1,0,5,8,0,0,1,14,0),tK(0,3,5,-1,0,6,10,0,0,1,18,0),tK(0,4,5,-2,0,7,10,1,0,2,16,1),tK(0,5,5,-3,0,8,10,1,0,3,14,2),tK(0,5,6,-3,0,9,12,1,0,3,16,2),tK(0,6,6,-3,0,10,14,1,0,4,18,3),tK(0,6,7,-4,0,11,15,1,0,4,20,3),tK(0,7,8,-4,0,12,17,2,0,5,22,4),tK(0,7,8,-4,0,13,19,2,0,5,24,4),tK(0,7,9,-4,0,14,21,2,0,5,26,4),tK(0,8,9,-5,0,15,22,2,0,6,28,5),tK(0,8,10,-5,0,16,24,2,0,6,30,5),tK(0,8,11,-5,0,17,26,2,0,6,32,5),tK(0,9,11,-5,0,18,28,2,0,7,34,6),tK(0,9,12,-6,0,19,29,2,0,7,36,6),tK(0,10,13,-6,0,20,31,3,0,8,38,7),tK(0,10,13,-6,0,21,33,3,0,8,40,7),tK(0,10,14,-6,0,22,35,3,0,8,42,7),tK(0,11,14,-7,0,23,36,3,0,9,44,8),tK(0,11,15,-7,0,24,38,3,0,9,46,8)],rK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oK(e){return`${Math.round(e)}ms`}function aK(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function sK(e){const t={...rK,...e.easing},n={...iK,...e.duration};return{getAutoHeightDuration:aK,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0,...s}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:oK(i)} ${o} ${"string"===typeof a?a:oK(a)}`)).join(",")},...e,easing:t,duration:n}}const cK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function lK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:s,...c}=e;if(e.vars)throw new Error(vW(20));const l=Gz(i),u=Sz(e);let d=fG(u,{mixins:Xz(u.breakpoints,n),palette:l,shadows:nK.slice(),typography:eK(l,a),transitions:sK(o),zIndex:{...cK}});d=fG(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),f=1;f<h;f++)p[f-1]=arguments[f];return d=p.reduce(((e,t)=>fG(e,t)),d),d.unstable_sxConfig={...bz,...c?.unstable_sxConfig},d.unstable_sx=function(e){return _z({sx:e,theme:this})},d}const uK=lK;function dK(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const hK=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=dK(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function pK(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function fK(e){return"dark"===e?hK:[]}function mK(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const gK=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],vK=e=>(t,n)=>{const r=e.colorSchemeSelector;let i=r;if("class"===r&&(i=".%s"),"data"===r&&(i="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const r={};return gK(e.cssVarPrefix).forEach((e=>{r[e]=n[e],delete n[e]})),"media"===i?{":root":n,"@media (prefers-color-scheme: dark)":{":root":r}}:i?{[i.replace("%s",t)]:r,[`:root, ${i.replace("%s",t)}`]:n}:{":root":{...n,...r}}}if(i&&"media"!==i)return`:root, ${i.replace("%s",String(t))}`}else if(t){if("media"===i)return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":n}};if(i)return i.replace("%s",String(t))}return":root"};function yK(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,a]=n[i];!hG(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:hG(a)&&(t[o]={...a},e(t[o]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}function bK(e,t,n){!e[t]&&n&&(e[t]=n)}function EK(e){return e&&e.startsWith("hsl")?SW(e):e}function _K(e,t){`${t}Channel`in e||(e[`${t}Channel`]=_W(EK(e[t])))}const wK=e=>{try{return e()}catch(t){}};function SK(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Gz(t);return{palette:o,opacity:{...pK(o.mode),...n},overlays:r||fK(o.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:o,...a}=uK({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:o,opacity:{...pK(i),...t?.opacity},overlays:t?.overlays||fK(i)},a}function TK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=mK,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),...s}=e,c=Object.keys(t)[0],l=n||(t.light&&"light"!==c?"light":c),u=function(){return zz(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[l]:d,light:h,dark:p,...f}=t,m={...f};let g=d;if(("dark"===l&&!("dark"in t)||"light"===l&&!("light"in t))&&(g=!0),!g)throw new Error(vW(21,l));const v=SK(m,g,s,l);h&&!m.light&&SK(m,h,void 0,"light"),p&&!m.dark&&SK(m,p,void 0,"dark");let y={defaultColorScheme:l,...v,cssVarPrefix:i,colorSchemeSelector:a,getCssVar:u,colorSchemes:m,font:{...Kz(v.typography),...v.font},spacing:(b=s.spacing,"number"===typeof b?`${b}px`:"string"===typeof b||"function"===typeof b||Array.isArray(b)?b:"8px")};var b;Object.keys(y.colorSchemes).forEach((e=>{const t=y.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return u(e,t[r][i])};if("light"===t.mode&&(bK(t.common,"background","#fff"),bK(t.common,"onBackground","#000")),"dark"===t.mode&&(bK(t.common,"background","#000"),bK(t.common,"onBackground","#fff")),function(e,t){t.forEach((t=>{e[t]||(e[t]={})}))}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){bK(t.Alert,"errorColor",AW(t.error.light,.6)),bK(t.Alert,"infoColor",AW(t.info.light,.6)),bK(t.Alert,"successColor",AW(t.success.light,.6)),bK(t.Alert,"warningColor",AW(t.warning.light,.6)),bK(t.Alert,"errorFilledBg",n("palette-error-main")),bK(t.Alert,"infoFilledBg",n("palette-info-main")),bK(t.Alert,"successFilledBg",n("palette-success-main")),bK(t.Alert,"warningFilledBg",n("palette-warning-main")),bK(t.Alert,"errorFilledColor",wK((()=>t.getContrastText(t.error.main)))),bK(t.Alert,"infoFilledColor",wK((()=>t.getContrastText(t.info.main)))),bK(t.Alert,"successFilledColor",wK((()=>t.getContrastText(t.success.main)))),bK(t.Alert,"warningFilledColor",wK((()=>t.getContrastText(t.warning.main)))),bK(t.Alert,"errorStandardBg",IW(t.error.light,.9)),bK(t.Alert,"infoStandardBg",IW(t.info.light,.9)),bK(t.Alert,"successStandardBg",IW(t.success.light,.9)),bK(t.Alert,"warningStandardBg",IW(t.warning.light,.9)),bK(t.Alert,"errorIconColor",n("palette-error-main")),bK(t.Alert,"infoIconColor",n("palette-info-main")),bK(t.Alert,"successIconColor",n("palette-success-main")),bK(t.Alert,"warningIconColor",n("palette-warning-main")),bK(t.AppBar,"defaultBg",n("palette-grey-100")),bK(t.Avatar,"defaultBg",n("palette-grey-400")),bK(t.Button,"inheritContainedBg",n("palette-grey-300")),bK(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),bK(t.Chip,"defaultBorder",n("palette-grey-400")),bK(t.Chip,"defaultAvatarColor",n("palette-grey-700")),bK(t.Chip,"defaultIconColor",n("palette-grey-700")),bK(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),bK(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),bK(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),bK(t.LinearProgress,"primaryBg",IW(t.primary.main,.62)),bK(t.LinearProgress,"secondaryBg",IW(t.secondary.main,.62)),bK(t.LinearProgress,"errorBg",IW(t.error.main,.62)),bK(t.LinearProgress,"infoBg",IW(t.info.main,.62)),bK(t.LinearProgress,"successBg",IW(t.success.main,.62)),bK(t.LinearProgress,"warningBg",IW(t.warning.main,.62)),bK(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),bK(t.Slider,"primaryTrack",IW(t.primary.main,.62)),bK(t.Slider,"secondaryTrack",IW(t.secondary.main,.62)),bK(t.Slider,"errorTrack",IW(t.error.main,.62)),bK(t.Slider,"infoTrack",IW(t.info.main,.62)),bK(t.Slider,"successTrack",IW(t.success.main,.62)),bK(t.Slider,"warningTrack",IW(t.warning.main,.62));const e=kW(t.background.default,.8);bK(t.SnackbarContent,"bg",e),bK(t.SnackbarContent,"color",wK((()=>t.getContrastText(e)))),bK(t.SpeedDialAction,"fabHoverBg",kW(t.background.paper,.15)),bK(t.StepConnector,"border",n("palette-grey-400")),bK(t.StepContent,"border",n("palette-grey-400")),bK(t.Switch,"defaultColor",n("palette-common-white")),bK(t.Switch,"defaultDisabledColor",n("palette-grey-100")),bK(t.Switch,"primaryDisabledColor",IW(t.primary.main,.62)),bK(t.Switch,"secondaryDisabledColor",IW(t.secondary.main,.62)),bK(t.Switch,"errorDisabledColor",IW(t.error.main,.62)),bK(t.Switch,"infoDisabledColor",IW(t.info.main,.62)),bK(t.Switch,"successDisabledColor",IW(t.success.main,.62)),bK(t.Switch,"warningDisabledColor",IW(t.warning.main,.62)),bK(t.TableCell,"border",IW(xW(t.divider,1),.88)),bK(t.Tooltip,"bg",xW(t.grey[700],.92))}if("dark"===t.mode){bK(t.Alert,"errorColor",IW(t.error.light,.6)),bK(t.Alert,"infoColor",IW(t.info.light,.6)),bK(t.Alert,"successColor",IW(t.success.light,.6)),bK(t.Alert,"warningColor",IW(t.warning.light,.6)),bK(t.Alert,"errorFilledBg",n("palette-error-dark")),bK(t.Alert,"infoFilledBg",n("palette-info-dark")),bK(t.Alert,"successFilledBg",n("palette-success-dark")),bK(t.Alert,"warningFilledBg",n("palette-warning-dark")),bK(t.Alert,"errorFilledColor",wK((()=>t.getContrastText(t.error.dark)))),bK(t.Alert,"infoFilledColor",wK((()=>t.getContrastText(t.info.dark)))),bK(t.Alert,"successFilledColor",wK((()=>t.getContrastText(t.success.dark)))),bK(t.Alert,"warningFilledColor",wK((()=>t.getContrastText(t.warning.dark)))),bK(t.Alert,"errorStandardBg",AW(t.error.light,.9)),bK(t.Alert,"infoStandardBg",AW(t.info.light,.9)),bK(t.Alert,"successStandardBg",AW(t.success.light,.9)),bK(t.Alert,"warningStandardBg",AW(t.warning.light,.9)),bK(t.Alert,"errorIconColor",n("palette-error-main")),bK(t.Alert,"infoIconColor",n("palette-info-main")),bK(t.Alert,"successIconColor",n("palette-success-main")),bK(t.Alert,"warningIconColor",n("palette-warning-main")),bK(t.AppBar,"defaultBg",n("palette-grey-900")),bK(t.AppBar,"darkBg",n("palette-background-paper")),bK(t.AppBar,"darkColor",n("palette-text-primary")),bK(t.Avatar,"defaultBg",n("palette-grey-600")),bK(t.Button,"inheritContainedBg",n("palette-grey-800")),bK(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),bK(t.Chip,"defaultBorder",n("palette-grey-700")),bK(t.Chip,"defaultAvatarColor",n("palette-grey-300")),bK(t.Chip,"defaultIconColor",n("palette-grey-300")),bK(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),bK(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),bK(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),bK(t.LinearProgress,"primaryBg",AW(t.primary.main,.5)),bK(t.LinearProgress,"secondaryBg",AW(t.secondary.main,.5)),bK(t.LinearProgress,"errorBg",AW(t.error.main,.5)),bK(t.LinearProgress,"infoBg",AW(t.info.main,.5)),bK(t.LinearProgress,"successBg",AW(t.success.main,.5)),bK(t.LinearProgress,"warningBg",AW(t.warning.main,.5)),bK(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),bK(t.Slider,"primaryTrack",AW(t.primary.main,.5)),bK(t.Slider,"secondaryTrack",AW(t.secondary.main,.5)),bK(t.Slider,"errorTrack",AW(t.error.main,.5)),bK(t.Slider,"infoTrack",AW(t.info.main,.5)),bK(t.Slider,"successTrack",AW(t.success.main,.5)),bK(t.Slider,"warningTrack",AW(t.warning.main,.5));const e=kW(t.background.default,.98);bK(t.SnackbarContent,"bg",e),bK(t.SnackbarContent,"color",wK((()=>t.getContrastText(e)))),bK(t.SpeedDialAction,"fabHoverBg",kW(t.background.paper,.15)),bK(t.StepConnector,"border",n("palette-grey-600")),bK(t.StepContent,"border",n("palette-grey-600")),bK(t.Switch,"defaultColor",n("palette-grey-300")),bK(t.Switch,"defaultDisabledColor",n("palette-grey-600")),bK(t.Switch,"primaryDisabledColor",AW(t.primary.main,.55)),bK(t.Switch,"secondaryDisabledColor",AW(t.secondary.main,.55)),bK(t.Switch,"errorDisabledColor",AW(t.error.main,.55)),bK(t.Switch,"infoDisabledColor",AW(t.info.main,.55)),bK(t.Switch,"successDisabledColor",AW(t.success.main,.55)),bK(t.Switch,"warningDisabledColor",AW(t.warning.main,.55)),bK(t.TableCell,"border",AW(xW(t.divider,1),.68)),bK(t.Tooltip,"bg",xW(t.grey[700],.92))}_K(t.background,"default"),_K(t.background,"paper"),_K(t.common,"background"),_K(t.common,"onBackground"),_K(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];n&&"object"===typeof n&&(n.main&&bK(t[e],"mainChannel",_W(EK(n.main))),n.light&&bK(t[e],"lightChannel",_W(EK(n.light))),n.dark&&bK(t[e],"darkChannel",_W(EK(n.dark))),n.contrastText&&bK(t[e],"contrastTextChannel",_W(EK(n.contrastText))),"text"===e&&(_K(t[e],"primary"),_K(t[e],"secondary")),"action"===e&&(n.active&&_K(t[e],"active"),n.selected&&_K(t[e],"selected")))}))}));for(var E=arguments.length,_=new Array(E>1?E-1:0),w=1;w<E;w++)_[w-1]=arguments[w];y=_.reduce(((e,t)=>fG(e,t)),y);const S={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:vK(y)},{vars:T,generateThemeVars:C,generateStyleSheets:x}=$z(y,S);return y.vars=T,Object.entries(y.colorSchemes[y.defaultColorScheme]).forEach((e=>{let[t,n]=e;y[t]=n})),y.generateThemeVars=C,y.generateStyleSheets=x,y.generateSpacing=function(){return GG(s.spacing,jG(this))},y.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(a),y.spacing=y.generateSpacing(),y.shouldSkipGeneratingVar=o,y.unstable_sxConfig={...bz,...s?.unstable_sxConfig},y.unstable_sx=function(e){return _z({sx:e,theme:this})},y.toRuntimeSource=yK,y}function CK(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:Gz({...!0===n?{}:n.palette,mode:t})})}function xK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...o}=e,a=i||"light",s=r?.[a],c={...r,...t?{[a]:{..."boolean"!==typeof s&&s,palette:t}}:void 0};for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return uK(e,...u);let n=t;"palette"in e||c[a]&&(!0!==c[a]?n=c[a].palette:"dark"===a&&(n={mode:"dark"}));const r=uK({...e,palette:n},...u);return r.defaultColorScheme=a,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==c.light&&c.light,palette:r.palette},CK(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==c.dark&&c.dark,palette:r.palette},CK(r,"light",c.light)),r}return t||"light"in c||"light"!==a||(c.light=!0),TK({...o,colorSchemes:c,defaultColorScheme:a,..."boolean"!==typeof n&&n},...u)}const RK=xK(),AK="$$material",OK=Nz({themeId:AK,defaultTheme:RK,rootShouldForwardProp:DW}),IK={theme:void 0};function NK(e){let t,n;return r=>{let i=t;return void 0!==i&&r.theme===n||(IK.theme=r.theme,i=e(IK),t=i,n=r.theme),i}}const kK=i.createContext(void 0);function PK(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?mW(i.defaultProps,r):i.styleOverrides||i.variants?r:mW(i,r)}({props:t,name:n,theme:{components:i.useContext(kK)}})}function DK(e){return PK(e)}function LK(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function MK(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function jK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{MK(t,e)}))}),t)}const UK=jK,FK="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const BK=function(e){const t=i.useRef(e);return FK((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current},VK=BK,WK={};function HK(e,t){const n=i.useRef(WK);return n.current===WK&&(n.current=e(t)),n}class GK{static create(){return new GK}static use(){const e=HK(GK.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}const zK=[];class KK{static create(){return new KK}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function YK(){const e=HK(KK.create).current;var t;return t=e.disposeEffect,i.useEffect(t,zK),e}n(219);var qK=tG((function(e,t){var n=XH([e.styles],void 0,i.useContext(nG)),r=i.useRef();return ZH((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),i.hydrate([a])),r.current=[i,o],function(){i.flush()}}),[t]),ZH((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&iG(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function $K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XH(t)}var XK=function(){var e=$K.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const QK=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:c,onExited:l,timeout:u}=e,[d,h]=i.useState(!1),p=vg(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+o},m=vg(n.child,d&&n.childLeaving,r&&n.childPulsate);return c||d||h(!0),i.useEffect((()=>{if(!c&&null!=l){const e=setTimeout(l,u);return()=>{clearTimeout(e)}}}),[l,c,u]),(0,gt.jsx)("span",{className:p,style:f,children:(0,gt.jsx)("span",{className:m})})},JK=e=>e,ZK=(()=>{let e=JK;return{configure(t){e=t},generate:t=>e(t),reset(){e=JK}}})(),eY={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tY(e,t){const n=eY[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${ZK.generate(e)}-${t}`}function nY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=tY(e,t,n)})),r}const rY=nY("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),iY=XK`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,oY=XK`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,aY=XK`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,sY=OK("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cY=OK(QK,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${rY.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${iY};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${rY.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${rY.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${rY.childLeaving} {
    opacity: 0;
    animation-name: ${oY};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${rY.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${aY};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,lY=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a,...s}=n,[c,l]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[c]);const h=i.useRef(!1),p=YK(),f=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;l((e=>[...e,(0,gt.jsx)(cY,{classes:{ripple:vg(o.ripple,rY.ripple),rippleVisible:vg(o.rippleVisible,rY.rippleVisible),ripplePulsate:vg(o.ripplePulsate,rY.ripplePulsate),child:vg(o.child,rY.child),childLeaving:vg(o.childLeaving,rY.childLeaving),childPulsate:vg(o.childPulsate,rY.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=a}),[o]),v=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const s=a?null:m.current,c=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let l,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(c.width/2),u=Math.round(c.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;l=Math.round(t-c.left),u=Math.round(n-c.top)}if(o)d=Math.sqrt((2*c.width**2+c.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-l),l)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{g({pulsate:i,rippleX:l,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:i,rippleX:l,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),y=i.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=i.useCallback(((e,t)=>{if(p.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,l((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return i.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,gt.jsx)(sY,{className:vg(rY.root,o.root,a),ref:m,...s,children:(0,gt.jsx)(E_,{component:null,exit:!0,children:c})})})),uY=lY;function dY(e){return tY("MuiButtonBase",e)}const hY=nY("MuiButtonBase",["root","disabled","focusVisible"]),pY=OK("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hY.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),fY=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:s,component:c="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:v,onDragLeave:y,onFocus:b,onFocusVisible:E,onKeyDown:_,onKeyUp:w,onMouseDown:S,onMouseLeave:T,onMouseUp:C,onTouchEnd:x,onTouchMove:R,onTouchStart:A,tabIndex:O=0,TouchRippleProps:I,touchRippleRef:N,type:k,...P}=n,D=i.useRef(null),L=GK.use(),M=UK(L.ref,N),[j,U]=i.useState(!1);l&&j&&U(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{U(!0),D.current.focus()}})),[]);const F=L.shouldMount&&!u&&!l;function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return VK((r=>{t&&t(r);return n||L[e](r),!0}))}i.useEffect((()=>{j&&h&&!u&&L.pulsate()}),[u,h,j,L]);const V=B("start",S),W=B("stop",v),H=B("stop",y),G=B("stop",C),z=B("stop",(e=>{j&&e.preventDefault(),T&&T(e)})),K=B("start",A),Y=B("stop",x),q=B("stop",R),$=B("stop",(e=>{LK(e.target)||U(!1),m&&m(e)}),!1),X=VK((e=>{D.current||(D.current=e.currentTarget),LK(e.target)&&(U(!0),E&&E(e)),b&&b(e)})),Q=()=>{const e=D.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},J=VK((e=>{h&&!e.repeat&&j&&" "===e.key&&L.stop(e,(()=>{L.start(e)})),e.target===e.currentTarget&&Q()&&" "===e.key&&e.preventDefault(),_&&_(e),e.target===e.currentTarget&&Q()&&"Enter"===e.key&&!l&&(e.preventDefault(),g&&g(e))})),Z=VK((e=>{h&&" "===e.key&&j&&!e.defaultPrevented&&L.stop(e,(()=>{L.pulsate(e)})),w&&w(e),g&&e.target===e.currentTarget&&Q()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let ee=c;"button"===ee&&(P.href||P.to)&&(ee=f);const te={};"button"===ee?(te.type=void 0===k?"button":k,te.disabled=l):(P.href||P.to||(te.role="button"),l&&(te["aria-disabled"]=l));const ne=UK(t,D),re={...n,centerRipple:o,component:c,disabled:l,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:O,focusVisible:j},ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=gW({root:["root",t&&"disabled",n&&"focusVisible"]},dY,i);return n&&r&&(o.root+=` ${r}`),o})(re);return(0,gt.jsxs)(pY,{as:ee,className:vg(ie.root,s),ownerState:re,onBlur:$,onClick:g,onContextMenu:W,onFocus:X,onKeyDown:J,onKeyUp:Z,onMouseDown:V,onMouseLeave:z,onMouseUp:G,onDragLeave:H,onTouchEnd:Y,onTouchMove:q,onTouchStart:K,ref:ne,tabIndex:l?-1:O,type:k,...te,...P,children:[a,F?(0,gt.jsx)(uY,{ref:M,center:o,...I}):null]})})),mY=TG;function gY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function vY(e){return tY("MuiButton",e)}const yY=nY("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const bY=i.createContext({});const EY=i.createContext(void 0),_Y=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],wY=OK(fY,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${mY(n.color)}`],t[`size${mY(n.size)}`],t[`${n.variant}Size${mY(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${yY.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${yY.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${yY.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${yY.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(gY(["dark","contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:CW(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:CW(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:CW(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":t.vars?t.vars.palette.text.primary:t.palette.getContrastText?.(n),"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:CW(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:CW(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${yY.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${yY.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}}))),SY=OK("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${mY(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},..._Y]}),TY=OK("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${mY(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},..._Y]}),CY=i.forwardRef((function(e,t){const n=i.useContext(bY),r=i.useContext(EY),o=DK({props:mW(n,e),name:"MuiButton"}),{children:a,color:s="primary",component:c="button",className:l,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,size:g="medium",startIcon:v,type:y,variant:b="text",...E}=o,_={...o,color:s,component:c,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:g,type:y,variant:b},w=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e,s=gW({root:["root",o,`${o}${mY(t)}`,`size${mY(i)}`,`${o}Size${mY(i)}`,`color${mY(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${mY(i)}`],endIcon:["icon","endIcon",`iconSize${mY(i)}`]},vY,a);return{...a,...s}})(_),S=v&&(0,gt.jsx)(SY,{className:w.startIcon,ownerState:_,children:v}),T=p&&(0,gt.jsx)(TY,{className:w.endIcon,ownerState:_,children:p}),C=r||"";return(0,gt.jsxs)(wY,{ownerState:_,className:vg(n.className,w.root,l,C),component:c,disabled:u,focusRipple:!h,focusVisibleClassName:vg(w.focusVisible,f),ref:t,type:y,...E,classes:w,children:[S,a,T]})})),xY=CY;function RY(e){return tY("MuiSvgIcon",e)}nY("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const AY=OK("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${mY(n.color)}`],t[`fontSize${mY(n.fontSize)}`]]}})(NK((e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),OY=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:a="inherit",component:s="svg",fontSize:c="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=n,f=i.isValidElement(r)&&"svg"===r.type,m={...n,color:a,component:s,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return gW({root:["root","inherit"!==t&&`color${mY(t)}`,`fontSize${mY(n)}`]},RY,r)})(m);return(0,gt.jsxs)(AY,{as:s,className:vg(v.root,o),focusable:"false",color:l,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...g,...p,...f&&r.props,ownerState:m,children:[f?r.props.children:r,d?(0,gt.jsx)("title",{children:d}):null]})}));OY&&(OY.muiName="SvgIcon");const IY=OY;function NY(e,t){function n(n,r){return(0,gt.jsx)(IY,{"data-testid":`${t}Icon`,ref:r,...n,children:e})}return n.muiName=IY.muiName,i.memo(i.forwardRef(n))}const kY=NY((0,gt.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew"),PY=NY((0,gt.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),DY=NY((0,gt.jsx)("path",{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7z"}),"CurrencyRupeeTwoTone"),LY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function MY(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jY={date:MY({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:MY({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:MY({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},UY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function FY(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const BY={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:FY({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:FY({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:FY({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:FY({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:FY({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function VY(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(a.length)}}}const WY={ordinalNumber:(HY={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(HY.matchPattern);if(!n)return null;const r=n[0],i=e.match(HY.parsePattern);if(!i)return null;let o=HY.valueCallback?HY.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:VY({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:VY({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:VY({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:VY({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:VY({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var HY;const GY={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=LY[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:jY,formatRelative:(e,t,n,r)=>UY[e],localize:BY,match:WY,options:{weekStartsOn:0,firstWeekContainsDate:1}},zY=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},KY=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},YY={p:KY,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return zY(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",zY(r,t)).replace("{{time}}",KY(i,t))}},qY=/^D+$/,$Y=/^Y+$/,XY=["D","DD","YY","YYYY"];function QY(e){return qY.test(e)}function JY(e){return $Y.test(e)}function ZY(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),XY.includes(e))throw new RangeError(r)}Math.pow(10,8);const eq=6048e5,tq=Symbol.for("constructDateFrom");function nq(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&tq in e?e[tq](t):e instanceof Date?new e.constructor(t):new Date(t)}let rq={};function iq(){return rq}function oq(){return Object.assign({},iq())}function aq(e,t){return nq(t||e,e)}function sq(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):nq(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class cq{subPriority=0;validate(e,t){return!0}}class lq extends cq{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class uq extends cq{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>nq(t,e))}set(e,t){return t.timestampIsSet?e:nq(e,sq(e,this.context))}}class dq{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new lq(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const hq=/^(1[0-2]|0?\d)/,pq=/^(3[0-1]|[0-2]?\d)/,fq=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,mq=/^(5[0-3]|[0-4]?\d)/,gq=/^(2[0-3]|[0-1]?\d)/,vq=/^(2[0-4]|[0-1]?\d)/,yq=/^(1[0-1]|0?\d)/,bq=/^(1[0-2]|0?\d)/,Eq=/^[0-5]?\d/,_q=/^[0-5]?\d/,wq=/^\d/,Sq=/^\d{1,2}/,Tq=/^\d{1,3}/,Cq=/^\d{1,4}/,xq=/^-?\d+/,Rq=/^-?\d/,Aq=/^-?\d{1,2}/,Oq=/^-?\d{1,3}/,Iq=/^-?\d{1,4}/,Nq=/^([+-])(\d{2})(\d{2})?|Z/,kq=/^([+-])(\d{2})(\d{2})|Z/,Pq=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Dq=/^([+-])(\d{2}):(\d{2})|Z/,Lq=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Mq(e,t){return e?{value:t(e.value),rest:e.rest}:e}function jq(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Uq(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};return{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}}function Fq(e){return jq(xq,e)}function Bq(e,t){switch(e){case 1:return jq(wq,t);case 2:return jq(Sq,t);case 3:return jq(Tq,t);case 4:return jq(Cq,t);default:return jq(new RegExp("^\\d{1,"+e+"}"),t)}}function Vq(e,t){switch(e){case 1:return jq(Rq,t);case 2:return jq(Aq,t);case 3:return jq(Oq,t);case 4:return jq(Iq,t);default:return jq(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Wq(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Hq(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function Gq(e){return e%400===0||e%4===0&&e%100!==0}function zq(e,t){const n=iq(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=aq(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Kq(e,t){const n=aq(e,t?.in),r=n.getFullYear(),i=iq(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=nq(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=zq(a,t),c=nq(t?.in||e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const l=zq(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function Yq(e,t){return zq(e,{...t,weekStartsOn:1})}function qq(e,t){const n=iq(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Kq(e,t),o=nq(t?.in||e,0);o.setFullYear(i,0,r),o.setHours(0,0,0,0);return zq(o,t)}function $q(e,t){const n=aq(e,t?.in),r=+zq(n,t)-+qq(n,t);return Math.round(r/eq)+1}function Xq(e,t,n){const r=aq(e,n?.in),i=$q(r,n)-t;return r.setDate(r.getDate()-7*i),aq(r,n?.in)}function Qq(e,t){const n=aq(e,t?.in),r=n.getFullYear(),i=nq(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Yq(i),a=nq(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Yq(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Jq(e,t){const n=Qq(e,t),r=nq(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yq(r)}function Zq(e,t){const n=aq(e,t?.in),r=+Yq(n)-+Jq(n);return Math.round(r/eq)+1}function e$(e,t,n){const r=aq(e,n?.in),i=Zq(r,n)-t;return r.setDate(r.getDate()-7*i),r}const t$=[31,28,31,30,31,30,31,31,30,31,30,31],n$=[31,29,31,30,31,30,31,31,30,31,30,31];function r$(e,t,n){const r=aq(e,n?.in);return isNaN(t)?nq(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function i$(e,t,n){const r=iq(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=aq(e,n?.in),a=o.getDay(),s=7-i;return r$(o,t<0||t>6?t-(a+s)%7:((t%7+7)%7+s)%7-(a+s)%7,n)}function o$(e,t){const n=aq(e,t?.in).getDay();return 0===n?7:n}function a$(e,t,n){const r=aq(e,n?.in);return r$(r,t-o$(r,n),n)}function s$(e){const t=aq(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const c$={G:new class extends dq{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends dq{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Mq(Bq(4,e),r);case"yo":return Mq(n.ordinalNumber(e,{unit:"year"}),r);default:return Mq(Bq(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Hq(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends dq{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Mq(Bq(4,e),r);case"Yo":return Mq(n.ordinalNumber(e,{unit:"year"}),r);default:return Mq(Bq(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=Kq(e,r);if(n.isTwoDigitYear){const t=Hq(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),zq(e,r)}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),zq(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends dq{priority=130;parse(e,t){return Vq("R"===t?4:t.length,e)}set(e,t,n){const r=nq(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yq(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends dq{priority=130;parse(e,t){return Vq("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends dq{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Bq(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends dq{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Bq(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends dq{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Mq(jq(hq,e),r);case"MM":return Mq(Bq(2,e),r);case"Mo":return Mq(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends dq{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Mq(jq(hq,e),r);case"LL":return Mq(Bq(2,e),r);case"Lo":return Mq(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends dq{priority=100;parse(e,t,n){switch(t){case"w":return jq(mq,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Bq(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return zq(Xq(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends dq{priority=100;parse(e,t,n){switch(t){case"I":return jq(mq,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Bq(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Yq(e$(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends dq{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return jq(pq,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Bq(t.length,e)}}validate(e,t){const n=Gq(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=n$[r]:t>=1&&t<=t$[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends dq{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return jq(fq,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Bq(t.length,e)}}validate(e,t){return Gq(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends dq{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=i$(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends dq{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Mq(Bq(t.length,e),i);case"eo":return Mq(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=i$(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends dq{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Mq(Bq(t.length,e),i);case"co":return Mq(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=i$(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends dq{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Bq(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Mq(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Mq(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Mq(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Mq(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=a$(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends dq{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Wq(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends dq{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Wq(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends dq{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Wq(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends dq{priority=70;parse(e,t,n){switch(t){case"h":return jq(bq,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Bq(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends dq{priority=70;parse(e,t,n){switch(t){case"H":return jq(gq,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Bq(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends dq{priority=70;parse(e,t,n){switch(t){case"K":return jq(yq,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Bq(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends dq{priority=70;parse(e,t,n){switch(t){case"k":return jq(vq,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Bq(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends dq{priority=60;parse(e,t,n){switch(t){case"m":return jq(Eq,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Bq(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends dq{priority=50;parse(e,t,n){switch(t){case"s":return jq(_q,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Bq(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends dq{priority=30;parse(e,t){return Mq(Bq(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends dq{priority=10;parse(e,t){switch(t){case"X":return Uq(Nq,e);case"XX":return Uq(kq,e);case"XXXX":return Uq(Pq,e);case"XXXXX":return Uq(Lq,e);default:return Uq(Dq,e)}}set(e,t,n){return t.timestampIsSet?e:nq(e,e.getTime()-s$(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends dq{priority=10;parse(e,t){switch(t){case"x":return Uq(Nq,e);case"xx":return Uq(kq,e);case"xxxx":return Uq(Pq,e);case"xxxxx":return Uq(Lq,e);default:return Uq(Dq,e)}}set(e,t,n){return t.timestampIsSet?e:nq(e,e.getTime()-s$(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends dq{priority=40;parse(e){return Fq(e)}set(e,t,n){return[nq(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends dq{priority=20;parse(e){return Fq(e)}set(e,t,n){return[nq(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},l$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d$=/^'([^]*?)'?$/,h$=/''/g,p$=/\S/,f$=/[a-zA-Z]/;function m$(e,t,n,r){const i=()=>nq(r?.in||n,NaN),o=oq(),a=r?.locale??o.locale??GY,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?i():aq(n,r?.in);const l={firstWeekContainsDate:s,weekStartsOn:c,locale:a},u=[new uq(r?.in,n)],d=t.match(u$).map((e=>{const t=e[0];if(t in YY){return(0,YY[t])(e,a.formatLong)}return e})).join("").match(l$),h=[];for(let g of d){!r?.useAdditionalWeekYearTokens&&JY(g)&&ZY(g,t,e),!r?.useAdditionalDayOfYearTokens&&QY(g)&&ZY(g,t,e);const n=g[0],o=c$[n];if(o){const{incompatibleTokens:t}=o;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===o.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=o.run(e,g,a.match,l);if(!r)return i();u.push(r.setter),e=r.rest}else{if(n.match(f$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=g.match(d$)[1].replace(h$,"'")),0!==e.indexOf(g))return i();e=e.slice(g.length)}}if(e.length>0&&p$.test(e))return i();const p=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let f=aq(n,r?.in);if(isNaN(+f))return i();const m={};for(const g of p){if(!g.validate(f,l))return i();const e=g.set(f,m,l);Array.isArray(e)?(f=e[0],Object.assign(m,e[1])):f=e}return f}function g$(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function v$(e){return!(!g$(e)&&"number"!==typeof e||isNaN(+aq(e)))}const y$=function(){const{id:e}=ne(),[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),c=()=>n(!1),[l,u]=(0,i.useState)({coins_per_second:""}),[d,h]=(0,i.useState)(!0),[p,f]=(0,i.useState)(null),m=te(),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(!1),[E,_]=(0,i.useState)(null),[w,S]=(0,i.useState)([]),[T,C]=(0,i.useState)(1),[x,R]=(0,i.useState)([]),[A,O]=(0,i.useState)(null),[I,N]=(0,i.useState)("1m"),k=async()=>{h(!0),f(null);try{const t=await vU(e);console.log("singleexecutive",t),u({name:(null===t||void 0===t?void 0:t.name)||"",age:(null===t||void 0===t?void 0:t.age)||"",account_number:(null===t||void 0===t?void 0:t.account_number)||"",ifsc_code:(null===t||void 0===t?void 0:t.ifsc_code)||"",education_qualification:(null===t||void 0===t?void 0:t.education_qualification)||"",skills:(null===t||void 0===t?void 0:t.skills)||"",coins_per_second:(null===t||void 0===t?void 0:t.coins_per_second)||"",mobile_number:(null===t||void 0===t?void 0:t.mobile_number)||"",place:(null===t||void 0===t?void 0:t.place)||"",profession:(null===t||void 0===t?void 0:t.profession)||"",id:(null===t||void 0===t?void 0:t.id)||"",executive_id:(null===t||void 0===t?void 0:t.executive_id)||"",email_id:(null===t||void 0===t?void 0:t.email_id)||"",gender:(null===t||void 0===t?void 0:t.gender)||"",status:(null===t||void 0===t?void 0:t.status)||"N/A",password:(null===t||void 0===t?void 0:t.password)||""})}catch(p){f("Failed to fetch user data")}try{const t=await SU(e);console.log("callhistiryexecutive",t),v(t||[]),t&&0!==t.length||s("No Call History Found")}catch(p){var t,n;404===(null===(t=p.response)||void 0===t?void 0:t.status)?s("Call History Not Found"):500===(null===(n=p.response)||void 0===n?void 0:n.status)?s("Internal Server Error"):s("Failed to fetch call history")}try{const t=await EU(e);console.log("executive",t),_(t||{})}catch(p){f("Failed to fetch statistics")}try{const t=await(async e=>{try{const t=await dU.get(`${hU}/api/executives/${e}/ratings/`);if(200===t.status&&t.data)return console.log(t.data),t.data;throw new Error("Failed to fetch user data")}catch(p){throw console.error("Error fetching user data:",p.message),console.log(p.data),p}})(e);S(t||[])}catch(p){f("Failed to fetch ratings")}try{const t=await EU(e);R(t||{})}catch(p){f("Failed to fetch talktime")}h(!1)};(0,i.useEffect)((()=>{k()}),[e,T]),(0,i.useEffect)((()=>{P(e,I)}),[e,I]);const P=async(e,t)=>{h(!0);try{const n=await EU(e,t);O(n),f(null)}catch(n){console.error("Error fetching executive statistics:",n),f("Failed to load data. Please try again.")}finally{h(!1)}};(0,i.useEffect)((()=>{(async()=>{try{const t=await zU(e);console.log("blocked users",t),o((null===t||void 0===t?void 0:t[0])||null)}catch(p){console.error("Error fetching blocked user details:",p),o(null)}finally{h(!1)}})()}),[e]);const[D,L]=(0,i.useState)([]),M=Math.ceil(D.length/10),j=D.slice(10*(T-1),10*T);console.log("execall",j);const U=e=>{e>=1&&e<=M&&C(e)},[F,B]=(0,i.useState)(""),[V,W]=(0,i.useState)("");(0,i.useEffect)((()=>{L(g)}),[g]);const H=e=>{if(!e||"string"!==typeof e||!e.includes(":"))return"N/A";try{const[t,n,r]=e.split(":"),[i]=r.split(".");return`${parseInt(t,10)}h ${parseInt(n,10)}m ${parseInt(i,10)}s`}catch(p){return"N/A"}},G=e=>{const{name:t,value:n}=e.target;if("coins_per_second"===t){const e=n.replace(/[^0-9.]/g,"");(""===e||/^\d*\.?\d*$/.test(e))&&u({...l,[t]:e})}else u({...l,[t]:n});b(!0)},z=t=>{N(t),EU(e,t).then((e=>{O(e)})).catch((e=>{console.error("Error fetching executive statistics:",e)}))};return d?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(xB,{}),(0,gt.jsxs)("div",{className:"container  my-3",children:[(0,gt.jsxs)(xY,{onClick:()=>m("/executive"),variant:"text",color:"black",children:[(0,gt.jsx)(kY,{})," Back"]}),(0,gt.jsxs)("div",{className:"row my-3",children:[(0,gt.jsx)("div",{className:"col-md-6 col-12",children:(0,gt.jsx)("h4",{children:"Employee Details"})}),(0,gt.jsxs)("div",{className:"col-md-6 col-12 d-flex justify-content-end align-items-center removeBtn",children:[(0,gt.jsxs)(ka,{className:"me-2",children:[(0,gt.jsx)(ka.Toggle,{variant:"primary",children:"1d "===I?"Last Day":"7d "===I?"Last 7 Days":"Last Month"}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{onClick:()=>z("1d"),children:"Last Day"}),(0,gt.jsx)(ka.Item,{onClick:()=>z("7d"),children:"Last 7 Days"}),(0,gt.jsx)(ka.Item,{onClick:()=>z("1m "),children:"Last Month"})]})]}),(0,gt.jsx)("button",{onClick:()=>{const e=[{Title:"Total Earnings",Value:A.earnings||"N/A"},{Title:"Missed Calls",Value:A.missed_calls_count||"N/A"},{Title:"Average Rating",Value:A.average_rating||"N/A"},{Title:"Total Talktime",Value:A.total_talk_time||"N/A"},{Title:"Total Calls",Value:A.total_calls||"N/A"},{Title:"Coins Earned",Value:A.total_coins_earned||"N/A"},{Title:"Avg Call Duration",Value:A.avg_call_duration||"N/A"},{Title:"Total Online Time",Value:A.total_online_time||"N/A"},{Title:"Full Name",Value:l.name},{Title:"Age",Value:l.age},{Title:"Education",Value:l.education_qualification},{Title:"Skills",Value:l.skills},{Title:"Coin Per Second",Value:l.coins_per_second},{Title:"Phone Number",Value:l.mobile_number},{Title:"Place",Value:l.place},{Title:"Profession",Value:l.profession},{Title:"ID",Value:l.id},{Title:"Email Address",Value:l.email_id},{Title:"Gender",Value:l.gender},{Title:"Status",Value:l.status}],t=sg.json_to_sheet(e),n=sg.book_new();sg.book_append_sheet(n,t,"Metrics Data");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,cg.saveAs)(i,"executive_detail.xlsx")},style:{width:"10%"},className:" buttond me-2",children:(0,gt.jsx)(Me,{})}),(0,gt.jsxs)(xY,{variant:"contained",color:"error",onClick:()=>n(!0),children:[(0,gt.jsx)(PY,{})," Remove Employee"]})]})]}),(0,gt.jsxs)("div",{className:"row row2",children:[(0,gt.jsx)("p",{className:"heading1 mb-4",children:"Executive Dashboard"}),(0,gt.jsxs)("div",{className:"row g-4",children:[(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Earnings",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Total Earnings"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsxs)("h3",{className:"mb-0 d-flex align-items-center",children:[(0,gt.jsx)(DY,{fontSize:"small",className:"me-1"}),(0,gt.jsx)("span",{children:null!==(null===A||void 0===A?void 0:A.earnings)&&void 0!==(null===A||void 0===A?void 0:A.earnings)?A.earnings.toLocaleString():"N/A"})]})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-danger bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Missed Calls",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://st.depositphotos.com/1181187/1450/i/450/depositphotos_14503037-stock-photo-no-sign.jpg"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Missed Calls"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:null!==(null===A||void 0===A?void 0:A.missed_calls_count)&&void 0!==(null===A||void 0===A?void 0:A.missed_calls_count)?A.missed_calls_count.toLocaleString():"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Rating",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Average Rating"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0 d-flex align-items-center",children:null!==(null===A||void 0===A?void 0:A.average_rating)&&void 0!==(null===A||void 0===A?void 0:A.average_rating)?(0,gt.jsxs)(gt.Fragment,{children:[A.average_rating,(0,gt.jsx)("small",{className:"ms-1 text-muted",children:"/5"})]}):"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Talktime",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://th.bing.com/th/id/OIP.NIx02QAF7_ncWacSsOO9qwHaHa?w=164&h=180&c=7&r=0&o=5&dpr=1.4&pid=1.7"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Total Talktime"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:(null===A||void 0===A?void 0:A.total_talk_time)||"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Total Calls",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn-icons-png.flaticon.com/512/2618/2618179.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Total Calls"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:null!==(null===A||void 0===A?void 0:A.total_calls)&&void 0!==(null===A||void 0===A?void 0:A.total_calls)?A.total_calls.toLocaleString():"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Coins",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn-icons-png.flaticon.com/512/1490/1490853.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Coins Earned"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:null!==(null===A||void 0===A?void 0:A.total_coins_earned)&&void 0!==(null===A||void 0===A?void 0:A.total_coins_earned)?A.total_coins_earned.toLocaleString():"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Call Duration",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn-icons-png.flaticon.com/512/2784/2784459.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Avg Call Duration"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:(null===A||void 0===A?void 0:A.avg_call_duration)||"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-xl-3 col-md-6 col-12",children:(0,gt.jsx)(vV,{className:"h-100 shadow-sm border-0 hover-shadow",children:(0,gt.jsxs)(wV,{className:"cardBody d-flex align-items-center",children:[(0,gt.jsx)("div",{className:"me-3",children:(0,gt.jsx)("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:(0,gt.jsx)("img",{alt:"Online Time",className:"cardImg",style:{width:"32px",height:"32px"},src:"https://cdn-icons-png.flaticon.com/512/1828/1828640.png"})})}),(0,gt.jsxs)("div",{className:"flex-grow-1",children:[(0,gt.jsx)(EV,{className:"cardTitle text-muted fs-6 mb-1",children:"Total Online Time"}),(0,gt.jsx)(_V,{className:"mb-0",children:(0,gt.jsx)("h3",{className:"mb-0",children:(null===A||void 0===A?void 0:A.total_online_time)||"N/A"})})]})]})})})]})]}),(0,gt.jsxs)("div",{className:"row row3",children:[(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Full Name"}),(0,gt.jsx)(zV,{id:"name",type:"text",name:"name",value:null===l.name||void 0===l.name?"":l.name,onChange:G})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Age"}),(0,gt.jsx)(zV,{id:"age",type:"text",name:"age",value:null===l.age||void 0===l.age?"":l.age,onChange:G})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Education"}),(0,gt.jsx)(zV,{id:"education_qualification",type:"text",name:"education_qualification",value:null===l.education_qualification||void 0===l.education_qualification?"":l.education_qualification,onChange:G})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Skills"}),(0,gt.jsx)(zV,{id:"skills",type:"text",onChange:G,name:"skills",value:null===l.skills||void 0===l.skills?"":l.skills})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Account Number"}),(0,gt.jsx)(zV,{id:"account_number",type:"text",onChange:G,name:"account_number",value:null===l.account_number||void 0===l.account_number?"":l.account_number})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Set Coin"}),(0,gt.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,gt.jsx)(zV,{id:"coins_per_second",type:"text",name:"coins_per_second",onChange:G,value:null===l.coins_per_second||void 0===l.coins_per_second?"":l.coins_per_second,"aria-label":"Set Coin per Seconds",style:{paddingRight:"75px"}}),(0,gt.jsx)("span",{style:{position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",fontSize:"1rem",color:"#666",pointerEvents:"none",userSelect:"none"},children:"Coin/Sec"})]})]})]}),(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Phone Number"}),(0,gt.jsx)(zV,{id:"mobile_number",type:"text",name:"mobile_number",onChange:G,value:null===l.mobile_number||void 0===l.mobile_number?"":l.mobile_number})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Place"}),(0,gt.jsx)(zV,{id:"place",type:"text",name:"place",value:null===l.place||void 0===l.place?"":l.place,onChange:G})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Profession"}),(0,gt.jsx)(zV,{id:"profession",type:"text",onChange:G,name:"profession",value:null===l.profession||void 0===l.profession?"":l.profession})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"ID"}),(0,gt.jsx)(zV,{id:"form1",type:"text",disabled:!0,value:l.name===e||void 0===l.id?"":l.id})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"IFSC Code"}),(0,gt.jsx)(zV,{id:"ifsc_code",type:"text",onChange:G,name:"ifsc_code",value:null===l.ifsc_code||void 0===l.ifsc_code?"":l.ifsc_code})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"EXECUTIVE ID"}),(0,gt.jsx)(zV,{id:"form1",type:"text",disabled:!0,value:null===l.executive_id||void 0===l.executive_id?"":l.executive_id})]})]}),(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Email Address"}),(0,gt.jsx)(zV,{id:"email_id",type:"text",name:"email_id",value:null===l.email_id||void 0===l.email_id?"":l.email_id,onChange:G})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Gender"}),(0,gt.jsxs)("select",{id:"gender",name:"gender",className:"form-select",onChange:G,value:l.gender||"",children:[(0,gt.jsx)("option",{value:"",disabled:!0,children:"Select Gender"}),(0,gt.jsx)("option",{value:"male",children:"Male"}),(0,gt.jsx)("option",{value:"female",children:"Female"}),(0,gt.jsx)("option",{value:"others",children:"Others"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Status"}),(0,gt.jsxs)("select",{id:"status",name:"status",className:"form-select",onChange:G,value:l.status||"N/A",children:[(0,gt.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),(0,gt.jsx)("option",{value:"active",children:"Active"}),(0,gt.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Password"}),(0,gt.jsx)(zV,{id:"password",name:"password",type:"text",onChange:G,value:null===l.password||void 0===l.password?"":l.password})]})]})]}),y&&(0,gt.jsx)("div",{className:"d-flex justify-content-end my-3",children:(0,gt.jsx)(xY,{variant:"contained",sx:{backgroundColor:"#1976d2",color:"white",padding:"8px 24px",fontSize:"14px",borderRadius:"8px",textTransform:"none",boxShadow:"none","&:hover":{backgroundColor:"#1565c0",boxShadow:"none"}},onClick:async()=>{const t=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return""!==r&&null!==r&&void 0!==r&&(e[n]=r),e}),{});t.is_banned=void 0!==l.is_banned&&l.is_banned,t.is_suspended=void 0!==l.is_suspended&&l.is_suspended;try{await CU(e,t);yB.success("Changes saved successfully!"),b(!1)}catch(p){console.error("Error saving data:",p.message),yB.error("Failed to save changes.")}},children:"Save Changes"})}),(0,gt.jsx)("div",{className:"col-md-4 col-12 my-4"}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Call History"}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsx)(YF.Control,{type:"date",value:F,onChange:e=>B(e.target.value),placeholder:"Start Date",className:"me-2"}),(0,gt.jsx)(YF.Control,{type:"date",value:V,onChange:e=>W(e.target.value),placeholder:"End Date",className:"me-2"}),(0,gt.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!F&&!V)return void L(g);const e=F?new Date(F):null,t=V?new Date(V):null;t&&t.setHours(23,59,59,999);const n=g.filter((n=>{var r;const i=null===(r=n.call_history)||void 0===r?void 0:r.call_start_time;if(!i)return console.warn("Missing call_start_time for item:",n),!1;const o=m$(i,"dd/MM/yyyy hh:mm a",new Date);return v$(o)?(!e||o>=e)&&(!t||o<=t):(console.warn("Invalid date format for call_start_time:",i),!1)}));console.log("Filtered Data:",n),L(n),C(1)},children:"Filter"})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:"Executive"}),(0,gt.jsx)("td",{children:"User ID"}),(0,gt.jsx)("td",{children:"Start Time"}),(0,gt.jsx)("td",{children:"Duration"}),(0,gt.jsx)("td",{children:"End Time"}),(0,gt.jsx)("td",{children:"Status"})]})}),(0,gt.jsx)("tbody",{children:a?(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center ",children:a})}):j&&j.length>0?j.map(((e,t)=>{var n,r,i,o,a,s,c;return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:(null===(n=e.call_history)||void 0===n||null===(r=n.executive)||void 0===r?void 0:r.name)||"N/A"}),(0,gt.jsx)("td",{children:(null===(i=e.call_history)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.id)||"N/A"}),(0,gt.jsx)("td",{children:(null===(a=e.call_history)||void 0===a?void 0:a.call_start_time)||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_duration||"N/A"}),(0,gt.jsx)("td",{children:(null===(s=e.call_history)||void 0===s?void 0:s.call_end_time)||"N/A"}),(0,gt.jsx)("td",{children:(null===(c=e.call_history)||void 0===c?void 0:c.status)||"N/A"})]},t)})):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center",children:"No Call History Found"})})})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>U(1),disabled:1===T}),(0,gt.jsx)(JB.Prev,{onClick:()=>U(T-1),disabled:1===T}),[...Array(M)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:T===n,onClick:()=>U(n),style:{backgroundColor:T===n?"#5065F6":"transparent",color:T===n?"white":"#000",borderRadius:"8px",boxShadow:T===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>U(T+1),disabled:T===M}),(0,gt.jsx)(JB.Last,{onClick:()=>U(M),disabled:T===M})]}),(0,gt.jsx)("div",{className:"container mt-2 d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:(0,gt.jsx)("div",{className:"card border-0 shadow",style:{width:"360px"},children:r?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"card-header bg-light text-center",children:(0,gt.jsx)("h5",{className:"mb-0",children:"Blocked User Details"})}),(0,gt.jsx)("div",{className:"card-body",children:(0,gt.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"User ID"}),(0,gt.jsx)("span",{children:r.user_id})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Executive ID"}),(0,gt.jsx)("span",{children:r.executive_id})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Blocked at"}),(0,gt.jsx)("span",{children:r.blocked_at})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Reason"}),(0,gt.jsx)("span",{children:r.reason})]})]})})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"card-header bg-light text-center",children:(0,gt.jsx)("h5",{className:"mb-0",children:"No Blocked Users"})}),(0,gt.jsx)("div",{className:"card-body text-center",children:(0,gt.jsx)("p",{className:"text-muted mb-0",children:"There is no blocked user with the provided ID."})})]})})}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Ratings"}),(0,gt.jsx)("div",{className:"row",children:0===w.length?(0,gt.jsx)("div",{className:"col-12",children:(0,gt.jsx)("p",{style:{textAlign:"center",fontSize:"18px",color:"#757B82"},children:"No ratings available."})}):w.map(((e,t)=>{return(0,gt.jsx)("div",{className:"col-md-3 col-12 mb-3",children:(0,gt.jsx)(vV,{className:"h-100",children:(0,gt.jsxs)(wV,{children:[(0,gt.jsx)("p",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:e.id}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Rating"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.stars}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Time"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:(n=e.created_at,new Date(n).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:"Asia/Kolkata"}))})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"User ID"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.user}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Call Duration"})}),(0,gt.jsxs)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:[" ",H(e.duration)]})]})]}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Message"})}),(0,gt.jsx)("p",{style:{fontSize:"16px",marginBottom:"0"},children:e.comment})]})})},t);var n}))}),(0,gt.jsxs)(gF,{show:t,onHide:c,centered:!0,"aria-labelledby":"remove-employee-title","aria-describedby":"remove-employee-description",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{id:"remove-employee-title",children:"Remove Employee"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)("p",{id:"remove-employee-description",style:{margin:"20px 0"},children:"Are you sure you want to remove this employee?"})}),(0,gt.jsx)(gF.Footer,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,gt.jsxs)("div",{style:{display:"flex",gap:"30px"},children:[(0,gt.jsx)("button",{id:"cancelb",onClick:c,children:"Cancel"}),(0,gt.jsx)("button",{id:"removeb",onClick:async()=>{try{const t=await wU(e);console.log(t.message),yB.success("Executive removed successfully!",{autoClose:3e3}),c(),setTimeout((()=>{m("/executive")}),2e3)}catch(p){console.error("Error removing employee:",p.message),yB.error("Failed to remove the Executive.",{autoClose:3e3})}},children:"Remove"})]})})]})]})]})},b$={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},E$=i.forwardRef(((e,t)=>{let{bsPrefix:n,position:r,containerPosition:i,className:o,as:a="div",...s}=e;return n=wt(n,"toast-container"),(0,gt.jsx)(a,{ref:t,...s,className:ot()(n,r&&b$[r],i&&`position-${i}`,o)})}));E$.displayName="ToastContainer";const _$=E$,w$=2**31-1;function S$(e,t,n){const r=n-Date.now();e.current=r<=w$?setTimeout(t,r):setTimeout((()=>S$(e,t,n)),w$)}function T$(){const e=Dn(),t=(0,i.useRef)();return Ln((()=>clearTimeout(t.current))),(0,i.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(n(),i<=w$?t.current=setTimeout(r,i):S$(t,r,Date.now()+i))},clear:n,handleRef:t}}),[])}const C$={[Ht]:"showing",[zt]:"showing show"},x$=i.forwardRef(((e,t)=>(0,gt.jsx)(ir,{...e,ref:t,transitionClasses:C$})));x$.displayName="ToastFade";const R$=x$,A$=i.createContext({onClose(){}}),O$=i.forwardRef(((e,t)=>{let{bsPrefix:n,closeLabel:r="Close",closeVariant:o,closeButton:a=!0,className:s,children:c,...l}=e;n=wt(n,"toast-header");const u=(0,i.useContext)(A$),d=wn((e=>{null==u||null==u.onClose||u.onClose(e)}));return(0,gt.jsxs)("div",{ref:t,...l,className:ot()(n,s),children:[c,a&&(0,gt.jsx)(mr,{"aria-label":r,variant:o,onClick:d,"data-dismiss":"toast"})]})}));O$.displayName="ToastHeader";const I$=O$,N$=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=wt(r,"toast-body"),(0,gt.jsx)(i,{ref:t,className:ot()(n,r),...o})}));N$.displayName="ToastBody";const k$=N$,P$=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,transition:o=R$,show:a=!0,animation:s=!0,delay:c=5e3,autohide:l=!1,onClose:u,onEntered:d,onExit:h,onExiting:p,onEnter:f,onEntering:m,onExited:g,bg:v,...y}=e;n=wt(n,"toast");const b=(0,i.useRef)(c),E=(0,i.useRef)(u);(0,i.useEffect)((()=>{b.current=c,E.current=u}),[c,u]);const _=T$(),w=!(!l||!a),S=(0,i.useCallback)((()=>{w&&(null==E.current||E.current())}),[w]);(0,i.useEffect)((()=>{_.set(S,b.current)}),[_,S]);const T=(0,i.useMemo)((()=>({onClose:u})),[u]),C=!(!o||!s),x=(0,gt.jsx)("div",{...y,ref:t,className:ot()(n,r,v&&`bg-${v}`,!C&&(a?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,gt.jsx)(A$.Provider,{value:T,children:C&&o?(0,gt.jsx)(o,{in:a,onEnter:f,onEntering:m,onEntered:d,onExit:h,onExiting:p,onExited:g,unmountOnExit:!0,children:x}):x})}));P$.displayName="Toast";const D$=Object.assign(P$,{Body:k$,Header:I$});var L$=n(1635),M$=n.n(L$);const j$=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(1),[s]=(0,i.useState)(10),[c,l]=(0,i.useState)(1),[u,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!0),[g,v]=(0,i.useState)(null),[y,b]=(0,i.useState)(null),[E,_]=(0,i.useState)(!1),[w,S]=(0,i.useState)(null),[T,C]=(0,i.useState)(!1),[x,R]=(0,i.useState)(""),[A,O]=(0,i.useState)("success"),I=M$().createClient({mode:"live",codec:"vp8",region:"asia"}),[N,k]=(0,i.useState)(!1),[P,D]=(0,i.useState)(new Map),L=e=>{a(e)},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";R(e),O(t),C(!0)};if((0,i.useEffect)((()=>{const e=async()=>{try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/ongoing-calls/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch ongoingcall data")}catch(g){throw console.error("Error fetching ongoingcall data:",g.message),g}})();if(console.log(e,"ongoing"),!e||!Array.isArray(e))throw new Error("Invalid data format received");t(e),l(Math.ceil(e.length/s))}catch(e){v(e.message),M(`Error fetching calls: ${e.message}`,"danger")}finally{m(!1)}};e();const n=setInterval((()=>{e()}),1e3);return()=>clearInterval(n)}),[s]),(0,i.useEffect)((()=>{const t=(o-1)*s,n=t+s;r(e.slice(t,n))}),[o,e,s]),g)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",g]});if(f)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});const j=async()=>{try{d(!1),P&&P.size>0&&(P.forEach(((e,t)=>{console.log(`Stopping audio for user: ${t}`),e.stop()})),D(new Map),k(!1)),I&&"CONNECTED"===I.connectionState&&(await I.leave(),console.log("Left the channel")),I.removeAllListeners(),b(null),M("Disconnected from the call","info")}catch(g){console.error("Error during cleanup:",g.message),M(`Error during cleanup: ${g.message}`,"danger")}},U=()=>{p(!1),S(null),_(!1)};return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)(_$,{className:"p-3",position:"top-end",children:(0,gt.jsxs)(D$,{show:T,onClose:()=>C(!1),delay:5e3,autohide:!0,bg:A,children:[(0,gt.jsx)(D$.Header,{children:(0,gt.jsxs)("strong",{className:"me-auto",children:["success"===A&&"Success","danger"===A&&"Error","warning"===A&&"Warning","info"===A&&"Info"]})}),(0,gt.jsx)(D$.Body,{className:"success"===A||"danger"===A?"text-white":"",children:x})]})}),(0,gt.jsxs)("div",{style:{background:"white",borderRadius:"10px"},children:[(0,gt.jsx)("p",{className:"ms-4 mt-3 d-flex justify-content-between align-items-center emlist",children:"Running Calls"}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"Executive"}),(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Start Time"}),(0,gt.jsx)("th",{children:"Duration"}),(0,gt.jsx)("th",{children:"Actions"})]})}),(0,gt.jsx)("tbody",{children:n.length>0?n.map(((e,t)=>{return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:e.executive_name}),(0,gt.jsx)("td",{children:e.user_id}),(0,gt.jsx)("td",{children:(n=e.start_time,new Date(n).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))}),(0,gt.jsx)("td",{children:e.duration_minutes+" Mns"}),(0,gt.jsxs)("td",{children:[(0,gt.jsx)("button",{className:"Hear-Call",onClick:()=>(async(e,t,n)=>{try{console.log("Using existing UID:",n),console.log("Channel Name:",e),b({channel_name:e,token:t,uid:n}),d(!0),I&&"CONNECTED"===I.connectionState&&(console.log("Leaving previous channel..."),await I.leave()),await I.join("9626e8b8b5f847e6961cb9a996e1ae93",e,t,n),I.on("user-published",(async(e,t)=>{if("audio"===t)try{const t=await I.subscribe(e,"audio");D((n=>{const r=new Map(n);return r.set(e.uid,t),r})),console.log(`Subscribed to audio of user: ${e.uid}`)}catch(n){console.error("Error subscribing to user audio: ",n),M("Error subscribing to audio stream","danger")}})),I.on("user-unpublished",(e=>{console.log(`User ${e.uid} left the channel`),D((t=>{const n=new Map(t);return n.delete(e.uid),n}))})),M("Successfully connected to the call","success")}catch(g){g.message.includes("UID_CONFLICT")?(console.error("UID conflict detected. Please ensure the user has left the previous session."),M("UID conflict detected. Please try again.","warning")):(console.error("Error joining channel: ",g.message),M(`Error joining channel: ${g.message}`,"danger"))}})(e.channel_name,e.token,e.executive_id),children:"Hear Call"}),(0,gt.jsx)("button",{className:"Hear-Call ms-3",style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},onClick:()=>(S(e),void p(!0)),children:"Terminate Call"})]})]},t);var n})):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center",children:"No running calls available."})})})]})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>L(1),disabled:1===o}),(0,gt.jsx)(JB.Prev,{onClick:()=>L(o-1),disabled:1===o}),Array.from({length:c},((e,t)=>t+1)).map((e=>1===e||e===c||e>=o-1&&e<=o+1?(0,gt.jsx)(JB.Item,{active:o===e,onClick:()=>L(e),style:{backgroundColor:o===e?"#5065F6":"transparent",color:o===e?"white":"#000",borderRadius:"8px",boxShadow:o===e?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:e},e):e===o-2&&o>4||e===o+2&&o<c-3?(0,gt.jsx)(JB.Ellipsis,{disabled:!0},`ellipsis-${e}`):null)),(0,gt.jsx)(JB.Next,{onClick:()=>L(o+1),disabled:o===c}),(0,gt.jsx)(JB.Last,{onClick:()=>L(c),disabled:o===c})]}),(0,gt.jsxs)(gF,{show:u,onHide:j,centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Hearing Call"})}),(0,gt.jsxs)(gF.Body,{children:[(0,gt.jsxs)("p",{children:["You are now connected to the channel:"," ",(0,gt.jsx)("strong",{children:null===y||void 0===y?void 0:y.channel_name})]}),(0,gt.jsx)("p",{children:P.size>0?"Click the 'Play Audio' button to start hearing the call.":"Waiting for audio stream..."}),!N&&P.size>0&&(0,gt.jsx)(Aa,{variant:"primary",onClick:()=>{P.size>0?(P.forEach(((e,t)=>{console.log(`Playing audio for user: ${t}`),e.play()})),k(!0),M("Audio playback started","info")):M("No audio tracks available to play","warning")},children:"Play Audio"}),N&&(0,gt.jsx)("p",{children:"Audio is playing. Adjust your speaker volume if needed."})]}),(0,gt.jsx)(gF.Footer,{children:(0,gt.jsx)(Aa,{variant:"secondary",onClick:j,children:"Close"})})]}),(0,gt.jsxs)(gF,{show:h,onHide:U,centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Terminate Call"})}),(0,gt.jsxs)(gF.Body,{children:[(0,gt.jsx)("p",{children:"Are you sure you want to terminate the ongoing call?"}),w&&(0,gt.jsxs)("div",{className:"mt-3 p-3",style:{backgroundColor:"#f8f9fa",borderRadius:"5px"},children:[(0,gt.jsx)("strong",{children:"Call Details:"}),(0,gt.jsx)("br",{}),(0,gt.jsxs)("span",{children:["Executive: ",w.executive_name]}),(0,gt.jsx)("br",{}),(0,gt.jsxs)("span",{children:["User ID: ",w.user_id]}),(0,gt.jsx)("br",{}),(0,gt.jsxs)("span",{children:["Duration: ",w.duration_minutes," minutes"]})]}),(0,gt.jsx)("div",{className:"mt-3 text-danger",children:(0,gt.jsx)("small",{children:"\u26a0\ufe0f This action cannot be undone. The call will be permanently terminated."})})]}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:U,disabled:E,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:async()=>{if(w){_(!0);try{const e=await(async e=>{try{const t=new FormData;t.append("executive_id",e);const n=await dU.post(`${hU}/api/leave-all-calls/`,t,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return n;throw new Error("Failed to send OTP")}catch(g){throw console.error("Error sending OTP:",g.message),g}})(w.executive_id);if(!e||200!==e.status)throw new Error("Unexpected response from server");M(`Call terminated successfully for ${w.executive_name}`,"success"),t((e=>e.filter((e=>e.executive_id!==w.executive_id)))),U()}catch(g){console.error("Error terminating call:",g);let n="Failed to terminate call";var e;if(g.response)n=(null===(e=g.response.data)||void 0===e?void 0:e.message)||`Server error: ${g.response.status}`;else n=g.request?"Network error - please check your connection":g.message||"Unknown error occurred";M(n,"danger")}finally{_(!1)}}else M("No call selected for termination","warning")},disabled:E,children:E?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Ka,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Terminating..."]}):"Yes, Terminate"})]})]})]})},U$=()=>{var e,t,n;const[r,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(""),[c,l]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(!0),[f,m]=(0,i.useState)(null),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(1),[E,_]=(0,i.useState)(""),[w,S]=(0,i.useState)(!1),[T,C]=(0,i.useState)(null),[x,R]=(0,i.useState)(""),A=()=>S(!1),O=te(),I=e=>{let{status:t}=e,n={padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",color:"#fff"};return"banned"===t?(n={...n,backgroundColor:"#e74c3c"},(0,gt.jsx)("span",{style:n,children:"Banned"})):"suspended"===t?(n={...n,backgroundColor:"#f39c12"},(0,gt.jsx)("span",{style:n,children:"Suspended"})):"both"===t?(n={...n,backgroundColor:"#8e44ad"},(0,gt.jsx)("span",{style:n,children:"Banned & Suspended"})):null};if((0,i.useEffect)((()=>{(async()=>{p(!0);try{const e=await mU(),t=e.user_data||[];console.log(t),d(e),l(t),v(t)}catch(e){m(e.message)}finally{p(!1)}})()}),[]),h)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(f)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",f]});const N=e=>{s(e),o(!1);let t=[];"Dormant"===e?t=c.filter((e=>e.Is_Dormant)):"Active"===e?t=c.filter((e=>e.is_online)):"Offline"===e?t=c.filter((e=>!e.is_online)):"All"===e&&(t=c),v(t),b(1)},k=e=>{R(e),o(!1);let t=[...g];switch(e){case"highestCoinAvailable":t.sort(((e,t)=>(parseFloat(t.Coin_Balance)||0)-(parseFloat(e.Coin_Balance)||0)));break;case"highestCoinSpend":t.sort(((e,t)=>(parseFloat(t.Total_Coin_Spend)||0)-(parseFloat(e.Total_Coin_Spend)||0)));break;case"recentlyJoined":t.sort(((e,t)=>{const n=new Date(e.Created_At),r=new Date(t.Created_At);return isNaN(n.getTime())||isNaN(r.getTime())?(console.error("Invalid date encountered:",{a:e.Date,dateA:n,b:t.Date,dateB:r}),0):r-n}));break;case"oldestJoined":t.sort(((e,t)=>{const n=new Date(e.Created_At),r=new Date(t.Created_At);return isNaN(n.getTime())?(console.error("Invalid date in record A:",e),1):isNaN(r.getTime())?(console.error("Invalid date in record B:",t),-1):n-r}))}console.log("Sorted dates:",t.slice(0,5).map((e=>({id:e.User_ID,date:e.Date,parsed:new Date(e.Date).toISOString()})))),v(t),b(1)},P=()=>{const e=c.filter((e=>{const t=e.User_ID&&e.User_ID.toLowerCase().includes(E.toLowerCase()),n=e.mobile_number&&(e=>e.replace(/\D/g,""))(e.mobile_number).includes(E.replace(/\D/g,""));return t||n}));v(e),b(1)},D=10*y,L=D-10,M=g.slice(L,D),j=Math.ceil(g.length/10);return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)(xB,{}),(0,gt.jsx)("h2",{className:"mb-4",children:"Users List"}),(0,gt.jsxs)("div",{className:"d-flex align-items-start mb-3 gap-3 justify-content-between",children:[(0,gt.jsxs)("div",{className:"d-flex gap-3",children:[(0,gt.jsxs)(YF.Group,{controlId:"cashSearch",className:"w-100",children:[(0,gt.jsx)(YF.Label,{children:"Search By"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by anything",value:E,onChange:e=>_(e.target.value),onKeyDown:e=>{"Enter"===e.key&&P()}})]}),(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{onClick:P,variant:"success",className:"w-100",children:(0,gt.jsx)(Ye,{})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{className:"w-100 buttonsort",onClick:()=>o(!0),children:(0,gt.jsx)("i",{className:"bi bi-sort-up"})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{className:"w-100",variant:"primary",onClick:()=>{try{const e=g.map((e=>({"User ID":e.User_ID,Date:e.Date,"Mobile Number":e.mobile_number,"Total Coin Available":e.Coin_Balance,"Total Coin Spend":e.Total_Coin_Spend,"Total Purchases":e.Total_Purchases,"Total Talktime":e.Total_Talktime,Status:e.Ban&&e.Suspend?"Banned & Suspended":e.Ban?"Banned":e.Suspend?"Suspended":"Active"}))),t=sg.book_new(),n=sg.json_to_sheet(e),r=[{wch:15},{wch:12},{wch:15},{wch:20},{wch:18},{wch:15},{wch:15},{wch:18},{wch:10},{wch:12}];n["!cols"]=r,sg.book_append_sheet(t,n,"Users List");const i=(new Date).toISOString().split("T")[0];$m(t,`users_list_${i}.xlsx`),yB.success("Excel file exported successfully!")}catch(f){console.error("Error exporting to Excel:",f),yB.error("Error exporting to Excel. Please try again.")}},title:"Export to Excel",children:(0,gt.jsx)(Ve,{})})]})]}),(0,gt.jsx)(ys,{className:"p-2 mt-2 text-center employee-summary-card",children:(0,gt.jsxs)(Es,{children:[(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-people-fill text-primary me-2"}),(0,gt.jsx)("span",{className:"text-primary",children:null!==(e=null===u||void 0===u?void 0:u.total_users)&&void 0!==e?e:0})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Inactive"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-x-circle-fill text-danger me-2"}),(0,gt.jsx)("span",{className:"text-danger",children:null!==(t=null===u||void 0===u?void 0:u.inactive_users)&&void 0!==t?t:0})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Active"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),(0,gt.jsx)("span",{className:"text-success",children:null!==(n=null===u||void 0===u?void 0:u.active_users)&&void 0!==n?n:0})]})]})]})})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Date"}),(0,gt.jsx)("th",{children:"Mobile number"}),(0,gt.jsx)("th",{children:"Total Coin Available"}),(0,gt.jsx)("th",{children:"Total Coin Spend"}),(0,gt.jsx)("th",{children:"Total Purchases"}),(0,gt.jsx)("th",{children:"Total Talktime"}),(0,gt.jsx)("th",{})]})}),(0,gt.jsx)("tbody",{style:{cursor:"pointer"},children:M.map((e=>{const t=e.Ban,n=e.Suspend;let r="";return t&&n?r="both":t?r="banned":n&&(r="suspended"),(0,gt.jsx)(i.Fragment,{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsxs)("td",{children:[(0,gt.jsx)("span",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.User_ID}),(0,gt.jsxs)("span",{className:"ms-2",children:[" ",r&&(0,gt.jsx)(I,{status:r})]})]}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Created_At}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.mobile_number}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Coin_Balance}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Total_Coin_Spend}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Total_Purchases}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Total_Talktime}),(0,gt.jsx)("td",{children:(0,gt.jsx)(Ue,{onClick:t=>{t.stopPropagation(),(e=>{C(e),S(!0)})(e)},style:{cursor:"pointer"}})})]})},e.User_ID)}))})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>b(1),disabled:1===y}),(0,gt.jsx)(JB.Prev,{onClick:()=>b(y-1),disabled:1===y}),[...Array(j)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:y===n,onClick:()=>(e=>{b(e)})(n),style:{backgroundColor:y===n?"#5065F6":"transparent",color:y===n?"white":"#000",borderRadius:"8px",boxShadow:y===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>b(y+1),disabled:y===j}),(0,gt.jsx)(JB.Last,{onClick:()=>b(j),disabled:y===j})]}),(0,gt.jsxs)(gF,{show:r,onHide:()=>o(!1),size:"sm",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Filter & Sort Options"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsx)("h6",{className:"mb-2",children:"Filter Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("Active"),className:"mb-2 w-100",children:"Online Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("Offline"),className:"mb-2 w-100",children:"Offline Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("All"),className:"mb-3 w-100",children:"All Users"}),(0,gt.jsx)("hr",{}),(0,gt.jsx)("h6",{className:"mb-2",children:"Sort Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("highestCoinAvailable"),className:"mb-2 w-100",children:"Highest Coin Available"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("highestCoinSpend"),className:"mb-2 w-100",children:"Highest Coin Spend"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("recentlyJoined"),className:"mb-2 w-100",children:"Recently Joined"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("oldestJoined"),className:"w-100",children:"Oldest Members"})]})})]}),T&&(0,gt.jsx)(gF,{show:w,onHide:A,dialogClassName:"custom-modal-width",style:{width:"25%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async(e,t)=>{try{t?await FU(e):await jU(e),v((n=>n.map((n=>n.id===e?{...n,Suspend:!t}:n)))),A(),yB.success(`User ${t?"unsuspended":"suspended"} successfully!`)}catch(n){console.error(`Error ${t?"unsuspending":"suspending"} user:`,n.message),yB.error(`Error ${t?"unsuspending":"suspending"} user: ${n.message}`)}})(T.id,T.Suspend),children:[(0,gt.jsx)(He,{className:"me-2"})," ",T.Suspend?"Unsuspend User":"Suspend User"]}),(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async(e,t)=>{try{t?await UU(e):await MU(e),v((n=>n.map((n=>n.id===e?{...n,Ban:!t}:n)))),A(),yB.success(`User ${t?"unbanned":"banned"} successfully!`)}catch(n){console.error(`Error ${t?"unbanning":"banning"} user:`,n.message),yB.error(`Error ${t?"unbanning":"banning"} user: ${n.message}`)}})(T.id,T.Ban),children:[(0,gt.jsx)(ke,{className:"me-2"})," ",T.Ban?"Unban User":"Ban User"]})]})})})]})};const F$=function(){const[e,t]=(0,i.useState)(!1),{id:n,user_id:r}=ne(),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(null),[l,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),m=()=>t(!1),g=te(),[v,y]=(0,i.useState)([]),[b,E]=(0,i.useState)(1),[_,w]=(0,i.useState)(0),[S,T]=(0,i.useState)(!1),[C,x]=(0,i.useState)(0),[R,A]=(0,i.useState)([]),[O,I]=(0,i.useState)(null),[N,k]=(0,i.useState)(0),[P,D]=(0,i.useState)([]),L=e=>{if(!e||"string"!==typeof e||!e.includes(":"))return"N/A";try{const[t,n,r]=e.split(":"),[i]=r.split(".");return`${parseInt(t,10)}h ${parseInt(n,10)}m ${parseInt(i,10)}s`}catch(d){return"N/A"}};(0,i.useEffect)((()=>{u(!0),VU(r).then((e=>{x(e.total_coins_deducted),u(!1)})).catch((e=>{h("Failed to fetch data"),console.error(e)}))}),[]),(0,i.useEffect)((()=>{u(!0),GU(n).then((e=>{k(e.coin_balance),console.log("coinspend",e),u(!1)})).catch((e=>{h("Failed to fetch data"),console.error(e)}))}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=await kU();console.log(e),A(e),e.length>0&&I(e[0].id)}catch(d){h("Failed to fetch data")}finally{u(!1)}})()}),[kU]),(0,i.useEffect)((()=>((async()=>{u(!0);try{const[e,t,r]=await Promise.all([yU(n),bU(n),WU(n)]);a(e),c(t),D(r)}catch(d){console.error("Error fetching user data:",d)}try{const e=await TU(n);console.log("callHistoryData:",e),Array.isArray(e)?y(e):e&&Array.isArray(e.results)?y(e.results):y(e&&"object"===typeof e?[e]:[]),f(null)}catch(d){f("Error fetching call history. Please try again later.")}finally{u(!1)}})(),()=>{y([]),u(!1)})),[n,b]);const[M,j]=(0,i.useState)([]),U=Math.ceil(M.length/10),F=M.slice(10*(b-1),10*b),B=e=>{e>=1&&e<=U&&E(e)},[V,W]=(0,i.useState)(""),[H,G]=(0,i.useState)("");return(0,i.useEffect)((()=>{j(v)}),[v]),l?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):d?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",d]}):(0,gt.jsxs)(gt.Fragment,{children:[" ",(0,gt.jsx)(xB,{}),(0,gt.jsxs)("div",{className:"container  my-3",children:[(0,gt.jsxs)(xY,{variant:"text",color:"black",onClick:()=>g("/userslist"),children:[(0,gt.jsx)(kY,{})," Back"]}),(0,gt.jsxs)("div",{className:"row my-3",children:[(0,gt.jsx)("div",{className:"col-md-6 col-12  ",children:(0,gt.jsx)("h4",{children:"User Details"})}),(0,gt.jsxs)("div",{className:"col-md-6 col-12 removeBtn d-flex justify-content-end align-items-center",children:[(0,gt.jsx)(xY,{style:{width:"30%",backgroundColor:"#fdba00",color:"white"},className:"me-2",onClick:()=>{T(!0)},children:"+ Add Coin"}),(0,gt.jsx)("button",{onClick:()=>{const e=[{Title:"ID",Value:o.user_id},{Title:"Gender",Value:o.gender},{Title:"Total Purchase",Value:s.Total_Purchases},{Title:"Total Talktime",Value:s.Total_Talktime},{Title:"Coin Spend",Value:s.Total_Coin_Spent}],t=sg.json_to_sheet(e),n=sg.book_new();sg.book_append_sheet(n,t,"Metrics Data");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,cg.saveAs)(i,"executive_detail.xlsx")},style:{width:"10%"},className:" buttond me-2",children:(0,gt.jsx)(Me,{})}),(0,gt.jsxs)(xY,{variant:"contained",color:"error",onClick:()=>t(!0),children:[(0,gt.jsx)(PY,{})," Remove User"]})]})]}),(0,gt.jsxs)("div",{className:"row row2",children:[(0,gt.jsx)("p",{className:"heading1",children:"Personal Information"}),(0,gt.jsxs)("div",{className:"col-md-3 col-12",children:[(0,gt.jsx)("label",{htmlFor:"employeeID",children:"ID:"}),(0,gt.jsx)("input",{style:{background:"white"},type:"text",id:"employeeID",className:"form-control",placeholder:(null===o||void 0===o?void 0:o.user_id)||"N/A",disabled:!0}),(0,gt.jsx)("label",{htmlFor:"genderSelect",className:"mt-3",children:"Gender:"}),(0,gt.jsx)("input",{style:{background:"white"},type:"text",id:"gender",className:"form-control",placeholder:(null===o||void 0===o?void 0:o.gender)||"N/A",disabled:!0}),(0,gt.jsx)("label",{htmlFor:"genderSelect",className:"mt-3",children:"Phone No:"}),(0,gt.jsx)("input",{style:{background:"white"},type:"text",id:"phone",className:"form-control",placeholder:(null===o||void 0===o?void 0:o.mobile_number)||"N/A",disabled:!0})]}),(0,gt.jsx)("div",{className:"col-md-3 col-12 mt-3",children:(0,gt.jsx)(vV,{className:"card",style:{height:"100%"},children:(0,gt.jsxs)(wV,{className:"cardBody",style:{padding:"1rem",display:"flex",alignItems:"center"},children:[(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://th.bing.com/th/id/OIP.NIx02QAF7_ncWacSsOO9qwHaHa?w=164&h=180&c=7&r=0&o=5&dpr=1.4&pid=1.7",style:{width:"40px",height:"40px",marginRight:"1rem"}}),(0,gt.jsxs)("div",{style:{flex:1},children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Total Purchase"}),(0,gt.jsx)(_V,{className:"mb-0",style:{marginBottom:"0"},children:(0,gt.jsxs)("h4",{children:[(0,gt.jsx)(DY,{}),(null===s||void 0===s?void 0:s.Total_Purchases)||"0"]})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12 mt-3",children:(0,gt.jsx)(vV,{className:"card",style:{height:"100%"},children:(0,gt.jsxs)(wV,{className:"cardBody",style:{padding:"1rem",display:"flex",alignItems:"center"},children:[(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://st.depositphotos.com/1181187/1450/i/450/depositphotos_14503037-stock-photo-no-sign.jpg",style:{width:"40px",height:"40px",marginRight:"1rem"}}),(0,gt.jsxs)("div",{style:{flex:1},children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Total Talktime"}),(0,gt.jsx)(_V,{className:"mb-0",style:{marginBottom:"0"},children:(0,gt.jsx)("h4",{children:(e=>{const t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600%24),i=Math.floor(e/86400);let o="";return i>0&&(o+=`${i} days `),r>0&&(o+=`${r} hr `),n>0&&(o+=`${n} min `),o+=`${t} s`,o.trim()})((null===s||void 0===s?void 0:s.total_talktime)||"0")})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12 mt-3",children:(0,gt.jsx)(vV,{className:"card",style:{height:"100%"},children:(0,gt.jsxs)(wV,{className:"cardBody",style:{padding:"1rem",display:"flex",alignItems:"center"},children:[(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png",style:{width:"40px",height:"40px",marginRight:"1rem"}}),(0,gt.jsxs)("div",{style:{flex:1},children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Coin Spend"}),(0,gt.jsx)(_V,{className:"mb-0",style:{marginBottom:"0"},children:(0,gt.jsx)("h4",{children:C||"0"})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12 mt-3",children:(0,gt.jsx)(vV,{className:"card",style:{height:"100%"},children:(0,gt.jsxs)(wV,{className:"cardBody",style:{padding:"1rem",display:"flex",alignItems:"center"},children:[(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png",style:{width:"40px",height:"40px",marginRight:"1rem"}}),(0,gt.jsxs)("div",{style:{flex:1},children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Coin balance"}),(0,gt.jsx)(_V,{className:"mb-0",style:{marginBottom:"0"},children:(0,gt.jsx)("h4",{children:N||"0"})})]})]})})})]}),(0,gt.jsx)("div",{className:"col-md-4 col-12 my-4"}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Call History"}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsx)(YF.Control,{type:"date",value:V,onChange:e=>W(e.target.value),placeholder:"Start Date",className:"me-2"}),(0,gt.jsx)(YF.Control,{type:"date",value:H,onChange:e=>G(e.target.value),placeholder:"End Date",className:"me-2"}),(0,gt.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=v.filter((e=>{const t=new Date(e.start_time),n=V?new Date(V):null,r=H?new Date(H):null;return(!n||t>=n)&&(!r||t<=r)}));j(e),E(1)},children:"Filter"})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:"Executive"}),(0,gt.jsx)("td",{children:"User ID"}),(0,gt.jsx)("td",{children:"Start Time"}),(0,gt.jsx)("td",{children:"Duration"}),(0,gt.jsx)("td",{children:"End Time"}),(0,gt.jsx)("td",{children:"Status"})]})}),(0,gt.jsx)("tbody",{children:p?(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"6",className:"text-center text-danger fw-bold",children:p})}):Array.isArray(F)&&F.length>0?F.map(((e,t)=>{var n,r;return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:(null===(n=e.executive)||void 0===n?void 0:n.name)||"N/A"}),(0,gt.jsx)("td",{children:(null===(r=e.user)||void 0===r?void 0:r.user_id)||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_start_time||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_duration||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_end_time||"N/A"}),(0,gt.jsx)("td",{children:e.status||"N/A"})]},t)})):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"6",className:"text-center",children:null===F||void 0===F?"No call history available":"No call history"})})})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>B(1),disabled:1===b}),(0,gt.jsx)(JB.Prev,{onClick:()=>B(b-1),disabled:1===b}),[...Array(U)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:b===n,onClick:()=>B(n),style:{backgroundColor:b===n?"#5065F6":"transparent",color:b===n?"white":"#000",borderRadius:"8px",boxShadow:b===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>B(b+1),disabled:b===U}),(0,gt.jsx)(JB.Last,{onClick:()=>B(U),disabled:b===U})]}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Ratings"}),(0,gt.jsx)("div",{className:"row",children:0===P.length?(0,gt.jsx)("div",{className:"col-12",children:(0,gt.jsx)("p",{style:{textAlign:"center",fontSize:"18px",color:"#757B82"},children:"No ratings available."})}):P.map(((e,t)=>{return(0,gt.jsx)("div",{className:"col-md-3 col-12 mb-3",children:(0,gt.jsx)(vV,{className:"h-100",children:(0,gt.jsxs)(wV,{children:[(0,gt.jsx)("p",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:e.id}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Rating"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.stars}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Time"})}),(0,gt.jsxs)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:[" ",(n=e.created_at,new Date(n).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:"Asia/Kolkata"}))]})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Executive ID"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.executive}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Call Duration"})}),(0,gt.jsxs)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:[" ",L(e.duration)]})]})]}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Message"})}),(0,gt.jsx)("p",{style:{fontSize:"16px",marginBottom:"0"},children:e.comment})]})})},t);var n}))}),(0,gt.jsxs)(gF,{show:e,onHide:m,centered:!0,"aria-labelledby":"remove-employee-title","aria-describedby":"remove-employee-description",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{id:"remove-employee-title",children:"Remove User"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)("p",{id:"remove-employee-description",style:{margin:"20px 0"},children:"Are you sure you want to remove this user?"})}),(0,gt.jsx)(gF.Footer,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,gt.jsxs)("div",{style:{display:"flex",gap:"30px"},children:[(0,gt.jsx)("button",{id:"cancelb",onClick:m,children:"Cancel"}),(0,gt.jsx)("button",{id:"removeb",onClick:async()=>{try{const e=await _U(n);console.log(e.message),yB.success("User removed successfully!",{autoClose:3e3}),m(),setTimeout((()=>{g("/userslist")}),3e3)}catch(d){console.error("Error removing employee:",d.message),yB.error("Failed to remove the user.",{autoClose:3e3})}},children:"Remove"})]})})]}),(0,gt.jsxs)(gF,{show:S,onHide:()=>T(!1),children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Update Coin Count"})}),(0,gt.jsx)(gF.Body,{children:l?(0,gt.jsx)(Ka,{animation:"border"}):d?(0,gt.jsx)("p",{className:"text-danger",children:d}):(0,gt.jsx)(YF,{children:(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"Select Package"}),(0,gt.jsx)(YF.Control,{as:"select",value:O,onChange:e=>I(e.target.value),children:R.map((e=>(0,gt.jsxs)("option",{value:e.id,children:[e.plan_name," - ",e.coin_package]},e.id)))})]})})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(xY,{variant:"secondary",onClick:()=>T(!1),children:"Cancel"}),(0,gt.jsx)(xY,{variant:"primary",onClick:async()=>{if(n&&O)try{await HU(n,O),yB.success("Coins added successfully"),T(!1)}catch(e){h("Failed to add coins")}else h("Invalid user or package selection")},children:"Add"})]})]})]})]})};const B$=i.forwardRef(((e,t)=>{let{children:n,onClick:r}=e;return(0,gt.jsx)("span",{ref:t,onClick:e=>{e.preventDefault(),r(e)},style:{cursor:"pointer"},children:n})})),V$=function(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)([]),[s,c]=(0,i.useState)(!0),[l,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(null),[m,g]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e=await gU();g(e)}catch(l){console.error("Error fetching categories:",l),yB.error("Failed to load categories")}})()}),[]);const[v,y]=(0,i.useState)({plan_name:"",base_price:"",coin_package:"",discount_percentage:"",category_id:""}),b=(e,n)=>{if(r(e),e){const e=m.find((e=>e.name===n.category_name));y({...n,category_id:e?e.id:"",coin_package:n.coin_package||n.adjusted_coin_package})}else y({plan_name:"",base_price:"",adjusted_coin_package:"",discount_percentage:"",category_id:m.length>0?m[0].id:""});t(!0)},E=()=>{t(!1),r(null),y({plan_name:"",base_price:"",coin_package:"",discount_percentage:"",category_id:m.length>0?m[0].id:""})},_=e=>{y({...v,[e.target.name]:e.target.value})},w=async()=>{try{c(!0);const e=await kU();console.log(e),a(e)}catch(l){console.error("Error fetching packages:",l),u(l.message)}finally{c(!1)}};return(0,i.useEffect)((()=>{w()}),[]),s?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):l?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",l]}):(0,gt.jsxs)("div",{className:"container mt-5",children:[(0,gt.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,gt.jsx)("button",{style:{background:"#5065F6",color:"white",border:"none",borderRadius:"10px",padding:"10px"},onClick:()=>b(null,{label:"",cash:"",points:""}),children:(0,gt.jsx)("span",{style:{fontSize:"14px"},children:"Add New Package"})})}),(0,gt.jsx)(Es,{children:o.map((e=>(0,gt.jsx)(qa,{lg:3,md:6,sm:12,className:"mb-4",children:(0,gt.jsx)(ys,{className:"shadow-sm",children:(0,gt.jsxs)(ys.Body,{children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsx)(ys.Title,{style:{fontSize:"18px"},children:e.plan_name}),(0,gt.jsxs)(ka,{children:[(0,gt.jsx)(ka.Toggle,{as:B$,id:"dropdown-custom-components",children:(0,gt.jsx)("i",{className:"bi bi-three-dots-vertical"})}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{onClick:()=>b(e.id,e),children:"Edit"}),(0,gt.jsx)(ka.Item,{onClick:()=>{return t=e.id,f(t),void h(!0);var t},children:"Delete"})]})]})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsxs)(Es,{children:[(0,gt.jsx)(qa,{children:(0,gt.jsxs)("div",{className:"mb-2",children:[(0,gt.jsx)("p",{style:{fontSize:"12px",color:"#757B82",marginBottom:"4px"},children:"Label"}),(0,gt.jsxs)("p",{style:{fontSize:"14px",color:"#323343",marginBottom:"0px"},children:[e.discount_percentage,"% OFF Now"]})]})}),(0,gt.jsx)(qa,{children:(0,gt.jsxs)("div",{className:"mb-2",children:[(0,gt.jsx)("p",{style:{fontSize:"12px",color:"#757B82",marginBottom:"4px"},children:"Cash"}),(0,gt.jsx)("p",{style:{fontSize:"14px",color:"#323343",marginBottom:"0px"},children:e.base_price})]})})]}),(0,gt.jsxs)(Es,{children:[(0,gt.jsx)(qa,{children:(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{fontSize:"12px",color:"#757B82",marginBottom:"4px"},children:"Points"}),(0,gt.jsx)("p",{style:{fontSize:"14px",color:"#323343",marginBottom:"0px"},children:e.adjusted_coin_package})]})}),(0,gt.jsx)(qa,{children:(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{fontSize:"12px",color:"#757B82",marginBottom:"4px"},children:"Category"}),(0,gt.jsx)("p",{style:{fontSize:"14px",color:"#323343",marginBottom:"0px"},children:e.category_name})]})})]})]})]})})},e.id)))}),(0,gt.jsxs)(gF,{show:e,onHide:E,dialogClassName:"custom-modal",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:n?`Edit Package ${n}`:"Add New Package"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)(YF,{children:[(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"formPlanName",children:[(0,gt.jsx)(YF.Label,{style:{fontSize:"14px",color:"#323343"},children:"Plan Name"}),(0,gt.jsx)(YF.Control,{type:"text",name:"plan_name",value:v.plan_name,onChange:_,placeholder:"Enter plan name"})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"formCategory",children:[(0,gt.jsx)(YF.Label,{children:"Category"}),(0,gt.jsx)(YF.Control,{as:"select",name:"category_id",value:v.category_id,onChange:_,children:m.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"formLabel",children:[(0,gt.jsx)(YF.Label,{style:{fontSize:"14px",color:"#323343"},children:"Label (Optional)"}),(0,gt.jsxs)(YF.Control,{as:"select",name:"discount_percentage",value:v.discount_percentage||"",onChange:_,children:[(0,gt.jsx)("option",{value:"",children:"No Discount"}),(0,gt.jsx)("option",{value:"20",children:"20% OFF Now"}),(0,gt.jsx)("option",{value:"15",children:"15% OFF Now"}),(0,gt.jsx)("option",{value:"10",children:"10% OFF Now"}),(0,gt.jsx)("option",{value:"5",children:"5% OFF Now"})]})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"formCash",children:[(0,gt.jsx)(YF.Label,{style:{fontSize:"14px",color:"#323343"},children:"Cash"}),(0,gt.jsx)(YF.Control,{type:"text",name:"base_price",value:v.base_price,onChange:_,placeholder:"Enter cash value"})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"formPoints",children:[(0,gt.jsx)(YF.Label,{style:{fontSize:"14px",color:"#323343"},children:"Points"}),(0,gt.jsx)(YF.Control,{type:"text",name:"coin_package",value:v.coin_package,onChange:_,placeholder:"Enter points"})]})]})}),(0,gt.jsxs)(gF.Footer,{className:"justify-content-center",children:[(0,gt.jsx)(Aa,{variant:"light",className:"mx-2",style:{width:"150px"},onClick:E,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",className:"mx-2",style:{background:"#5065F6",borderRadius:"10px",width:"150px"},onClick:async()=>{try{if(console.log("formData before saving:",v),!v.plan_name||!v.coin_package||!v.base_price||!v.category_id)return console.error("All fields are required"),void yB.error("All fields are required!");const e={...v};e.discount_percentage||delete e.discount_percentage,n?(await(async(e,t)=>{try{const n=await dU.patch(`${hU}/api/recharge-plans/${e}/`,t);if(200===n.status)return n.data;throw new Error("Failed to update the package")}catch(l){throw console.error("Error updating package:",l.message),l}})(n,e),console.log("Package updated successfully"),yB.success("Package updated successfully!"),await w()):(await(async e=>{try{const t=await dU.post(`${hU}/api/recharge-plan-create/`,e);if(200===t.status||201===t.status)return t.data;throw new Error("Failed to add the package")}catch(l){throw console.error("Error adding package:",l.response?l.response.data:l.message),l}})(e),console.log("Package added successfully"),yB.success("Package added successfully!"),await w()),E()}catch(l){console.error("Error saving changes:",l.message),yB.error(`Error saving changes: ${l.message}`)}},children:n?"Save Changes":"Add Package"})]})]}),(0,gt.jsxs)(gF,{show:d,onHide:()=>h(!1),centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Confirm Deletion"})}),(0,gt.jsx)(gF.Body,{children:"Are you sure you want to delete this package?"}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:async()=>{try{await(async e=>{try{if(204===(await dU.delete(`${hU}/api/recharge-plans/${e}/`)).status)return"Package deleted successfully";throw new Error("Failed to delete the package")}catch(l){throw console.error("Error deleting package:",l.message),l}})(p),yB.success("Package deleted successfully!",{autoClose:2e3,onClose:async()=>{await w()}}),h(!1)}catch(l){yB.error(`Error deleting package: ${l.message}`,{autoClose:3e3})}},children:"Delete"})]})]}),(0,gt.jsx)(xB,{})]})};const W$=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)("today");(0,i.useEffect)((()=>{(async()=>{try{const e=await fU();console.log(e),t(e)}catch(e){a(e.message)}finally{r(!1)}})()}),[]);const l=(0,i.useMemo)((()=>{if(!e)return{};return{executives:(()=>{switch(s){case"today":return e.executives_today;case"week":return e.executives_week;case"month":return e.executives_month;default:return e.total_executives}})(),users:(()=>{switch(s){case"today":return e.users_today;case"week":return e.users_week;case"month":return e.users_month;default:return e.total_users}})(),revenue:(()=>{switch(s){case"today":return e.revenue_today;case"week":return e.revenue_week;case"month":return e.revenue_month;default:return e.revenue_all_time}})(),coinSales:(()=>{switch(s){case"today":return e.coin_sales_today;case"week":return e.coin_sales_week;case"month":return e.coin_sales_month;default:return e.coin_sales_all_time}})(),talkTime:"today"===s?e.today_talk_time:e.total_talk_time}}),[e,s]),u=(0,i.useMemo)((()=>{if(null===e||void 0===e||!e.missed_call_details)return[];if("all"===s)return e.missed_call_details;const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date;switch(s){case"today":r.setTime(n.getTime());break;case"week":r.setTime(n.getTime()-6048e5);break;case"month":r.setTime(n.getTime()-2592e6);break;default:return e.missed_call_details}return e.missed_call_details.filter((e=>new Date(e.missed_at)>=r)).sort(((e,t)=>new Date(t.missed_at)-new Date(e.missed_at)))}),[e,s]),d=(0,i.useCallback)((e=>new Date(e).toLocaleString()),[]),h=(0,i.useCallback)((()=>{if(!e)return;const t={"Time Period":s.charAt(0).toUpperCase()+s.slice(1),"Total Executives":l.executives,"Total Users":l.users,Revenue:l.revenue,"Coin Sales":l.coinSales,"Active Executives":e.active_executives,"Active Users":e.active_users,"On Call":e.on_call,"Talk Time":l.talkTime,"User Coin Spending":e.user_coin_spending,"Executive Earnings":e.executive_coin_earnings,"Missed Calls":u.length},n=sg.json_to_sheet([t]),r=sg.book_new();sg.book_append_sheet(r,n,"Report Summary");const i=Ym(r,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,cg.saveAs)(o,`Analytics_Report_${s}.xlsx`)}),[e,s,l,u.length]),p=(0,i.useCallback)((()=>{if(!u.length)return;const e=u.map(((e,t)=>({"Serial No":t+1,"Executive Name":e.executive_name,"Executive ID":e.executive_id,"User Name":e.user_name,"Missed At":d(e.missed_at)}))),t=sg.json_to_sheet(e),n=sg.book_new();sg.book_append_sheet(n,t,"Missed Calls");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,cg.saveAs)(i,`Missed_Calls_Report_${s}.xlsx`)}),[u,s,d]);return n?(0,gt.jsx)("div",{className:"text-center p-4",children:(0,gt.jsx)("div",{className:"spinner-border",role:"status",children:(0,gt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):o?(0,gt.jsxs)("div",{className:"alert alert-danger m-3",children:["Error: ",o]}):(0,gt.jsxs)("div",{className:"container-fluid report-container",children:[(0,gt.jsx)("div",{className:"row mb-4",children:(0,gt.jsx)("div",{className:"col-12",children:(0,gt.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3",children:[(0,gt.jsx)("h1",{className:"report-title mb-0",children:"Analytics Report"}),(0,gt.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2 align-items-stretch align-items-sm-center",children:[(0,gt.jsxs)("select",{className:"form-select",value:s,onChange:e=>c(e.target.value),style:{minWidth:"140px"},children:[(0,gt.jsx)("option",{value:"today",children:"Today"}),(0,gt.jsx)("option",{value:"week",children:"Last Week"}),(0,gt.jsx)("option",{value:"month",children:"Last Month"}),(0,gt.jsx)("option",{value:"all",children:"All Time"})]}),(0,gt.jsxs)("div",{className:"d-flex gap-2",children:[(0,gt.jsxs)("button",{className:"btn btn-primary d-flex align-items-center gap-1",onClick:h,disabled:!e,children:[(0,gt.jsx)("i",{className:"bi bi-file-earmark-excel"}),(0,gt.jsx)("span",{className:"d-none d-sm-inline",children:"Summary"})]}),(0,gt.jsxs)("button",{className:"btn btn-success d-flex align-items-center gap-1",onClick:p,disabled:0===u.length,children:[(0,gt.jsx)("i",{className:"bi bi-file-earmark-excel"}),(0,gt.jsx)("span",{className:"d-none d-sm-inline",children:"Missed Calls"})]})]})]})]})})}),(0,gt.jsxs)("div",{className:"row g-3 mb-4",children:[(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-total-executives",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-people me-1"}),"Total Executives"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:l.executives})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-total-users",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-person me-1"}),"Total Users"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:l.users})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-revenue",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-cash-coin me-1"}),"Revenue"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:l.revenue})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-sales",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-coin me-1"}),"Coin Sales"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:l.coinSales})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-active-executives",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-person-check me-1"}),"Active Executives"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:e.active_executives})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-active-users",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-person-check me-1"}),"Active Users"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:e.active_users})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-on-call",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-telephone me-1"}),"On Call"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:e.on_call})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-talk-time",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-clock-history me-1"}),"Talk Time"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:l.talkTime})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-spending",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-person me-1"}),"User Spending"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:e.user_coin_spending})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-earnings",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-graph-up me-1"}),"Executive Earnings"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:e.executive_coin_earnings})]})}),(0,gt.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,gt.jsxs)("div",{className:"report-metric-card report-missed",children:[(0,gt.jsxs)("h6",{children:[(0,gt.jsx)("i",{className:"bi bi-telephone-x me-1"}),"Missed Calls"]}),(0,gt.jsx)("div",{className:"report-metric-value",children:u.length})]})})]}),(0,gt.jsx)("div",{className:"row mt-4",children:(0,gt.jsxs)("div",{className:"col-12",children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsxs)("h3",{children:["Missed Call Details (",s.charAt(0).toUpperCase()+s.slice(1),")"]}),(0,gt.jsxs)("span",{className:"badge bg-primary fs-6",children:["Total: ",u.length]})]}),0===u.length&&(0,gt.jsx)("div",{className:"alert alert-info text-center",role:"alert",children:"No missed calls found for the selected time period."}),u.length>0&&(0,gt.jsx)("div",{className:"table-responsive",children:(0,gt.jsxs)("table",{className:"table table-bordered table-striped align-middle text-center",children:[(0,gt.jsx)("thead",{className:"table-light",children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"#"}),(0,gt.jsx)("th",{children:"Executive Name"}),(0,gt.jsx)("th",{children:"Executive Id"}),(0,gt.jsx)("th",{children:"User Name"}),(0,gt.jsx)("th",{children:"Missed At"})]})}),(0,gt.jsx)("tbody",{children:u.sort(((e,t)=>new Date(t.missed_at)-new Date(e.missed_at))).map(((e,t)=>(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{className:"fw-semibold",children:t+1}),(0,gt.jsx)("td",{children:e.executive_name}),(0,gt.jsx)("td",{children:e.executive_id}),(0,gt.jsx)("td",{children:e.user_name}),(0,gt.jsx)("td",{children:d(e.missed_at)})]},t)))})]})})]})})]})},H$=NY((0,gt.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),G$=NY((0,gt.jsx)("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote"),z$=NY((0,gt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20m6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9"}),"DoNotDisturb");const K$=function(){const[e,t]=(0,i.useState)([{username:"John Doe",role:"Manager",permissions:{AddEmployee:!0,RemoveEmployee:!1,ReportUser:!0,GeneratePackage:!1,GivePayment:!0,HearCalls:!1},id:"12345",password:"password123"},{username:"Jane Smith",role:"Admin",permissions:{AddEmployee:!0,RemoveEmployee:!0,ReportUser:!0,GeneratePackage:!0,GivePayment:!1,HearCalls:!0},id:"67890",password:"adminpass"},{username:"Jane Smith",role:"Admin",permissions:{AddEmployee:!0,RemoveEmployee:!0,ReportUser:!0,GeneratePackage:!0,GivePayment:!1,HearCalls:!0},id:"67890",password:"adminpass"},{username:"Jane Smith",role:"Admin",permissions:{AddEmployee:!0,RemoveEmployee:!0,ReportUser:!0,GeneratePackage:!0,GivePayment:!1,HearCalls:!0},id:"67890",password:"adminpass"}]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[l,u]=(0,i.useState)({name:"",role:"",permissions:{AddEmployee:!1,RemoveEmployee:!1,ReportUser:!1,GeneratePackage:!1,GivePayment:!1,HearCalls:!1},id:"",password:""}),d=async()=>{if(l.name&&l.role&&l.id&&l.password)if(o){const n=[...e];n[s]=l,t(n)}else try{const e=await(async e=>{try{const t=await dU.post(`${hU}/api/create-admin/`,e);if(200===t.status||201===t.status)return t.data;throw new Error("Failed to add the role")}catch(t){throw console.error("Error adding role:",t.response?t.response.data:t.message),t}})(l);console.log("Role added successfully:",e),t((e=>[...e,l])),r(!1),u({name:"",role:"",email:"",permissions:{AddEmployee:!1,RemoveEmployee:!1,ReportUser:!1,GeneratePackage:!1,GivePayment:!1,HearCalls:!1},id:"",password:""})}catch(n){console.error("Error adding role:",n),alert("Failed to add the role.")}else alert("Please fill out all fields before saving.")},h=()=>{r(!1),a(!1),c(null),u({name:"",role:"",email:"",permissions:{AddEmployee:!1,RemoveEmployee:!1,ReportUser:!1,GeneratePackage:!1,GivePayment:!1,HearCalls:!1},id:"",password:""})},p=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},f=e=>{const{name:t,checked:n}=e.target;u((e=>({...e,permissions:{...e.permissions,[t]:n}})))};return(0,gt.jsxs)(gt.Fragment,{children:[console.log(e),(0,gt.jsxs)("div",{className:"head-content",children:[(0,gt.jsx)("p",{className:"mb-4 d-flex justify-content-between align-items-center emlist",children:"Roles And Permission"}),(0,gt.jsxs)("button",{className:"d-flex align-items-center addnew",onClick:()=>{r(!0),o||u({name:"",role:"",email:"",permissions:{AddEmployee:!1,RemoveEmployee:!1,ReportUser:!1,GeneratePackage:!1,GivePayment:!1,HearCalls:!1},id:"",password:""})},children:[(0,gt.jsx)(ze,{className:"me-2"}),"Add New Role"]})]}),(0,gt.jsx)("div",{className:"content-holder",children:e.map(((t,n)=>(0,gt.jsxs)("div",{className:"card-container",children:[(0,gt.jsxs)("div",{className:"card-head",children:[(0,gt.jsx)("h5",{children:t.username||"N/A"}),(0,gt.jsx)("div",{className:"dropdown",children:(0,gt.jsxs)(ka,{className:"d-inline mx-2",children:[(0,gt.jsx)(ka.Toggle,{style:{boxShadow:"none"},variant:"default",id:"dropdown-autoclose-true",bsPrefix:"custom-dropdown-toggle",children:(0,gt.jsx)(H$,{className:"edit-remove-item"})}),(0,gt.jsxs)(ka.Menu,{className:"drop-down-items",children:[(0,gt.jsxs)(ka.Item,{href:"#",variant:"default",onClick:()=>(t=>{a(!0),c(t);const n=e[t];u({name:n.username,role:n.role,permissions:n.permissions||{AddEmployee:!1,RemoveEmployee:!1,ReportUser:!1,GeneratePackage:!1,GivePayment:!1,HearCalls:!1},id:n.id,password:n.password}),r(!0)})(n),children:[(0,gt.jsx)(G$,{}),"Edit"]}),(0,gt.jsxs)(ka.Item,{href:"#",variant:"default",onClick:()=>{return e=t.username,console.log(e),void alert(`Remove Button clicked: ${e}`);var e},children:[(0,gt.jsx)(z$,{}),"Remove"]})]})]})})]}),(0,gt.jsx)("span",{className:"mt-2",children:t.role||"N/A"}),(0,gt.jsxs)("div",{className:"id-password-holder mt-3",children:[(0,gt.jsxs)("span",{children:["ID ",(0,gt.jsx)("br",{}),(0,gt.jsxs)("strong",{children:[t.id||"N/A",(0,gt.jsx)("br",{})]})]}),(0,gt.jsxs)("span",{children:["Password ",(0,gt.jsx)("br",{}),(0,gt.jsxs)("strong",{children:[t.password||"N/A",(0,gt.jsx)("br",{})]})]})]})]},n)))}),(0,gt.jsxs)(gF,{show:n,onHide:h,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Add Roles"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)(YF,{onSubmit:e=>{e.preventDefault(),d()},children:[(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"Manufacturer-Name",children:[(0,gt.jsx)(YF.Label,{children:"Name"}),(0,gt.jsx)(YF.Control,{type:"text",name:"name",value:l.username,onChange:p,placeholder:"Manufacturer Name",autoFocus:!0})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"Manufacturer-Name",children:[(0,gt.jsx)(YF.Label,{children:"Email"}),(0,gt.jsx)(YF.Control,{type:"text",name:"email",value:l.email,onChange:p,placeholder:"Email",autoFocus:!0})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"Manager",children:[(0,gt.jsx)(YF.Label,{children:"Role"}),(0,gt.jsxs)(YF.Select,{"aria-label":"Select role",name:"role",value:l.role,onChange:p,children:[(0,gt.jsx)("option",{value:"",children:l.role||"Select Option"}),(0,gt.jsx)("option",{value:"hr_user",children:"Hr User"}),(0,gt.jsx)("option",{value:"hr_executive",children:"Hr Executive"}),(0,gt.jsx)("option",{value:"manage_user",children:"Manage User"}),(0,gt.jsx)("option",{value:"manager_executive",children:"Manage Executive"}),(0,gt.jsx)("option",{value:"superuser",children:"Super User"})]})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsx)(YF.Label,{children:"Select Functions"}),(0,gt.jsx)("div",{className:"checkbox-group",children:Object.keys(l.permissions||{}).map((e=>(0,gt.jsx)(YF.Check,{type:"checkbox",label:e,name:e,checked:l.permissions[e],onChange:f},e)))})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"ID",children:[(0,gt.jsx)(YF.Label,{children:"ID"}),(0,gt.jsx)(YF.Control,{type:"text",name:"id",value:l.id,onChange:p,placeholder:"54321",onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.preventDefault()}})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",controlId:"Password",children:[(0,gt.jsx)(YF.Label,{children:"Password"}),(0,gt.jsx)(YF.Control,{type:"text",name:"password",value:l.password,onChange:p,placeholder:""})]})]})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:h,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:d,children:"Save Changes"})]})]})]})};const Y$=function(){return(0,gt.jsxs)("div",{className:"not-found-container",children:[(0,gt.jsxs)("div",{className:"not-found-content",children:[(0,gt.jsx)("h1",{className:"error-code",children:"404"}),(0,gt.jsx)("h2",{children:"Oops! Page Not Found"}),(0,gt.jsx)("p",{children:"The page you're looking for doesn't exist or has been moved."}),(0,gt.jsx)(Va,{to:"/",className:"back-home-btn",children:"Back to Home"})]}),(0,gt.jsx)("div",{className:"not-found-animation",children:(0,gt.jsx)("div",{className:"floating-box"})})]})};function q$(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(""),[s,c]=(0,i.useState)(1),[l,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),p=""===o?e:e.filter((e=>{const t=e.stars;switch(o){case"5":return 5===t;case"4":return 4===t;case"3":return 3===t;case"2":return 2===t;case"1":return 1===t;default:return!0}})),f=e=>{if(!e||"string"!==typeof e||!e.includes(":"))return"-";try{const[t,n,r]=e.split(":"),[i]=r.split(".");return`${parseInt(t,10)}:${parseInt(n,10)}:${parseInt(i,10)}`}catch(t){return"-"}},m=e=>{const t=new Date(e);return t.toLocaleDateString("en-IN")+" "+t.toLocaleTimeString("en-IN",{hour12:!1})};(0,i.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/user-Total-ratings/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch Total rating data")}catch(e){throw console.error("Error fetching Total rating data:",e.message),e}})();console.log(e);const n=e.reduce(((e,t)=>t.ratings&&Array.isArray(t.ratings)?[...e,...t.ratings]:e),[]).sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));t(n)}catch(e){console.error("Error fetching ratings:",e),t([])}})()}),[]);const g=Math.ceil(p.length/15),v=15*(s-1),y=p.slice(v,v+15),b=e=>"\u2605".repeat(e)+"\u2606".repeat(5-e);return(0,gt.jsxs)("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",padding:"20px"},children:[(0,gt.jsx)("div",{style:{textAlign:"center",marginBottom:"30px"},children:(0,gt.jsx)("h2",{style:{color:"#333",fontWeight:"300",margin:"0"},children:"Reviews"})}),(0,gt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"0 10px"},children:[(0,gt.jsxs)("span",{style:{color:"#666",fontSize:"14px"},children:["Total: ",p.length," reviews"]}),(0,gt.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[n&&(0,gt.jsxs)("select",{value:o,onChange:e=>a(e.target.value),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",fontSize:"14px"},children:[(0,gt.jsx)("option",{value:"",children:"All Stars"}),(0,gt.jsx)("option",{value:"5",children:"5 Stars"}),(0,gt.jsx)("option",{value:"4",children:"4 Stars"}),(0,gt.jsx)("option",{value:"3",children:"3 Stars"}),(0,gt.jsx)("option",{value:"2",children:"2 Stars"}),(0,gt.jsx)("option",{value:"1",children:"1 Star"})]}),(0,gt.jsx)("button",{onClick:()=>r(!n),style:{backgroundColor:n?"#f0f0f0":"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:"pointer",fontSize:"14px"},children:"Filter"}),(0,gt.jsx)("button",{onClick:()=>{try{const e=p.map(((e,t)=>({"SI NO":t+1,ID:e.id||"-",Rating:e.stars||0,User:e.user_id||"-",Executive:e.executive_id||"-",Message:e.comment||"-",Duration:f(e.duration),Date:m(e.created_at)}))),t=sg.book_new(),n=sg.json_to_sheet(e),r=[{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:30},{wch:12},{wch:20}];n["!cols"]=r,sg.book_append_sheet(t,n,"Reviews");const i=(new Date).toISOString().split("T")[0];$m(t,`reviews_export_${i}.xlsx`),console.log("Excel file exported successfully")}catch(e){console.error("Error exporting to Excel:",e),alert("Error exporting data. Please try again.")}},disabled:0===p.length,style:{backgroundColor:0===p.length?"#f0f0f0":"#28a745",color:0===p.length?"#999":"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:0===p.length?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500"},title:0===p.length?"No data to export":"Export to Excel",children:"\ud83d\udcca Export Excel"})]})]}),(0,gt.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"6px",overflow:"hidden"},children:(0,gt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"SI NO"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"ID"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"Rating"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"User"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"Executive"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"Message"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"Duration"}),(0,gt.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"500",color:"#555",borderBottom:"1px solid #e0e0e0"},children:"Date"})]})}),(0,gt.jsx)("tbody",{children:0===y.length?(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"8",style:{padding:"40px",textAlign:"center",color:"#999",fontSize:"16px"},children:"No reviews found"})}):y.map(((e,t)=>(0,gt.jsxs)("tr",{style:{borderBottom:"1px solid #f0f0f0",":hover":{backgroundColor:"#f9f9f9"}},children:[(0,gt.jsx)("td",{style:{padding:"12px",color:"#333"},children:v+t+1}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#333"},children:e.id}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#ff6b35",fontSize:"16px"},children:b(e.stars)}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#333"},children:e.user_id}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#333"},children:e.executive_id}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#333"},children:e.comment?e.comment.length>40?(0,gt.jsxs)("span",{children:[e.comment.substring(0,40),"...",(0,gt.jsx)("button",{onClick:()=>(e=>{h(e||"No message"),u(!0)})(e.comment),style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",marginLeft:"5px",textDecoration:"underline"},children:"view"})]}):e.comment:"-"}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#666",fontFamily:"monospace"},children:f(e.duration)}),(0,gt.jsx)("td",{style:{padding:"12px",color:"#666",fontSize:"13px"},children:m(e.created_at)})]},t)))})]})}),g>1&&(0,gt.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px",gap:"10px"},children:[(0,gt.jsx)("button",{onClick:()=>c(1),disabled:1===s,style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:1===s?"not-allowed":"pointer",opacity:1===s?.5:1},children:"First"}),(0,gt.jsx)("button",{onClick:()=>c(s-1),disabled:1===s,style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:1===s?"not-allowed":"pointer",opacity:1===s?.5:1},children:"Previous"}),(0,gt.jsxs)("span",{style:{padding:"6px 12px",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},children:[s," of ",g]}),(0,gt.jsx)("button",{onClick:()=>c(s+1),disabled:s===g,style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:s===g?"not-allowed":"pointer",opacity:s===g?.5:1},children:"Next"}),(0,gt.jsx)("button",{onClick:()=>c(g),disabled:s===g,style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"6px 12px",cursor:s===g?"not-allowed":"pointer",opacity:s===g?.5:1},children:"Last"})]}),l&&(0,gt.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,gt.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"20px",maxWidth:"500px",width:"90%",maxHeight:"70vh",overflow:"auto"},children:[(0,gt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,gt.jsx)("h3",{style:{margin:"0",color:"#333",fontSize:"18px"},children:"Message"}),(0,gt.jsx)("button",{onClick:()=>u(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#999"},children:"\xd7"})]}),(0,gt.jsx)("p",{style:{color:"#333",lineHeight:"1.5",margin:"0"},children:d})]})})]})}const $$=function(){var e;const t=te(),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(null),[l,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[p,f]=(0,i.useState)(null),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)([]),[b,E]=(0,i.useState)(1),[_,w]=(0,i.useState)(!1),[S,T]=(0,i.useState)(!1),C=12*(b-1),x=C+12,R=v.slice(C,x),[A,O]=(0,i.useState)("all"),[I,N]=(0,i.useState)("All"),[k,P]=(0,i.useState)(!1),[D,L]=(0,i.useState)(null),[M,j]=(0,i.useState)([]);(0,i.useEffect)((()=>{R.length>0&&(async()=>{try{const e=await Promise.all(R.map((async e=>(await KU(e.executive_id)).hasRequest?e.executive_id:null)));j(e.filter(Boolean))}catch(p){console.error("Error fetching profile requests:",p.message)}})()}),[R]);const U=Math.ceil(v.length/12);if((0,i.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("ManagerId"),t=await(async e=>{try{const t="GET",n=`${hU}/api/executives/under-manager/${e}/`,r=await pU(t,n);if(200===r.status&&r.data)return r.data;throw new Error("Failed to fetch under-manager executives data")}catch(p){throw console.error("Error fetching under-manager executives data:",p.message),console.log(p.data),p}})(e);console.log(t);const n=await BU();c(n),u(t.executives),y(t.executives),h(!1)}catch(e){f(e.message),h(!1)}})()}),[]),d)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(p)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",p]});const F=e=>{let t;switch(e){case"banned":t=l.filter((e=>e.is_banned));break;case"unbanned":t=l.filter((e=>!e.is_banned));break;case"Active":case"Online":t=l.filter((e=>e.online));break;case"Inactive":case"Offline":t=l.filter((e=>!e.online));break;default:t=l}y(t),O(e),V()},B=e=>{let t;switch(e){case"Online":t=l.filter((e=>e.online));break;case"Offline":t=l.filter((e=>!e.online));break;default:t=l}y(t),N(e)},V=()=>{r(!1),T(!1),a(null)},W=()=>{const e=l.filter((e=>{const t=e.name&&e.name.toLowerCase().includes(m.toLowerCase()),n=e.mobile_number&&(e=>e.replace(/\D/g,""))(e.mobile_number).includes(m),r=e.email_id&&e.email_id.toLowerCase().includes(m.toLowerCase()),i=e.profession&&e.profession.toLowerCase().includes(m.toLowerCase()),o=e.gender&&e.gender.toLowerCase().includes(m.toLowerCase());return t||n||r||i||o}));y(e),E(1)},H=e=>{t(`/manageempdetails/${e}`)};return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsxs)("p",{className:"mb-4 d-flex justify-content-between align-items-center emlist",children:["Executive List",(0,gt.jsx)("button",{className:"d-flex align-items-center addnew",onClick:()=>{t("/requests")},children:"Requests"}),(null===(e=localStorage.getItem("Bestie_role"))||void 0===e?void 0:e.includes("hr_executive"))&&(0,gt.jsxs)("button",{className:"d-flex align-items-center addnew",onClick:()=>w(!0),children:[(0,gt.jsx)(ze,{className:"me-2"})," New Employee"]})]}),(0,gt.jsxs)("div",{className:"d-flex align-items-start mb-3 gap-3 justify-content-between",children:[(0,gt.jsxs)("div",{className:"d-flex gap-3",children:[(0,gt.jsxs)(YF.Group,{controlId:"cashSearch",className:"w-100",children:[(0,gt.jsx)(YF.Label,{children:"Search By"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by anything",value:m,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&W()}})]}),(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{onClick:W,variant:"success",className:"w-100",children:(0,gt.jsx)(Ye,{})})]})]}),(0,gt.jsxs)(YF.Group,{className:"ms-auto",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)("button",{className:"w-100 buttond",onClick:()=>{const e=v.map((e=>({Name:e.name,Phone:e.mobile_number,Email:e.email_id,Profession:e.profession,Gender:e.gender,Status:"active"===e.status?"Active":"Inactive",Suspended:e.is_suspended?"Yes":"No",Banned:e.is_banned?"Yes":"No"}))),t=sg.book_new(),n=sg.json_to_sheet(e);sg.book_append_sheet(t,n,"Executives"),$m(t,"executives.xlsx")},children:(0,gt.jsx)(Me,{})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsxs)("button",{onClick:()=>T(!0),className:"w-100 buttonsort",children:[(0,gt.jsx)("i",{class:"bi bi-sort-up"})," "]})]})]}),(0,gt.jsx)(Es,{children:R.map((e=>(0,gt.jsx)(qa,{xs:12,sm:6,md:6,lg:3,className:"mt-4",children:(0,gt.jsxs)(ys,{onClick:()=>H(e.id),className:"employee-card h-100 border-0 shadow-sm "+(e.is_banned||e.is_suspended?"inactive-card":""),style:{opacity:e.is_banned||e.is_suspended?.6:1,border:e.online?"2px solid green":"2px solid gray"},children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 position-relative",children:[(0,gt.jsxs)("div",{className:"badge-container",children:[M.includes(e.executive_id)&&(0,gt.jsx)("span",{className:"badge bg-primary me-2",children:"Request"}),e.is_banned&&(0,gt.jsx)("span",{className:"badge bg-danger me-2",children:"Banned"}),e.is_suspended&&(0,gt.jsx)("span",{className:"badge bg-warning",children:"Suspended"}),(0,gt.jsx)("span",{className:`badge ${e.online?"bg-success":"bg-secondary"} ms-2`,children:e.online?"Online":"Offline"})]}),(0,gt.jsx)(Ue,{className:"text-muted",style:{cursor:"pointer"},onClick:t=>{t.stopPropagation(),a(e),r(!0)}})]}),(0,gt.jsxs)("div",{className:"card-header d-flex justify-content-start align-items-center position-relative",onClick:t=>{t.stopPropagation(),(async e=>{try{const t=await KU(e.executive_id);t&&t.profile_photo_url?L({...e,profile_photo_url:t.profile_photo_url,error:null}):L({...e,profile_photo_url:null,error:"No pending profile picture found for the given executive."}),P(!0)}catch(p){console.error("Error handling avatar click:",p),L({...e,profile_photo_url:null,error:"Failed to fetch update request. Please try again."}),P(!0)}})(e)},children:[(0,gt.jsx)("img",{src:e.img||"https://i.postimg.cc/Y9LvbvTZ/Avatar.png",alt:e.name,className:"employee-img-rectangle"}),e.has_update_request&&(0,gt.jsx)("span",{className:"badge bg-info position-absolute top-0 start-0",children:"Request"}),(0,gt.jsxs)("div",{className:"d-flex flex-column align-items-start ml-2 ms-2",children:[(0,gt.jsx)("p",{className:"employee-name mb-0",children:e.name}),(0,gt.jsxs)("p",{className:"text-muted small",children:[e.coins_per_second," Coin/Sec"]})]})]}),(0,gt.jsx)(ys.Body,{style:{padding:"13px",maxHeight:"200px",overflowY:"auto"},className:"d-flex flex-column custom-scroll",children:(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsxs)("div",{className:"employee-details",children:[(0,gt.jsx)("p",{className:"mb-1 employee-phone",children:(0,gt.jsx)("strong",{children:"Phone"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.mobile_number||"N/A"}),(0,gt.jsx)("p",{className:"mb-1 employee-email",children:(0,gt.jsx)("strong",{children:"Email"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.email_id||"N/A"})]}),(0,gt.jsxs)("div",{className:"employee-info",children:[(0,gt.jsx)("p",{className:"mb-1 employee-profession",children:(0,gt.jsx)("strong",{children:"Profession"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.profession||"N/A"}),(0,gt.jsx)("p",{className:"mb-1 employee-gender",children:(0,gt.jsx)("strong",{children:"Gender"})}),(0,gt.jsx)("p",{style:{whiteSpace:"nowrap"},className:"text-muted mb-3",children:e.gender||"N/A"})]})]})})]})},e.id)))}),(0,gt.jsxs)(gF,{show:k,onHide:()=>{P(!1),L(null)},children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Image Update Request"})}),(0,gt.jsx)(gF.Body,{className:"text-center",children:null!==D&&void 0!==D&&D.profile_photo_url?(0,gt.jsx)("img",{src:D.profile_photo_url,alt:"Requested Avatar",className:"img-fluid"}):null!==D&&void 0!==D&&D.error?(0,gt.jsx)("p",{className:"text-danger",children:"There is no requested image"}):(0,gt.jsx)("p",{children:"No requested image available."})}),(0,gt.jsx)(gF.Footer,{children:(null===D||void 0===D?void 0:D.profile_photo_url)&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Aa,{variant:"success",onClick:()=>(async e=>{try{const t=new FormData;t.append("status","approved"),201===(await YU(e,t)).status?(yB.success("Profile request approved successfully!"),P(!1)):yB.error("Failed to approve the profile request.")}catch(p){var t,n;console.error("Error approving profile request:",p.message),yB.error((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong while approving the request.")}})(D.executive_id),children:"Approve"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:()=>(async e=>{try{const t=new FormData;t.append("status","rejected"),201===(await YU(e,t)).status?(yB.success("Profile request declined successfully!"),P(!1)):yB.error("Failed to decline the profile request.")}catch(p){var t,n;console.error("Error declining profile request:",p.message),yB.error((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong while declining the request.")}})(D.executive_id),children:"Decline"})]})})]}),(0,gt.jsxs)(gF,{show:_,onHide:()=>w(!1),size:"lg",centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Add New Executive"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)(hW,{setShowExecutiveModal:w})})]}),o&&(0,gt.jsx)(gF,{show:n,onHide:V,centered:!0,dialogClassName:"custom-modal-width",style:{width:"25%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsxs)(Aa,{onClick:()=>H(o.id),variant:"link",style:{color:"black"},className:"text-start",children:[(0,gt.jsx)(Ze,{className:"me-2"})," Edit Profile"]}),o.is_suspended?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await NU(e);y((t=>t.map((t=>t.id===e?{...t,is_suspended:!1}:t)))),V(),console.log("Executive unSuspended successfully:",t),yB.success("Executive unSuspended successfully!")}catch(t){console.error("Error unSuspended executive:",t.message),yB.error("Error unSuspending executive: "+t.message)}})(o.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Unsuspend Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await RU(e);y((t=>t.map((t=>t.id===e?{...t,is_suspended:!0}:t)))),V(),console.log("Executive suspended successfully:",t),yB.success("Executive Suspended successfully!")}catch(t){console.error("Error Suspended executive:",t.message),yB.error("Error Suspending executive: "+t.message)}})(o.id),children:[(0,gt.jsx)(He,{className:"me-2"})," Suspend Employee"]}),o.online?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await OU(e);y((t=>{const n=t.map((t=>t.id===e?{...t,online:!1}:t));return B(I),n})),V(),console.log("Executive offline successfully:",t),yB.success("Executive set offline successfully!")}catch(t){console.error("Error setting executive offline:",t.message),yB.error("Error setting executive offline: "+t.message)}})(o.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Set offline Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await AU(e);y((t=>{const n=t.map((t=>t.id===e?{...t,online:!0}:t));return B(I),n})),V(),console.log("Executive online successfully:",t),yB.success("Executive set online successfully!")}catch(t){console.error("Error setting executive online:",t.message),yB.error("Error setting executive online: "+t.message)}})(o.id),children:[(0,gt.jsx)(ke,{className:"me-2"})," Set online Employee"]}),o.is_banned?(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await IU(e);y((t=>t.map((t=>t.executive_id===e?{...t,is_banned:!1}:t)))),V(),console.log("Executive unbanned successfully:",t),yB.success("Executive unbanned successfully!")}catch(t){console.error("Error unbanning executive:",t.message),yB.error("Error unbanning executive: "+t.message)}})(o.id),children:[(0,gt.jsx)(Qe,{className:"me-2"})," Unban Employee"]}):(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{const t=await xU(e);y((t=>t.map((t=>t.executive_id===e?{...t,is_banned:!0}:t)))),V(),console.log("Executive banned successfully:",t),yB.success("Executive banned successfully!")}catch(t){yB.error("Error banning executive: "+t.message)}})(o.executive_id),children:[(0,gt.jsx)(ke,{className:"me-2"})," Ban Employee"]})]})})}),(0,gt.jsx)(gF,{show:S,onHide:()=>T(!1),size:"sm",children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,gt.jsx)(Aa,{variant:"light",onClick:()=>F("banned"),className:"mb-2 w-100",children:"Banned Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>F("unbanned"),className:"mb-2 w-100",children:"Unbanned Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>F("Active"),className:"mb-2 w-100",children:"Online Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>F("Inactive"),className:"mb-2 w-100",children:"Offline Executives"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>F("all"),className:"w-100",children:"All Executives"})]})})}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>E(1),disabled:1===b}),(0,gt.jsx)(JB.Prev,{onClick:()=>E(b-1),disabled:1===b}),[...Array(U)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:b===n,onClick:()=>(e=>{E(e)})(n),style:{backgroundColor:b===n?"#5065F6":"transparent",color:b===n?"white":"#000",borderRadius:"8px",boxShadow:b===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>E(b+1),disabled:b===U}),(0,gt.jsx)(JB.Last,{onClick:()=>E(U),disabled:b===U})]}),(0,gt.jsx)(xB,{})]})};const X$=function(){var e;const{id:t}=ne(),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(null),s=()=>r(!1),[c,l]=(0,i.useState)({coins_per_second:""}),[u,d]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),f=te(),[m,g]=(0,i.useState)([]),[v,y]=(0,i.useState)(!1),[b,E]=(0,i.useState)(null),[_,w]=(0,i.useState)([]),[S,T]=(0,i.useState)(1),[C,x]=(0,i.useState)([]),R=async()=>{d(!0),p(null);try{const e=await vU(t);l({name:(null===e||void 0===e?void 0:e.name)||"",age:(null===e||void 0===e?void 0:e.age)||"",account_number:(null===e||void 0===e?void 0:e.account_number)||"",ifsc_code:(null===e||void 0===e?void 0:e.ifsc_code)||"",education_qualification:(null===e||void 0===e?void 0:e.education_qualification)||"",skills:(null===e||void 0===e?void 0:e.skills)||"",coins_per_second:(null===e||void 0===e?void 0:e.coins_per_second)||"",mobile_number:(null===e||void 0===e?void 0:e.mobile_number)||"",place:(null===e||void 0===e?void 0:e.place)||"",profession:(null===e||void 0===e?void 0:e.profession)||"",id:(null===e||void 0===e?void 0:e.id)||"",executive_id:(null===e||void 0===e?void 0:e.executive_id)||"",email_id:(null===e||void 0===e?void 0:e.email_id)||"",gender:(null===e||void 0===e?void 0:e.gender)||"",status:(null===e||void 0===e?void 0:e.status)||"N/A",password:(null===e||void 0===e?void 0:e.password)||""})}catch(h){p("Failed to fetch user data")}try{const e=await SU(t);g(e||[]),console.log("callhistories",e),e&&0!==e.length||p("No Call History Found")}catch(h){var e;404===(null===(e=h.response)||void 0===e?void 0:e.status)?p("Call History Not Found"):p("Failed to fetch call history")}try{const e=await(async e=>{try{const t=await dU.get(`${hU}/api/executive-statistics/${e}/`);if(200===t.status&&t.data)return console.log("singleexe",t),t.data;throw new Error("Failed to fetch executive data")}catch(h){throw console.error("Error fetching executive data:",h.message),console.log(h.data),h}})(t);E(e||{})}catch(h){p("Failed to fetch statistics")}try{const e=await(async e=>{try{const t=await dU.get(`${hU}/api/executives/${e}/ratings/`);if(200===t.status&&t.data)return console.log("executivecall",t.data),t.data;throw new Error("Failed to fetch executive rating data")}catch(h){var t;throw console.error("Error fetching executive rating data:",h.message),console.log((null===(t=h.response)||void 0===t?void 0:t.data)||h.message),h}})(t);w(e||[])}catch(h){p("Failed to fetch ratings")}try{const e=await(async e=>{try{const t=await dU.get(`${hU}/api/executives/stats/${e}/`);if(200===t.status&&t.data)return console.log(t.data),t.data;throw new Error("Failed to fetch executive data")}catch(h){throw console.error("Error fetching executive data:",h.message),console.log(h.data),h}})(t);x(e||{})}catch(h){p("Failed to fetch talktime")}d(!1)};(0,i.useEffect)((()=>{R()}),[t,S]),(0,i.useEffect)((()=>{(async()=>{try{const e=await zU(t);console.log("blocked users",e),a((null===e||void 0===e?void 0:e[0])||null)}catch(h){console.error("Error fetching blocked user details:",h),a(null)}finally{d(!1)}})()}),[t]);const[A,O]=(0,i.useState)([]),I=Math.ceil(A.length/10),N=A.slice(10*(S-1),10*S);console.log("calls",N);const k=e=>{e>=1&&e<=I&&T(e)},[P,D]=(0,i.useState)(""),[L,M]=(0,i.useState)("");(0,i.useEffect)((()=>{O(m)}),[m]);const j=e=>{if(!e||"string"!==typeof e||!e.includes(":"))return"N/A";try{const[t,n,r]=e.split(":"),[i]=r.split(".");return`${parseInt(t,10)}h ${parseInt(n,10)}m ${parseInt(i,10)}s`}catch(h){return"N/A"}},U=e=>{const{name:t,value:n}=e.target;if("coins_per_second"===t){const e=n.replace(/[^0-9.]/g,"");(""===e||/^\d*\.?\d*$/.test(e))&&l({...c,[t]:e})}else l({...c,[t]:n});y(!0)};return u?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(xB,{}),(0,gt.jsxs)("div",{className:"container  my-3",children:[(0,gt.jsxs)(xY,{onClick:()=>f("/manage-executive"),variant:"text",color:"black",children:[(0,gt.jsx)(kY,{})," Back"]}),(0,gt.jsxs)("div",{className:"row my-3",children:[(0,gt.jsx)("div",{className:"col-md-6 col-12",children:(0,gt.jsx)("h4",{children:"Employee Details"})}),(0,gt.jsxs)("div",{className:"col-md-6 col-12 d-flex justify-content-end align-items-center removeBtn",children:[(0,gt.jsx)("button",{onClick:()=>{const e=[{Title:"Total Earnings",Value:b.total_coins_balance},{Title:"off days",Value:b.total_days_offline+" Days"},{Title:"Total Rating",Value:b.total_rating},{Title:"Full Name",Value:c.name},{Title:"Age",Value:c.age},{Title:"Education",Value:c.education_qualification},{Title:"Skills",Value:c.skills},{Title:"Coin Per Second",Value:c.coins_per_second},{Title:"Phone Number",Value:c.mobile_number},{Title:"Place",Value:c.place},{Title:"Profession",Value:c.profession},{Title:"ID",Value:c.id},{Title:"Email Address",Value:c.email_id},{Title:"Gender",Value:c.gender},{Title:"Status",Value:c.status}],t=sg.json_to_sheet(e),n=sg.book_new();sg.book_append_sheet(n,t,"Metrics Data");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,cg.saveAs)(i,"executive_detail.xlsx")},style:{width:"10%"},className:" buttond me-2",children:(0,gt.jsx)(Me,{})}),(0,gt.jsxs)(xY,{variant:"contained",color:"error",onClick:()=>r(!0),children:[(0,gt.jsx)(PY,{})," Remove Employee"]})]})]}),(0,gt.jsxs)("div",{className:"row row2",children:[(0,gt.jsx)("p",{className:"heading1",children:"Personal Information"}),(0,gt.jsx)("div",{className:"col-md-3 col-12",children:(0,gt.jsx)(vV,{children:(0,gt.jsxs)(wV,{className:"cardBody",children:[(0,gt.jsx)("div",{className:"mx-3",children:(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Total Earnings"}),(0,gt.jsx)(_V,{children:(0,gt.jsxs)("h4",{children:[(0,gt.jsx)(DY,{}),b&&null!==b.total_coins_balance?b.total_coins_balance:"N/A"]})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12",children:(0,gt.jsx)(vV,{children:(0,gt.jsxs)(wV,{className:"cardBody",children:[(0,gt.jsx)("div",{className:"mx-3",children:(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://st.depositphotos.com/1181187/1450/i/450/depositphotos_14503037-stock-photo-no-sign.jpg"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"off days"}),(0,gt.jsx)(_V,{children:(0,gt.jsx)("h4",{children:b&&null!==b.total_days_offline?b.total_days_offline+" Days":"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12",children:(0,gt.jsx)(vV,{className:"card",children:(0,gt.jsxs)(wV,{className:"cardBody",children:[(0,gt.jsx)("div",{className:"mx-3",children:(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://cdn1.iconfinder.com/data/icons/jetflat-multimedia-vol-4/90/0042_083_favorite_star_rate-1024.png"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Total Rating"}),(0,gt.jsx)(_V,{children:(0,gt.jsx)("h4",{children:b&&null!==b.total_rating?b.total_rating:"N/A"})})]})]})})}),(0,gt.jsx)("div",{className:"col-md-3 col-12",children:(0,gt.jsx)(vV,{children:(0,gt.jsxs)(wV,{className:"cardBody",children:[(0,gt.jsx)("div",{className:"mx-3",children:(0,gt.jsx)("img",{alt:"",className:"cardImg",src:"https://th.bing.com/th/id/OIP.NIx02QAF7_ncWacSsOO9qwHaHa?w=164&h=180&c=7&r=0&o=5&dpr=1.4&pid=1.7"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)(EV,{className:"cardTitle",children:"Total Talktime"}),(0,gt.jsx)(_V,{children:(0,gt.jsx)("h4",{children:(null!==(e=null===C||void 0===C?void 0:C.total_talktime_minutes)&&void 0!==e?e:0)+" Min"})})]})]})})})]}),(0,gt.jsxs)("div",{className:"row row3",children:[(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Full Name"}),(0,gt.jsx)(zV,{id:"name",type:"text",disabled:!0,name:"name",value:null===c.name||void 0===c.name?"":c.name,onChange:U})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Age"}),(0,gt.jsx)(zV,{id:"age",type:"text",disabled:!0,name:"age",value:null===c.age||void 0===c.age?"":c.age,onChange:U})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Education"}),(0,gt.jsx)(zV,{id:"education_qualification",type:"text",disabled:!0,name:"education_qualification",value:null===c.education_qualification||void 0===c.education_qualification?"":c.education_qualification,onChange:U})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Skills"}),(0,gt.jsx)(zV,{id:"skills",type:"text",disabled:!0,onChange:U,name:"skills",value:null===c.skills||void 0===c.skills?"":c.skills})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Account Number"}),(0,gt.jsx)(zV,{id:"account_number",type:"text",disabled:!0,onChange:U,name:"account_number",value:null===c.account_number||void 0===c.account_number?"":c.account_number})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Set Coin"}),(0,gt.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,gt.jsx)(zV,{id:"coins_per_second",type:"text",disabled:!0,name:"coins_per_second",onChange:U,value:null===c.coins_per_second||void 0===c.coins_per_second?"":c.coins_per_second,"aria-label":"Set Coin per Seconds",style:{paddingRight:"75px"}}),(0,gt.jsx)("span",{style:{position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",fontSize:"1rem",color:"#666",pointerEvents:"none",userSelect:"none"},children:"Coin/Sec"})]})]})]}),(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Phone Number"}),(0,gt.jsx)(zV,{id:"mobile_number",type:"text",disabled:!0,name:"mobile_number",onChange:U,value:null===c.mobile_number||void 0===c.mobile_number?"":c.mobile_number})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Place"}),(0,gt.jsx)(zV,{id:"place",type:"text",disabled:!0,name:"place",value:null===c.place||void 0===c.place?"":c.place,onChange:U})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Profession"}),(0,gt.jsx)(zV,{id:"profession",type:"text",disabled:!0,onChange:U,name:"profession",value:null===c.profession||void 0===c.profession?"":c.profession})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"ID"}),(0,gt.jsx)(zV,{type:"text",disabled:!0,value:c.name===t||void 0===c.id?"":c.id})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"IFSC Code"}),(0,gt.jsx)(zV,{id:"ifsc_code",type:"text",disabled:!0,onChange:U,name:"ifsc_code",value:null===c.ifsc_code||void 0===c.ifsc_code?"":c.ifsc_code})]})]}),(0,gt.jsxs)("div",{className:"col-md-4 col-12",children:[(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Email Address"}),(0,gt.jsx)(zV,{id:"email_id",type:"text",disabled:!0,name:"email_id",value:null===c.email_id||void 0===c.email_id?"":c.email_id,onChange:U})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Gender"}),(0,gt.jsxs)("select",{id:"gender",name:"gender",disabled:!0,className:"form-select",onChange:U,value:c.gender||"",children:[(0,gt.jsx)("option",{value:"",disabled:!0,children:"Select Gender"}),(0,gt.jsx)("option",{value:"male",children:"Male"}),(0,gt.jsx)("option",{value:"female",children:"Female"}),(0,gt.jsx)("option",{value:"others",children:"Others"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Status"}),(0,gt.jsxs)("select",{id:"status",name:"status",disabled:!0,className:"form-select",onChange:U,value:c.status||"N/A",children:[(0,gt.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),(0,gt.jsx)("option",{value:"active",children:"Active"}),(0,gt.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,gt.jsxs)("div",{className:"my-3",children:[(0,gt.jsx)("label",{className:"formHeading",children:"Password"}),(0,gt.jsx)(zV,{id:"password",name:"password",type:"text",disabled:!0,onChange:U,value:null===c.password||void 0===c.password?"":c.password})]})]})]}),v&&(0,gt.jsx)("div",{className:"d-flex justify-content-end my-3",children:(0,gt.jsx)(xY,{variant:"contained",sx:{backgroundColor:"#1976d2",color:"white",padding:"8px 24px",fontSize:"14px",borderRadius:"8px",textTransform:"none",boxShadow:"none","&:hover":{backgroundColor:"#1565c0",boxShadow:"none"}},onClick:async()=>{const e=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return""!==r&&null!==r&&void 0!==r&&(e[n]=r),e}),{});e.is_banned=void 0!==c.is_banned&&c.is_banned,e.is_suspended=void 0!==c.is_suspended&&c.is_suspended;try{await CU(t,e);yB.success("Changes saved successfully!"),y(!1)}catch(h){console.error("Error saving data:",h.message),yB.error("Failed to save changes.")}},children:"Save Changes"})}),(0,gt.jsx)("div",{className:"col-md-4 col-12 my-4"}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Call History"}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsx)(YF.Control,{type:"date",value:P,onChange:e=>D(e.target.value),placeholder:"Start Date",className:"me-2"}),(0,gt.jsx)(YF.Control,{type:"date",value:L,onChange:e=>M(e.target.value),placeholder:"End Date",className:"me-2"}),(0,gt.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!P&&!L)return void O(m);const e=P?new Date(P):null,t=L?new Date(L):null;t&&t.setHours(23,59,59,999);const n=m.filter((n=>{var r;const i=null===(r=n.call_history)||void 0===r?void 0:r.call_start_time;if(!i)return console.warn("Missing call_start_time for item:",n),!1;const o=m$(i,"dd/MM/yyyy hh:mm a",new Date);return v$(o)?(!e||o>=e)&&(!t||o<=t):(console.warn("Invalid date format for call_start_time:",i),!1)}));console.log("Filtered Data:",n),O(n),T(1)},children:"Filter"})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:"Executive"}),(0,gt.jsx)("td",{children:"User ID"}),(0,gt.jsx)("td",{children:"Start Time"}),(0,gt.jsx)("td",{children:"Duration"}),(0,gt.jsx)("td",{children:"End Time"}),(0,gt.jsx)("td",{children:"Status"})]})}),(0,gt.jsx)("tbody",{children:h?(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center ",children:h})}):N&&N.length>0?N.map(((e,t)=>{var n,r,i,o,a,s,c;return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:(null===(n=e.call_history)||void 0===n||null===(r=n.executive)||void 0===r?void 0:r.name)||"N/A"}),(0,gt.jsx)("td",{children:(null===(i=e.call_history)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.user_id)||"N/A"}),(0,gt.jsx)("td",{children:(null===(a=e.call_history)||void 0===a?void 0:a.call_start_time)||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_duration||"N/A"}),(0,gt.jsx)("td",{children:(null===(s=e.call_history)||void 0===s?void 0:s.call_end_time)||"N/A"}),(0,gt.jsx)("td",{children:(null===(c=e.call_history)||void 0===c?void 0:c.status)||"N/A"})]},t)})):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"5",className:"text-center",children:"No Call History Found"})})})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>k(1),disabled:1===S}),(0,gt.jsx)(JB.Prev,{onClick:()=>k(S-1),disabled:1===S}),[...Array(I)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:S===n,onClick:()=>k(n),style:{backgroundColor:S===n?"#5065F6":"transparent",color:S===n?"white":"#000",borderRadius:"8px",boxShadow:S===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>k(S+1),disabled:S===I}),(0,gt.jsx)(JB.Last,{onClick:()=>k(I),disabled:S===I})]}),(0,gt.jsx)("div",{className:"container mt-2 d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:(0,gt.jsx)("div",{className:"card border-0 shadow",style:{width:"360px"},children:o?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"card-header bg-light text-center",children:(0,gt.jsx)("h5",{className:"mb-0",children:"Blocked User Details"})}),(0,gt.jsx)("div",{className:"card-body",children:(0,gt.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"User ID"}),(0,gt.jsx)("span",{children:o.user_id})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Executive ID"}),(0,gt.jsx)("span",{children:o.executive_id})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Blocked at"}),(0,gt.jsx)("span",{children:o.blocked_at})]}),(0,gt.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,gt.jsx)("span",{className:"fw-semibold",children:"Reason"}),(0,gt.jsx)("span",{children:o.reason})]})]})})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"card-header bg-light text-center",children:(0,gt.jsx)("h5",{className:"mb-0",children:"No Blocked Users"})}),(0,gt.jsx)("div",{className:"card-body text-center",children:(0,gt.jsx)("p",{className:"text-muted mb-0",children:"There is no blocked user with the provided ID."})})]})})}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Ratings"}),(0,gt.jsx)("div",{className:"row",children:0===_.length?(0,gt.jsx)("div",{className:"col-12",children:(0,gt.jsx)("p",{style:{textAlign:"center",fontSize:"18px",color:"#757B82"},children:"No ratings available."})}):_.map(((e,t)=>{return(0,gt.jsx)("div",{className:"col-md-3 col-12 mb-3",children:(0,gt.jsx)(vV,{className:"h-100",children:(0,gt.jsxs)(wV,{children:[(0,gt.jsx)("p",{style:{fontSize:"18px",marginBottom:"0.5rem"},children:e.id}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Rating"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.stars}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Time"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:(n=e.created_at,new Date(n).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:"Asia/Kolkata"}))})]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"User ID"})}),(0,gt.jsx)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:e.user}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Call Duration"})}),(0,gt.jsxs)("p",{style:{fontSize:"14px",marginBottom:"0.5rem"},children:[" ",j(e.duration)]})]})]}),(0,gt.jsx)("p",{style:{marginBottom:"0.2rem"},children:(0,gt.jsx)("span",{style:{fontSize:"12px",color:"#757B82"},children:"Message"})}),(0,gt.jsx)("p",{style:{fontSize:"16px",marginBottom:"0"},children:e.comment})]})})},t);var n}))}),(0,gt.jsxs)(gF,{show:n,onHide:s,centered:!0,"aria-labelledby":"remove-employee-title","aria-describedby":"remove-employee-description",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{id:"remove-employee-title",children:"Remove Employee"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)("p",{id:"remove-employee-description",style:{margin:"20px 0"},children:"Are you sure you want to remove this employee?"})}),(0,gt.jsx)(gF.Footer,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,gt.jsxs)("div",{style:{display:"flex",gap:"30px"},children:[(0,gt.jsx)("button",{id:"cancelb",onClick:s,children:"Cancel"}),(0,gt.jsx)("button",{id:"removeb",onClick:async()=>{try{const e=await wU(t);console.log(e.message),yB.success("Executive removed successfully!",{autoClose:3e3}),s(),setTimeout((()=>{f("/manage-executive")}),2e3)}catch(h){console.error("Error removing employee:",h.message),yB.error("Failed to remove the Executive.",{autoClose:3e3})}},children:"Remove"})]})})]})]})]})};function Q$(e){let{show:t,handleClose:n,handleAdd:r}=e;const[o,a]=(0,i.useState)({email:"",name:"",password:"",mobile_number:"",is_staff:!0,is_active:!0,is_superuser:!1,role:"manager_executive"}),[s,c]=(0,i.useState)({}),l=e=>{const{name:t,value:n}=e.target;a({...o,[t]:n}),s[t]&&c({...s,[t]:""})},u=()=>{a({email:"",name:"",password:"",mobile_number:"",is_staff:!0,is_active:!0,is_superuser:!1,role:"manager_executive"}),c({}),n()};return(0,gt.jsxs)(gF,{show:t,onHide:u,centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Add Manager"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)(YF,{children:[(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsxs)(YF.Label,{children:["Name ",(0,gt.jsx)("span",{className:"text-danger",children:"*"})]}),(0,gt.jsx)(YF.Control,{type:"text",name:"name",value:o.name,onChange:l,isInvalid:!!s.name,placeholder:"Enter full name"}),(0,gt.jsx)(YF.Control.Feedback,{type:"invalid",children:s.name})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsxs)(YF.Label,{children:["Email ",(0,gt.jsx)("span",{className:"text-danger",children:"*"})]}),(0,gt.jsx)(YF.Control,{type:"email",name:"email",value:o.email,onChange:l,isInvalid:!!s.email,placeholder:"Enter email address"}),(0,gt.jsx)(YF.Control.Feedback,{type:"invalid",children:s.email})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsxs)(YF.Label,{children:["Mobile Number ",(0,gt.jsx)("span",{className:"text-danger",children:"*"})]}),(0,gt.jsx)(YF.Control,{type:"tel",name:"mobile_number",value:o.mobile_number,onChange:l,isInvalid:!!s.mobile_number,placeholder:"Enter 10-digit mobile number"}),(0,gt.jsx)(YF.Control.Feedback,{type:"invalid",children:s.mobile_number})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsxs)(YF.Label,{children:["Role ",(0,gt.jsx)("span",{className:"text-danger",children:"*"})]}),(0,gt.jsx)(YF.Select,{name:"role",value:o.role,onChange:l,children:[{value:"hr_executive",label:"HR"},{value:"manager_executive",label:"Manager"}].map((e=>(0,gt.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3",children:[(0,gt.jsxs)(YF.Label,{children:["Password ",(0,gt.jsx)("span",{className:"text-danger",children:"*"})]}),(0,gt.jsx)(YF.Control,{type:"password",name:"password",value:o.password,onChange:l,isInvalid:!!s.password,placeholder:"Enter password (min 6 characters)"}),(0,gt.jsx)(YF.Control.Feedback,{type:"invalid",children:s.password})]})]})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:u,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:()=>{(()=>{const e={};return o.name.trim()||(e.name="Name is required"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(e.email="Email is invalid"):e.email="Email is required",o.password.trim()?o.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",o.mobile_number.trim()?/^\d{10}$/.test(o.mobile_number.replace(/\D/g,""))||(e.mobile_number="Mobile number must be 10 digits"):e.mobile_number="Mobile number is required",c(e),0===Object.keys(e).length})()&&(r(o),a({email:"",name:"",password:"",mobile_number:"",is_staff:!0,is_active:!0,is_superuser:!1,role:"manager_executive"}),c({}))},children:"Add Manager"})]})]})}const J$=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null);(0,i.useEffect)((()=>{v()}),[]);const v=async()=>{r(!0);try{const e=await(async()=>{try{const e="GET",t=`${hU}/api/admins/`,n=await pU(e,t);if(200===n.status&&n.data)return n.data;throw new Error("Failed to fetch manager list")}catch(o){throw console.error("Error fetching full manager data:",o.message),console.log(o.data),o}})();console.log("manager",e),t(e)}catch(e){a(e.message)}finally{r(!1)}},y=e.filter((e=>e.name.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase()))),b=6*d,E=b-6,_=y.slice(E,b);return n?(0,gt.jsx)("p",{className:"text-center mt-4",children:"Loading..."}):o?(0,gt.jsxs)("p",{className:"text-center mt-4 text-danger",children:["Error: ",o]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3",children:[(0,gt.jsx)("h4",{children:"Managers"}),(0,gt.jsxs)("div",{className:"d-flex",children:[(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by name or email",value:l,onChange:e=>{u(e.target.value),h(1)},className:"me-2"}),(0,gt.jsxs)(Aa,{variant:"primary",onClick:()=>c(!0),children:[(0,gt.jsx)(ze,{})," Add Manager"]})]})]}),(0,gt.jsx)(Es,{className:"justify-content-start mt-4 px-3",children:_.map((e=>(0,gt.jsx)(qa,{xs:12,sm:6,md:4,lg:4,className:"mb-4",children:(0,gt.jsxs)(ys,{className:"manager-card shadow-sm border-0 text-center h-100 position-relative",children:[(0,gt.jsx)(Aa,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 m-2 rounded-circle p-2",onClick:()=>(e=>{g(e),f(!0)})(e),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,gt.jsx)(Xe,{size:14})}),(0,gt.jsxs)(ys.Body,{children:[(0,gt.jsx)("div",{className:"manager-icon",children:(0,gt.jsx)(tt,{size:50,className:"text-primary"})}),(0,gt.jsx)("h6",{className:"mt-3",children:e.name}),(0,gt.jsx)("p",{className:"text-muted",children:e.role}),(0,gt.jsx)("hr",{}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-start gap-2 text-muted small mt-2",children:[(0,gt.jsx)(Fe,{className:"text-primary",size:16}),(0,gt.jsx)("span",{className:"fw-medium",children:e.email})]}),e.mobile_number&&(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-start gap-2 text-muted small mt-2",children:[(0,gt.jsx)(Ge,{className:"text-primary",size:16}),(0,gt.jsx)("span",{className:"fw-medium",children:e.mobile_number})]})]})]})},e.id)))}),(0,gt.jsx)(Q$,{show:s,handleClose:()=>c(!1),handleAdd:async e=>{try{console.log("Sending data:",e);const t=await(async e=>{try{const t=await dU.post(`${hU}/api/create-admin/`,e);if(200===t.status||201===t.status)return t.data;throw new Error("Failed to add the manager")}catch(o){throw console.error("Error adding image:",o.response?o.response.data:o.message),o}})(e);console.log("API Response:",t),v(),c(!1),yB.success("Manager added successfully")}catch(t){console.error("Error adding manager:",t.response?t.response.data:t),yB.error("Failed to add manager")}}}),(0,gt.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,gt.jsx)(JB,{children:[...Array(Math.ceil(y.length/6)).keys()].map((e=>(0,gt.jsx)(JB.Item,{active:e+1===d,onClick:()=>h(e+1),children:e+1},e+1)))})}),(0,gt.jsxs)(gF,{show:p,onHide:()=>f(!1),centered:!0,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Confirm Delete"})}),(0,gt.jsxs)(gF.Body,{children:["Are you sure you want to delete"," ",(0,gt.jsx)("strong",{children:null===m||void 0===m?void 0:m.name}),"?"]}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:async()=>{if(m)try{await(async e=>{try{const t="DELETE",n=`${hU}/api/admins/${e}/`;if(204===(await pU(t,n)).status)return{success:!0,message:"Manager deleted successfully"};throw new Error("Failed to delete manager")}catch(o){throw console.error("Error deleting manager:",o.message),console.log(o.data),o}})(m.id),t(e.filter((e=>e.id!==m.id))),yB.success("Manager deleted successfully")}catch(n){yB.error("Failed to delete manager")}finally{f(!1),g(null)}},children:"Delete"})]})]})]})};const Z$=function(){const[e,t]=(0,i.useState)(!1),{id:n,user_id:r}=ne(),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(null),[l,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),m=te(),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(1),[E,_]=(0,i.useState)(0),[w,S]=(0,i.useState)(!1),[T,C]=(0,i.useState)(0),[x,R]=(0,i.useState)([]),[A,O]=(0,i.useState)(null),[I,N]=(0,i.useState)(0),[k,P]=(0,i.useState)([]);(0,i.useEffect)((()=>{u(!0),VU(r).then((e=>{C(e.total_coins_deducted),u(!1)})).catch((e=>{h("Failed to fetch data"),console.error(e)}))}),[]),(0,i.useEffect)((()=>{u(!0),GU(n).then((e=>{N(e.coin_balance),console.log("coinspend",e),u(!1)})).catch((e=>{h("Failed to fetch data"),console.error(e)}))}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=await kU();R(e),e.length>0&&O(e[0].id)}catch(d){h("Failed to fetch data")}finally{u(!1)}})()}),[kU]),(0,i.useEffect)((()=>{(async()=>{try{const[e,t,r]=await Promise.all([yU(n),bU(n),WU(n)]);a(e),c(t),P(r)}catch(d){console.error("Error fetching user data:",d)}try{const e=await TU(n);v(e),f(null)}catch(d){f("Error fetching call history. Please try again later.")}finally{u(!1)}})()}),[n,y]);const[D,L]=(0,i.useState)([]),M=Math.ceil(D.length/10),j=D.slice(10*(y-1),10*y),U=e=>{e>=1&&e<=M&&b(e)},[F,B]=(0,i.useState)(""),[V,W]=(0,i.useState)("");return(0,i.useEffect)((()=>{L(g)}),[g]),l?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):d?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",d]}):(0,gt.jsxs)(gt.Fragment,{children:[" ",(0,gt.jsx)(xB,{}),(0,gt.jsxs)("div",{className:"container  my-3",children:[(0,gt.jsxs)(xY,{variant:"text",color:"black",onClick:()=>m("/manage-user"),children:[(0,gt.jsx)(kY,{})," Back"]}),(0,gt.jsx)("div",{className:"col-md-4 col-12 my-4"}),(0,gt.jsx)("p",{className:" d-flex justify-content-between align-items-center ",style:{fontSize:"28px"},children:"Call History"}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,gt.jsx)(YF.Control,{type:"date",value:F,onChange:e=>B(e.target.value),placeholder:"Start Date",className:"me-2"}),(0,gt.jsx)(YF.Control,{type:"date",value:V,onChange:e=>W(e.target.value),placeholder:"End Date",className:"me-2"}),(0,gt.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=g.filter((e=>{const t=new Date(e.start_time),n=F?new Date(F):null,r=V?new Date(V):null;return(!n||t>=n)&&(!r||t<=r)}));L(e),b(1)},children:"Filter"})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:"Executive"}),(0,gt.jsx)("td",{children:"User ID"}),(0,gt.jsx)("td",{children:"Start Time"}),(0,gt.jsx)("td",{children:"Duration"}),(0,gt.jsx)("td",{children:"End Time"}),(0,gt.jsx)("td",{children:"Status"})]})}),(0,gt.jsx)("tbody",{children:p?(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"6",className:"text-center text-danger fw-bold",children:p})}):Array.isArray(j)&&j.length>0?j.map(((e,t)=>{var n,r;return(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:(null===(n=e.executive)||void 0===n?void 0:n.name)||"N/A"}),(0,gt.jsx)("td",{children:(null===(r=e.user)||void 0===r?void 0:r.user_id)||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_start_time||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_duration||"N/A"}),(0,gt.jsx)("td",{children:e.formatted_end_time||"N/A"}),(0,gt.jsx)("td",{children:e.status||"N/A"})]},t)})):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"6",className:"text-center",children:null===j||void 0===j?"No call history available":"No call history"})})})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>U(1),disabled:1===y}),(0,gt.jsx)(JB.Prev,{onClick:()=>U(y-1),disabled:1===y}),[...Array(M)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:y===n,onClick:()=>U(n),style:{backgroundColor:y===n?"#5065F6":"transparent",color:y===n?"white":"#000",borderRadius:"8px",boxShadow:y===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>U(y+1),disabled:y===M}),(0,gt.jsx)(JB.Last,{onClick:()=>U(M),disabled:y===M})]})]})]})},eX=()=>{var e,t,n;const[r,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(""),[c,l]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(!0),[f,m]=(0,i.useState)(null),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(1),[E,_]=(0,i.useState)(""),[w,S]=(0,i.useState)(!1),[T,C]=(0,i.useState)(null),[x,R]=(0,i.useState)(""),A=()=>S(!1),O=te(),I=e=>{let{status:t}=e,n={padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",color:"#fff"};return"banned"===t?(n={...n,backgroundColor:"#e74c3c"},(0,gt.jsx)("span",{style:n,children:"Banned"})):"suspended"===t?(n={...n,backgroundColor:"#f39c12"},(0,gt.jsx)("span",{style:n,children:"Suspended"})):"both"===t?(n={...n,backgroundColor:"#8e44ad"},(0,gt.jsx)("span",{style:n,children:"Banned & Suspended"})):null};if((0,i.useEffect)((()=>{(async()=>{p(!0);try{const e=await mU(),t=e.user_data||[];console.log(t),d(e),l(t),v(t)}catch(e){m(e.message)}finally{p(!1)}})()}),[]),h)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(f)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",f]});const N=e=>{s(e),o(!1);let t=[];"Dormant"===e?t=c.filter((e=>e.Is_Dormant)):"Active"===e?t=c.filter((e=>e.is_online)):"Offline"===e?t=c.filter((e=>!e.is_online)):"All"===e&&(t=c),v(t),b(1)},k=e=>{R(e),o(!1);let t=[...g];switch(e){case"highestCoinAvailable":t.sort(((e,t)=>(parseFloat(t.Coin_Balance)||0)-(parseFloat(e.Coin_Balance)||0)));break;case"highestCoinSpend":t.sort(((e,t)=>(parseFloat(t.Total_Coin_Spend)||0)-(parseFloat(e.Total_Coin_Spend)||0)));break;case"recentlyJoined":t.sort(((e,t)=>{const n=new Date(e.Created_At),r=new Date(t.Created_At);return isNaN(n.getTime())||isNaN(r.getTime())?(console.error("Invalid date encountered:",{a:e.Date,dateA:n,b:t.Date,dateB:r}),0):r-n}));break;case"oldestJoined":t.sort(((e,t)=>{const n=new Date(e.Created_At),r=new Date(t.Created_At);return isNaN(n.getTime())?(console.error("Invalid date in record A:",e),1):isNaN(r.getTime())?(console.error("Invalid date in record B:",t),-1):n-r}))}console.log("Sorted dates:",t.slice(0,5).map((e=>({id:e.User_ID,date:e.Date,parsed:new Date(e.Date).toISOString()})))),v(t),b(1)},P=()=>{const e=c.filter((e=>{e.User_ID&&e.User_ID.toLowerCase().includes(E.toLowerCase())}));v(e),b(1)},D=10*y,L=D-10,M=g.slice(L,D),j=Math.ceil(g.length/10);return(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)(xB,{}),(0,gt.jsx)("h2",{className:"mb-4",children:"Users List"}),(0,gt.jsxs)("div",{className:"d-flex align-items-start mb-3 gap-3 justify-content-between",children:[(0,gt.jsxs)("div",{className:"d-flex gap-3",children:[(0,gt.jsxs)(YF.Group,{controlId:"cashSearch",className:"w-100",children:[(0,gt.jsx)(YF.Label,{children:"Search By"}),(0,gt.jsx)(YF.Control,{type:"text",placeholder:"Search by anything",value:E,onChange:e=>_(e.target.value),onKeyDown:e=>{"Enter"===e.key&&P()}})]}),(0,gt.jsxs)(YF.Group,{children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{onClick:P,variant:"success",className:"w-100",children:(0,gt.jsx)(Ye,{})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{className:"w-100 buttonsort",onClick:()=>o(!0),children:(0,gt.jsx)("i",{className:"bi bi-sort-up"})})]}),(0,gt.jsxs)(YF.Group,{className:"mb-0 me-2",children:[(0,gt.jsx)(YF.Label,{children:"\xa0"}),(0,gt.jsx)(Aa,{className:"w-100",variant:"primary",onClick:()=>{try{const e=g.map((e=>({"User ID":e.User_ID,Date:e.Date,"Total Coin Available":e.Coin_Balance,"Total Coin Spend":e.Total_Coin_Spend,"Total Talktime":e.Total_Talktime,Status:e.Ban&&e.Suspend?"Banned & Suspended":e.Ban?"Banned":e.Suspend?"Suspended":"Active"}))),t=sg.book_new(),n=sg.json_to_sheet(e),r=[{wch:15},{wch:12},{wch:20},{wch:18},{wch:15},{wch:15},{wch:18},{wch:10},{wch:12}];n["!cols"]=r,sg.book_append_sheet(t,n,"Users List");const i=(new Date).toISOString().split("T")[0];$m(t,`users_list_${i}.xlsx`),yB.success("Excel file exported successfully!")}catch(f){console.error("Error exporting to Excel:",f),yB.error("Error exporting to Excel. Please try again.")}},title:"Export to Excel",children:(0,gt.jsx)(Ve,{})})]})]}),(0,gt.jsx)(ys,{className:"p-2 mt-2 text-center employee-summary-card",children:(0,gt.jsxs)(Es,{children:[(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-people-fill text-primary me-2"}),(0,gt.jsx)("span",{className:"text-primary",children:null!==(e=null===u||void 0===u?void 0:u.total_users)&&void 0!==e?e:0})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Inactive"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-x-circle-fill text-danger me-2"}),(0,gt.jsx)("span",{className:"text-danger",children:null!==(t=null===u||void 0===u?void 0:u.inactive_users)&&void 0!==t?t:0})]})]}),(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Active"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),(0,gt.jsx)("span",{className:"text-success",children:null!==(n=null===u||void 0===u?void 0:u.active_users)&&void 0!==n?n:0})]})]})]})})]}),(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Date"}),(0,gt.jsx)("th",{children:"Total Coin Available"}),(0,gt.jsx)("th",{children:"Total Coin Spend"}),(0,gt.jsx)("th",{children:"Total Talktime"}),(0,gt.jsx)("th",{})]})}),(0,gt.jsx)("tbody",{style:{cursor:"pointer"},children:M.map((e=>{const t=e.Ban,n=e.Suspend;let r="";return t&&n?r="both":t?r="banned":n&&(r="suspended"),(0,gt.jsx)(i.Fragment,{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsxs)("td",{children:[(0,gt.jsx)("span",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.User_ID}),(0,gt.jsxs)("span",{className:"ms-2",children:[" ",r&&(0,gt.jsx)(I,{status:r})]})]}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Created_At}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Coin_Balance}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Total_Coin_Spend}),(0,gt.jsx)("td",{onClick:()=>O(`/userdetails/${e.id}/${e.User_ID}`),children:e.Total_Talktime}),(0,gt.jsx)("td",{children:(0,gt.jsx)(Ue,{onClick:t=>{t.stopPropagation(),(e=>{C(e),S(!0)})(e)},style:{cursor:"pointer"}})})]})},e.User_ID)}))})]}),(0,gt.jsxs)(JB,{className:"justify-content-center mt-4",children:[(0,gt.jsx)(JB.First,{onClick:()=>b(1),disabled:1===y}),(0,gt.jsx)(JB.Prev,{onClick:()=>b(y-1),disabled:1===y}),[...Array(j)].map(((e,t)=>{const n=t+1;return(0,gt.jsx)(JB.Item,{active:y===n,onClick:()=>(e=>{b(e)})(n),style:{backgroundColor:y===n?"#5065F6":"transparent",color:y===n?"white":"#000",borderRadius:"8px",boxShadow:y===n?"0px -1px 1px 0px #00000026 inset, 0px 2px 6px 0px #5065F642":"none",transition:"background-color 0.3s ease-in-out, color 0.3s ease-in-out"},children:n},n)})),(0,gt.jsx)(JB.Next,{onClick:()=>b(y+1),disabled:y===j}),(0,gt.jsx)(JB.Last,{onClick:()=>b(j),disabled:y===j})]}),(0,gt.jsxs)(gF,{show:r,onHide:()=>o(!1),size:"sm",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Filter & Sort Options"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsx)("h6",{className:"mb-2",children:"Filter Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("Active"),className:"mb-2 w-100",children:"Online Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("Offline"),className:"mb-2 w-100",children:"Offline Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>N("All"),className:"mb-3 w-100",children:"All Users"}),(0,gt.jsx)("hr",{}),(0,gt.jsx)("h6",{className:"mb-2",children:"Sort Users"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("highestCoinAvailable"),className:"mb-2 w-100",children:"Highest Coin Available"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("highestCoinSpend"),className:"mb-2 w-100",children:"Highest Coin Spend"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("recentlyJoined"),className:"mb-2 w-100",children:"Recently Joined"}),(0,gt.jsx)(Aa,{variant:"light",onClick:()=>k("oldestJoined"),className:"w-100",children:"Oldest Members"})]})})]}),T&&(0,gt.jsx)(gF,{show:w,onHide:A,dialogClassName:"custom-modal-width",style:{width:"25%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"d-flex flex-column",children:[(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async(e,t)=>{try{t?await FU(e):await jU(e),v((n=>n.map((n=>n.id===e?{...n,Suspend:!t}:n)))),A(),yB.success(`User ${t?"unsuspended":"suspended"} successfully!`)}catch(n){console.error(`Error ${t?"unsuspending":"suspending"} user:`,n.message),yB.error(`Error ${t?"unsuspending":"suspending"} user: ${n.message}`)}})(T.id,T.Suspend),children:[(0,gt.jsx)(He,{className:"me-2"})," ",T.Suspend?"Unsuspend User":"Suspend User"]}),(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async(e,t)=>{try{t?await UU(e):await MU(e),v((n=>n.map((n=>n.id===e?{...n,Ban:!t}:n)))),A(),yB.success(`User ${t?"unbanned":"banned"} successfully!`)}catch(n){console.error(`Error ${t?"unbanning":"banning"} user:`,n.message),yB.error(`Error ${t?"unbanning":"banning"} user: ${n.message}`)}})(T.id,T.Ban),children:[(0,gt.jsx)(ke,{className:"me-2"})," ",T.Ban?"Unban User":"Ban User"]})]})})})]})};const tX=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(null),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1),[b,E]=(0,i.useState)(null);(0,i.useEffect)((()=>{_()}),[]);const _=async()=>{try{r(!0),a(null);const e=await gU();t(e)}catch(e){console.error("Failed to fetch categories:",e),a("Failed to load categories. Please try again."),yB.error("Failed to load categories")}finally{r(!1)}},w=async()=>{if(d.trim())try{await(async e=>{try{const t=await dU.post(`${hU}/api/recharge-plan-categories/`,e);if(200===t.status||201===t.status)return t.data;throw new Error("Failed to add the category")}catch(o){throw console.error("Error adding category:",o.response?o.response.data:o.message),o}})({name:d.trim()}),_(),h(""),c(!1),yB.success("Category added successfully!")}catch(o){console.error("Failed to add category:",o),yB.error("Failed to add category")}else yB.error("Please enter a category name")},S=async()=>{if(m.trim())try{await(async(e,t)=>{try{const n=await dU.patch(`${hU}/api/recharge-plan-categories/${e}/`,t);if(200===n.status&&n.data)return console.log("Category Update Response:",n.data),n.data;throw new Error("Failed to update category data")}catch(o){throw console.error("Error updating category data:",o.message),o}})(p.id,{name:m.trim()}),_(),u(!1),f(null),g(""),yB.success("Category updated successfully!")}catch(o){console.error("Failed to update category:",o),yB.error("Failed to update category")}else yB.error("Please enter a category name")},T=()=>{h(""),c(!1)},C=()=>{f(null),g(""),u(!1)},x=()=>{E(null),y(!1)};return n?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):o?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",o]}):(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,gt.jsx)("h2",{children:"Categories"}),(0,gt.jsxs)(Aa,{variant:"primary",onClick:()=>c(!0),children:[(0,gt.jsx)(ze,{className:"me-2"}),"Add Category"]})]}),(0,gt.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,gt.jsx)(ys,{className:"p-2 text-center employee-summary-card",children:(0,gt.jsx)(Es,{children:(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total Categories"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-tags-fill text-primary me-2"}),(0,gt.jsx)("span",{className:"text-primary",children:e.length})]})]})})})}),0===e.length?(0,gt.jsxs)(ys,{className:"text-center p-5",children:[(0,gt.jsx)("i",{className:"bi bi-tags text-muted",style:{fontSize:"4rem"}}),(0,gt.jsx)("h4",{className:"text-muted mt-3",children:"No Categories"}),(0,gt.jsx)("p",{className:"text-muted",children:"There are currently no categories in the system."})]}):(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"ID"}),(0,gt.jsx)("th",{children:"Name"}),(0,gt.jsx)("th",{children:"Created At"}),(0,gt.jsx)("th",{children:"Status"}),(0,gt.jsx)("th",{})]})}),(0,gt.jsx)("tbody",{style:{cursor:"pointer"},children:e.map((e=>(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:e.id}),(0,gt.jsx)("td",{children:e.name}),(0,gt.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,gt.jsx)("td",{children:(0,gt.jsx)("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",color:"#fff",backgroundColor:"#28a745"},children:"Active"})}),(0,gt.jsx)("td",{children:(0,gt.jsxs)(ka,{children:[(0,gt.jsx)(ka.Toggle,{variant:"link",id:`dropdown-${e.id}`,className:"p-0 border-0 bg-transparent",children:(0,gt.jsx)(Ue,{})}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsxs)(ka.Item,{onClick:()=>(e=>{f(e),g(e.name),u(!0)})(e),children:[(0,gt.jsx)(je,{className:"me-2"}),"Edit"]}),(0,gt.jsxs)(ka.Item,{onClick:()=>(e=>{E(e),y(!0)})(e),className:"text-danger",children:[(0,gt.jsx)(Xe,{className:"me-2"}),"Delete"]})]})]})})]},e.id)))})]}),(0,gt.jsxs)(gF,{show:s,onHide:T,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Add Category"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)(YF,{children:(0,gt.jsxs)(YF.Group,{controlId:"categoryName",children:[(0,gt.jsx)(YF.Label,{children:"Category Name"}),(0,gt.jsx)(YF.Control,{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"Enter category name",onKeyPress:e=>"Enter"===e.key&&w()})]})})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:T,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:w,children:"Add Category"})]})]}),(0,gt.jsxs)(gF,{show:l,onHide:C,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsx)(gF.Title,{children:"Edit Category"})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)(YF,{children:(0,gt.jsxs)(YF.Group,{controlId:"editCategoryName",children:[(0,gt.jsx)(YF.Label,{children:"Category Name"}),(0,gt.jsx)(YF.Control,{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Enter category name",onKeyPress:e=>"Enter"===e.key&&S()})]})})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:C,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:S,children:"Update Category"})]})]}),(0,gt.jsxs)(gF,{show:v,onHide:x,children:[(0,gt.jsx)(gF.Header,{closeButton:!0,children:(0,gt.jsxs)(gF.Title,{className:"text-danger",children:[(0,gt.jsx)(Xe,{className:"me-2"}),"Delete Category"]})}),(0,gt.jsx)(gF.Body,{children:(0,gt.jsxs)("div",{className:"text-center",children:[(0,gt.jsx)("div",{className:"mb-3",children:(0,gt.jsx)("i",{className:"bi bi-exclamation-triangle-fill text-warning",style:{fontSize:"3rem"}})}),(0,gt.jsx)("h5",{children:"Are you sure you want to delete this category?"}),(0,gt.jsxs)("p",{className:"text-muted",children:["Category: ",(0,gt.jsxs)("strong",{children:['"',null===b||void 0===b?void 0:b.name,'"']})]}),(0,gt.jsx)("p",{className:"text-danger small",children:"This action cannot be undone and may affect related data."})]})}),(0,gt.jsxs)(gF.Footer,{children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:x,children:"Cancel"}),(0,gt.jsxs)(Aa,{variant:"danger",onClick:async()=>{try{await(async e=>{try{if(204===(await dU.delete(`${hU}/api/recharge-plan-categories/${e}/`)).status)return{message:"category deleted successfully"};throw new Error("Failed to delete the category")}catch(o){throw console.error("Error deleting user:",o.message),o}})(b.id),_(),y(!1),E(null),yB.success("Category deleted successfully!")}catch(o){console.error("Failed to delete category:",o),yB.error("Failed to delete category")}},children:[(0,gt.jsx)(Xe,{className:"me-2"}),"Delete Category"]})]})]}),(0,gt.jsx)(xB,{})]})};const nX=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(null),[b,E]=(0,i.useState)(null),[_,w]=(0,i.useState)(!1),S=function(e){yB[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"](e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},T=async()=>{r(!0);try{const e=await(async()=>{try{const e=await dU.get(`${hU}/api/coin-conversions/`);if(200===e.status)return e.data;throw new Error("Failed to fetch coin conversions")}catch(o){throw console.error("Error fetching coin conversions:",o.message),o}})();t(e)}catch(e){S("Failed to load conversion data. Please try again later.","error"),console.error("Error fetching conversions:",e)}finally{r(!1)}};(0,i.useEffect)((()=>{T()}),[]);const C=()=>{c(!1),h(""),f(""),a(null),y(null),w(!1)},x=async e=>{e.preventDefault(),g(!0),a(null);try{if(!d||!p)throw new Error("Please fill in all fields");const e=parseInt(d,10),t=parseFloat(p).toFixed(2);if(isNaN(e)||isNaN(parseFloat(t)))throw new Error("Please enter valid numbers");const n={coins_earned:e,rupees:t};_&&v?(await(async(e,t)=>{try{const n=await dU.patch(`${hU}/api/coin-conversion/${e}/`,t);if(200===n.status||204===n.status)return n.data;throw new Error("Failed to update coin conversion")}catch(o){throw console.error("Error updating coin conversion:",o.message),o}})(v.id,n),S("Conversion updated successfully!")):(await(async e=>{try{const t=await dU.post(`${hU}/api/coin-conversions/`,e,{headers:{"Content-Type":"multipart/form-data"}});if(201===t.status)return t.data;throw new Error("Failed to create coin conversion")}catch(o){throw console.error("Error creating coin conversion:",o.message),o}})(n),S("Conversion added successfully!")),C(),T()}catch(t){a(t.message||"An error occurred while saving the conversion"),console.error("Error saving conversion:",t)}finally{g(!1)}};return(0,gt.jsxs)(zr,{className:"coin-conversion__container py-4",children:[(0,gt.jsx)("h1",{className:"coin-conversion__title text-center mb-4",children:"Coin Conversion System"}),(0,gt.jsx)(Es,{className:"mb-4",children:(0,gt.jsx)(qa,{className:"d-flex justify-content-end",children:(0,gt.jsxs)(Aa,{variant:"primary",className:"coin-conversion__add-btn",onClick:()=>{c(!0),a(null),w(!1)},children:[(0,gt.jsx)("i",{className:"coin-conversion__add-icon",children:"+"})," Add New Conversion"]})})}),(0,gt.jsx)(Es,{children:(0,gt.jsx)(qa,{children:(0,gt.jsxs)(ys,{className:"coin-conversion__table-card",children:[(0,gt.jsx)(ys.Header,{as:"h5",className:"coin-conversion__table-header",children:"Conversion History"}),(0,gt.jsx)(ys.Body,{className:"coin-conversion__table-body",children:n?(0,gt.jsx)("div",{className:"text-center py-4 coin-conversion__loading-container",children:(0,gt.jsx)(Ka,{animation:"border",role:"status",className:"coin-conversion__loading-spinner",children:(0,gt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):e.length>0?(0,gt.jsxs)(BB,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"coin-conversion__table",children:[(0,gt.jsx)("thead",{className:"coin-conversion__table-head",children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"SI NO"}),(0,gt.jsx)("th",{children:"Coins Earned"}),(0,gt.jsx)("th",{children:"Rupees"}),(0,gt.jsx)("th",{children:"Actions"})]})}),(0,gt.jsx)("tbody",{className:"coin-conversion__table-body",children:e.map(((e,t)=>(0,gt.jsxs)("tr",{className:"coin-conversion__table-row",children:[(0,gt.jsx)("td",{className:"coin-conversion__table-cell-id",children:t+1}),(0,gt.jsx)("td",{className:"coin-conversion__table-cell-coins",children:e.coins_earned.toLocaleString()}),(0,gt.jsxs)("td",{className:"coin-conversion__table-cell-rupees",children:["\u20b9",parseFloat(e.rupees).toFixed(2)]}),(0,gt.jsxs)("td",{className:"coin-conversion__table-cell-actions",children:[(0,gt.jsx)(Aa,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>(e=>{y(e),h(e.coins_earned.toString()),f(e.rupees.toString()),w(!0),c(!0),a(null)})(e),children:"Edit"}),(0,gt.jsx)(Aa,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{E(e),u(!0)})(e),children:"Delete"})]})]},e.id)))})]}):(0,gt.jsx)(UB,{variant:"info",className:"coin-conversion__no-data-alert",children:'No conversion data available. Click the "Add New Conversion" button to get started.'})})]})})}),(0,gt.jsxs)(gF,{show:s,onHide:C,centered:!0,backdrop:"static",className:"coin-conversion__modal",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,className:"coin-conversion__modal-header",children:(0,gt.jsx)(gF.Title,{children:_?"Edit Conversion":"Add New Conversion"})}),(0,gt.jsxs)(gF.Body,{className:"coin-conversion__modal-body",children:[o&&(0,gt.jsx)(UB,{variant:"danger",className:"coin-conversion__alert-error",children:o}),(0,gt.jsxs)(YF,{onSubmit:x,className:"coin-conversion__form",children:[(0,gt.jsxs)(YF.Group,{className:"mb-3 coin-conversion__form-group",children:[(0,gt.jsx)(YF.Label,{className:"coin-conversion__form-label",children:"Coins Earned"}),(0,gt.jsx)(YF.Control,{className:"coin-conversion__input-coins",type:"number",placeholder:"Enter coins amount",value:d,onChange:e=>h(e.target.value),required:!0})]}),(0,gt.jsxs)(YF.Group,{className:"mb-3 coin-conversion__form-group",children:[(0,gt.jsx)(YF.Label,{className:"coin-conversion__form-label",children:"Rupees"}),(0,gt.jsx)(YF.Control,{className:"coin-conversion__input-rupees",type:"number",step:"0.01",placeholder:"Enter rupees amount",value:p,onChange:e=>f(e.target.value),required:!0})]})]})]}),(0,gt.jsxs)(gF.Footer,{className:"coin-conversion__modal-footer",children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:C,className:"coin-conversion__cancel-btn",children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"primary",onClick:x,className:"coin-conversion__submit-btn",disabled:m,children:m?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Ka,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"coin-conversion__spinner"}),(0,gt.jsx)("span",{className:"ms-2",children:"Processing..."})]}):_?"Update Conversion":"Save Conversion"})]})]}),(0,gt.jsxs)(gF,{show:l,onHide:()=>u(!1),centered:!0,className:"coin-conversion__delete-modal",children:[(0,gt.jsx)(gF.Header,{closeButton:!0,className:"coin-conversion__modal-header",children:(0,gt.jsx)(gF.Title,{children:"Confirm Delete"})}),(0,gt.jsxs)(gF.Body,{className:"coin-conversion__modal-body",children:[(0,gt.jsx)("p",{children:"Are you sure you want to delete this conversion?"}),b&&(0,gt.jsxs)("div",{className:"coin-conversion__delete-details",children:[(0,gt.jsx)("strong",{children:"Coins Earned:"})," ",b.coins_earned.toLocaleString(),(0,gt.jsx)("br",{}),(0,gt.jsx)("strong",{children:"Rupees:"})," \u20b9",parseFloat(b.rupees).toFixed(2)]}),(0,gt.jsx)("p",{className:"text-muted mt-2",children:"This action cannot be undone."})]}),(0,gt.jsxs)(gF.Footer,{className:"coin-conversion__modal-footer",children:[(0,gt.jsx)(Aa,{variant:"secondary",onClick:()=>u(!1),disabled:m,children:"Cancel"}),(0,gt.jsx)(Aa,{variant:"danger",onClick:async()=>{if(b){g(!0);try{await(async e=>{try{if(204===(await dU.delete(`${hU}/api/coin-conversion/${e}/`)).status)return{success:!0};throw new Error("Failed to delete coin conversion")}catch(o){throw console.error("Error deleting coin conversion:",o.message),o}})(b.id),u(!1),E(null),S("Conversion deleted successfully!"),T()}catch(e){S("Failed to delete conversion. Please try again.","error"),console.error("Error deleting conversion:",e)}finally{g(!1)}}},disabled:m,children:m?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Ka,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,gt.jsx)("span",{className:"ms-2",children:"Deleting..."})]}):"Delete"})]})]}),(0,gt.jsx)(xB,{})]})};function rX(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??bz;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return hG(e)?{...r,...e}:r}:{...r,...t},{...i,sx:o}}const iX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(nG);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},oX=Sz();const aX=function(){return iX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:oX)};const sX=nY("MuiBox",["root"]),cX=xK(),lX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=dG("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(_z);return i.forwardRef((function(e,i){const s=aX(n),{className:c,component:l="div",...u}=rX(e);return(0,gt.jsx)(a,{as:l,ref:i,className:vg(c,o?o(r):r),theme:t&&s[t]||s,...u})}))}({themeId:AK,defaultTheme:cX,defaultClassName:sX.root,generateClassName:ZK.generate}),uX=lX;function dX(e){return tY("MuiCircularProgress",e)}nY("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hX=44,pX=XK`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,fX=XK`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,mX="string"!==typeof pX?$K`
        animation: ${pX} 1.4s linear infinite;
      `:null,gX="string"!==typeof fX?$K`
        animation: ${fX} 1.4s ease-in-out infinite;
      `:null,vX=OK("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${mY(n.color)}`]]}})(NK((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:mX||{animation:`${pX} 1.4s linear infinite`}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),yX=OK("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),bX=OK("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${mY(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(NK((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:gX||{animation:`${fX} 1.4s ease-in-out infinite`}}]}}))),EX=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:a=40,style:s,thickness:c=3.6,value:l=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:o,size:a,thickness:c,value:l,variant:u},p=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return gW({root:["root",n,`color${mY(r)}`],svg:["svg"],circle:["circle",`circle${mY(n)}`,i&&"circleDisableShrink"]},dX,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((hX-c)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(l),f.strokeDashoffset=`${((100-l)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,gt.jsx)(vX,{className:vg(p.root,r),style:{width:a,height:a,...m,...s},ownerState:h,ref:t,role:"progressbar",...g,...d,children:(0,gt.jsx)(yX,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,gt.jsx)(bX,{className:p.circle,style:f,ownerState:h,cx:hX,cy:hX,r:(hX-c)/2,fill:"none",strokeWidth:c})})})})),_X=EX;function wX(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=aX(r);return i&&(o=o[i]||o),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?mW(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t})}const SX=Nz(),TX=Sz(),CX=SX("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${TG(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),xX=e=>wX({props:e,name:"MuiContainer",defaultTheme:TX});function RX(e){let{props:t,name:n}=e;return wX({props:t,name:n,defaultTheme:RK,themeId:AK})}const AX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=CX,useThemeProps:n=xX,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return{..."xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}}}})),a=i.forwardRef((function(e,t){const i=n(e),{className:a,component:s="div",disableGutters:c=!1,fixed:l=!1,maxWidth:u="lg",classes:d,...h}=i,p={...i,component:s,disableGutters:c,fixed:l,maxWidth:u},f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return gW({root:["root",o&&`maxWidth${TG(String(o))}`,r&&"fixed",i&&"disableGutters"]},(e=>tY(t,e)),n)})(p,r);return(0,gt.jsx)(o,{as:s,ownerState:p,className:vg(f.root,a),ref:t,...h})}));return a}({createStyledComponent:OK("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${mY(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>RX({props:e,name:"MuiContainer"})}),OX=AX;function IX(){const e=aX(RK);return e[AK]||e}function NX(e){return tY("MuiPaper",e)}nY("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const kX=OK("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(NK((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),PX=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiPaper"}),r=IX(),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:c="elevation",...l}=n,u={...n,component:o,elevation:a,square:s,variant:c},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return gW({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},NX,i)})(u);return(0,gt.jsx)(kX,{as:o,ownerState:u,className:vg(d.root,i),ref:t,...l,style:{..."elevation"===c&&{"--Paper-shadow":(r.vars||r).shadows[a],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[a]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${CW("#fff",dK(a))}, ${CW("#fff",dK(a))})`}},...l.style}})})),DX=PX;function LX(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,gt.jsx)(qK,{styles:r})}const MX=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=aX(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,gt.jsx)(LX,{styles:o})};const jX=function(e){return(0,gt.jsx)(MX,{...e,defaultTheme:RK,themeId:AK})};function UX(e){return tY("MuiTypography",e)}nY("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const FX={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},BX=rX,VX=OK("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${mY(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(NK((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${mY(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),WX={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},HX=i.forwardRef((function(e,t){const{color:n,...r}=DK({props:e,name:"MuiTypography"}),i=BX({...r,...!FX[n]&&{color:n}}),{align:o="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:l=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=WX,...p}=i,f={...i,align:o,color:n,className:a,component:s,gutterBottom:c,noWrap:l,paragraph:u,variant:d,variantMapping:h},m=s||(u?"p":h[d]||WX[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e;return gW({root:["root",o,"inherit"!==e.align&&`align${mY(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},UX,a)})(f);return(0,gt.jsx)(VX,{as:m,ref:t,className:vg(g.root,a),...p,ownerState:f,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...p.style}})})),GX=HX;const zX=i.createContext();function KX(e){return tY("MuiGrid",e)}const YX=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],qX=nY("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...YX.map((e=>`grid-xs-${e}`)),...YX.map((e=>`grid-sm-${e}`)),...YX.map((e=>`grid-md-${e}`)),...YX.map((e=>`grid-lg-${e}`)),...YX.map((e=>`grid-xl-${e}`))]),$X=qX;function XX(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const QX=OK("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:c,breakpoints:l}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n[`spacing-${t}-${String(i)}`])})),r}(a,l,t));const d=[];return l.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth,...u,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})((e=>{let{ownerState:t}=e;return{boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},..."wrap"!==t.wrap&&{flexWrap:t.wrap}}}),(function(e){let{theme:t,ownerState:n}=e;return EG({theme:t},SG({values:n.direction,breakpoints:t.breakpoints.values}),(e=>{const t={flexDirection:e};return e.startsWith("column")&&(t[`& > .${$X.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=SG({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=XX({breakpoints:t.breakpoints.values,values:e})),o=EG({theme:t},e,((e,r)=>{const i=t.spacing(e);return"0px"!==i?{marginTop:t.spacing(-e),[`& > .${$X.item}`]:{paddingTop:i}}:n?.includes(r)?{}:{marginTop:0,[`& > .${$X.item}`]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=SG({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=XX({breakpoints:t.breakpoints.values,values:e})),o=EG({theme:t},e,((e,r)=>{const i=t.spacing(e);if("0px"!==i){return{width:`calc(100% + ${i})`,marginLeft:t.spacing(-e),[`& > .${$X.item}`]:{paddingLeft:i}}}return n?.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${$X.item}`]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=SG({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[i]:a;if(void 0===s||null===s)return e;const c=Math.round(t/s*1e8)/1e6+"%";let l={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${c} + ${e})`;l={flexBasis:t,maxWidth:t}}}o={flexBasis:c,flexGrow:0,maxWidth:c,...l}}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const JX=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:c}=e;let l=[];n&&(l=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(o,c));const u=[];c.forEach((t=>{const n=e[t];n&&u.push(`grid-${t}-${String(n)}`)}));return gW({root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...l,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...u]},KX,t)},ZX=i.forwardRef((function(e,t){const n=RX({props:e,name:"MuiGrid"}),{breakpoints:r}=IX(),o=rX(n),{className:a,columns:s,columnSpacing:c,component:l="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:f=0,wrap:m="wrap",zeroMinWidth:g=!1,...v}=o,y=p||f,b=c||f,E=i.useContext(zX),_=u?s||12:E,w={},S={...v};r.keys.forEach((e=>{null!=v[e]&&(w[e]=v[e],delete S[e])}));const T={...o,columns:_,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:f,...w,breakpoints:r.keys},C=JX(T);return(0,gt.jsx)(zX.Provider,{value:_,children:(0,gt.jsx)(QX,{ownerState:T,className:vg(C.root,a),as:l,ref:t,...S})})}));const eQ=ZX;function tQ(e){return tY("MuiCard",e)}nY("MuiCard",["root"]);const nQ=OK(DX,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),rQ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiCard"}),{className:r,raised:i=!1,...o}=n,a={...n,raised:i},s=(e=>{const{classes:t}=e;return gW({root:["root"]},tQ,t)})(a);return(0,gt.jsx)(nQ,{className:vg(s.root,r),elevation:i?8:void 0,ref:t,ownerState:a,...o})}));function iQ(e){return tY("MuiCardContent",e)}nY("MuiCardContent",["root"]);const oQ=OK("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),aQ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiCardContent"}),{className:r,component:i="div",...o}=n,a={...n,component:i},s=(e=>{const{classes:t}=e;return gW({root:["root"]},iQ,t)})(a);return(0,gt.jsx)(oQ,{as:i,className:vg(s.root,r),ownerState:a,ref:t,...o})})),sQ=NY((0,gt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function cQ(e){return tY("MuiAvatar",e)}nY("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const lQ=function(e){return"string"===typeof e};const uQ=function(e,t,n){return void 0===e||lQ(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const dQ=function(e,t,n){return"function"===typeof e?e(t,n):e};const hQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const pQ=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const fQ=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=vg(n?.className,o,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},a={...n,...i,...r};return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=hQ({...i,...r}),s=pQ(r),c=pQ(i),l=t(a),u=vg(l?.className,n?.className,o,i?.className,r?.className),d={...l?.style,...n?.style,...i?.style,...r?.style},h={...l,...n,...c,...s};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:l.ref}};function mQ(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s,...c}=t,{component:l,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||r,f=dQ(d[e],i),{props:{component:m,...g},internalRef:v}=fQ({className:n,...c,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f}),y=jK(v,f?.ref,t.ref),b=a?a(g):{},E={...i,...b},_="root"===e?m||l:m,w=uQ(p,{..."root"===e&&!l&&!u[e]&&s,..."root"!==e&&!u[e]&&s,...g,..._&&{as:_},ref:y},E);return Object.keys(b).forEach((e=>{delete w[e]})),[p,w]}const gQ=OK("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(NK((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}}))),vQ=OK("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),yQ=OK(sQ,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const bQ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:a,component:s="div",slots:c={},slotProps:l={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular",...m}=n;let g=null;const v=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[a,s]=i.useState(!1);return i.useEffect((()=>{if(!r&&!o)return;s(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&s("loaded")},i.onerror=()=>{e&&s("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),()=>{e=!1}}),[t,n,r,o]),a}({...u,src:h,srcSet:p}),y=h||p,b=y&&"error"!==v,E={...n,colorDefault:!b,component:s,variant:f};delete E.ownerState;const _=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return gW({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},cQ,t)})(E),[w,S]=mQ("img",{className:_.img,elementType:vQ,externalForwardedProps:{slots:c,slotProps:{img:{...u,...l.img}}},additionalProps:{alt:r,src:h,srcSet:p,sizes:d},ownerState:E});return g=b?(0,gt.jsx)(w,{...S}):o||0===o?o:y&&r?r[0]:(0,gt.jsx)(yQ,{ownerState:E,className:_.fallback}),(0,gt.jsx)(gQ,{as:s,className:vg(_.root,a),ref:t,...m,ownerState:E,children:g})})),EQ=bQ;function _Q(e){return tY("MuiIconButton",e)}const wQ=nY("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),SQ=OK(fY,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${mY(n.color)}`],n.edge&&t[`edge${mY(n.edge)}`],t[`size${mY(n.size)}`]]}})(NK((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:CW(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),NK((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:CW((t.vars||t).palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${wQ.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}}))),TQ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:c=!1,disableRipple:l=!1,size:u="medium",...d}=n,h={...n,edge:r,color:a,disabled:s,disableFocusRipple:c,disableRipple:l,size:u},p=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e;return gW({root:["root",n&&"disabled","default"!==r&&`color${mY(r)}`,i&&`edge${mY(i)}`,`size${mY(o)}`]},_Q,t)})(h);return(0,gt.jsx)(SQ,{className:vg(p.root,o),centerRipple:!0,focusRipple:!c,disabled:s,disableRipple:l,ref:t,...d,ownerState:h,children:i})})),CQ=TQ;function xQ(e){return tY("MuiDivider",e)}nY("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const RQ=OK("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(NK((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:CW(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),AQ=OK("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(NK((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),OQ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:a="horizontal",component:s=(i||"vertical"===a?"div":"hr"),flexItem:c=!1,light:l=!1,role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth",...p}=n,f={...n,absolute:r,component:s,flexItem:c,light:l,orientation:a,role:u,textAlign:d,variant:h},m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:c}=e;return gW({root:["root",t&&"absolute",c,o&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},xQ,r)})(f);return(0,gt.jsx)(RQ,{as:s,className:vg(m.root,o),role:u,ref:t,ownerState:f,"aria-orientation":"separator"!==u||"hr"===s&&"vertical"!==a?void 0:a,...p,children:i?(0,gt.jsx)(AQ,{className:m.wrapper,ownerState:f,children:i}):null})}));OQ&&(OQ.muiSkipListHighlight=!0);const IQ=OQ;let NQ=0;const kQ={...o}.useId;function PQ(e){if(void 0!==kQ){const t=kQ();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(NQ+=1,n(`mui-${NQ}`))}),[t]),r}(e)}function DQ(e){return e&&e.ownerDocument||document}function LQ(e){return DQ(e).defaultView||window}function MQ(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}function jQ(e){return parseInt(e,10)||0}const UQ={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const FQ=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:a,value:s,...c}=e,{current:l}=i.useRef(null!=s),u=i.useRef(null),d=jK(t,u),h=i.useRef(null),p=i.useRef(null),f=i.useCallback((()=>{const t=u.current,n=LQ(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const i=p.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");const a=n.boxSizing,s=jQ(n.paddingBottom)+jQ(n.paddingTop),c=jQ(n.borderBottomWidth)+jQ(n.borderTopWidth),l=i.scrollHeight;i.value="x";const d=i.scrollHeight;let h=l;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===a?s+c:0),overflowing:Math.abs(h-l)<=1}}),[r,o,e.placeholder]),m=i.useCallback((()=>{const e=f();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=u.current;h.current!==n&&(h.current=n,r.style.height=`${n}px`),r.style.overflow=e.overflowing?"hidden":""}),[f]);FK((()=>{const e=()=>{m()};let t;const n=MQ(e),r=u.current,i=LQ(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[f,m]),FK((()=>{m()}));return(0,gt.jsxs)(i.Fragment,{children:[(0,gt.jsx)("textarea",{value:s,onChange:e=>{l||m(),n&&n(e)},ref:d,rows:o,style:a,...c}),(0,gt.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...UQ,...a,paddingTop:0,paddingBottom:0}})]})})),BQ=FQ;const VQ=function(e){return"string"===typeof e};function WQ(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const HQ=i.createContext(void 0);function GQ(){return i.useContext(HQ)}const zQ=FK;function KQ(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function YQ(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(KQ(e.value)&&""!==e.value||t&&KQ(e.defaultValue)&&""!==e.defaultValue)}function qQ(e){return tY("MuiInputBase",e)}const $Q=nY("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var XQ;const QQ=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${mY(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},JQ=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ZQ=OK("div",{name:"MuiInputBase",slot:"Root",overridesResolver:QQ})(NK((e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$Q.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}}))),eJ=OK("input",{name:"MuiInputBase",slot:"Input",overridesResolver:JQ})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$Q.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${$Q.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),tJ=function(e){return function(t){return(0,gt.jsx)(jX,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),nJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:a,className:s,color:c,components:l={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,error:m,fullWidth:g=!1,id:v,inputComponent:y="input",inputProps:b={},inputRef:E,margin:_,maxRows:w,minRows:S,multiline:T=!1,name:C,onBlur:x,onChange:R,onClick:A,onFocus:O,onKeyDown:I,onKeyUp:N,placeholder:k,readOnly:P,renderSuffix:D,rows:L,size:M,slotProps:j={},slots:U={},startAdornment:F,type:B="text",value:V,...W}=n,H=null!=b.value?b.value:V,{current:G}=i.useRef(null!=H),z=i.useRef(),K=i.useCallback((e=>{0}),[]),Y=UK(z,E,b.ref,K),[q,$]=i.useState(!1),X=GQ();const Q=WQ({props:n,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=X?X.focused:q,i.useEffect((()=>{!X&&h&&q&&($(!1),x&&x())}),[X,h,q,x]);const J=X&&X.onFilled,Z=X&&X.onEmpty,ee=i.useCallback((e=>{YQ(e)?J&&J():Z&&Z()}),[J,Z]);zQ((()=>{G&&ee({value:H})}),[H,ee,G]);i.useEffect((()=>{ee(z.current)}),[]);let te=y,ne=b;T&&"input"===te&&(ne=L?{type:void 0,minRows:L,maxRows:L,...ne}:{type:void 0,maxRows:w,minRows:S,...ne},te=BQ);i.useEffect((()=>{X&&X.setAdornedStart(Boolean(F))}),[X,F]);const re={...n,color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:X,fullWidth:g,hiddenLabel:Q.hiddenLabel,multiline:T,size:Q.size,startAdornment:F,type:B},ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:l,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return gW({root:["root",`color${mY(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&`size${mY(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",l&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},qQ,t)})(re),oe=U.root||l.Root||ZQ,ae=j.root||u.root||{},se=U.input||l.Input||eJ;return ne={...ne,...j.input??u.input},(0,gt.jsxs)(i.Fragment,{children:[!p&&"function"===typeof tJ&&(XQ||(XQ=(0,gt.jsx)(tJ,{}))),(0,gt.jsxs)(oe,{...ae,ref:t,onClick:e=>{z.current&&e.currentTarget===e.target&&z.current.focus(),A&&A(e)},...W,...!VQ(oe)&&{ownerState:{...re,...ae.ownerState}},className:vg(ie.root,ae.className,s,P&&"MuiInputBase-readOnly"),children:[F,(0,gt.jsx)(HQ.Provider,{value:null,children:(0,gt.jsx)(se,{"aria-invalid":Q.error,"aria-describedby":r,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Q.disabled,id:v,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?z.current:{value:"x"})},name:C,placeholder:k,readOnly:P,required:Q.required,rows:L,value:H,onKeyDown:I,onKeyUp:N,type:B,...ne,...!VQ(se)&&{as:te,ownerState:{...re,...ne.ownerState}},ref:Y,className:vg(ie.input,ne.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{x&&x(e),b.onBlur&&b.onBlur(e),X&&X.onBlur?X.onBlur(e):$(!1)},onChange:function(e){if(!G){const t=e.target||z.current;if(null==t)throw new Error(vW(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),R&&R(e,...n)},onFocus:e=>{O&&O(e),b.onFocus&&b.onFocus(e),X&&X.onFocus?X.onFocus(e):$(!0)}})}),f,D?D({...Q,startAdornment:F}):null]})]})})),rJ=nJ;function iJ(e){return tY("MuiInput",e)}const oJ={...$Q,...nY("MuiInput",["root","underline","input"])},aJ=OK(ZQ,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...QQ(e,t),!n.disableUnderline&&t.underline]}})(NK((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oJ.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oJ.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oJ.disabled}, .${oJ.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${oJ.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}}))]}}))),sJ=OK(eJ,{name:"MuiInput",slot:"Input",overridesResolver:JQ})({}),cJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:a=!1,inputComponent:s="input",multiline:c=!1,slotProps:l,slots:u={},type:d="text",...h}=n,p=(e=>{const{classes:t,disableUnderline:n}=e,r=gW({root:["root",!n&&"underline"],input:["input"]},iJ,t);return{...t,...r}})(n),f={root:{ownerState:{disableUnderline:r}}},m=l??o?fG(l??o,f):f,g=u.root??i.Root??aJ,v=u.input??i.Input??sJ;return(0,gt.jsx)(rJ,{slots:{root:g,input:v},slotProps:m,fullWidth:a,inputComponent:s,multiline:c,ref:t,type:d,...h,classes:p})}));cJ&&(cJ.muiName="Input");const lJ=cJ;function uJ(e){return tY("MuiFilledInput",e)}const dJ={...$Q,...nY("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},hJ=OK(ZQ,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...QQ(e,t),!n.disableUnderline&&t.underline]}})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${dJ.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${dJ.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dJ.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dJ.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dJ.disabled}, .${dJ.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${dJ.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),pJ=OK(eJ,{name:"MuiFilledInput",slot:"Input",overridesResolver:JQ})(NK((e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),fJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:a=!1,hiddenLabel:s,inputComponent:c="input",multiline:l=!1,slotProps:u,slots:d={},type:h="text",...p}=n,f={...n,disableUnderline:r,fullWidth:a,inputComponent:c,multiline:l,type:h},m=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=e,c=gW({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&`size${mY(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},uJ,t);return{...t,...c}})(n),g={root:{ownerState:f},input:{ownerState:f}},v=u??o?fG(g,u??o):g,y=d.root??i.Root??hJ,b=d.input??i.Input??pJ;return(0,gt.jsx)(rJ,{slots:{root:y,input:b},componentsProps:v,fullWidth:a,inputComponent:c,multiline:l,ref:t,type:h,...p,classes:m})}));fJ&&(fJ.muiName="Input");const mJ=fJ;var gJ;const vJ=OK("fieldset",{shouldForwardProp:DW})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),yJ=OK("legend",{shouldForwardProp:DW})(NK((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));function bJ(e){return tY("MuiOutlinedInput",e)}const EJ={...$Q,...nY("MuiOutlinedInput",["root","notchedOutline","input"])},_J=OK(ZQ,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:QQ})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${EJ.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},[`&.${EJ.focused} .${EJ.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${EJ.focused} .${EJ.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{"@media (hover: none)":{[`&:hover .${EJ.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${EJ.error} .${EJ.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${EJ.disabled} .${EJ.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),wJ=OK((function(e){const{children:t,classes:n,className:r,label:i,notched:o,...a}=e,s=null!=i&&""!==i,c={...e,notched:o,withLabel:s};return(0,gt.jsx)(vJ,{"aria-hidden":!0,className:r,ownerState:c,...a,children:(0,gt.jsx)(yJ,{ownerState:c,children:s?(0,gt.jsx)("span",{children:i}):gJ||(gJ=(0,gt.jsx)("span",{className:"notranslate",children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),SJ=OK(eJ,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:JQ})(NK((e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}}))),TJ=i.forwardRef((function(e,t){var n;const r=DK({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:a=!1,inputComponent:s="input",label:c,multiline:l=!1,notched:u,slots:d={},type:h="text",...p}=r,f=(e=>{const{classes:t}=e,n=gW({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bJ,t);return{...t,...n}})(r),m=GQ(),g=WQ({props:r,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:m,fullWidth:a,hiddenLabel:g.hiddenLabel,multiline:l,size:g.size,type:h},y=d.root??o.Root??_J,b=d.input??o.Input??SJ;return(0,gt.jsx)(rJ,{slots:{root:y,input:b},renderSuffix:e=>(0,gt.jsx)(wJ,{ownerState:v,className:f.notchedOutline,label:null!=c&&""!==c&&g.required?n||(n=(0,gt.jsxs)(i.Fragment,{children:[c,"\u2009","*"]})):c,notched:"undefined"!==typeof u?u:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:a,inputComponent:s,multiline:l,ref:t,type:h,...p,classes:{...f,notchedOutline:null}})}));TJ&&(TJ.muiName="Input");const CJ=TJ;function xJ(e){return tY("MuiFormLabel",e)}const RJ=nY("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),AJ=OK("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return{...t.root,..."secondary"===n.color&&t.colorSecondary,...n.filled&&t.filled}}})(NK((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${RJ.focused}`]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${RJ.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${RJ.error}`]:{color:(t.vars||t).palette.error.main}}}]}}))),OJ=OK("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(NK((e=>{let{theme:t}=e;return{[`&.${RJ.error}`]:{color:(t.vars||t).palette.error.main}}}))),IJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:a="label",disabled:s,error:c,filled:l,focused:u,required:d,...h}=n,p=WQ({props:n,muiFormControl:GQ(),states:["color","required","focused","disabled","error","filled"]}),f={...n,color:p.color||"primary",component:a,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},m=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e;return gW({root:["root",`color${mY(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},xJ,t)})(f);return(0,gt.jsxs)(AJ,{as:a,ownerState:f,className:vg(m.root,i),ref:t,...h,children:[r,p.required&&(0,gt.jsxs)(OJ,{ownerState:f,"aria-hidden":!0,className:m.asterisk,children:["\u2009","*"]})]})})),NJ=IJ;function kJ(e){return tY("MuiInputLabel",e)}nY("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const PJ=OK(NJ,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${RJ.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(NK((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),DJ=i.forwardRef((function(e,t){const n=DK({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:a,className:s,...c}=n,l=GQ();let u=o;"undefined"===typeof u&&l&&(u=l.filled||l.focused||l.adornedStart);const d=WQ({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),h={...n,disableAnimation:r,formControl:l,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e,c=gW({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&`size${mY(r)}`,a],asterisk:[s&&"asterisk"]},kJ,t);return{...t,...c}})(h);return(0,gt.jsx)(PJ,{"data-shrink":u,ref:t,className:vg(p.root,s),...c,ownerState:h,classes:p})})),LJ=DJ;const MJ=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function jJ(e){return tY("MuiFormControl",e)}nY("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const UJ=OK("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return{...t.root,...t[`margin${mY(n.margin)}`],...n.fullWidth&&t.fullWidth}}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),FJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiFormControl"}),{children:r,className:o,color:a="primary",component:s="div",disabled:c=!1,error:l=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined",...v}=n,y={...n,color:a,component:s,disabled:c,error:l,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g},b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return gW({root:["root","none"!==n&&`margin${mY(n)}`,r&&"fullWidth"]},jJ,t)})(y),[E,_]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!MJ(t,["Input","Select"]))return;const n=MJ(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[w,S]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{MJ(t,["Input","Select"])&&(YQ(t.props,!0)||YQ(t.props.inputProps,!0))&&(e=!0)})),e})),[T,C]=i.useState(!1);c&&T&&C(!1);const x=void 0===u||c?T:u;let R;i.useRef(!1);const A=i.useMemo((()=>({adornedStart:E,setAdornedStart:_,color:a,disabled:c,error:l,filled:w,focused:x,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{C(!0)},registerEffect:R,required:f,variant:g})),[E,a,c,l,w,x,d,h,R,f,m,g]);return(0,gt.jsx)(HQ.Provider,{value:A,children:(0,gt.jsx)(UJ,{as:s,ownerState:y,className:vg(b.root,o),ref:t,...v,children:r})})})),BJ=FJ;function VJ(e){return tY("MuiFormHelperText",e)}const WJ=nY("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var HJ;const GJ=OK("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${mY(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(NK((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${WJ.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${WJ.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}}))),zJ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:a,error:s,filled:c,focused:l,margin:u,required:d,variant:h,...p}=n,f=WQ({props:n,muiFormControl:GQ(),states:["variant","size","disabled","error","filled","focused","required"]}),m={...n,component:o,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required};delete m.ownerState;const g=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:c}=e;return gW({root:["root",i&&"disabled",o&&"error",r&&`size${mY(r)}`,n&&"contained",s&&"focused",a&&"filled",c&&"required"]},VJ,t)})(m);return(0,gt.jsx)(GJ,{as:o,className:vg(g.root,i),ref:t,...p,ownerState:m,children:" "===r?HJ||(HJ=(0,gt.jsx)("span",{className:"notranslate",children:"\u200b"})):r})})),KJ=zJ;function YJ(e){return e&&i.isValidElement(e)?e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref:null}n(2086);const qJ=DQ,$J=i.createContext();const XJ=()=>i.useContext($J)??!1;const QJ=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:dQ(n,r),{props:s,internalRef:c}=fQ({...o,externalSlotProps:a}),l=jK(c,a?.ref,e.additionalProps?.ref);return uQ(t,{...s,ref:l},r)};const JJ=i.createContext({});function ZJ(e){return tY("MuiList",e)}nY("MuiList",["root","padding","dense","subheader"]);const eZ=OK("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),tZ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiList"}),{children:r,className:o,component:a="ul",dense:s=!1,disablePadding:c=!1,subheader:l,...u}=n,d=i.useMemo((()=>({dense:s})),[s]),h={...n,component:a,dense:s,disablePadding:c},p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return gW({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},ZJ,t)})(h);return(0,gt.jsx)(JJ.Provider,{value:d,children:(0,gt.jsxs)(eZ,{as:a,className:vg(p.root,o),ref:t,ownerState:h,...u,children:[l,r]})})})),nZ=tZ;function rZ(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const iZ=rZ;function oZ(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function aZ(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function sZ(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function cZ(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&sZ(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const lZ=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:c=!1,disableListWrap:l=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=i.useRef(null),f=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zQ((()=>{r&&p.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${iZ(qJ(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=UK(p,t);let g=-1;i.Children.forEach(a,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===t&&(g+=1,g>=a.length&&(g=-1))}));const v=i.Children.map(a,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,gt.jsx)(nZ,{role:"menu",ref:m,className:s,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=qJ(t).activeElement;if("ArrowDown"===n)e.preventDefault(),cZ(t,r,l,c,oZ);else if("ArrowUp"===n)e.preventDefault(),cZ(t,r,l,c,aZ);else if("Home"===n)e.preventDefault(),cZ(t,null,l,c,oZ);else if("End"===n)e.preventDefault(),cZ(t,null,l,c,aZ);else if(1===n.length){const i=f.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&sZ(r,i);i.previousKeyMatched&&(s||cZ(t,r,!1,c,oZ,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:v})})),uZ=lZ,dZ=MQ,hZ=LQ,pZ=e=>e.scrollTop;function fZ(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}function mZ(e){return`scale(${e}, ${e**2})`}const gZ={entering:{opacity:1,transform:mZ(1)},entered:{opacity:1,transform:"none"}},vZ="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),yZ=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:a,in:s,onEnter:c,onEntered:l,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=qt,...v}=e,y=YK(),b=i.useRef(),E=IX(),_=i.useRef(null),w=UK(_,YJ(o),t),S=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},T=S(u),C=S(((e,t)=>{pZ(e);const{duration:n,delay:r,easing:i}=fZ({style:f,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=E.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[E.transitions.create("opacity",{duration:o,delay:r}),E.transitions.create("transform",{duration:vZ?o:.666*o,delay:r,easing:i})].join(","),c&&c(e,t)})),x=S(l),R=S(p),A=S((e=>{const{duration:t,delay:n,easing:r}=fZ({style:f,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=E.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[E.transitions.create("opacity",{duration:i,delay:n}),E.transitions.create("transform",{duration:vZ?i:.666*i,delay:vZ?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=mZ(.75),d&&d(e)})),O=S(h);return(0,gt.jsx)(g,{appear:r,in:s,nodeRef:_,onEnter:C,onEntered:x,onEntering:T,onExit:A,onExited:O,onExiting:R,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(_.current,e)},timeout:"auto"===m?null:m,...v,children:(e,t)=>i.cloneElement(o,{style:{opacity:0,transform:mZ(.75),visibility:"exited"!==e||s?void 0:"hidden",...gZ[e],...f,...o.props.style},ref:w,...t})})}));yZ&&(yZ.muiSupportAuto=!0);const bZ=yZ,EZ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _Z(e){const t=[],n=[];return Array.from(e.querySelectorAll(EZ)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function wZ(){return!0}const SZ=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=_Z,isEnabled:s=wZ,open:c}=e,l=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),f=i.useRef(!1),m=i.useRef(null),g=jK(YJ(t),m),v=i.useRef(null);i.useEffect((()=>{c&&m.current&&(f.current=!n)}),[n,c]),i.useEffect((()=>{if(!c||!m.current)return;const e=DQ(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}}),[c]),i.useEffect((()=>{if(!c||!m.current)return;const e=DQ(m.current),t=t=>{v.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(l.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){const e=Boolean(v.current?.shiftKey&&"Tab"===v.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,s,c,a]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,gt.jsxs)(i.Fragment,{children:[(0,gt.jsx)("div",{tabIndex:c?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,gt.jsx)("div",{tabIndex:c?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};const TZ=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,s]=i.useState(null),c=jK(YJ(n),t);if(FK((()=>{o||s(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),FK((()=>{if(a&&!o)return MK(t,a),()=>{MK(t,null)}}),[t,a,o]),o){if(i.isValidElement(n)){const e={ref:c};return i.cloneElement(n,e)}return(0,gt.jsx)(i.Fragment,{children:n})}return(0,gt.jsx)(i.Fragment,{children:a?jt.createPortal(n,a):a})})),CZ={entering:{opacity:1},entered:{opacity:1}},xZ=i.forwardRef((function(e,t){const n=IX(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:c,in:l,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=r,TransitionComponent:y=qt,...b}=e,E=i.useRef(null),_=UK(E,YJ(s),t),w=e=>t=>{if(e){const n=E.current;void 0===t?e(n):e(n,t)}},S=w(h),T=w(((e,t)=>{pZ(e);const r=fZ({style:g,timeout:v,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=w(d),x=w(m),R=w((e=>{const t=fZ({style:g,timeout:v,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),A=w(f);return(0,gt.jsx)(y,{appear:a,in:l,nodeRef:E,onEnter:T,onEntered:C,onEntering:S,onExit:R,onExited:A,onExiting:x,addEndListener:e=>{o&&o(E.current,e)},timeout:v,...b,children:(e,t)=>i.cloneElement(s,{style:{opacity:0,visibility:"exited"!==e||l?void 0:"hidden",...CZ[e],...g,...s.props.style},ref:_,...t})})})),RZ=xZ;function AZ(e){return tY("MuiBackdrop",e)}nY("MuiBackdrop",["root","invisible"]);const OZ=OK("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),IZ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:a=!1,open:s,components:c={},componentsProps:l={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:p,...f}=n,m={...n,component:o,invisible:a},g=(e=>{const{classes:t,invisible:n}=e;return gW({root:["root",n&&"invisible"]},AZ,t)})(m),v={slots:{transition:h,root:c.Root,...d},slotProps:{...l,...u}},[y,b]=mQ("root",{elementType:OZ,externalForwardedProps:v,className:vg(g.root,i),ownerState:m}),[E,_]=mQ("transition",{elementType:RZ,externalForwardedProps:v,ownerState:m}),w=(e=>{const{ownerState:t,...n}=e;return n})(_);return(0,gt.jsx)(E,{in:s,timeout:p,...f,...w,children:(0,gt.jsx)(y,{"aria-hidden":!0,...b,classes:g,ref:t,children:r})})}));function NZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function kZ(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function PZ(e){return parseInt(LQ(e).getComputedStyle(e).paddingRight,10)||0}function DZ(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&kZ(e,i)}))}function LZ(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function MZ(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=DQ(e);return t.body===e?LQ(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=rZ(DQ(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${PZ(r)+e}px`;const t=DQ(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${PZ(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=DQ(r).body;else{const t=r.parentElement,n=LQ(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const jZ=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&kZ(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);DZ(t,e.mount,e.modalRef,r,!0);const i=LZ(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=LZ(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=MZ(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=LZ(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&kZ(e.modalRef,t),DZ(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&kZ(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const UZ=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=jZ,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:c,children:l,onClose:u,open:d,rootRef:h}=e,p=i.useRef({}),f=i.useRef(null),m=i.useRef(null),g=jK(m,h),[v,y]=i.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let E=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(E=!1);const _=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),w=()=>{o.mount(_(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},S=BK((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||DQ(f.current).body;o.add(_(),e),m.current&&w()})),T=i.useCallback((()=>o.isTopModal(_())),[o]),C=BK((e=>{f.current=e,e&&(d&&T()?w():m.current&&kZ(m.current,E))})),x=i.useCallback((()=>{o.remove(_(),E)}),[E,o]);i.useEffect((()=>()=>{x()}),[x]),i.useEffect((()=>{d?S():b&&a||x()}),[d,x,b,a,S]);const R=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&T()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},A=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=hQ(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:R(r),ref:g}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:A(e),open:d}},getTransitionProps:()=>({onEnter:NZ((()=>{y(!1),s&&s()}),l?.props.onEnter),onExited:NZ((()=>{y(!0),c&&c(),a&&x()}),l?.props.onExited)}),rootRef:g,portalRef:C,isTopModal:T,exited:v,hasTransition:b}};function FZ(e){return tY("MuiModal",e)}nY("MuiModal",["root","hidden","backdrop"]);const BZ=OK("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(NK((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),VZ=OK(IZ,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),WZ=i.forwardRef((function(e,t){const n=DK({name:"MuiModal",props:e}),{BackdropComponent:r=VZ,BackdropProps:o,classes:a,className:s,closeAfterTransition:c=!1,children:l,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:f=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:g=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:b=!1,hideBackdrop:E=!1,keepMounted:_=!1,onBackdropClick:w,onClose:S,onTransitionEnter:T,onTransitionExited:C,open:x,slotProps:R={},slots:A={},theme:O,...I}=n,N={...n,closeAfterTransition:c,disableAutoFocus:f,disableEnforceFocus:m,disableEscapeKeyDown:g,disablePortal:v,disableRestoreFocus:y,disableScrollLock:b,hideBackdrop:E,keepMounted:_},{getRootProps:k,getBackdropProps:P,getTransitionProps:D,portalRef:L,isTopModal:M,exited:j,hasTransition:U}=UZ({...N,rootRef:t}),F={...N,exited:j},B=(e=>{const{open:t,exited:n,classes:r}=e;return gW({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},FZ,r)})(F),V={};if(void 0===l.props.tabIndex&&(V.tabIndex="-1"),U){const{onEnter:e,onExited:t}=D();V.onEnter=e,V.onExited=t}const W={...I,slots:{root:h.Root,backdrop:h.Backdrop,...A},slotProps:{...p,...R}},[H,G]=mQ("root",{elementType:BZ,externalForwardedProps:W,getSlotProps:k,additionalProps:{ref:t,as:d},ownerState:F,className:vg(s,B?.root,!F.open&&F.exited&&B?.hidden)}),[z,K]=mQ("backdrop",{elementType:r,externalForwardedProps:W,additionalProps:o,getSlotProps:e=>P({...e,onClick:t=>{w&&w(t),e?.onClick&&e.onClick(t)}}),className:vg(o?.className,B?.backdrop),ownerState:F}),Y=UK(o?.ref,K.ref);return _||x||U&&!j?(0,gt.jsx)(TZ,{ref:L,container:u,disablePortal:v,children:(0,gt.jsxs)(H,{...G,children:[!E&&r?(0,gt.jsx)(z,{...K,ref:Y}):null,(0,gt.jsx)(SZ,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:M,open:x,children:i.cloneElement(l,V)})]})}):null})),HZ=WZ;function GZ(e){return tY("MuiPopover",e)}nY("MuiPopover",["root","paper"]);function zZ(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function KZ(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function YZ(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function qZ(e){return"function"===typeof e?e():e}const $Z=OK(HZ,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),XZ=OK(DX,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),QZ=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:c="anchorEl",children:l,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:m={},slots:g={},slotProps:v={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:b=bZ,transitionDuration:E="auto",TransitionProps:{onEntering:_,...w}={},disableScrollLock:S=!1,...T}=n,C=v?.paper??m,x=i.useRef(),R={...n,anchorOrigin:a,anchorReference:c,elevation:h,marginThreshold:p,externalPaperSlotProps:C,transformOrigin:y,TransitionComponent:b,transitionDuration:E,TransitionProps:w},A=(e=>{const{classes:t}=e;return gW({root:["root"],paper:["paper"]},GZ,t)})(R),O=i.useCallback((()=>{if("anchorPosition"===c)return s;const e=qZ(o),t=(e&&1===e.nodeType?e:qJ(x.current).body).getBoundingClientRect();return{top:t.top+zZ(t,a.vertical),left:t.left+KZ(t,a.horizontal)}}),[o,a.horizontal,a.vertical,s,c]),I=i.useCallback((e=>({vertical:zZ(e,y.vertical),horizontal:KZ(e,y.horizontal)})),[y.horizontal,y.vertical]),N=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=I(t);if("none"===c)return{top:null,left:null,transformOrigin:YZ(n)};const r=O();let i=r.top-n.vertical,a=r.left-n.horizontal;const s=i+t.height,l=a+t.width,u=hZ(qZ(o)),d=u.innerHeight-p,h=u.innerWidth-p;if(null!==p&&i<p){const e=i-p;i-=e,n.vertical+=e}else if(null!==p&&s>d){const e=s-d;i-=e,n.vertical+=e}if(null!==p&&a<p){const e=a-p;a-=e,n.horizontal+=e}else if(l>h){const e=l-h;a-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(a)}px`,transformOrigin:YZ(n)}}),[o,c,O,I,p]),[k,P]=i.useState(f),D=i.useCallback((()=>{const e=x.current;if(!e)return;const t=N(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,P(!0)}),[N]);i.useEffect((()=>(S&&window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D))),[o,S,D]);i.useEffect((()=>{f&&D()})),i.useImperativeHandle(r,(()=>f?{updatePosition:()=>{D()}}:null),[f,D]),i.useEffect((()=>{if(!f)return;const e=dZ((()=>{D()})),t=hZ(o);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,f,D]);let L=E;"auto"!==E||b.muiSupportAuto||(L=void 0);const M=d||(o?qJ(qZ(o)).body:void 0),j={slots:g,slotProps:{...v,paper:C}},[U,F]=mQ("paper",{elementType:XZ,externalForwardedProps:j,additionalProps:{elevation:h,className:vg(A.paper,C?.className),style:k?C.style:{...C.style,opacity:0}},ownerState:R}),[B,{slotProps:V,...W}]=mQ("root",{elementType:$Z,externalForwardedProps:j,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:M,open:f},ownerState:R,className:vg(A.root,u)}),H=UK(x,F.ref);return(0,gt.jsx)(B,{...W,...!VQ(B)&&{slotProps:V,disableScrollLock:S},...T,ref:t,children:(0,gt.jsx)(b,{appear:!0,in:f,onEntering:(e,t)=>{_&&_(e,t),D()},onExited:()=>{P(!1)},timeout:L,...w,children:(0,gt.jsx)(U,{...F,ref:H,children:l})})})})),JZ=QZ;function ZZ(e){return tY("MuiMenu",e)}nY("MuiMenu",["root","paper","list"]);const e0={vertical:"top",horizontal:"right"},t0={vertical:"top",horizontal:"left"},n0=OK(JZ,{shouldForwardProp:e=>DW(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),r0=OK(XZ,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),i0=OK(uZ,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),o0=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:a,disableAutoFocusItem:s=!1,MenuListProps:c={},onClose:l,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f,...m}={},variant:g="selectedMenu",slots:v={},slotProps:y={},...b}=n,E=XJ(),_={...n,autoFocus:r,disableAutoFocusItem:s,MenuListProps:c,onEntering:f,PaperProps:d,transitionDuration:p,TransitionProps:m,variant:g},w=(e=>{const{classes:t}=e;return gW({root:["root"],paper:["paper"],list:["list"]},ZZ,t)})(_),S=r&&!s&&u,T=i.useRef(null);let C=-1;i.Children.map(o,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===C)&&(C=t))}));const x=v.paper??r0,R=y.paper??d,A=QJ({elementType:v.root,externalSlotProps:y.root,ownerState:_,className:[w.root,a]}),O=QJ({elementType:x,externalSlotProps:R,ownerState:_,className:w.paper});return(0,gt.jsx)(n0,{onClose:l,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?e0:t0,slots:{paper:x,root:v.root},slotProps:{root:A,paper:O},open:u,ref:t,transitionDuration:p,TransitionProps:{onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:E?"rtl":"ltr"}),f&&f(e,t)},...m},ownerState:_,...b,classes:h,children:(0,gt.jsx)(i0,{onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),l&&l(e,"tabKeyDown"))},actions:T,autoFocus:r&&(-1===C||s),autoFocusItem:S,variant:g,...c,className:vg(w.list,c.className),children:o})})}));function a0(e){return tY("MuiNativeSelect",e)}const s0=nY("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),c0=OK("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${s0.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),l0=OK(c0,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:DW,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${s0.multiple}`]:t.multiple}]}})({}),u0=OK("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${s0.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),d0=OK(u0,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mY(n.variant)}`],n.open&&t.iconOpen]}})({}),h0=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:a,inputRef:s,variant:c="standard",...l}=e,u={...e,disabled:r,variant:c,error:o},d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return gW({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${mY(n)}`,o&&"iconOpen",r&&"disabled"]},a0,t)})(u);return(0,gt.jsxs)(i.Fragment,{children:[(0,gt.jsx)(l0,{ownerState:u,className:vg(d.select,n),disabled:r,ref:s||t,...l}),e.multiple?null:(0,gt.jsx)(d0,{as:a,ownerState:u,className:d.icon})]})}));const p0=function(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:a}=i.useRef(void 0!==t),[s,c]=i.useState(n);return[a?t:s,i.useCallback((e=>{a||c(e)}),[])]};function f0(e){return tY("MuiSelect",e)}const m0=nY("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var g0;const v0=OK(c0,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${m0.select}`]:t.select},{[`&.${m0.select}`]:t[n.variant]},{[`&.${m0.error}`]:t.error},{[`&.${m0.multiple}`]:t.multiple}]}})({[`&.${m0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),y0=OK(u0,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mY(n.variant)}`],n.open&&t.iconOpen]}})({}),b0=OK("input",{shouldForwardProp:e=>PW(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function E0(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function _0(e){return null==e||"string"===typeof e&&!e.trim()}const w0=i.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:a,children:s,className:c,defaultOpen:l,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:v={},multiple:y,name:b,onBlur:E,onChange:_,onClose:w,onFocus:S,onOpen:T,open:C,readOnly:x,renderValue:R,SelectDisplayProps:A={},tabIndex:O,type:I,value:N,variant:k="standard",...P}=e,[D,L]=p0({controlled:N,default:u,name:"Select"}),[M,j]=p0({controlled:C,default:l,name:"Select"}),U=i.useRef(null),F=i.useRef(null),[B,V]=i.useState(null),{current:W}=i.useRef(null!=C),[H,G]=i.useState(),z=UK(t,m),K=i.useCallback((e=>{F.current=e,e&&V(e)}),[]),Y=B?.parentNode;i.useImperativeHandle(z,(()=>({focus:()=>{F.current.focus()},node:U.current,value:D})),[D]),i.useEffect((()=>{l&&M&&B&&!W&&(G(a?null:Y.clientWidth),F.current.focus())}),[B,a]),i.useEffect((()=>{o&&F.current.focus()}),[o]),i.useEffect((()=>{if(!g)return;const e=qJ(F.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const q=(e,t)=>{e?T&&T(t):w&&w(t),W||(G(a?null:Y.clientWidth),j(e))},$=i.Children.toArray(s),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(L(n),_)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:b}}),_(i,e)}y||q(!1,t)}},Q=null!==B&&M;let J,Z;delete P["aria-invalid"];const ee=[];let te=!1,ne=!1;(YQ({value:D})||h)&&(R?J=R(D):te=!0);const re=$.map((e=>{if(!i.isValidElement(e))return null;let t;if(y){if(!Array.isArray(D))throw new Error(vW(2));t=D.some((t=>E0(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=E0(D,e.props.value),t&&te&&(Z=e.props.children);return t&&(ne=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=y?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let ie,oe=H;!a&&W&&B&&(oe=Y.clientWidth),ie="undefined"!==typeof O?O:d?null:0;const ae=A.id||(b?`mui-component-select-${b}`:void 0),se={...e,variant:k,value:D,open:Q,error:p},ce=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return gW({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${mY(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},f0,t)})(se),le={...v.PaperProps,...v.slotProps?.paper},ue=PQ();return(0,gt.jsxs)(i.Fragment,{children:[(0,gt.jsx)(v0,{as:"div",ref:K,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":d?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!x){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),q(!0,e))}},onMouseDown:d||x?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),q(!0,e))},onBlur:e=>{!Q&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:b}}),E(e))},onFocus:S,...A,ownerState:se,className:vg(A.className,ce.select,c),id:ae,children:_0(J)?g0||(g0=(0,gt.jsx)("span",{className:"notranslate",children:"\u200b"})):J}),(0,gt.jsx)(b0,{"aria-invalid":p,value:Array.isArray(D)?D.join(","):D,name:b,ref:U,"aria-hidden":!0,onChange:e=>{const t=$.find((t=>t.props.value===e.target.value));void 0!==t&&(L(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,...P,ownerState:se}),(0,gt.jsx)(y0,{as:f,className:ce.icon,ownerState:se}),(0,gt.jsx)(o0,{id:`menu-${b||""}`,anchorEl:Y,open:Q,onClose:e=>{q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,MenuListProps:{"aria-labelledby":g,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ue,...v.MenuListProps},slotProps:{...v.slotProps,paper:{...le,style:{minWidth:oe,...null!=le?le.style:null}}},children:re})]})})),S0=w0,T0=NY((0,gt.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),C0={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>DW(e)&&"variant"!==e,slot:"Root"},x0=OK(lJ,C0)(""),R0=OK(CJ,C0)(""),A0=OK(mJ,C0)(""),O0=i.forwardRef((function(e,t){const n=RX({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:a={},className:s,defaultOpen:c=!1,displayEmpty:l=!1,IconComponent:u=T0,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:E,open:_,renderValue:w,SelectDisplayProps:S,variant:T="outlined",...C}=n,x=y?h0:S0,R=WQ({props:n,muiFormControl:GQ(),states:["variant","error"]}),A=R.variant||T,O={...n,variant:A,classes:a},I=(e=>{const{classes:t}=e;return t})(O),{root:N,...k}=I,P=h||{standard:(0,gt.jsx)(x0,{ownerState:O}),outlined:(0,gt.jsx)(R0,{label:f,ownerState:O}),filled:(0,gt.jsx)(A0,{ownerState:O})}[A],D=UK(t,YJ(P));return(0,gt.jsx)(i.Fragment,{children:i.cloneElement(P,{inputComponent:x,inputProps:{children:o,error:R.error,IconComponent:u,variant:A,type:void 0,multiple:v,...y?{id:d}:{autoWidth:r,defaultOpen:c,displayEmpty:l,labelId:m,MenuProps:g,onClose:b,onOpen:E,open:_,renderValue:w,SelectDisplayProps:{id:d,...S}},...p,classes:p?fG(k,p.classes):k,...h?h.props.inputProps:{}},...(v&&y||l)&&"outlined"===A?{notched:!0}:{},ref:D,className:vg(P.props.className,s,I.root),...!h&&{variant:A},...C})})}));O0.muiName="Select";const I0=O0;function N0(e){return tY("MuiTextField",e)}nY("MuiTextField",["root"]);const k0={standard:lJ,filled:mJ,outlined:CJ},P0=OK(BJ,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),D0=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:c,disabled:l=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:E,minRows:_,multiline:w=!1,name:S,onBlur:T,onChange:C,onFocus:x,placeholder:R,required:A=!1,rows:O,select:I=!1,SelectProps:N,slots:k={},slotProps:P={},type:D,value:L,variant:M="outlined",...j}=n,U={...n,autoFocus:i,color:s,disabled:l,error:u,fullWidth:h,multiline:w,required:A,select:I,variant:M},F=(e=>{const{classes:t}=e;return gW({root:["root"]},N0,t)})(U);const B=PQ(f),V=p&&B?`${B}-helper-text`:void 0,W=b&&B?`${B}-label`:void 0,H=k0[M],G={slots:k,slotProps:{input:v,inputLabel:m,htmlInput:g,formHelperText:d,select:N,...P}},z={},K=G.slotProps.inputLabel;"outlined"===M&&(K&&"undefined"!==typeof K.shrink&&(z.notched=K.shrink),z.label=b),I&&(N&&N.native||(z.id=void 0),z["aria-describedby"]=void 0);const[Y,q]=mQ("input",{elementType:H,externalForwardedProps:G,additionalProps:z,ownerState:U}),[$,X]=mQ("inputLabel",{elementType:LJ,externalForwardedProps:G,ownerState:U}),[Q,J]=mQ("htmlInput",{elementType:"input",externalForwardedProps:G,ownerState:U}),[Z,ee]=mQ("formHelperText",{elementType:KJ,externalForwardedProps:G,ownerState:U}),[te,ne]=mQ("select",{elementType:I0,externalForwardedProps:G,ownerState:U}),re=(0,gt.jsx)(Y,{"aria-describedby":V,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:h,multiline:w,name:S,rows:O,maxRows:E,minRows:_,type:D,value:L,id:B,inputRef:y,onBlur:T,onChange:C,onFocus:x,placeholder:R,inputProps:J,slots:{input:k.htmlInput?Q:void 0},...q});return(0,gt.jsxs)(P0,{className:vg(F.root,a),disabled:l,error:u,fullWidth:h,ref:t,required:A,color:s,variant:M,ownerState:U,...j,children:[null!=b&&""!==b&&(0,gt.jsx)($,{htmlFor:B,id:W,...X,children:b}),I?(0,gt.jsx)(te,{"aria-describedby":V,id:B,labelId:W,value:L,input:re,...ne,children:o}):re,p&&(0,gt.jsx)(Z,{id:V,...ee,children:p})]})})),L0=D0;function M0(e){return tY("MuiLinearProgress",e)}nY("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const j0=XK`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,U0="string"!==typeof j0?$K`
        animation: ${j0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,F0=XK`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,B0="string"!==typeof F0?$K`
        animation: ${F0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,V0=XK`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,W0="string"!==typeof V0?$K`
        animation: ${V0} 3s infinite linear;
      `:null,H0=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?OW(e.palette[t].main,.62):RW(e.palette[t].main,.5),G0=OK("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${mY(n.color)}`],t[n.variant]]}})(NK((e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:H0(t,n)}}})),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}}))),z0=OK("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${mY(n.color)}`]]}})(NK((e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;const r=H0(t,n);return{props:{color:n},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}}))]}})),W0||{animation:`${V0} 3s infinite linear`}),K0=OK("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${mY(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(NK((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main}}})),{props:{variant:"determinate"},style:{transition:"transform .4s linear"}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .4s linear"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:U0||{animation:`${j0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}}))),Y0=OK("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${mY(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(NK((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[n].main}}})),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(gY()).map((e=>{let[n]=e;return{props:{color:n,variant:"buffer"},style:{backgroundColor:H0(t,n),transition:"transform .4s linear"}}})),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:B0||{animation:`${F0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}}))),q0=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:a,variant:s="indeterminate",...c}=n,l={...n,color:i,variant:s},u=(e=>{const{classes:t,variant:n,color:r}=e;return gW({root:["root",`color${mY(r)}`,n],dashed:["dashed",`dashedColor${mY(r)}`],bar1:["bar",`barColor${mY(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${mY(r)}`,"buffer"===n&&`color${mY(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},M0,t)})(l),d=XJ(),h={},p={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;d&&(e=-e),p.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===s)if(void 0!==a){let e=(a||0)-100;d&&(e=-e),p.bar2.transform=`translateX(${e}%)`}else 0;return(0,gt.jsxs)(G0,{className:vg(u.root,r),ownerState:l,role:"progressbar",...h,ref:t,...c,children:["buffer"===s?(0,gt.jsx)(z0,{className:u.dashed,ownerState:l}):null,(0,gt.jsx)(K0,{className:u.bar1,ownerState:l,style:p.bar1}),"determinate"===s?null:(0,gt.jsx)(Y0,{className:u.bar2,ownerState:l,style:p.bar2})]})})),$0=q0;const X0=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=e,s=YK();i.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&r?.(e,"escapeKeyDown")}}),[o,r]);const c=BK(((e,t)=>{r?.(e,t)})),l=BK((e=>{r&&null!=e&&s.start(e,(()=>{c(null,"timeout")}))}));i.useEffect((()=>(o&&l(t),s.clear)),[o,t,l,s]);const u=s.clear,d=i.useCallback((()=>{null!=t&&l(null!=a?a:.5*t)}),[t,a,l]),h=e=>t=>{const n=e.onFocus;n?.(t),u()},p=e=>t=>{const n=e.onMouseEnter;n?.(t),u()},f=e=>t=>{const n=e.onMouseLeave;n?.(t),d()};return i.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...hQ(e),...hQ(t)};return{role:"presentation",...t,...n,onBlur:(r=n,e=>{const t=r.onBlur;t?.(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)};var r},onClickAway:e=>{r?.(e,"clickaway")}}};function Q0(e){return e.substring(2).toLowerCase()}function J0(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=i.useRef(!1),c=i.useRef(null),l=i.useRef(!1),u=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const d=jK(YJ(t),c),h=BK((e=>{const t=u.current;u.current=!1;const r=DQ(c.current);if(!l.current||!c.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(s.current)return void(s.current=!1);let i;i=e.composedPath?e.composedPath().includes(c.current):!r.documentElement.contains(e.target)||c.current.contains(e.target),i||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==a&&(f[a]=p(a)),i.useEffect((()=>{if(!1!==a){const e=Q0(a),t=DQ(c.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,a]),!1!==r&&(f[r]=p(r)),i.useEffect((()=>{if(!1!==r){const e=Q0(r),t=DQ(c.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),(0,gt.jsx)(i.Fragment,{children:i.cloneElement(t,f)})}function Z0(e){return tY("MuiSnackbarContent",e)}nY("MuiSnackbarContent",["root","message","action"]);const e1=OK(DX,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=NW(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}))),t1=OK("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),n1=OK("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),r1=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:o,role:a="alert",...s}=n,c=n,l=(e=>{const{classes:t}=e;return gW({root:["root"],action:["action"],message:["message"]},Z0,t)})(c);return(0,gt.jsxs)(e1,{role:a,square:!0,elevation:6,className:vg(l.root,i),ownerState:c,ref:t,...s,children:[(0,gt.jsx)(t1,{className:l.message,ownerState:c,children:o}),r?(0,gt.jsx)(n1,{className:l.action,ownerState:c,children:r}):null]})})),i1=r1;function o1(e){return tY("MuiSnackbar",e)}nY("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const a1=OK("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${mY(n.anchorOrigin.vertical)}${mY(n.anchorOrigin.horizontal)}`]]}})(NK((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}}))),s1=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiSnackbar"}),r=IX(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,onBlur:g,onClose:v,onFocus:y,onMouseEnter:b,onMouseLeave:E,open:_,resumeHideDuration:w,TransitionComponent:S=bZ,transitionDuration:T=o,TransitionProps:{onEnter:C,onExited:x,...R}={},...A}=n,O={...n,anchorOrigin:{vertical:s,horizontal:c},autoHideDuration:l,disableWindowBlurListener:f,TransitionComponent:S,transitionDuration:T},I=(e=>{const{classes:t,anchorOrigin:n}=e;return gW({root:["root",`anchorOrigin${mY(n.vertical)}${mY(n.horizontal)}`]},o1,t)})(O),{getRootProps:N,onClickAway:k}=X0({...O}),[P,D]=i.useState(!0),L=QJ({elementType:a1,getSlotProps:N,externalForwardedProps:A,ownerState:O,additionalProps:{ref:t},className:[I.root,d]});return!_&&P?null:(0,gt.jsx)(J0,{onClickAway:k,...h,children:(0,gt.jsx)(a1,{...L,children:(0,gt.jsx)(S,{appear:!0,in:_,timeout:T,direction:"top"===s?"down":"up",onEnter:(e,t)=>{D(!1),C&&C(e,t)},onExited:e=>{D(!0),x&&x(e)},...R,children:u||(0,gt.jsx)(i1,{message:m,action:a,...p})})})})})),c1=s1;function l1(e){return tY("MuiAlert",e)}const u1=nY("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),d1=NY((0,gt.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),h1=NY((0,gt.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),p1=NY((0,gt.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),f1=NY((0,gt.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),m1=NY((0,gt.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),g1=OK(DX,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${mY(n.color||n.severity)}`]]}})(NK((e=>{let{theme:t}=e;const n="light"===t.palette.mode?RW:OW,r="light"===t.palette.mode?OW:RW;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(gY(["light"])).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${u1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter(gY(["light"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${u1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter(gY(["dark"])).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}}))]}}))),v1=OK("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),y1=OK("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),b1=OK("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),E1={success:(0,gt.jsx)(d1,{fontSize:"inherit"}),warning:(0,gt.jsx)(h1,{fontSize:"inherit"}),error:(0,gt.jsx)(p1,{fontSize:"inherit"}),info:(0,gt.jsx)(f1,{fontSize:"inherit"})},_1=i.forwardRef((function(e,t){const n=DK({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:a="Close",color:s,components:c={},componentsProps:l={},icon:u,iconMapping:d=E1,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard",...y}=n,b={...n,color:s,severity:f,variant:v,colorSeverity:s||f},E=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return gW({root:["root",`color${mY(n||r)}`,`${t}${mY(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},l1,i)})(b),_={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...g},slotProps:{...l,...m}},[w,S]=mQ("closeButton",{elementType:CQ,externalForwardedProps:_,ownerState:b}),[T,C]=mQ("closeIcon",{elementType:m1,externalForwardedProps:_,ownerState:b});return(0,gt.jsxs)(g1,{role:p,elevation:0,ownerState:b,className:vg(E.root,o),ref:t,...y,children:[!1!==u?(0,gt.jsx)(v1,{ownerState:b,className:E.icon,children:u||d[f]||E1[f]}):null,(0,gt.jsx)(y1,{ownerState:b,className:E.message,children:i}),null!=r?(0,gt.jsx)(b1,{ownerState:b,className:E.action,children:r}):null,null==r&&h?(0,gt.jsx)(b1,{ownerState:b,className:E.action,children:(0,gt.jsx)(w,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,...S,children:(0,gt.jsx)(T,{fontSize:"small",...C})})}):null]})})),w1=_1,S1=NY((0,gt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),T1=NY((0,gt.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),C1=NY((0,gt.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),x1=NY((0,gt.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),R1=NY((0,gt.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),A1=NY((0,gt.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),O1=NY((0,gt.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),I1=NY((0,gt.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),N1=NY((0,gt.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock");const k1=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1),[b,E]=(0,i.useState)(0),[_,w]=(0,i.useState)({name:"",email:"",mobile_number:""}),[S,T]=(0,i.useState)({open:!1,message:"",severity:"success"}),C=localStorage.getItem("ManagerId");(0,i.useEffect)((()=>{A()}),[C]),(0,i.useEffect)((()=>{let e;return v&&b>0&&(e=setInterval((()=>{E((e=>e<=1?(O(),x("Edit time expired. Please try again.","warning"),0):e-1))}),1e3)),()=>clearInterval(e)}),[v,b]);const x=function(e){T({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},R=()=>{T((e=>({...e,open:!1})))},A=async()=>{try{r(!0);const e=await qU(C);console.log(e,"profile"),t(e),w({name:e.name||"",email:e.email||"",mobile_number:e.mobile_number||""})}catch(e){console.error("Failed to fetch profile",e),x("Failed to load profile data","error")}finally{r(!1)}},O=()=>{h(!1),f(!1),g(""),y(!1),E(0),w({name:e.name||"",email:e.email||"",mobile_number:e.mobile_number||""})},I=(e,t)=>{w((n=>({...n,[e]:t})))};return n?(0,gt.jsx)(uX,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,gt.jsx)(_X,{size:60})}):e?(0,gt.jsxs)(OX,{maxWidth:"lg",sx:{py:4},children:[(0,gt.jsxs)(eQ,{container:!0,spacing:4,children:[(0,gt.jsx)(eQ,{item:!0,xs:12,md:8,children:(0,gt.jsx)(rQ,{elevation:4,sx:{borderRadius:3},children:(0,gt.jsxs)(aQ,{sx:{p:4},children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:3,children:[(0,gt.jsx)(EQ,{sx:{width:80,height:80,mr:3,bgcolor:"primary.main"},children:(0,gt.jsx)(S1,{sx:{fontSize:40}})}),(0,gt.jsxs)(uX,{flex:1,children:[(0,gt.jsx)(GX,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:e.name}),(0,gt.jsx)(GX,{variant:"subtitle1",color:"text.secondary",children:e.role})]}),!d&&(0,gt.jsx)(CQ,{color:"primary",onClick:async()=>{if(null!==e&&void 0!==e&&e.mobile_number)try{await(async e=>{try{const t=new FormData;t.append("mobile_number",e);const n=await dU.post(`${hU}/api/admin/send-otp/`,t,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return n;throw new Error("Failed to send OTP")}catch(t){throw console.error("Error sending OTP:",t.message),t}})(String(e.mobile_number)),f(!0),h(!0),x("OTP sent to your mobile for profile editing","success")}catch(t){console.error("Failed to send OTP for profile edit",t),x("Failed to send OTP. Please try again","error")}else x("Mobile number not found","error")},sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:(0,gt.jsx)(T1,{})})]}),(0,gt.jsx)(IQ,{sx:{mb:3}}),d?(0,gt.jsxs)(uX,{children:[p&&!v&&(0,gt.jsxs)(uX,{mb:3,children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(R1,{sx:{mr:2,color:"primary.main"}}),(0,gt.jsx)(GX,{variant:"h6",color:"primary",children:"Step 1: OTP Verification"})]}),(0,gt.jsx)(L0,{label:"Enter OTP",fullWidth:!0,value:m,onChange:e=>g(e.target.value),variant:"outlined",inputProps:{maxLength:6},helperText:"Please enter the 6-digit OTP sent to your mobile number",sx:{mb:2}}),(0,gt.jsx)(xY,{variant:"contained",onClick:async()=>{if(m.trim())try{await(async e=>{let{mobile_number:t,new_password:n,otp:r}=e;try{const e=new FormData;e.append("mobile_number",t),e.append("otp",r);const n=await dU.post(`${hU}/api/admin/verify-otp/`,e,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return n;throw new Error("Failed to reset password")}catch(i){throw console.error("Error resetting password:",i.message),i}})({mobile_number:String(e.mobile_number),otp:m.trim()}),y(!0),E(300),x("OTP verified! You have 5 minutes to edit your profile.","success")}catch(t){console.error("Failed to verify OTP",t),x("Invalid OTP. Please try again.","error")}else x("Please enter the OTP","error")},disabled:!m.trim(),sx:{mr:2,borderRadius:2},children:"Verify OTP"}),(0,gt.jsx)(xY,{variant:"outlined",onClick:O,sx:{borderRadius:2},children:"Cancel"})]}),v&&(0,gt.jsxs)(uX,{children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",justify:"space-between",mb:2,children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",children:[(0,gt.jsx)(T1,{sx:{mr:2,color:"success.main"}}),(0,gt.jsx)(GX,{variant:"h6",color:"success.main",children:"Step 2: Edit Profile"})]}),(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",children:[(0,gt.jsx)(A1,{sx:{mr:1,color:"warning.main"}}),(0,gt.jsxs)(GX,{variant:"body2",color:"warning.main",fontWeight:"bold",children:["Time left: ",(e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`)(b)]})]})]}),(0,gt.jsx)($0,{variant:"determinate",value:b/300*100,sx:{mb:3,height:6,borderRadius:3},color:b<60?"error":b<120?"warning":"success"}),(0,gt.jsxs)(eQ,{container:!0,spacing:3,children:[(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsx)(L0,{label:"Full Name",fullWidth:!0,value:_.name,onChange:e=>I("name",e.target.value),variant:"outlined"})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsx)(L0,{label:"Email Address",type:"email",fullWidth:!0,value:_.email,onChange:e=>I("email",e.target.value),variant:"outlined"})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsx)(L0,{label:"Mobile Number",fullWidth:!0,value:_.mobile_number,onChange:e=>I("mobile_number",e.target.value),variant:"outlined"})})]}),(0,gt.jsxs)(uX,{display:"flex",gap:2,mt:3,children:[(0,gt.jsx)(xY,{variant:"contained",startIcon:(0,gt.jsx)(O1,{}),onClick:async()=>{if(!_.name.trim()||!_.email.trim()||!_.mobile_number.trim())return void x("All fields are required","error");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email))try{const e=await(async(e,t)=>{try{const n=await dU.patch(`${hU}/api/admin/update/${e}/`,{name:t.name,email:t.email,mobile_number:t.mobile_number});if(200===n.status)return n.data;throw new Error("Failed to edit profile data")}catch(n){throw console.error("Error editing profile data:",n.message),n}})(C,_);t(e),h(!1),f(!1),g(""),y(!1),E(0),x("Profile updated successfully","success"),w({name:e.name||"",email:e.email||"",mobile_number:e.mobile_number||""})}catch(e){console.error("Failed to update profile",e),x("Failed to update profile. Please try again.","error")}else x("Please enter a valid email address","error")},sx:{borderRadius:2},children:"Save Changes"}),(0,gt.jsx)(xY,{variant:"outlined",startIcon:(0,gt.jsx)(I1,{}),onClick:O,sx:{borderRadius:2},children:"Cancel"})]})]}),p&&!v&&(0,gt.jsx)(GX,{variant:"body2",color:"text.secondary",mt:2,children:"Enter the OTP to proceed with editing your profile."})]}):(0,gt.jsxs)(eQ,{container:!0,spacing:3,children:[(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(S1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Full Name"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.name})]})]})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(C1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Email Address"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.email})]})]})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(x1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Mobile Number"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.mobile_number})]})]})})]})]})})}),(0,gt.jsx)(eQ,{item:!0,xs:12,md:4,children:(0,gt.jsx)(rQ,{elevation:4,sx:{borderRadius:3},children:(0,gt.jsxs)(aQ,{sx:{p:4},children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:3,children:[(0,gt.jsx)(N1,{sx:{mr:2,color:"primary.main"}}),(0,gt.jsx)(GX,{variant:"h6",fontWeight:"bold",children:"Password Reset"})]}),(0,gt.jsx)(GX,{variant:"body2",color:"text.secondary",mb:3,children:"Reset your password securely using OTP verification"}),(0,gt.jsx)(xY,{variant:"contained",fullWidth:!0,onClick:async()=>{if(null!==e&&void 0!==e&&e.mobile_number)try{await $U(String(e.mobile_number)),a(!0),x("OTP sent successfully to your mobile","success")}catch(t){console.error("Failed to send OTP",t),x("Failed to send OTP. Please try again","error")}else x("Mobile number not found","error")},disabled:d||o,sx:{mb:2,borderRadius:2,py:1.5},children:o?"OTP Sent":"Send OTP"}),o&&(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(L0,{label:"Enter OTP",fullWidth:!0,value:s,onChange:e=>c(e.target.value),variant:"outlined",sx:{mb:2},inputProps:{maxLength:6}}),(0,gt.jsx)(L0,{label:"New Password",type:"password",fullWidth:!0,value:l,onChange:e=>u(e.target.value),variant:"outlined",sx:{mb:2},helperText:"Minimum 6 characters"}),(0,gt.jsx)(xY,{variant:"contained",color:"secondary",fullWidth:!0,onClick:async()=>{if(s.trim()&&l.trim())if(l.length<6)x("Password must be at least 6 characters","error");else try{await XU({mobile_number:String(e.mobile_number),new_password:l,otp:s.trim()}),x("Password reset successful","success"),a(!1),c(""),u("")}catch(t){console.error("Failed to reset password",t),x("Invalid OTP or reset failed","error")}else x("Please fill in all fields","error")},sx:{borderRadius:2,py:1.5},children:"Reset Password"})]})]})})})]}),(0,gt.jsx)(c1,{open:S.open,autoHideDuration:4e3,onClose:R,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,gt.jsx)(w1,{onClose:R,severity:S.severity,sx:{width:"100%"},children:S.message})})]}):(0,gt.jsx)(OX,{maxWidth:"md",children:(0,gt.jsx)(DX,{elevation:3,sx:{p:4,textAlign:"center"},children:(0,gt.jsx)(GX,{variant:"h6",color:"error",children:"Failed to load profile data"})})})},P1=[{label:"Sun",executive:3,user:2,totalTalktime:7},{label:"Mon",executive:2.5,user:6.2,totalTalktime:5.7},{label:"Tue",executive:3,user:7.5,totalTalktime:6.5},{label:"Wed",executive:3.8,user:9.2,totalTalktime:8},{label:"Thu",executive:2.9,user:3.8,totalTalktime:6.7},{label:"Fri",executive:4,user:4.5,totalTalktime:8.5},{label:"Sat",executive:3.5,user:4,totalTalktime:7.5}],D1=()=>{const[e,t]=(0,i.useState)(P1),[n,r]=(0,i.useState)("Weekly"),[o,a]=(0,i.useState)("Line"),[s,c]=(0,i.useState)([]),[l,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),p=te(),[f,m]=(0,i.useState)({target_revenue:0,covered_revenue:0,target_talktime:0,covered_talktime:0}),[g,v]=(0,i.useState)({target_revenue:0,target_talktime:0});(0,i.useEffect)((()=>{(async()=>{try{let e;"Weekly"===n?(e=await PU(),t(e.weekly),console.log("call",e)):"Monthly"===n&&(e=await DU(),t(e.monthly))}catch(e){u(e.message)}})()}),[n]);(0,i.useEffect)((()=>{(async()=>{try{const e=await LU();console.log(e,"Fetched revenue data"),m(e)}catch(e){console.error("Error fetching revenue:",e)}finally{h(!1)}})()}),[]);const[y,b]=(0,i.useState)(!1);(0,i.useEffect)((()=>{v(f?{target_revenue:f.target_revenue||0,target_talktime:f.target_talktime||""}:{target_revenue:0,target_talktime:""})}),[f]);const E=f&&f.target_revenue>0?f.covered_revenue/f.target_revenue*100:0,_=f&&f.target_talktime>0?f.covered_talktime/f.target_talktime*100:0;if((0,i.useEffect)((()=>{(async()=>{try{const e=await fU();console.log("dstatistica",e),c(e),h(!1)}catch(e){u(e.message),h(!1)}})()}),[]),d)return(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})});if(l)return(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",l]});const w=[{title:"Total Executives",value:s.total_executives,icon:(0,gt.jsx)(BL,{}),iconBg:"#5065F6",outerBg:"#EDEFFE"},{title:"Total Users",value:s.total_users,icon:(0,gt.jsx)("img",{src:HL,alt:"Total Users",style:{width:"24px",height:"24px"}}),iconBg:"#28B95E",outerBg:"#E9F9EF"}],S=[{title:"Active Executives",value:s.active_executives,icon:(0,gt.jsx)(BL,{}),iconBg:"#5065F6",outerBg:"#EDEFFE"},{title:"Active Users",value:s.active_users,icon:(0,gt.jsx)("img",{src:HL,alt:"Active Users",style:{width:"24px",height:"24px"}}),iconBg:"#28B95E",outerBg:"#E9F9EF"},{title:"On Call",value:s.on_call,icon:(0,gt.jsx)("img",{src:GL,alt:"On Call",style:{width:"24px",height:"24px"}}),iconBg:"#FFDB45",outerBg:"#FFF8DA",navigateTo:"/on-call"},{title:"Total Talk Time",value:s.total_talk_time,icon:(0,gt.jsx)("img",{src:zL,alt:"Total Talk Time",style:{width:"24px",height:"24px"}}),iconBg:"#F04B69",outerBg:"#FDEDF0"},{title:"Total Missed Calls",value:s.total_missed_calls,icon:(0,gt.jsx)("img",{src:zL,alt:"Total Talk Time",style:{width:"24px",height:"24px"}}),iconBg:"#F04B69",outerBg:"#FDEDF0"}],T=e=>{let{metric:t}=e;return(0,gt.jsx)(qa,{xs:12,sm:6,md:4,lg:2,className:"mb-3 d-flex justify-content-center",children:(0,gt.jsx)(ys,{className:"metric-card shadow-sm rounded",style:{width:"100%",maxWidth:"160px",cursor:t.navigateTo?"pointer":"default"},onClick:()=>{"On Call"===t.title&&p("/activities")},children:(0,gt.jsxs)(ys.Body,{className:"d-flex flex-column align-items-center text-center py-3",children:[(0,gt.jsx)("div",{className:"metric-icon-container d-flex justify-content-center align-items-center mb-2",style:{backgroundColor:t.outerBg,width:"50px",height:"50px",borderRadius:"50%"},children:(0,gt.jsx)("div",{className:"inner-circle d-flex justify-content-center align-items-center",style:{backgroundColor:t.iconBg,width:"35px",height:"35px",borderRadius:"50%",color:"#fff",fontSize:"20px"},children:t.icon})}),(0,gt.jsx)("p",{className:"metric-title mb-1 text-muted",style:{fontSize:"14px",fontWeight:"600"},children:t.title}),(0,gt.jsxs)("p",{className:"metric-value mb-0",style:{fontSize:"16px",fontWeight:"700"},children:[(0,gt.jsx)(QU.Ay,{start:0,end:t.value,duration:2.5,separator:","}),"Total Talk Time"===t.title&&" Min"]})]})})})};return(0,gt.jsxs)("div",{className:"dashboard-container",children:[(0,gt.jsxs)("div",{style:{position:"fixed",bottom:"30px",right:"30px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:"1000"},children:[(0,gt.jsx)("div",{style:{background:"linear-gradient(135deg, #28a745, #218838)",color:"white",borderRadius:"50%",width:"60px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s, box-shadow 0.3s, background 0.3s"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1)",e.currentTarget.style.boxShadow="0 6px 15px rgba(0, 0, 0, 0.3)",e.currentTarget.style.background="linear-gradient(135deg, #218838, #28a745)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",e.currentTarget.style.background="linear-gradient(135deg, #28a745, #218838)"},children:(0,gt.jsx)(Ve,{onClick:()=>{const e=[...w.map((e=>({Title:e.title,Value:e.value}))),...S.map((e=>({Title:e.title,Value:e.value}))),{Title:"Target Revenue",Value:g.target_revenue},{Title:"Target Talktime",Value:g.target_talktime},{Title:"Total Revenue",Value:f.covered_revenue},{Title:"Total Talktime",Value:f.covered_talktime}],t=sg.json_to_sheet(e);t["!cols"]=[{wch:25},{wch:15}];const n=sg.book_new();sg.book_append_sheet(n,t,"Metrics Data");const r=Ym(n,{bookType:"xlsx",type:"array"}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,cg.saveAs)(i,"metrics_data.xlsx")},size:24,color:"white"})}),(0,gt.jsx)("span",{style:{marginTop:"8px",fontSize:"14px",color:"#333",textAlign:"center",fontWeight:"bold"}})]}),(0,gt.jsxs)(Es,{className:"mb-4",children:[w.map((e=>(0,gt.jsx)(T,{metric:e},e.id))),S.map((e=>(0,gt.jsx)(T,{metric:e},e.id)))]}),(0,gt.jsx)(Es,{className:"mb-4"}),(0,gt.jsxs)(Es,{className:"mb-4 mt-3 d-flex align-items-stretch h-100",style:{minHeight:"100%",margin:"0px"},children:[(0,gt.jsx)(qa,{md:7,className:"d-flex flex-column",children:(0,gt.jsx)(ys,{className:"shadow-sm flex-grow-1 d-flex",children:(0,gt.jsxs)(ys.Body,{className:"p-4 flex-grow-1 d-flex flex-column",children:[(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,gt.jsx)("h5",{className:"card-title",children:"Call Activity"}),(0,gt.jsxs)(ka,{onSelect:e=>{r(e)},style:{background:"#F3F3F7"},children:[(0,gt.jsx)(ka.Toggle,{variant:"light",id:"dropdown-basic",children:n}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{eventKey:"Weekly",children:"Weekly"}),(0,gt.jsx)(ka.Item,{eventKey:"Monthly",children:"Monthly"})]})]}),(0,gt.jsxs)(ka,{onSelect:e=>{a(e)},style:{background:"#F3F3F7"},children:[(0,gt.jsxs)(ka.Toggle,{variant:"light",id:"chart-type-dropdown",children:[o," Chart"]}),(0,gt.jsxs)(ka.Menu,{children:[(0,gt.jsx)(ka.Item,{eventKey:"Line",children:"Line"}),(0,gt.jsx)(ka.Item,{eventKey:"Bar",children:"Bar"}),(0,gt.jsx)(ka.Item,{eventKey:"Area",children:"Area"})]})]})]}),(0,gt.jsxs)(Cv,{width:"100%",height:300,children:["Line"===o&&(0,gt.jsxs)(nL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)("defs",{dangerouslySetInnerHTML:{__html:'\n  <defs>\n    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">\n      <feDropShadow dx="0" dy="4" stdDeviation="3" floodColor="rgba(0, 0, 0, 0.2)" />\n    </filter>\n  </defs>\n'}}),(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"executive",stroke:"#3498db",strokeWidth:3,dot:{stroke:"#3498db",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"user",stroke:"#9b59b6",strokeWidth:3,dot:{stroke:"#9b59b6",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"}),(0,gt.jsx)(RD,{type:"monotone",dataKey:"totalTalktime",stroke:"#1abc9c",strokeWidth:3,dot:{stroke:"#1abc9c",strokeWidth:2,r:4},activeDot:{r:8},filter:"url(#shadow)"})]}),"Bar"===o&&(0,gt.jsxs)(wL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(IN,{dataKey:"executive",fill:"#3498db"}),(0,gt.jsx)(IN,{dataKey:"user",fill:"#9b59b6"}),(0,gt.jsx)(IN,{dataKey:"totalTalktime",fill:"#1abc9c"})]}),"Area"===o&&(0,gt.jsxs)(UL,{data:e,margin:{top:20,right:20,left:0,bottom:0},children:[(0,gt.jsx)(EL,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),(0,gt.jsx)(ZD,{dataKey:"label",tick:{fontSize:12}}),(0,gt.jsx)(tL,{tick:{fontSize:12}}),(0,gt.jsx)(Ay,{}),(0,gt.jsx)(Hb,{verticalAlign:"top",align:"right"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"executive",stroke:"#3498db",fill:"#3498db"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"user",stroke:"#9b59b6",fill:"#9b59b6"}),(0,gt.jsx)(jL,{type:"monotone",dataKey:"totalTalktime",stroke:"#1abc9c",fill:"#1abc9c"})]})]})]})})}),(0,gt.jsx)(qa,{md:5,className:"d-flex flex-column",children:(0,gt.jsxs)(ys,{className:"shadow-sm p-4 flex-grow-1 d-flex flex-column",children:[(0,gt.jsx)("p",{style:{fontSize:"16px"},className:"mb-3",children:"Target Revenue"}),(0,gt.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,gt.jsxs)("p",{className:"mb-0",style:{fontSize:"16px"},children:["\u20b9",g.target_revenue||0]})}),(0,gt.jsx)("p",{style:{fontSize:"16px"},className:"mb-3",children:"Target Talk Time"}),(0,gt.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,gt.jsx)("p",{className:"mb-0",style:{fontSize:"16px"},children:g.target_talktime||0})}),(0,gt.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[(0,gt.jsx)(qa,{className:"d-flex justify-content-center",children:(0,gt.jsxs)("div",{style:{position:"relative",width:"160px",height:"160px"},children:[(0,gt.jsx)(pg,{value:E,strokeWidth:10,styles:fg({pathColor:"#ff6384",trailColor:"rgba(192, 192, 192, 0.5)",strokeLinecap:"round"})}),(0,gt.jsx)("div",{style:{position:"absolute",top:"15%",left:"15%",width:"70%",height:"70%"},children:(0,gt.jsx)(pg,{value:_,strokeWidth:10,styles:fg({pathColor:"#ffce56",trailColor:"rgba(192, 192, 192, 0.5)",strokeLinecap:"round"})})}),(0,gt.jsx)("div",{style:{position:"absolute",top:"30%",left:"30%",width:"40%",height:"40%",display:"flex",justifyContent:"center",alignItems:"center",background:"#fff",borderRadius:"50%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:(0,gt.jsx)("span",{children:100})})]})}),(0,gt.jsx)(qa,{className:"ml-4 text-right",children:f?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Total Revenue"}),(0,gt.jsxs)("h3",{className:"metric-value mb-2",children:["\u20b9",f.covered_revenue||0]}),(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Total Talktime"}),(0,gt.jsx)("h3",{className:"metric-value mb-2",children:f.covered_talktime||0}),(0,gt.jsxs)("ul",{className:"list-unstyled",children:[(0,gt.jsxs)("li",{children:[(0,gt.jsx)("span",{style:{color:"#ff6384"},children:"\u25cf"})," Revenue"]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("span",{style:{color:"#ffce56"},children:"\u25cf"})," Total Talktime"]})]})]}):(0,gt.jsx)("p",{style:{color:"#9EA3A7",fontSize:"16px",fontWeight:"500"},children:"Revenue data is not available."})})]})]})})]})]})};const L1=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[d,h]=(0,i.useState)({open:!1,message:"",severity:"success"}),p=localStorage.getItem("ManagerId");(0,i.useEffect)((()=>{g()}),[p]);const f=function(e){h({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},m=()=>{h((e=>({...e,open:!1})))},g=async()=>{try{r(!0);const e=await qU(p);console.log(e,"profile"),t(e)}catch(e){console.error("Failed to fetch profile",e),f("Failed to load profile data","error")}finally{r(!1)}};return n?(0,gt.jsx)(uX,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,gt.jsx)(_X,{size:60})}):e?(0,gt.jsxs)(OX,{maxWidth:"lg",sx:{py:4},children:[(0,gt.jsxs)(eQ,{container:!0,spacing:4,children:[(0,gt.jsx)(eQ,{item:!0,xs:12,md:8,children:(0,gt.jsx)(rQ,{elevation:4,sx:{borderRadius:3},children:(0,gt.jsxs)(aQ,{sx:{p:4},children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:3,children:[(0,gt.jsx)(EQ,{sx:{width:80,height:80,mr:3,bgcolor:"primary.main"},children:(0,gt.jsx)(S1,{sx:{fontSize:40}})}),(0,gt.jsxs)(uX,{flex:1,children:[(0,gt.jsx)(GX,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:e.name}),(0,gt.jsx)(GX,{variant:"subtitle1",color:"text.secondary",children:e.role})]})]}),(0,gt.jsx)(IQ,{sx:{mb:3}}),(0,gt.jsxs)(eQ,{container:!0,spacing:3,children:[(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(S1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Full Name"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.name})]})]})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(C1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Email Address"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.email})]})]})}),(0,gt.jsx)(eQ,{item:!0,xs:12,sm:6,children:(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:2,children:[(0,gt.jsx)(x1,{sx:{mr:2,color:"text.secondary"}}),(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(GX,{variant:"caption",color:"text.secondary",children:"Mobile Number"}),(0,gt.jsx)(GX,{variant:"body1",fontWeight:"medium",children:e.mobile_number})]})]})})]})]})})}),(0,gt.jsx)(eQ,{item:!0,xs:12,md:4,children:(0,gt.jsx)(rQ,{elevation:4,sx:{borderRadius:3},children:(0,gt.jsxs)(aQ,{sx:{p:4},children:[(0,gt.jsxs)(uX,{display:"flex",alignItems:"center",mb:3,children:[(0,gt.jsx)(N1,{sx:{mr:2,color:"primary.main"}}),(0,gt.jsx)(GX,{variant:"h6",fontWeight:"bold",children:"Password Reset"})]}),(0,gt.jsx)(GX,{variant:"body2",color:"text.secondary",mb:3,children:"Reset your password securely using OTP verification"}),(0,gt.jsx)(xY,{variant:"contained",fullWidth:!0,onClick:async()=>{if(null!==e&&void 0!==e&&e.mobile_number)try{await $U(String(e.mobile_number)),a(!0),f("OTP sent successfully to your mobile","success")}catch(t){console.error("Failed to send OTP",t),f("Failed to send OTP. Please try again","error")}else f("Mobile number not found","error")},disabled:o,sx:{mb:2,borderRadius:2,py:1.5},children:o?"OTP Sent":"Send OTP"}),o&&(0,gt.jsxs)(uX,{children:[(0,gt.jsx)(L0,{label:"Enter OTP",fullWidth:!0,value:s,onChange:e=>c(e.target.value),variant:"outlined",sx:{mb:2},inputProps:{maxLength:6}}),(0,gt.jsx)(L0,{label:"New Password",type:"password",fullWidth:!0,value:l,onChange:e=>u(e.target.value),variant:"outlined",sx:{mb:2},helperText:"Minimum 6 characters"}),(0,gt.jsx)(xY,{variant:"contained",color:"secondary",fullWidth:!0,onClick:async()=>{if(s.trim()&&l.trim())if(l.length<6)f("Password must be at least 6 characters","error");else try{await XU({mobile_number:String(e.mobile_number),new_password:l,otp:s.trim()}),f("Password reset successful","success"),a(!1),c(""),u("")}catch(t){console.error("Failed to reset password",t),f("Invalid OTP or reset failed","error")}else f("Please fill in all fields","error")},sx:{borderRadius:2,py:1.5},children:"Reset Password"})]})]})})})]}),(0,gt.jsx)(c1,{open:d.open,autoHideDuration:4e3,onClose:m,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,gt.jsx)(w1,{onClose:m,severity:d.severity,sx:{width:"100%"},children:d.message})})]}):(0,gt.jsx)(OX,{maxWidth:"md",children:(0,gt.jsx)(DX,{elevation:3,sx:{p:4,textAlign:"center"},children:(0,gt.jsx)(GX,{variant:"h6",color:"error",children:"Failed to load profile data"})})})};const M1=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(null);(0,i.useEffect)((()=>{d()}),[]);const d=async()=>{try{r(!0),a(null);const e=await(async()=>{try{const e=await dU.get(`${hU}/api/users/banned/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch banned users")}catch(o){throw console.error("Error fetching banned users data:",o.message),o}})(),n=e.data||e;t(n)}catch(e){console.error("Error fetching banned users:",e),a("Failed to load banned users. Please try again.")}finally{r(!1)}},h=()=>{c(!1),u(null)};return n?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):o?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",o]}):(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)(xB,{}),(0,gt.jsx)("h2",{className:"mb-4",children:"Banned Users"}),(0,gt.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,gt.jsx)(ys,{className:"p-2 text-center employee-summary-card",children:(0,gt.jsx)(Es,{children:(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total Banned"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-person-x-fill text-danger me-2"}),(0,gt.jsx)("span",{className:"text-danger",children:e.length})]})]})})})}),0===e.length?(0,gt.jsxs)(ys,{className:"text-center p-5",children:[(0,gt.jsx)("i",{className:"bi bi-people text-muted",style:{fontSize:"4rem"}}),(0,gt.jsx)("h4",{className:"text-muted mt-3",children:"No Banned Users"}),(0,gt.jsx)("p",{className:"text-muted",children:"There are currently no banned users in the system."})]}):(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"ID"}),(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Mobile Number"}),(0,gt.jsx)("th",{children:"Status"}),(0,gt.jsx)("th",{})]})}),(0,gt.jsx)("tbody",{style:{cursor:"pointer"},children:e.map((e=>(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:e.id}),(0,gt.jsx)("td",{children:e.user_id}),(0,gt.jsx)("td",{children:e.mobile_number}),(0,gt.jsx)("td",{children:(0,gt.jsx)("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",color:"#fff",backgroundColor:"#e74c3c"},children:"Banned"})}),(0,gt.jsx)("td",{children:(0,gt.jsx)(Ue,{onClick:t=>{t.stopPropagation(),(e=>{u(e),c(!0)})(e)},style:{cursor:"pointer"}})})]},e.id)))})]})}),l&&(0,gt.jsx)(gF,{show:s,onHide:h,dialogClassName:"custom-modal-width",style:{width:"25%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,gt.jsx)(gF.Body,{children:(0,gt.jsx)("div",{className:"d-flex flex-column",children:(0,gt.jsxs)(Aa,{variant:"link",style:{color:"black"},className:"text-start",onClick:()=>(async e=>{try{await UU(e),t((t=>t.filter((t=>t.id!==e)))),h(),yB.success("User unbanned successfully!")}catch(n){console.error("Error unbanning user:",n.message),yB.error(`Error unbanning user: ${n.message}`)}})(l.id),children:[(0,gt.jsx)(ke,{className:"me-2"})," Unban User"]})})})})]})};const j1=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{s()}),[]);const s=async()=>{try{r(!0),a(null);const e=await(async()=>{try{const e=await dU.get(`${hU}/api/blocked-users/list/`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch blocked users")}catch(o){throw console.error("Error fetching blocked users data:",o.message),o}})(),n=e.data||e;t(n)}catch(e){console.error("Error fetching banned users:",e),a("Failed to load banned users. Please try again.")}finally{r(!1)}};return n?(0,gt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,gt.jsx)(Ka,{animation:"border",variant:"primary"})}):o?(0,gt.jsxs)("div",{className:"text-danger",children:["Error: ",o]}):(0,gt.jsxs)("div",{className:"container mt-4",children:[(0,gt.jsx)("h2",{className:"mb-4",children:"Blocked Users"}),(0,gt.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,gt.jsx)(ys,{className:"p-2 text-center employee-summary-card",children:(0,gt.jsx)(Es,{children:(0,gt.jsxs)(qa,{className:"summary-item",children:[(0,gt.jsx)("p",{children:"Total Blocked"}),(0,gt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,gt.jsx)("i",{className:"bi bi-person-x-fill text-danger me-2"}),(0,gt.jsx)("span",{className:"text-danger",children:e.length})]})]})})})}),0===e.length?(0,gt.jsxs)(ys,{className:"text-center p-5",children:[(0,gt.jsx)("i",{className:"bi bi-people text-muted",style:{fontSize:"4rem"}}),(0,gt.jsx)("h4",{className:"text-muted mt-3",children:"No Blocked Users"}),(0,gt.jsx)("p",{className:"text-muted",children:"There are currently no blocked users in the system."})]}):(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsxs)(BB,{hover:!0,responsive:"sm",className:"request-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"ID"}),(0,gt.jsx)("th",{children:"User ID"}),(0,gt.jsx)("th",{children:"Executive ID"}),(0,gt.jsx)("th",{children:"blocked_at"}),(0,gt.jsx)("th",{children:"Reason"}),(0,gt.jsx)("th",{children:"Status"}),(0,gt.jsx)("th",{})]})}),(0,gt.jsx)("tbody",{style:{cursor:"pointer"},children:e.map((e=>(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("td",{children:e.id}),(0,gt.jsx)("td",{children:e.user_id}),(0,gt.jsx)("td",{children:e.executive_id}),(0,gt.jsx)("td",{children:e.blocked_at}),(0,gt.jsx)("td",{children:e.reason}),(0,gt.jsx)("td",{children:(0,gt.jsx)("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",color:"#fff",backgroundColor:"#e74c3c"},children:"Blocked"})}),(0,gt.jsx)("td",{})]},e.id)))})]})})]})};const U1=function(){const[e,t]=(0,i.useState)(!0),n="/login"===Z().pathname,r=e=>{let{element:t,requiredRole:n}=e;const r=localStorage.getItem("Bestie_role");if(!localStorage.getItem("userId"))return(0,gt.jsx)(ge,{to:"/login"});if(n){if(!(r===n||"manager_executive"===n&&"hr_executive"===r))return"manager_executive"===r||"hr_executive"===r?(0,gt.jsx)(ge,{to:"/managerdashboard"}):(0,gt.jsx)(ge,{to:"/login"})}else if("superuser"===r)return(0,gt.jsx)(ge,{to:"/"});return t};return(0,gt.jsxs)("div",{className:"admin-panel",children:[!n&&e&&(0,gt.jsx)(Ga,{isOpen:e}),(0,gt.jsxs)("div",{className:"main-content "+(e?"expanded":"collapsed"),children:[!n&&(0,gt.jsx)(Pa,{toggleSidebar:()=>{t(!e)}}),n?(0,gt.jsx)(be,{children:(0,gt.jsx)(ve,{path:"/login",element:(0,gt.jsx)(aV,{})})}):(0,gt.jsx)("div",{className:"content",children:(0,gt.jsxs)(be,{children:[(0,gt.jsx)(ve,{path:"/",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(OB,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/settings",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(IB,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/admin-profile",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(k1,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/coinconversion",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(nX,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/usermanage",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(NB,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/payment",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(tV,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/careers",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(nV,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/privacy",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(rV,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/executives",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(iV,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/account",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(oV,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/executive",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(pW,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/requests",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(fW,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/empdetails/:id",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(y$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/addexecutive",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(hW,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/activities",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(j$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/pricing",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(V$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/userslist",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(U$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/userdetails/:id/:user_id",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(F$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/category",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(tX,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/reports",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(W$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/banned-users",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(M1,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/blocked-users",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(j1,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/review",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(q$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/managers",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(J$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/roles",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(K$,{}),requiredRole:"superuser"})}),(0,gt.jsx)(ve,{path:"/manage-executive",element:(0,gt.jsx)(r,{element:(0,gt.jsx)($$,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"/manageempdetails/:id",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(X$,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"/manage-user",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(eX,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"/manager-profile",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(L1,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"/manageuserdetails/:id/:user_id",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(Z$,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"/managerdashboard",element:(0,gt.jsx)(r,{element:(0,gt.jsx)(D1,{}),requiredRole:"manager_executive"})}),(0,gt.jsx)(ve,{path:"*",element:(0,gt.jsx)(Y$,{})})]})})]})]})};a.createRoot(document.getElementById("root")).render((0,gt.jsx)(i.StrictMode,{children:(0,gt.jsx)(Ua,{children:(0,gt.jsx)(U1,{})})}))})()})();
//# sourceMappingURL=main.f21f3134.js.map